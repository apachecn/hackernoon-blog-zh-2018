<html>
<head>
<title>Apple stocks interview question</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">苹果股票面试问题</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/apple-stocks-interview-question-2b46ce5f0751?source=collection_archive---------24-----------------------#2018-01-05">https://medium.com/hackernoon/apple-stocks-interview-question-2b46ce5f0751?source=collection_archive---------24-----------------------#2018-01-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0b0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最近我在<a class="ae jp" href="http://interviewcake.com" rel="noopener ugc nofollow" target="_blank">面试蛋糕</a>上偶然发现了<a class="ae jp" href="https://www.interviewcake.com/question/php/stock-price" rel="noopener ugc nofollow" target="_blank">这个面试问题</a>。基本上是这样的:你有一组股票价格，你应该计算出你能得到的最高利润。比如你有<em class="jq">【2，1，4，10，7】</em>—最高利润是<em class="jq">10–1 = 9</em>。我不喜欢这个问题的地方是，它不需要找到你可以获得最佳利润的最低和最高股票价格，只需要最高利润本身。所以我决定用这个条款来解决。此外，我认为需要更深入地研究这个问题的本质。</p><p id="4147" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在闲逛了半个小时后，我重新阅读了这个问题，希望能找到一个解决方案，我决定画出股票价格如何演变的图表。</p><p id="33eb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是最简单的开始:</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff jr"><img src="../Images/9f7eeb188a710fad4b7aac228450f821.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*TmEPvE4AnPpBXgQW_ixKIA.png"/></div></figure><p id="eb83" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">到目前为止，我能获得的最大利润是以10美元买入，20美元卖出。这张图会如何演变？实际上我只对两种情况感兴趣。如果下一个价格比前一个高，我有一个新的最高价格，和新的最高利润。如果下一个价格低于前一个最低价，我<em class="jq">可能</em>有一个我应该买入股票的最低价。但我不知道后来是否会有一个价格导致新的最高利润。可能是这样的:</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff jr"><img src="../Images/f5a6e2ad2c3b679aa3413dfe1e8c52ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*OG7it_dacQg9Z7AICJvNjQ.png"/></div></figure><p id="fab7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者像这样:</p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff jr"><img src="../Images/6549f4e3da11f9c342ee9f1afc94f731.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*8-gb-NoD7f1QG593qKMEKg.png"/></div></figure><p id="ce0b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我需要引入一个最低候选价格的概念，也就是说，一个我应该买入股票的价格。所以当我发现自己在第三点时，我说它是下一个最低价格的候选。而如果点4的股票导致了更高的利润(或者换句话说，到目前为止最高的<em class="jq"/>)，我假设最低价格的候选实际上变成了最低价格，给我带来最高利润的股票变成了最高价格，也就是我应该卖出股票的价格。</p><p id="53f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，下面的代码乍一看似乎不错:</p><pre class="js jt ju jv fq jz ka kb kc aw kd dt"><span id="2efa" class="ke kf hu ka b fv kg kh l ki kj"><strong class="ka hv">function </strong>getMaxProfit(<strong class="ka hv">array </strong>$stocks)<br/>{<br/>    $minCandidate = $min = $stocks[0];<br/>    $max = $stocks[1];<br/><br/>    <strong class="ka hv">for </strong>($i = 1; $i &lt; <em class="jq">count</em>($stocks); $i++) {<br/>        <strong class="ka hv">if </strong>($stocks[$i] &lt; $minCandidate) {<br/>            $minCandidate = $stocks[$i];<br/>        } <strong class="ka hv">elseif </strong>($stocks[$i] - $minCandidate &gt; $max - $min) {<br/>            $max = $stocks[$i];<br/>            $min = $minCandidate;<br/>        }<br/>    }<br/><br/>    <strong class="ka hv">return </strong>[$min, $max];<br/>}</span></pre><p id="baf4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是有一个问题。如果股票价格一整天都在下跌，但是价差变小了，怎么办？例如，对于这个数组— <em class="jq"> [10，5，2，1] </em> —我得到了一个错误的结果。所以我需要先计算最高利润，如果需要的话再刷新<em class="jq"> $minCandidate </em>:</p><pre class="js jt ju jv fq jz ka kb kc aw kd dt"><span id="1ba9" class="ke kf hu ka b fv kg kh l ki kj"><strong class="ka hv">function </strong>getMaxProfit(<strong class="ka hv">array </strong>$stocks)<br/>{<br/>    $minCandidate = $min = $stocks[0];<br/>    $max = $stocks[1];<br/><br/>    <strong class="ka hv">for </strong>($i = 1; $i &lt; <em class="jq">count</em>($stocks); $i++) {<br/>        <strong class="ka hv">if </strong>($stocks[$i] - $minCandidate &gt; $max - $min) {<br/>            $max = $stocks[$i];<br/>            $min = $minCandidate;<br/>        }<br/><br/>        <strong class="ka hv">if </strong>($stocks[$i] &lt; $minCandidate) {<br/>            $minCandidate = $stocks[$i];<br/>        }<br/>    }<br/><br/>    <strong class="ka hv">return </strong>[$min, $max];<br/>}</span></pre><p id="ba14" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样。</p></div></div>    
</body>
</html>