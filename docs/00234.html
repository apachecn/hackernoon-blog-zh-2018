<html>
<head>
<title>How to build a simple blog using Vue, Cosmic JS and deploy to Netlify</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Vue、Cosmic JS构建一个简单的博客并部署到Netlify</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-simple-blog-using-vue-cosmic-js-and-deploy-to-netlify-2bd3e2b3a115?source=collection_archive---------18-----------------------#2018-01-08">https://medium.com/hackernoon/how-to-build-a-simple-blog-using-vue-cosmic-js-and-deploy-to-netlify-2bd3e2b3a115?source=collection_archive---------18-----------------------#2018-01-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d29a068e0a1e23bed3358a87b7f8a576.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OnS6UpW-xy1K0Apu."/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">What we will be building.</figcaption></figure><p id="d414" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在本教程中，我将向您展示如何使用<a class="ae ke" href="https://vuejs.org/" rel="noopener ugc nofollow" target="_blank"> Vue </a>、Vuex、<a class="ae ke" href="https://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>创建一个简单但令人惊叹的博客，并部署到<a class="ae ke" href="http://netlify.com/" rel="noopener ugc nofollow" target="_blank"> Netlify </a>。让我们开始吧。</p><h1 id="96fa" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="c1ee" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated"><a class="ae ke" href="https://github.com/cosmicjs/vue-blog-cosmicjs" rel="noopener ugc nofollow" target="_blank">下载GitHub回购。</a> <br/> <a class="ae ke" href="https://simple-vue-blog.cosmicapp.co/" rel="noopener ugc nofollow" target="_blank">查看演示。</a></p><h1 id="dcd8" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">先决条件</h1><p id="969e" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">在启动之前，您需要安装节点JS和npm。确保您已经安装了它们。</p><h1 id="a805" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">开始使用:</h1><p id="c2cd" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">在这个应用程序中，我们使用<a class="ae ke" href="https://github.com/snipcart/vue-blog-demo" rel="noopener ugc nofollow" target="_blank"> Snipcart Vue博客演示</a>作为起点。派生和克隆这个存储库，我们稍后将研究它。首先，我们将在Cosmic JS中设置桶。</p><p id="8ebc" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">设置桶:<br/> </strong>要创建桶，登录<a class="ae ke" href="http://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>，点击添加‘新桶’。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff li"><img src="../Images/a545e6ad13649dfa2300154991d9f876.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iXupnaQ6yuQSonC3.png"/></div></div></figure><p id="3c1a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">选择从头开始。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ln"><img src="../Images/6f74872cce5ac145f6709fad959cb992.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ckKOBk9XSAoX78F4.png"/></div></div></figure><p id="68a5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">导入桶数据</strong></p><p id="a241" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">下载这个<a class="ae ke" href="https://raw.githubusercontent.com/jazibsawar/vue-blog-cosmicjs/backend-cosmicjs/bucket.json" rel="noopener ugc nofollow" target="_blank"> bucket.json </a>文件。并在设置- &gt;导入/导出数据中，点击“添加导入文件”并选择下载的文件。它将导入所有对象类型和所需数据。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lo"><img src="../Images/04a1a74122e7208ae689297816b5d966.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*nt2Qw50D9Twdmwg8.png"/></div></div></figure><p id="ecbf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在我们将致力于应用。</p><p id="3c07" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">整合宇宙JS </strong></p><p id="0f43" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">当铲斗完全安装时。现在我们将在分叉的<a class="ae ke" href="https://github.com/snipcart/vue-blog-demo" rel="noopener ugc nofollow" target="_blank">https://github.com/snipcart/vue-blog-demo</a>仓库中集成Cosmic JS后端。首先用这个替换<em class="lp"> package.json </em>:</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="9c22" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在终端中打开文件夹并执行<code class="eh ls lt lu lv b">npm install.</code>之后，我们需要设置Cosmic JS配置以便与API通信。为此，我们将在<code class="eh ls lt lu lv b">/src/config/</code>文件夹中创建一个文件<code class="eh ls lt lu lv b">index.js</code>。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="5e22" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">之后分别替换<code class="eh ls lt lu lv b">/config/</code>文件夹中<code class="eh ls lt lu lv b">index.js</code>和<code class="eh ls lt lu lv b">prod.env.js</code>的内容。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="48b3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><code class="eh ls lt lu lv b">prod.env.js</code></p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="e70c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在宇宙JS配置完成。我们需要在项目的根目录下创建一个<code class="eh ls lt lu lv b">.env</code>文件。它会将所有变量加载到process.env中。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="24da" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">更改Vue资源插件以集成Cosmic JS API </strong></p><p id="3691" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在app差不多了。我们只需要做一些小的调整就能让它正常工作。</p><p id="af69" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">用下面的代码替换<code class="eh ls lt lu lv b">src/main.js</code>。我们正在更改API端点，以便调用Cosmic JS后端。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="364b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">用下面的代码替换<code class="eh ls lt lu lv b">src/plugins/resource/index.js</code>,我会解释我们在这里做什么。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="48ed" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这次修改中，我们基本上导入了之前创建的配置，并将API请求的端点URI更改为Cosmic JS。</p><p id="289a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">博客供稿</strong></p><p id="f532" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">替换<code class="eh ls lt lu lv b">src/resources/BlogFeed.js</code>以便将来自Cosmic JS API的数据映射到博客提要。我们只需要正确地进行映射，因为前端代码独立于API调用。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="f25d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">博客帖子</strong></p><p id="cd33" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">同样，更换<code class="eh ls lt lu lv b">src/resources/BlogPost.js.</code>它将使单柱工作完美。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="07a0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">最终确定</strong></p><p id="8b2e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">如果你在终端做<code class="eh ls lt lu lv b">npm run dev</code>，它会工作。但是在我们开始部署之前，我们需要完成一些事情。替换<code class="eh ls lt lu lv b">static/api/blog.json</code>中的博客标题、作者标签和帖子标签。这些字符串将在应用程序中使用。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="4230" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">因为这个博客应用程序是静态的，所以如果你想把它部署到Cosmic JS主机，你需要创建一个简单的Node.js Express服务器。在应用程序的根目录下创建<code class="eh ls lt lu lv b">server.js</code>,并将下面的代码复制到该文件中。</p><figure class="lj lk ll lm fq iv"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="0124" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">一切都结束了😃。另外，我添加了TitleComponent来更改document.title，你可以在我的<a class="ae ke" href="https://github.com/jazibsawar/vue-blog-cosmicjs" rel="noopener ugc nofollow" target="_blank">资源库</a>中查看代码。</p><p id="4072" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">部署</strong></p><p id="0acf" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在我将展示如何在Cosmic JS主机和Netlify的免费主机上部署这个应用程序。您需要将这个应用程序代码推送到GitHub上的存储库中。</p><p id="51a0" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">部署在Cosmic JS主机上</strong></p><p id="a919" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在Cosmic JS dashboard中转到您的桶，然后单击设置-&gt;部署Web应用程序。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/98008c38cf530f7ce51cb2469f999fca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*rZZGAcXyG46rpWAb.png"/></div></div></figure><p id="303a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在新窗口中，输入您的存储库Url和分支名称。添加完所有需要的配置后，点击“部署web应用程序”。它将被部署，您将收到关于成功部署的电子邮件。你不需要在这里输入任何环境变量，因为在Cosmic JS中，主机已经为我们做好了一切。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/8a5bb55e397742cae64d754db0fc5001.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*RCaSxPH0WQrr1nhq.png"/></div></div></figure><p id="b6d4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">在网络上部署</strong></p><p id="352d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在Netlify上注册，点击“来自Git的新站点”。请在那里选择Git提供者。就我而言，我将使用Github。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/12c496531bf1346ccb2daf55d4843fca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*oK3qWQGtFTo1wTzA.png"/></div></div></figure><p id="9872" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">成功认证后，您的所有存储库都将显示出来。选择正确的存储库。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/89fe925b7218a2dfdbd1a53a2966f6f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*K3DwSreEOjzMvR7d.png"/></div></div></figure><p id="dc6c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在您需要选择您的分支并提供一些配置，以便使它正常工作。选择分支成功后，在<code class="eh ls lt lu lv b">build</code>命令中输入<code class="eh ls lt lu lv b">'npm run build'</code>，在<code class="eh ls lt lu lv b">publish</code>目录中输入<code class="eh ls lt lu lv b">'dist'</code>。最后，点击<code class="eh ls lt lu lv b">'Show advance'</code>按钮。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/2b0ff3b7c94973ae56d12fa63d57544a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*1iDi8yZanwZSLsyI.png"/></div></div></figure><p id="fc5b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">点击前进按钮后，需要添加<code class="eh ls lt lu lv b">3 environment variables</code>。这里我们必须手动操作。宇宙JS主机自动为我们做这件事。</p><p id="e5a6" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在那里加上<code class="eh ls lt lu lv b">COSMIC_BUCKET, COSMIC_READ_KEY &amp; COSMIC_WRITE_KEY</code>。您可以从设置- &gt;基本设置中获得这些值。只需将值粘贴到那里，然后按<code class="eh ls lt lu lv b">Deploy Site</code>。它将在几分钟内部署！</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/75bb57f680cf1855459d18ab7c074fea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2u6wVnkeyddHBYz8.png"/></div></div></figure><h1 id="6ed6" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">结论</h1><p id="533c" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">这是一个简单的博客应用程序，使用vue、vuex和Cosmic JS构建。最后，我们还学习了如何将这个应用程序部署到Netlify以及Cosmic JS主机。我希望你喜欢这个教程，并会对你有所帮助。干杯！</p></div></div>    
</body>
</html>