<html>
<head>
<title>Building an Alexa-Based GitHub Follower Counter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建基于Alexa的GitHub追随者计数器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/amazon-alexa-github-followers-counter-3e435f703562?source=collection_archive---------25-----------------------#2018-01-11">https://medium.com/hackernoon/amazon-alexa-github-followers-counter-3e435f703562?source=collection_archive---------25-----------------------#2018-01-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/3d3ed458193f77254957b0aec278ac98.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-tg_C_1FM17ujdar6di_MA.png"/></div></div></figure><p id="f626" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本帖是“<strong class="je hv"> Alexa </strong>系列的一部分。我将带你了解如何用<strong class="je hv">节点构建一个<strong class="je hv">亚马逊Alexa技能</strong>。JS </strong>和<strong class="je hv"> Lambda </strong>来实时获取<strong class="je hv"> GitHub </strong>中&amp;仓库的追随者数量。</p><p id="78d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">注:所有代码都在我的<a class="ae ka" href="https://github.com/mlabouardy/alexa-github" rel="noopener ugc nofollow" target="_blank"> GitHub </a>中。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/af0322ffc4b2a912f3fe53459212f2d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DBHhfAcj2bjnGXKF."/></div></div></figure><p id="511a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">亚马逊Echo </strong>会捕捉语音命令，并发送给<strong class="je hv"> Alexa Skill </strong>将其转换成结构化的文本命令。一个被识别的命令被发送到一个<strong class="je hv"> AWS Lambda </strong>函数，该函数将调用<a class="ae ka" href="https://developer.github.com/v3/" rel="noopener ugc nofollow" target="_blank"> GitHub API </a>来获得响应。</p><p id="3834" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，注册<a class="ae ka" href="https://developer.amazon.com/" rel="noopener ugc nofollow" target="_blank">亚马逊开发者控制台</a>，创建一个新的Alexa技能:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kg"><img src="../Images/b9345eb9f07b9496326cdb76545295d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ThO4d5tSLA0LKC5V."/></div></div></figure><p id="c565" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">调用名是用户触发技能时所说的话。在我们的例子中，它将是“<strong class="je hv"> github </strong>”。</p><p id="fc02" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">点击“<strong class="je hv">下一个</strong>”调出<strong class="je hv">交互模型</strong>页面，使用下面的意图模式:</p><figure class="kc kd ke kf fq iv"><div class="bz el l di"><div class="kh ki l"/></div></figure><p id="9691" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">意图将用户的语音命令映射到我们的Alexa技能可以解决的服务。例如，这里我定义了一个名为<em class="kj"> GetGithubFollowerCount </em>的意图，它将与我在Lambda函数中使用的一部分代码相匹配。</p><p id="4eed" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">编程语言被定义为<strong class="je hv">自定义插槽类型</strong>，具有以下可能值:</p><blockquote class="kk kl km"><p id="7baa" class="jc jd kj je b jf jg jh ji jj jk jl jm kn jo jp jq ko js jt ju kp jw jx jy jz hn dt translated">go<br/>Java<br/>Python<br/>C<br/>c++<br/>Javascript<br/>HTML<br/>Scala<br/>Ocaml<br/>NodeJS<br/>Ruby<br/>PHP<br/>CSS<br/>c#<br/>Perl<br/>Shell<br/>Objective C</p></blockquote><p id="6f43" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们的意图已经定义好了，我们需要将它们链接到一个触发这种链接的人类请求。为此，列出了多个句子(<strong class="je hv">话语</strong>)以使交互尽可能自然。</p><blockquote class="kk kl km"><p id="a2d6" class="jc jd kj je b jf jg jh ji jj jk jl jm kn jo jp jq ko js jt ju kp jw jx jy jz hn dt translated">GetGithubFollowerCount我有多少个粉丝<br/> GetGithubFollowerCount当前粉丝<br/> GetGithubFollowerCount粉丝数量</p><p id="2079" class="jc jd kj je b jf jg jh ji jj jk jl jm kn jo jp jq ko js jt ju kp jw jx jy jz hn dt translated">GetGithubRepositoryCount我有多少个存储库<br/> GetGithubRepositoryCount存储库数量<br/> GetGithubRepositoryCount当前存储库</p><p id="bb2b" class="jc jd kj je b jf jg jh ji jj jk jl jm kn jo jp jq ko js jt ju kp jw jx jy jz hn dt translated">GetGithubRepositoryCountByLanguage有多少个{Language}储存库<br/>GetGithubRepositoryCountByLanguage有多少个{Language}储存库<br/>GetGithubRepositoryCountByLanguage当前{Language}储存库</p></blockquote><p id="8c3e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">结果:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kg"><img src="../Images/2362ea88cd8c42d95e05ad3947c712e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WIHsli0dURoxN5j5."/></div></div></figure><p id="121d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">点击“<strong class="je hv">下一步</strong>，你将进入一个页面，允许我们使用<strong class="je hv"> ARN </strong>(亚马逊资源名称)链接到AWS Lambda。</p><p id="9864" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在此之前，让我们创建我们的lambda函数，登录到<a class="ae ka" href="https://console.aws.amazon.com/" rel="noopener ugc nofollow" target="_blank"> AWS管理控制台</a>，然后导航到<strong class="je hv"> Lambda仪表板</strong>并从头开始创建一个新函数:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kq"><img src="../Images/01ea793d7918f4030cd45e1ad6ea0372.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*p2wrVr9ou8WnJRbm."/></div></div></figure><p id="0932" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">选择<strong class="je hv"> Alexa技能包</strong>作为触发器:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kr"><img src="../Images/877e4062fd6dc71c899532f9ee224080.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*o9X9ZzmF4WeJTllB."/></div></div></figure><p id="4c4b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我在<strong class="je hv">节点写了Lambda函数。JS </strong>，虽然这段代码实际上并不那么有趣，所以我不会详细讨论。</p><p id="d3f4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当有来自Alexa的传入请求时，这个函数被触发。该功能将:</p><ul class=""><li id="2e39" class="ks kt hu je b jf jg jj jk jn ku jr kv jv kw jz kx ky kz la dt translated">处理请求</li><li id="87f5" class="ks kt hu je b jf lb jj lc jn ld jr le jv lf jz kx ky kz la dt translated">调用<a class="ae ka" href="https://developer.github.com/v3/" rel="noopener ugc nofollow" target="_blank"> GitHub API </a></li><li id="d15a" class="ks kt hu je b jf lb jj lc jn ld jr le jv lf jz kx ky kz la dt translated">将响应发送回Alexa</li></ul><figure class="kc kd ke kf fq iv"><div class="bz el l di"><div class="kh ki l"/></div></figure><p id="4ce3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">创建一个<strong class="je hv"> zip </strong>文件，包含上面的函数和任何依赖项(<em class="kj"> node_modules </em>)。然后，指定<strong class="je hv">。在创建Lambda函数时，将zip </strong>文件名作为您的部署包。不要忘记将您的<strong class="je hv"> GitHub用户名</strong>设置为环境变量:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lg"><img src="../Images/2c53f6386b81f35f626980719424b3a5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Ldh6_LOl4f7B8EM7."/></div></div></figure><p id="4f4f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">回到<strong class="je hv"> Alexa技能</strong>我们需要链接我们的Lambda函数作为Alexa技能的端点:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kg"><img src="../Images/2b15a8a71a7ab9b3d3a8cec4aac19e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*bq_pFnTagzG1_IX7."/></div></div></figure><p id="c512" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">就这样，让我们通过点击“<strong class="je hv">下一步</strong>”来使用<strong class="je hv">服务模拟</strong>进行测试。</p><p id="aa83" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> GetFollowerCount意图:</strong></p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lh"><img src="../Images/1f8ae17f05cf4eadc47a5e70e6b098c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qYp5ZFH7lGctuHp3."/></div></div></figure><p id="46a0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> GetRepositoryCount意图</strong>:</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff li"><img src="../Images/abb0ea2d0d17a353f13ef344ca7e9173.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ibvGgtQkwXSNK_a_."/></div></div></figure><p id="2750" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">GetGithubRepositoryCountByLanguage意图:</strong></p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff li"><img src="../Images/7a67542d234539e07eeed97a218cd800.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*C9INNhXgUyOGlxIz."/></div></div></figure><p id="8b9f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你可以看到Lambda的响应和预期的一样！</p><p id="6af6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在用<strong class="je hv">亚马逊Echo </strong>测试一下，说“<em class="kj"> Alexa，向GitHub要… </em>”:</p><figure class="kc kd ke kf fq iv"><div class="bz el l di"><div class="lj ki l"/></div></figure></div></div>    
</body>
</html>