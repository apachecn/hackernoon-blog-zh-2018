<html>
<head>
<title>projecteuler.net # 17</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">projecteuler.net # 17</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/projecteuler-net-17-dabc52166aba?source=collection_archive---------21-----------------------#2018-01-16">https://medium.com/hackernoon/projecteuler-net-17-dabc52166aba?source=collection_archive---------21-----------------------#2018-01-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/b6c6d69d416233042a0d4e4b0c4dba4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5k4jZXJWk2_oLq-7srR8Dg.png"/></div></div></figure><div class=""/><p id="c448" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我刚刚完成了欧拉17号项目。我将在这里介绍我解决这个问题的思路，但是我希望得到反馈，尤其是如果你的解决方案与我的不同的话。我相信还有许多更优雅和简单的解决方案。</p><p id="db4b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">问题是这样的:</p><p id="e401" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果把数字1到5用文字写出来:一、二、三、四、五，那么总共用了3 + 3 + 5 + 4 + 4 = 19个字母。</p><p id="936b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果从1到1000(一千)的所有数字都用文字写出来，会用多少个字母？</p><p id="bd15" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">注意:</strong>不计算空格或连字符。例如，342(三百四十二)包含23个字母，115(一百一十五)包含20个字母。写数字时使用“and”符合英国的用法。</p><p id="43f1" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的第一个想法是，我需要遍历数字1到1000，并将每个数字转换成与该数字相对应的书面单词。</p><figure class="ka kb kc kd fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/b6c6d69d416233042a0d4e4b0c4dba4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5k4jZXJWk2_oLq-7srR8Dg.png"/></div></div></figure><p id="d139" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">很自然，我可以创建一个包含所有单词的数组。但我不想写下每一个数字。相反，我想做这样的事情:</p><figure class="ka kb kc kd fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ke"><img src="../Images/f2ae36d8f438080c2a8f7301c8e6c2b1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RjfL6NCqG7JlDk29V1r4hA.png"/></div></div></figure><p id="57d3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不用定义每个字母，我可以创建一个数字1到9的数组，然后创建另一个字母“1”到“9”的数组。</p><figure class="ka kb kc kd fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ke"><img src="../Images/6b5d7eaa4f51f869fe216ae0a5df39ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9O3GC426ZgZBe1DEEvzk5w.png"/></div></div></figure><p id="579d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">例如，如果数字是547，那么我可以查看给定数字集中的第一个数字是否与onesArr中的任何数字相匹配。然后我可以对最后一个数字做同样的事情。一旦它找到匹配，我将简单地获取onesComp数组的值，但是是在我在onesArr中找到匹配的相同索引处。</p><p id="c9d8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然，这对于“二十”、“三十”、“四十”等来说是行不通的。它也不适用于10到19岁的孩子。所以，我可以做几个额外的数组，做同样的事情，取决于给定数字的长度。</p><figure class="ka kb kc kd fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kf"><img src="../Images/d0584a6bd12382863e090222f6ef35d5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QhfdmekHVgK5pBTzCYY8SA.png"/></div></div></figure><p id="12e6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">类似这样的东西可以让我拥有一个1-10的数字数组，以及一个“1”-“10”的匹配单词数组。青少年和十岁的人也是如此。对我来说，关键是让索引值匹配。所以我的1数组从1开始，而不是0，因为我们不使用0，我的青少年数组也包含一个0，因为它从10开始，我将在数字10中寻找0，就像我将在11中寻找1，在12中寻找2，等等。然后十进制数组从2和20开始。在这一点上，下一个障碍将是确定号码的长度。我的想法是对1到1000的数组进行循环。对于每一项，我将把数字转换成一个字符串，然后分割这个字符串，这样它会给我一个每个数字的数组。然后，在and if语句中，我将使用parseInt()将其转换回数字，并对照比较数组的值进行检查。该部分可能看起来像这样:</p><figure class="ka kb kc kd fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kg"><img src="../Images/c501429b7ff20e038a50646458d7dd72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m_Z1R3el978FsArIdDP6Iw.png"/></div></div></figure><p id="250e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是最终的代码:</p><pre class="ka kb kc kd fq kh ki kj kk aw kl dt"><span id="4a95" class="km kn if ki b fv ko kp l kq kr">let ones = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];<br/>let teens = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];<br/>let tens = ['twenty', 'thrity', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];<br/>let thousands = ['thousand'];<br/>let compareOnes = [1,2,3,4,5,6,7,8,9];<br/>let compareTeens = [0,1,2,3,4,5,6,7,8,9];<br/>let compareTens = [2,3,4,5,6,7,8,9];</span><span id="6263" class="km kn if ki b fv ks kp l kq kr">let numbers = [];<br/>for (var i = 1; i &lt;= 1000; i++) {<br/>    numbers.push(i);<br/>}</span><span id="296d" class="km kn if ki b fv ks kp l kq kr">let currentCount = 0;</span><span id="36c4" class="km kn if ki b fv ks kp l kq kr">for (var i = 0; i &lt; numbers.length; i++) {<br/>    let numStr = numbers[i].toString();<br/>    let numStrArr = numStr.split("");<br/>    if(numStrArr.length == 1){<br/>      let digit1 = parseInt(numStrArr[0]);<br/>      let index = compareOnes.indexOf(digit1);<br/>      currentCount = currentCount + ones[index];<br/>    }<br/>    if(numStrArr.length == 2 &amp;&amp; numbers[i]&gt;=20){<br/>      let digit1 = parseInt(numStrArr[0]);<br/>      let digit2 = parseInt(numStrArr[1]);<br/>      let index = compareTens.indexOf(digit1);<br/>      let index2 = compareOnes.indexOf(digit2);<br/>      currentCount = currentCount + tens[index] + ones[index2];<br/>    }<br/>    if(numStrArr.length == 2 &amp;&amp; numbers[i]&lt;20){<br/>      let digit2 = parseInt(numStrArr[1]);<br/>      let index2 = compareTeens.indexOf(digit2);<br/>      currentCount = currentCount + teens[index2];<br/>    }<br/>    if(numStrArr.length == 3 &amp;&amp; numStrArr[1] == "0" &amp;&amp; numStrArr[2] == "0"){<br/>      let digit1 = parseInt(numStrArr[0]);<br/>      let digit2 = parseInt(numStrArr[1]);<br/>      let digit3 = parseInt(numStrArr[2]);<br/>      let index3 = compareOnes.indexOf(digit1);<br/>      let index2 = compareTens.indexOf(digit2);<br/>      let index = compareOnes.indexOf(digit3);<br/>      currentCount = currentCount + ones[index3]+"hundred";<br/>    }<br/>    if(numStrArr.length == 3 &amp;&amp; numStrArr[1] == "0" &amp;&amp; numStrArr[2] !== "0"){<br/>      let digit1 = parseInt(numStrArr[0]);<br/>      let digit2 = parseInt(numStrArr[1]);<br/>      let digit3 = parseInt(numStrArr[2]);<br/>      let index3 = compareOnes.indexOf(digit1);<br/>      let index2 = compareTens.indexOf(digit2);<br/>      let index = compareOnes.indexOf(digit3);<br/>      currentCount = currentCount + ones[index3]+"hundred"+"and"+tens[index2]+ones[index];<br/>    }<br/>    if(numStrArr.length == 3 &amp;&amp; numStrArr[1] == "1"){<br/>      let digit1 = parseInt(numStrArr[0]);<br/>      let digit2 = parseInt(numStrArr[1]);<br/>      let digit3 = parseInt(numStrArr[2]);<br/>      let index3 = compareOnes.indexOf(digit1);<br/>      let index2 = compareTeens.indexOf(digit3);<br/>      currentCount = currentCount + ones[index3]+"hundred"+"and"+teens[index2];<br/>    }<br/>  if(numStrArr.length == 3 &amp;&amp; numStrArr[1] !== "0" &amp;&amp; numStrArr[2] !== "0" &amp;&amp; numStrArr[1] !== "1"){<br/>    let digit1 = parseInt(numStrArr[0]);<br/>    let digit2 = parseInt(numStrArr[1]);<br/>    let digit3 = parseInt(numStrArr[2]);<br/>    let index3 = compareOnes.indexOf(digit1);<br/>    let index2 = compareTens.indexOf(digit2);<br/>    let index = compareOnes.indexOf(digit3);<br/>    currentCount = currentCount + ones[index3]+"hundred"+"and"+tens[index2]+ones[index];<br/>  }<br/>  if(numStrArr.length == 3 &amp;&amp; numStrArr[1] !== "0" &amp;&amp; numStrArr[2] == "0" &amp;&amp; numStrArr[1] !== "1"){<br/>    let digit1 = parseInt(numStrArr[0]);<br/>    let digit2 = parseInt(numStrArr[1]);<br/>    let digit3 = parseInt(numStrArr[2]);<br/>    let index3 = compareOnes.indexOf(digit1);<br/>    let index2 = compareTens.indexOf(digit2);<br/>    let index = compareOnes.indexOf(digit3);<br/>    currentCount = currentCount + ones[index3]+"hundred"+"and"+tens[index2];<br/>  }<br/>  if(numStrArr.length == 4){<br/>    currentCount = currentCount + "one"+"thousand";<br/>  }<br/>}<br/><br/>let newCurrent = currentCount.replace(/undefined/g, "");<br/>console.log(newCurrent);<br/>console.log(newCurrent.length)</span></pre><p id="783a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你可能会注意到我在底部的正则表达式。我一直有未定义的出现，它只是被添加在那里。我可以试着找出原因，但是很明显我需要的所有其他单词都还在那里，所以我只写了一点regex来去掉最终字符串中任何未定义的单词。</p><p id="5365" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是最终字符串的样子…嗯，只有前75个数字:</p><pre class="ka kb kc kd fq kh ki kj kk aw kl dt"><span id="d960" class="km kn if ki b fv ko kp l kq kr">onetwothreefourfivesixseveneightnineteneleventwelvethirteenfourteenfifteensixteenseventeeneighteennineteentwentytwentyonetwentytwotwentythreetwentyfourtwentyfivetwentysixtwentyseventwentyeighttwentyninethritythrityonethritytwothritythreethrityfourthrityfivethritysixthrityseventhrityeightthrityninefortyfortyonefortytwofortythreefortyfourfortyfivefortysixfortysevenfortyeightfortyninefiftyfiftyonefiftytwofiftythreefiftyfourfiftyfivefiftysixfiftysevenfiftyeightfiftyninesixtysixtyonesixtytwosixtythreesixtyfoursixtyfivesixtysixsixtysevensixtyeightsixtynineseventyseventyoneseventytwoseventythreeseventyfourseventyfive</span></pre></div></div>    
</body>
</html>