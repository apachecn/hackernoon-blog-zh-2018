<html>
<head>
<title>Fundamental Python Data Science Libraries: A Cheatsheet (Part 2/4)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基础Python数据科学库:备忘单(第2/4部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/fundamental-python-data-science-libraries-a-cheatsheet-part-2-4-fcf5fab9cdf1?source=collection_archive---------3-----------------------#2018-01-17">https://medium.com/hackernoon/fundamental-python-data-science-libraries-a-cheatsheet-part-2-4-fcf5fab9cdf1?source=collection_archive---------3-----------------------#2018-01-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/fd47061ca7d323e1c8a623940f27bcb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u47mywKCW6lzqQNQL8aENA.png"/></div></div></figure><p id="0e54" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您是一名开发人员，并且希望将数据操作或科学集成到您的产品中，或者开始您的数据科学之旅，下面是您需要了解的Python库。</p><ol class=""><li id="44a6" class="ka kb hu je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki dt translated">NumPy</li><li id="4f67" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">熊猫</li><li id="1b7f" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">Matplotlib</li><li id="3d91" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">sci kit-学习</li></ol><p id="19ae" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本系列的目标是提供关于如何使用必备库的介绍、亮点和演示，以便您可以选择更深入的内容。</p><h1 id="84a5" class="ko kp hu bd kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll dt translated">熊猫</h1><p id="7685" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">这个库是建立在<a class="ae lr" href="http://www.numpy.org/" rel="noopener ugc nofollow" target="_blank"> NumPy </a>之上的，你可能还记得我上一篇<a class="ae lr" href="https://hackernoon.com/fundamental-python-data-science-libraries-a-cheatsheet-part-1-4-58884e95c2bd" rel="noopener ugc nofollow" target="_blank">文章</a>。Pandas将NumPy强大的数学数组-magic向前推进了一步。它允许你在一个关系表结构中存储&amp;操作数据。</p><h2 id="98db" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">图书馆的焦点</h2><p id="500d" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">这个库集中于两个对象:系列(1D)和数据框架(2D)。每个都允许您设置:</p><ul class=""><li id="34c8" class="ka kb hu je b jf jg jj jk jn kc jr kd jv ke jz mg kg kh ki dt translated">一个<em class="mh">索引</em>——允许您查找和操作某些行</li><li id="427b" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz mg kg kh ki dt translated"><em class="mh">列名</em>——让您找到并操作某些列</li></ul><p id="fa31" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">SQL似曾相识吗？</p><h2 id="cd19" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">装置</h2><p id="8834" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">打开命令行并键入</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="9444" class="ls kp hu mn b fv mr ms l mt mu">pip install pandas</span></pre><p id="e24d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Windows:过去我发现安装NumPy和其他科学软件包是一件令人头疼的事情，所以我鼓励所有Windows用户下载Anaconda的Python发行版，它已经安装了所有的数学和科学库。</p><h2 id="ade6" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">细节</h2><p id="146e" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">pandas数据结构在几个方面不同于NumPy数组:</p><ol class=""><li id="7c37" class="ka kb hu je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki dt translated">NumPy数组中的所有数据必须是相同的数据类型，pandas数据结构可以保存多种数据类型</li><li id="24dd" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">pandas数据结构允许您命名行和列</li><li id="3deb" class="ka kb hu je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">NumPy数组可以达到多维度，pandas数据结构将你限制在1 &amp; 2D。*</li></ol><p id="fc61" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">*有一个名为<a class="ae lr" href="https://pandas.pydata.org/pandas-docs/stable/dsintro.html#panel" rel="noopener ugc nofollow" target="_blank">面板</a>的3D熊猫数据结构，但它已被贬值</p><p id="d54d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们开始吧！</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="108d" class="ls kp hu mn b fv mr ms l mt mu">import pandas as pd<br/>import numpy as np</span></pre><h2 id="a19e" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">创造</h2><p id="d7ab" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">很简单！</p><p id="4ffa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以从列表、元组、NumPy数组甚至字典中创建一个系列或数据帧！哦，当然还有CSV和数据库。</p><p id="882b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">来自一个数组</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="3be3" class="ls kp hu mn b fv mr ms l mt mu"># Series<br/>future_array1 = [1,2,3,4,5,6]<br/>array1 = np.array(future_array1)<br/>s = pd.Series(array1)</span><span id="b0ba" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; s<br/>0    1<br/>1    2<br/>2    3<br/>3    4<br/>4    5<br/>5    6<br/>dtype: int64</span></pre><p id="18ec" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您在上面看到的打印输出有两列。左边的是索引，右边的是你的数据。这个索引看起来像我们在使用列表、元组、数组或任何其他可迭代对象时所习惯的索引。我们很快就会在熊猫身上看到，我们可以把它改成我们喜欢的任何东西！</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="2c6c" class="ls kp hu mn b fv mr ms l mt mu"># DataFrame<br/>future_array2 = [2,4,6,8,10,12]<br/>array2 = np.array(future_array2)<br/>df = pd.DataFrame([future_array1, future_array2])</span><span id="7085" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df<br/>   0  1  2  3   4   5<br/>0  1  2  3  4   5   6<br/>1  2  4  6  8  10  12</span></pre><p id="03d1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你在上面看到的打印结果有一大堆数字。左边的第一列是索引。第一行是列名(现在是0…5)。同样，我们将很快在熊猫身上看到我们可以把它改成我们喜欢的任何东西！</p><p id="cdae" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">来自字典</strong></p><p id="e36b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">字典键将成为一系列中的索引</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="8863" class="ls kp hu mn b fv mr ms l mt mu"># Series<br/>future_series = {0: 'A', 1: 'B', 2: 'C'}<br/>s = pd.Series(future_series)</span><span id="2ba7" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; s<br/>0    A<br/>1    B<br/>2    C<br/>dtype: object</span></pre><p id="36cd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它在数据帧中的工作方式有点不同——键变成了列名</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="43a1" class="ls kp hu mn b fv mr ms l mt mu"># DataFrame<br/>dict = {'Normal': ['A', 'B', 'C'], 'Reverse': ['Z', 'Y', 'X']}<br/>df = pd.DataFrame(dict)</span><span id="4992" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df<br/>  Normal Reverse<br/>0      A       Z<br/>1      B       Y<br/>2      C       X</span></pre><p id="b571" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">上传数据</strong></p><p id="ee5b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Pandas有很多方法<a class="ae lr" href="https://pandas.pydata.org/pandas-docs/stable/cookbook.html#data-in-out" rel="noopener ugc nofollow" target="_blank">上传数据</a>，但是让我们把重点放在标准的csv格式上。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="3dd8" class="ls kp hu mn b fv mr ms l mt mu">uploaded_data = pd.read_csv("filename.csv", index_col=0)</span></pre><p id="dc59" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关键字参数<strong class="je hv"> index_col </strong>可以指定CSV中的哪一列应该是DataFrame中的索引。有关read_csv函数的更多详细信息，请访问<a class="ae lr" href="https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><p id="913a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我喜欢熊猫图书馆只需要一行代码就可以从CSV导入数据。还有谁从csv库中复制并粘贴了相同的代码行？；)</p><h2 id="ab93" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">使用索引</h2><p id="0200" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">你的文字争吵的日子结束了！不再有奇怪的列表理解或带有注释的for循环，如“#在给定期间提取此列”或“#很抱歉造成混乱”。</p><p id="52cf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是一个示例数据帧:</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="4d84" class="ls kp hu mn b fv mr ms l mt mu">dates = pd.date_range("20160101", periods=6)<br/>data = np.random.random((6,3))<br/>column_names = ['Column1', 'Column2', 'Column3']<br/>df = pd.DataFrame(data, index=dates, columns=column_names)</span><span id="aa1c" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df<br/>             Column1   Column2   Column3</span><span id="3c58" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881</span><span id="87ea" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512</span><span id="d25b" class="ls kp hu mn b fv mv ms l mt mu">2016-01-03  0.683565  0.305862  0.278066</span><span id="9232" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04  0.943801  0.388292  0.221318</span><span id="829e" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.353116  0.418686  0.054011</span><span id="61d5" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06  0.802379  0.720102  0.043310</span></pre><p id="2ba9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">索引一列</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="b2f0" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df['Column2'] # use the column name's string</span><span id="39eb" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01    0.151919</span><span id="9a39" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02    0.887256</span><span id="af25" class="ls kp hu mn b fv mv ms l mt mu">2016-01-03    0.305862</span><span id="a079" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04    0.388292</span><span id="fe76" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05    0.418686</span><span id="1f01" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06    0.720102</span><span id="b817" class="ls kp hu mn b fv mv ms l mt mu">Freq: D, Name: Column2, dtype: float64</span></pre><p id="8c08" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">索引一行</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="520a" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df[0:2] # use the standard indexing technique</span><span id="f2e1" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2   Column3</span><span id="8af8" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881</span><span id="9f82" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512<br/></span><span id="fc06" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df['20160101':'20160102'] # use the index's strings</span><span id="554e" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2   Column3</span><span id="5f13" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881</span><span id="cf5a" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512</span></pre><p id="556d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">分度多轴-名称</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="7f29" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df.loc['20160101':'20160102',['Column1','Column3']]</span><span id="ef02" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column3</span><span id="fc2d" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.505881</span><span id="4d16" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.069512</span></pre><p id="e624" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">多轴分度—编号</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="9197" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df.iloc[3:5, 0:2]</span><span id="f395" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2</span><span id="312f" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04  0.943801  0.388292</span><span id="71b2" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.353116  0.418686</span></pre><h2 id="5e40" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">查看您的数据</h2><p id="2c64" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">快速检查顶行和底行:</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="fa80" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df.head(2) # first 2 rows</span><span id="21d5" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2   Column3</span><span id="5b01" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881</span><span id="c7ef" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512<br/></span><span id="9994" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df.tail(2) # last 2 rows</span><span id="4280" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2   Column3</span><span id="5fd2" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.353116  0.418686  0.054011</span><span id="5988" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06  0.802379  0.720102  0.043310</span></pre><p id="f1cb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">赶去开会前查看汇总统计数据:</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="ad32" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df.describe()</span><span id="33c7" class="ls kp hu mn b fv mv ms l mt mu">       Column1   Column2   Column3</span><span id="c457" class="ls kp hu mn b fv mv ms l mt mu">count  6.000000  6.000000  6.000000</span><span id="f19c" class="ls kp hu mn b fv mv ms l mt mu">mean   0.621552  0.478686  0.195350</span><span id="4764" class="ls kp hu mn b fv mv ms l mt mu">std    0.269550  0.273359  0.180485</span><span id="63f6" class="ls kp hu mn b fv mv ms l mt mu">min    0.242099  0.151919  0.043310</span><span id="3d5b" class="ls kp hu mn b fv mv ms l mt mu">25%    0.435728  0.326470  0.057887</span><span id="9bf2" class="ls kp hu mn b fv mv ms l mt mu">50%    0.693958  0.403489  0.145415</span><span id="8c32" class="ls kp hu mn b fv mv ms l mt mu">75%    0.777872  0.644748  0.263879</span><span id="4e54" class="ls kp hu mn b fv mv ms l mt mu">max    0.943801  0.887256  0.505881</span></pre><h2 id="2684" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">控制您的数据</h2><p id="52ea" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">Pandas为Python带来了SQL的灵活性。</p><p id="3dc1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">排序</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="332a" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df.sort_index(axis=0, ascending=False) # sort using the index</span><span id="483e" class="ls kp hu mn b fv mv ms l mt mu">             Column1   Column2   Column3</span><span id="623d" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06  0.802379  0.720102  0.043310</span><span id="f6d0" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.353116  0.418686  0.054011</span><span id="6630" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04  0.943801  0.388292  0.221318</span><span id="1432" class="ls kp hu mn b fv mv ms l mt mu">2016-01-03  0.683565  0.305862  0.278066</span><span id="efbc" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512</span><span id="8ab8" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881<br/></span><span id="7797" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df.sort_values(by='Column2') # sort using a column</span><span id="ec07" class="ls kp hu mn b fv mv ms l mt mu">            Column1   Column2   Column3</span><span id="a9a9" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.704351  0.151919  0.505881</span><span id="856c" class="ls kp hu mn b fv mv ms l mt mu">2016-01-03  0.683565  0.305862  0.278066</span><span id="b0cf" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04  0.943801  0.388292  0.221318</span><span id="0cee" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.353116  0.418686  0.054011</span><span id="438a" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06  0.802379  0.720102  0.043310</span><span id="ed58" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.242099  0.887256  0.069512</span></pre><p id="58a1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">加入</strong></p><p id="6804" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是新的示例数据框架:</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="e95d" class="ls kp hu mn b fv mr ms l mt mu">dates1 = pd.date_range("20160101", periods=6)<br/>data1 = np.random.random((6,2))<br/>column_names1 = ['ColumnA', 'ColumnB']</span><span id="490c" class="ls kp hu mn b fv mv ms l mt mu">dates2 = pd.date_range("20160101", periods=7)<br/>data2 = np.random.random((7,2))<br/>column_names2 = ['ColumnC', 'ColumnD']</span><span id="8f6c" class="ls kp hu mn b fv mv ms l mt mu">df1 = pd.DataFrame(data1, index=dates1, columns=column_names1)<br/>df2 = pd.DataFrame(data2, index=dates2, columns=column_names2)</span><span id="9544" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df1.join(df2) # joins on the index</span><span id="b705" class="ls kp hu mn b fv mv ms l mt mu">            ColumnA   ColumnB   ColumnC   ColumnD</span><span id="c40c" class="ls kp hu mn b fv mv ms l mt mu">2016-01-01  0.128655  0.181495  0.574188  0.628584</span><span id="69ee" class="ls kp hu mn b fv mv ms l mt mu">2016-01-02  0.278669  0.810805  0.634820  0.545531</span><span id="d0ad" class="ls kp hu mn b fv mv ms l mt mu">2016-01-03  0.489763  0.397794  0.169862  0.300666</span><span id="0c24" class="ls kp hu mn b fv mv ms l mt mu">2016-01-04  0.911465  0.903353  0.058488  0.911165</span><span id="f3a0" class="ls kp hu mn b fv mv ms l mt mu">2016-01-05  0.094284  0.890642  0.282264  0.568099</span><span id="09a2" class="ls kp hu mn b fv mv ms l mt mu">2016-01-06  0.512656  0.735082  0.141056  0.698386</span></pre><p id="5af9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您想连接索引以外的列，请检查<a class="ae lr" href="https://pandas.pydata.org/pandas-docs/stable/merging.html#database-style-dataframe-joining-merging" rel="noopener ugc nofollow" target="_blank">合并方法</a>。</p><p id="ab69" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">分组依据</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="a57e" class="ls kp hu mn b fv mr ms l mt mu">df3 = df1.join(df2)</span><span id="6843" class="ls kp hu mn b fv mv ms l mt mu"># add a column to df to group on<br/>df3['ProfitLoss'] = pd.Series(['Profit', 'Loss', 'Profit', 'Profit', 'Profit', 'Loss'], index=dates)</span><span id="42f3" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; df3.groupby('ProfitLoss').mean()</span><span id="83bb" class="ls kp hu mn b fv mv ms l mt mu">            ColumnA   ColumnB   ColumnC   ColumnD</span><span id="ea8f" class="ls kp hu mn b fv mv ms l mt mu">ProfitLoss</span><span id="1ced" class="ls kp hu mn b fv mv ms l mt mu">Loss        0.403947  0.759588  0.272969  0.305868</span><span id="c72a" class="ls kp hu mn b fv mv ms l mt mu">Profit      0.576668  0.477050  0.359661  0.406070</span></pre><h2 id="9597" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">访问属性</h2><p id="9ff8" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">注意我是如何在上面的代码中使用键/值符号来添加列的？Pandas允许您轻松添加新数据。但它也允许您访问数据结构的核心属性。</p><p id="68b4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">访问索引</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="598d" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df3.index</span><span id="94c2" class="ls kp hu mn b fv mv ms l mt mu">DatetimeIndex(['2016-01-01', '2016-01-02', '2016-01-03', '2016-01-04',<br/>               '2016-01-05', '2016-01-06'],<br/>              dtype='datetime64[ns]', freq='D')</span></pre><p id="990f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">访问数值</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="bb9d" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df3.values</span><span id="46cf" class="ls kp hu mn b fv mv ms l mt mu">array([[0.441513594483238, 0.974419927787583, 0.20896018007846018,</span><span id="f407" class="ls kp hu mn b fv mv ms l mt mu">0.45913058454344435, 'Profit'], ...</span><span id="eea9" class="ls kp hu mn b fv mv ms l mt mu">[0.6980963896232228, 0.7005669323477245, 0.09231336594380268,</span><span id="1ba9" class="ls kp hu mn b fv mv ms l mt mu">0.13264595083739117, 'Loss']], dtype=object)</span></pre><p id="a247" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">访问列</strong></p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="ff0d" class="ls kp hu mn b fv mr ms l mt mu">&gt;&gt;&gt; df3.columns</span><span id="78cb" class="ls kp hu mn b fv mv ms l mt mu">Index([u'ColumnA', u'ColumnB', u'ColumnC', u'ColumnD', u'ProfitLoss'], dtype='object')</span></pre><p id="02e2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我在这里提供了一个<a class="ae lr" href="https://github.com/ljglass/datascience_notebooks" rel="noopener ugc nofollow" target="_blank">链接，用Jupyter笔记本</a>下载我的熊猫漫游！</p><p id="8635" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以前没用过Jupyter笔记本？访问他们的网站<a class="ae lr" href="http://jupyter.org" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="8738" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">总的来说，如果你有一个数据集，你想操作，但不想麻烦地把它全部拖进SQL，我建议先搜索熊猫解决方案！</p><h2 id="a881" class="ls kp hu bd kq lt lu lv ku lw lx ly ky jn lz ma lc jr mb mc lg jv md me lk mf dt translated">应用程序</h2><p id="580f" class="pw-post-body-paragraph jc jd hu je b jf lm jh ji jj ln jl jm jn lo jp jq jr lp jt ju jv lq jx jy jz hn dt translated">让我们看一个场景。假设你想关注比特币，但不想在基础设施建设上投入太多时间。你可以用熊猫来保持简单。</p><p id="3c08" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你需要一个<a class="ae lr" href="https://www.quandl.com" rel="noopener ugc nofollow" target="_blank"> Quandl </a>账号和<a class="ae lr" href="https://docs.quandl.com/docs/python-installation" rel="noopener ugc nofollow" target="_blank"> python Quandl库</a>。</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="0499" class="ls kp hu mn b fv mr ms l mt mu">pip install quandl</span></pre><p id="58e3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们编码:</p><pre class="mi mj mk ml fq mm mn mo mp aw mq dt"><span id="51d9" class="ls kp hu mn b fv mr ms l mt mu">import quandl</span><span id="c5a5" class="ls kp hu mn b fv mv ms l mt mu"># set up the Quandl connection<br/>api_key = 'GETYOURAPIKEY'<br/>quandl.ApiConfig.api_key = api_key<br/>quandl_code = "BITSTAMP/USD"</span><span id="8f42" class="ls kp hu mn b fv mv ms l mt mu"># get the data from the API<br/>bitcoin_data = quandl.get(quandl_code, start_date="2017-01-01", end_date="2018-01-17", returns="numpy")</span><span id="5c38" class="ls kp hu mn b fv mv ms l mt mu"># set up the data in pandas<br/>df = pd.DataFrame(data=bitcoin_data, columns=['Date', 'High', 'Low', 'Last', 'Bid', 'Ask', 'Volume', 'VWAP'])</span><span id="82e0" class="ls kp hu mn b fv mv ms l mt mu"># make the 'Date' column the index<br/>df.set_index('Date', inplace=True) </span><span id="1954" class="ls kp hu mn b fv mv ms l mt mu"># find a rolling 30 day average<br/>df['RollingMean'] = df['Last'].rolling(window=30).mean().shift(1)</span><span id="8af5" class="ls kp hu mn b fv mv ms l mt mu"># label when the last price is less than L30D average<br/>df['Buy'] = df['Last'] &lt; df['RollingMean']</span><span id="e278" class="ls kp hu mn b fv mv ms l mt mu"># create a strategic trading DataFrame<br/>trading_info = df.loc[:,['Last', 'RollingMean', 'Buy']]</span><span id="2f52" class="ls kp hu mn b fv mv ms l mt mu">&gt;&gt;&gt; trading_info.tail(10) # lets look at last 10 days</span><span id="7fdd" class="ls kp hu mn b fv mv ms l mt mu">                Last   RollingMean    Buy</span><span id="d4d2" class="ls kp hu mn b fv mv ms l mt mu">Date</span><span id="ecd0" class="ls kp hu mn b fv mv ms l mt mu">2018-01-08  16173.98  15693.421333  False</span><span id="6cb5" class="ls kp hu mn b fv mv ms l mt mu">2018-01-09  15000.00  15704.147667   True</span><span id="49fa" class="ls kp hu mn b fv mv ms l mt mu">2018-01-10  14397.30  15716.680333   True</span><span id="649b" class="ls kp hu mn b fv mv ms l mt mu">2018-01-11  14900.00  15706.590333   True</span><span id="dca8" class="ls kp hu mn b fv mv ms l mt mu">2018-01-12  13220.00  15655.209333   True</span><span id="8926" class="ls kp hu mn b fv mv ms l mt mu">2018-01-13  13829.29  15539.209333   True</span><span id="d3fc" class="ls kp hu mn b fv mv ms l mt mu">2018-01-14  14189.66  15458.548000   True</span><span id="a568" class="ls kp hu mn b fv mv ms l mt mu">2018-01-15  13648.00  15384.760000   True</span><span id="1bfc" class="ls kp hu mn b fv mv ms l mt mu">2018-01-16  13581.66  15258.109000   True</span><span id="f1a1" class="ls kp hu mn b fv mv ms l mt mu">2018-01-17  11378.66  15070.668667   True</span></pre><p id="b720" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这就是熊猫用真实生活数据的力量！然而，如果我们想以图表的形式查看上面显示的数据呢？这是可能的，查看我在Matplotlib上的n <a class="ae lr" href="https://hackernoon.com/fundamental-python-data-science-libraries-a-cheatsheet-part-3-4-6c2aecc697a4" rel="noopener ugc nofollow" target="_blank"> ext文章。</a></p><p id="23bf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">感谢阅读！如果你有问题，请随意评论&amp;我会尽量回复你。</p><figure class="mi mj mk ml fq iv fe ff paragraph-image"><div class="fe ff mw"><img src="../Images/a2693ae6881f4d0191d145a363aa8b5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:452/format:webp/1*H7LHQqYm2aZtRGwSBWdjVw.jpeg"/></div></figure><p id="d67f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Instagram上与我联系<a class="ae lr" href="https://www.instagram.com/lauren__glass/" rel="noopener ugc nofollow" target="_blank">@ Lauren _ _ glass</a>&amp;<a class="ae lr" href="https://www.linkedin.com/in/laurenjglass/" rel="noopener ugc nofollow" target="_blank">LinkedIn</a></p><p id="4aea" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在亚马逊上查看我的<a class="ae lr" href="http://bit.ly/my_essentials" rel="noopener ugc nofollow" target="_blank">必需品清单</a></p><p id="ecb3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae lr" href="https://www.laurenglass.me" rel="noopener ugc nofollow" target="_blank">访问我的网站！</a></p><figure class="mi mj mk ml fq iv fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/704cab53566f8ef978de5e98726ddb63.png" data-original-src="https://miro.medium.com/v2/resize:fit:376/format:webp/1*-8d7RE-lbcOiiR1w5rP3Gw.jpeg"/></div><figcaption class="my mz fg fe ff na nb bd b be z ek">Search for me using my nametag on Instagram!</figcaption></figure></div></div>    
</body>
</html>