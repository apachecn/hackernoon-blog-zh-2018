<html>
<head>
<title>Webpack 4 tutorial: All You Need to Know, from 0 Conf to Production Mode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Webpack 4教程:所有你需要知道的，从0 Conf到生产模式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/webpack-4-tutorial-all-you-need-to-know-from-0-conf-to-production-mode-d32759d0dc2d?source=collection_archive---------3-----------------------#2018-01-19">https://medium.com/hackernoon/webpack-4-tutorial-all-you-need-to-know-from-0-conf-to-production-mode-d32759d0dc2d?source=collection_archive---------3-----------------------#2018-01-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/72f7c4a32947f634e119145f7c9f23f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dQA3VhfjIQc1DYua6KoLFQ.png"/></div></div></figure><p id="2713" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">webpack团队正在努力开发下一代流行的模块捆绑器:<strong class="je hv"> webpack 4 </strong>。</p><p id="766f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下帖子是一个活生生的<strong class="je hv">对webpack 4 </strong>的介绍。一旦有新的消息，我会及时更新。请继续关注我的博客了解更多！</p><h1 id="0e94" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">作为零配置模块捆绑器的webpack 4</h1><p id="a6c6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">webpack功能强大，有很多独特的特性，但是它的一个痛点是<strong class="je hv">配置文件</strong>。</p><p id="dd36" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在中型到大型项目中，为webpack提供一个配置并不是一件大事。没有一个就活不下去。然而，对于较小的应用程序来说，这有点烦人，尤其是当你想启动一些玩具应用程序的时候。</p><p id="e8eb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这就是为什么<a class="ae ka" href="https://www.valentinog.com/blog/tutorial-react-parcel-bundler/" rel="noopener ugc nofollow" target="_blank">包裹获得了很大的牵引力</a>。</p><p id="d0e3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Sean和webpack团队将改变这一点:<strong class="je hv"> webpack 4默认情况下不需要配置文件</strong>！</p><p id="b86b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们试试看。</p><p id="2c0e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">创建一个新目录并移入其中:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="226e" class="ln kc hu lj b fv lo lp l lq lr">mkdir webpack-4-quickstart &amp;&amp; cd $_</span></pre><p id="0422" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过运行以下命令初始化package.json:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="744c" class="ln kc hu lj b fv lo lp l lq lr">npm init -y</span></pre><p id="f860" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们来看看webpack 4。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="5aee" class="ln kc hu lj b fv lo lp l lq lr">npm i webpack --save-dev</span></pre><p id="abeb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们还需要<strong class="je hv"> webpack-cli </strong>，它是一个独立的包:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="0c75" class="ln kc hu lj b fv lo lp l lq lr">npm i webpack-cli --save-dev</span></pre><p id="d76a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在打开<a class="ae ka" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank"> package.json </a>并添加一个构建脚本:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="63d5" class="ln kc hu lj b fv lo lp l lq lr">"scripts": { <br/>   "build": "webpack" <br/>}</span></pre><p id="6570" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关闭文件并保存。</p><p id="6fbb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">尝试运行:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="3ad6" class="ln kc hu lj b fv lo lp l lq lr">npm run build</span></pre><p id="2dbc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">看看会发生什么:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="6e15" class="ln kc hu lj b fv lo lp l lq lr">ERROR in Entry module not found: Error: Can't resolve './src' in '~/webpack-4-quickstart'</span></pre><p id="4d27" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">webpack 4正在寻找<strong class="je hv">中的入口点。/src </strong>！如果你不知道这是什么意思，去看看我之前写的关于从吞咽到网络包转换的文章。</p><p id="fc3a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">简而言之:<strong class="je hv">入口点</strong>是webpack寻找的文件，用来开始构建您的<a class="ae ka" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>包。</p><p id="a865" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在webpack的早期版本中，入口点必须在名为webpack.config.js的配置文件中定义。</p><p id="8126" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是从<strong class="je hv"> webpack 4开始，不需要定义入口点</strong>:它需要<strong class="je hv">。/src/index.js </strong>为默认！</p><p id="41d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">测试新功能很容易。创建<code class="eh ls lt lu lj b">./src/index.js</code>:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="4da3" class="ln kc hu lj b fv lo lp l lq lr">console.log(`I'm a silly antry point`);</span></pre><p id="08fb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">并再次运行构建:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="a1ba" class="ln kc hu lj b fv lo lp l lq lr">npm run build</span></pre><p id="8ba6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您将在<code class="eh ls lt lu lj b">~/webpack-4-quickstart/dist/main.js</code>获得捆绑包。</p><p id="d396" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">什么？等一下。没有必要定义输出文件？没错。</p><p id="6ae6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<strong class="je hv"> webpack 4中，既不需要定义入口点，也不需要定义输出文件</strong>。</p><p id="5c66" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我知道对很多人来说这并不令人兴奋。Webpack的主要优势是代码拆分。但是相信我，拥有一个零配置<a class="ae ka" href="https://hackernoon.com/tagged/tool" rel="noopener ugc nofollow" target="_blank">工具</a>可以加快速度。</p><p id="4d7f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以这里是第一个消息:<strong class="je hv"> webpack 4不需要配置文件</strong>。</p><p id="f19b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它会在<strong class="je hv">看起来。/src/index.js </strong>作为默认入口点。而且，它会把<strong class="je hv">里的捆绑吐出来。/dist/main.js </strong>。</p><p id="d75a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在下一节中，我们将看到webpack 4的另一个好特性:<strong class="je hv">生产和开发模式</strong>。</p><h1 id="97a2" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">webpack 4:生产和开发模式</h1><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lv"><img src="../Images/b2680a40e09322419d63c95fa59ee855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ihvQSUEkg-5hruIymfVGbw.png"/></div></div></figure><p id="dd30" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">拥有两个配置文件是webpack中的常见模式。</p><p id="3011" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">典型项目可能包括:</p><ul class=""><li id="496c" class="lw lx hu je b jf jg jj jk jn ly jr lz jv ma jz mb mc md me dt translated">用于开发的<strong class="je hv">配置文件</strong>，用于定义webpack开发服务器和其他东西</li><li id="b336" class="lw lx hu je b jf mf jj mg jn mh jr mi jv mj jz mb mc md me dt translated">用于生产的<strong class="je hv">配置文件，用于定义<strong class="je hv"> UglifyJSPlugin </strong>、sourcemaps等</strong></li></ul><p id="170f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然更大的项目可能仍然需要2个文件，但在webpack 4中，您不需要一行配置就可以完成。</p><p id="abd3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为什么</p><p id="a49b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">webpack 4引入了<strong class="je hv">生产</strong>和<strong class="je hv">开发</strong>模式。</p><p id="39cb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">事实上，如果你注意一下<code class="eh ls lt lu lj b">npm run build</code>的输出，你会看到一个很好的警告:</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mk"><img src="../Images/c90d72c20702f8c07e70e4cb8ea3a792.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kb3J8gWzX3Bxev5su0-0rA.png"/></div></div></figure><p id="eaee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ml">尚未设置“模式”选项。将“模式”选项设置为“开发”或“生产”以启用此环境的默认值。</em></p><p id="4a53" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那是什么意思？让我们看看。</p><p id="e441" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">打开<a class="ae ka" href="https://docs.npmjs.com/files/package.json" rel="noopener ugc nofollow" target="_blank"> package.json </a>并如下填充脚本部分:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="a942" class="ln kc hu lj b fv lo lp l lq lr">"scripts": {<br/>    "dev": "webpack --mode development",<br/>    "build": "webpack --mode production"<br/>  }</span></pre><p id="4e29" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在试着跑:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="2edf" class="ln kc hu lj b fv lo lp l lq lr">npm run dev</span></pre><p id="fa00" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">且看一看<strong class="je hv">。/dist/main.js </strong>。你看到了什么？是的，我知道，一个无聊的包裹…没有缩小！</p><p id="64fc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在试着跑:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="ca59" class="ln kc hu lj b fv lo lp l lq lr">npm run build</span></pre><p id="4881" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">且看一看<strong class="je hv">。/dist/main.js </strong>。你现在看到了什么？一个<strong class="je hv">缩小的捆绑</strong>！</p><p id="f46e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">是啊！</p><p id="c2e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">生产模式</strong>支持开箱即用的各种优化。包括缩小，范围提升，摇树等等。</p><p id="a497" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一方面，开发模式针对速度进行了优化，只不过提供了一个未缩小的包。</p><p id="8ce3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那么下面是第二个消息:webpack 4引入<strong class="je hv">生产</strong>和<strong class="je hv">开发</strong>模式。</p><p id="049e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在webpack 4中，您不需要任何配置就可以完成！只需定义<code class="eh ls lt lu lj b">--mode</code>标志，您就可以免费获得一切！</p><p id="a6ff" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">敬请期待！更多即将推出…</p><p id="7598" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是对webpack 4的生动介绍。敬请关注 <a class="ae ka" href="https://www.valentinog.com/blog/webpack-4-tutorial/" rel="noopener ugc nofollow" target="_blank"> <em class="ml">我的博客</em> </a> <em class="ml">了解更多！</em></p><h1 id="5905" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">webpack 4:资源</h1><p id="f564" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">教程的Github repo = &gt;<a class="ae ka" href="https://github.com/valentinogagliardi/webpack-4-quickstart" rel="noopener ugc nofollow" target="_blank">web pack-4-quick start</a></p><p id="803a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我知道已经有一个很棒的webpack列表，但这是我的:一个关于webpack 4的很棒的资源列表=&gt; <a class="ae ka" href="https://github.com/valentinogagliardi/awesome-webpack-4" rel="noopener ugc nofollow" target="_blank"> awesome-webpack-4 </a></p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="12a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ml">原载于2018年1月19日</em><a class="ae ka" href="https://www.valentinog.com/blog/webpack-4-tutorial/" rel="noopener ugc nofollow" target="_blank"><em class="ml">www.valentinog.com</em></a><em class="ml">。</em></p><figure class="le lf lg lh fq iv"><div class="bz el l di"><div class="mt mu l"/></div></figure></div></div>    
</body>
</html>