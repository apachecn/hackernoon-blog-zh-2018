<html>
<head>
<title>What I Learned from Cloning the Uber App</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我从克隆优步应用中学到了什么</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/what-ive-learned-from-cloning-the-uber-app-b0a7c743c1c1?source=collection_archive---------4-----------------------#2018-01-21">https://medium.com/hackernoon/what-ive-learned-from-cloning-the-uber-app-b0a7c743c1c1?source=collection_archive---------4-----------------------#2018-01-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3e56" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">去年，我发起了代号为“一个学院”的活动，并询问我们的社区，作为调查的一部分，他们想学些什么。绝大多数人的反应是<a class="ae jp" href="https://codenameone.teachable.com/p/build-real-world-full-stack-mobile-apps-in-java" rel="noopener ugc nofollow" target="_blank">如何建立一个像优步</a>一样的应用。起初我想创造一些优步风格的东西，但我最终决定建立一些看起来非常接近原生应用程序的东西。在某些方面几乎是克隆。我的动机是:</p><ul class=""><li id="8c70" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">我希望设计看起来专业，顶级供应商的设计不会出错</li><li id="61f1" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">人们可以通过理解优步做出的决定学到很多东西——我知道我做到了</li><li id="8d92" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">如果我建造了一些不同的东西，我可能会给自己一些现实世界中不存在的“折扣”</li></ul><p id="03a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我用“克隆”这个词来表示相似性，但不是指1:1的复制。优步是一个巨大而微妙的应用程序，我只有一周的时间来编写所有相关的适用代码…我的目标是做“硬东西”，掩盖一些更深层次的细节。</p><h1 id="dcd1" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">我学到了什么？</h1><p id="7881" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我并不期望学到很多东西，但有几件事真的让我很惊讶。其中一件事就是在iOS的优步本地应用中大量使用材料设计。例如:</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lh"><img src="../Images/ab68264a670925a1a6078c871a6489b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9zzUqQVL4x1m8EPEJ95CA.png"/></div></div><figcaption class="lt lu fg fe ff lv lw bd b be z ek">Uber’s native app on iOS</figcaption></figure><p id="bfb4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，这看起来几乎与该应用程序的Android版本相同。你有固定的Android用户界面元素，比如浮动的动作按钮、材质设计文本输入和箭头返回按钮……<br/>Android版本看起来确实几乎一模一样！</p><p id="78b3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从历史上看，我一直认为原生部件通过熟悉度来促进参与。事实上，我和陈过去常常为此争论不休。我推动了一个更“原生小部件感觉”的方法，而陈推动了一个适用于所有平台的单一用户界面。</p><p id="37a7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看来站在了陈一边。<strong class="it hv">优步有一个与iOS &amp; Android几乎相同的用户界面设计。</strong></p><p id="6675" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是有意义的，他们可以重用设计。在培训材料中提供一张屏幕截图来支持两种操作系统。只要应用程序看起来不错，一切都还在原位，这仍然是直观的。</p><p id="0379" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在Android 2.x和iOS 6.x时代，操作系统之间的差异太大了。在安卓系统的左上角有一个后退按钮是对上帝的亵渎...<br/>如今，即使您不使用跨平台工具，融合也具有财务意义。</p><h1 id="a834" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">过渡仍然是不同的</h1><p id="d3a1" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我不确定他们是不是故意这样做的，但Android和iOS原生版本的过渡彼此非常不同。安卓版虽然我没有看到“英雄转场”，但是使用了材质设计风格转场。iOS使用封面和幻灯片过渡。</p><p id="3354" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果这是故意的，它的意思是“感觉”胜过“看”。我猜这只是他们不够关心的事情，但很难知道。</p><h1 id="fc74" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">Bug可移植性</h1><p id="6477" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">这是Android上最初的原生优步登录屏幕:</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lx"><img src="../Images/51be4a1f0cfd15d778ad9708e7000f74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGRoO_-UNHay_UkTLVNqbQ.png"/></div></div><figcaption class="lt lu fg fe ff lv lw bd b be z ek">Android Login Screen</figcaption></figure><p id="726b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">iOS上的同一个屏幕看起来很相似，但有一个渲染错误:</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lh"><img src="../Images/4e6b229304116a95bcfd343077a87e8a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*W4p-W0wTNiS4DxOyQdMhNw.png"/></div></div><figcaption class="lt lu fg fe ff lv lw bd b be z ek">Rendering Bug on the native Uber login screen</figcaption></figure><p id="32a4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您没有看到它，请查看“输入您的手机号码”文本。</p><p id="dad2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我肯定优步有很多问答环节。我猜这是因为大多数国家没有3位数的拨号代码。Android版本(和我们的版本)很好地处理了这一点。我猜它被固定在Android上是因为它的全球吸引力。</p><p id="2896" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对Android版本的修复不会渗透到iOS版本中。</p><h1 id="e51d" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">一些功能在Android上更难</h1><p id="dc65" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">如果你运行优步的iOS版本，看看上面的登录屏幕，你会看到背景中的图案在旋转。这是一个很棒的特效，看起来很微妙，很愉悦。</p><p id="6ec0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是为什么我很惊讶他们没有为Android做… <br/>我怀疑他们缺乏工程师来实现这个微妙的功能。</p><p id="4139" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在Android上工作了一段时间后，他们选择避免这一点的原因就变得很明显了。Android在矢量图形方面有问题。当您尝试生成此路径并执行旋转效果时，会出现以下错误:</p><p id="c6a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">" OpenGLRenderer:路径太大，无法渲染到纹理中"</p><p id="35df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我发现的唯一解决方法是在我的例子中通过在图像表面上绘图来禁用硬件渲染。</p><p id="a330" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">糟糕的是，很难知道哪里出了问题。渲染路径不会抛出异常，只是不显示。所以我不能动态地退回到软件渲染，我不确定路径中有什么问题？</p><p id="e3f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">坐标越界？坐标数？</p><p id="eb73" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">查看负责该消息的Android代码也没有多大帮助。</p><p id="47f1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不管怎样<strong class="it hv">令人沮丧的是，在一个完全相同的用户界面中，iOS拥有安卓</strong>所缺乏的功能。</p><h1 id="6cf2" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">他们不会拦截安卓系统上的短信</h1><p id="6a48" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我最喜欢Android的一点是，作为一名开发人员，你可以获得低水平的控制。这是一把双刃剑，但在某些情况下，它胜过其他一切…</p><p id="2828" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一个很好的例子是短信拦截支持。当你有一个短信激活过程时，Android可以抓取收到的短信，而不需要输入。</p><p id="1ef8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">令人惊讶的是，原生优步应用程序没有做到这一点。<strong class="it hv">他们不使用原生Android短信激活。</strong></p><p id="163f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">读了一点之后，似乎优步这些年因为“太多的权限”受到了很多批评。我想他们只是关心打电话的许可…</p><p id="6f2b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我不确定这是否同样适用于API级别Android切换到权限提示)。不管怎样，我在我们的优步版本中添加了这个功能，它使得在Android上的注册过程更加流畅。</p><h1 id="f604" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">他们锁定了应用程序的肖像</h1><p id="7b43" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">这是我个人最讨厌的事。我喜欢能正确旋转到横向的应用程序，优步屏蔽了这一点。</p><p id="dbef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我理解他们为什么那样做。支持landscape将意味着更多的工作，因为一些表单，如我之前提到的登录表单，将需要对landscape进行彻底的修改。</p><p id="2cf5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它说的事情很有趣:与其花人力去做这些事情。优步更注重功能性，而不是支持横向。我尊重这一点。</p><p id="5c3a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为这一点和以上所有内容清楚地表明，优步相信功能胜于形式。他们减少功能膨胀，重点关注核心功能。</p><h1 id="ef3a" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">他们变化很大</h1><p id="b269" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我从未注意到优步的用户界面变化有多快，直到我开始复制它。当我开始时，历史按钮是在显示屏底部的圆圈，现在它们是搜索区域的下拉菜单。</p><p id="86f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">对于优步</strong>这样的应用来说，快速行动和试验设计决策的能力至关重要。</p><h1 id="a589" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">通过一些服务，您可以完成大部分工作</h1><p id="91bd" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">我没有构建任何像完整应用程序那样精细或细致的东西，但90%的人都是谷歌的人。</p><p id="5b3f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我使用了原生的Google Maps小部件和一些Google web服务(方向、地点、地理编码)。我还分别使用Twilio和Braintree进行短信/计费。有了所有这些，你可以在不到一周的时间内获得优步的大部分功能！</p><p id="1159" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">在现有工具的帮助下，构建一个类似优步的应用程序实际上并不困难</strong>。</p><p id="2ea0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">主要的问题是你能在跨平台工具中获得对像Google Maps这样的API的支持程度。</p><figure class="li lj lk ll fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff ly"><img src="../Images/c97ddff0e674dbc36bf0684be441145d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pPZB4mRwdelcFKefM-mpmQ.png"/></div></div><figcaption class="lt lu fg fe ff lv lw bd b be z ek">Uber on Android &amp; my Uber clone. Not identical but getting there…</figcaption></figure><p id="cbc5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我非常尊重优步的工程师们。这是一个极其复杂的应用程序，其细微差别令人惊叹。</p><p id="e4ce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为创新来自于创造新的东西，但不是完全新的。我们在上一代产品的基础上进行改进，打造“更好”的产品。我认为通过简化建立“像优步一样”的应用程序的过程。我们会看到应用程序远远超越优步。</p><h1 id="d31a" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated"><strong class="ak">TL；博士</strong></h1><p id="87bb" class="pw-post-body-paragraph ir is hu it b iu lc iw ix iy ld ja jb jc le je jf jg lf ji jj jk lg jm jn jo hn dt translated">以下是我学到的东西:</p><ul class=""><li id="ef8f" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">优步有一个在iOS和Android上几乎相同的用户界面设计</li><li id="b315" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">对Android版本的修复不会渗透到iOS版本中</li><li id="9f68" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">令人有点沮丧的是，在一个完全相同的用户界面中，iOS拥有Android所缺乏的功能</li><li id="5cfb" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">他们不使用原生Android短信激活</li><li id="ef62" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">优步相信功能重于形式</li><li id="f00e" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">对于像优步这样的应用程序来说，快速行动和试验设计决策的能力至关重要</li><li id="1875" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">在现有工具的帮助下，构建一个类似优步的应用其实并不难</li></ul><p id="fdbc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想了解这方面的更多信息，请查看我们的博客。</p></div></div>    
</body>
</html>