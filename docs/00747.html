<html>
<head>
<title>How to use Detectron — Facebook’s Free Platform for Object Detection</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用脸书的免费物体探测平台Detectron</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-use-detectron-facebooks-free-platform-for-object-detection-9d41e170bbcb?source=collection_archive---------7-----------------------#2018-01-24">https://medium.com/hackernoon/how-to-use-detectron-facebooks-free-platform-for-object-detection-9d41e170bbcb?source=collection_archive---------7-----------------------#2018-01-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/51341d96beae7c8db959e45a160d0535.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WyTv5S6b8fmOG6aBrZyiHw.jpeg"/></div></div></figure><blockquote class="jc"><p id="028b" class="jd je hu bd jf jg jh ji jj jk jl jm ek translated">"我怎样才能在一个物体周围画出更详细的轮廓？"</p></blockquote><p id="b974" class="pw-post-body-paragraph jn jo hu jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj jm hn dt translated">这可能是在有人阅读了我的<a class="ae kk" href="https://medium.freecodecamp.org/tracking-the-millenium-falcon-with-tensorflow-c8c86419225e" rel="noopener ugc nofollow" target="_blank">上一篇关于如何使用TensorFlow进行物体检测的文章</a>后，我最常被问到的问题之一。有好消息，我终于有答案了。</p><p id="3b42" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">脸书人工智能研究(FAIR)刚刚开源了他们的<a class="ae kk" href="https://github.com/facebookresearch/Detectron" rel="noopener ugc nofollow" target="_blank"> Detectron </a>平台。这意味着FAIR用于对象检测研究的软件现在可供我们所有的开发者使用。这个新平台可以做的许多事情之一是对象屏蔽。对象遮罩将对象检测向前推进了一步，它不仅可以在图像周围绘制边界框，还可以绘制复杂的多边形。</p><p id="8b6f" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">Detectron使对象遮罩开箱即用变得极其简单。方法如下:</p><h1 id="deee" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">安装咖啡2</h1><p id="9298" class="pw-post-body-paragraph jn jo hu jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj jm hn dt translated">第一步是安装<a class="ae kk" href="https://caffe2.ai/" rel="noopener ugc nofollow" target="_blank"> Caffe2 </a>:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="d2fb" class="mc kr hu ly b fv md me l mf mg">git clone --recursive https://github.com/caffe2/caffe2.git &amp;&amp; cd caffe2<br/>make &amp;&amp; cd build &amp;&amp; sudo make install<br/>python -c 'from caffe2.python import core' 2&gt;/dev/null &amp;&amp; echo "Success" || echo "Failure"</span></pre><blockquote class="mh mi mj"><p id="57df" class="jn jo mk jp b jq kl js jt ju km jw jx ml kn ka kb mm ko ke kf mn kp ki kj jm hn dt translated"><strong class="jp hv">注意:</strong>目前，你<strong class="jp hv">必须</strong>有带CUDA的NVIDIA GPU才能使用Detectron。</p></blockquote><h1 id="0544" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">安装COCO API</h1><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="17ae" class="mc kr hu ly b fv md me l mf mg">git clone <a class="ae kk" href="https://github.com/cocodataset/cocoapi.git" rel="noopener ugc nofollow" target="_blank">https://github.com/cocodataset/cocoapi.git</a><br/>cd cocoapi/PythonAPI<br/>make install</span></pre><h1 id="8d63" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">克隆回购</h1><p id="a3dc" class="pw-post-body-paragraph jn jo hu jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj jm hn dt translated">在我们成功安装Caffe2之后，我们需要做的就是克隆<a class="ae kk" href="https://github.com/facebookresearch/Detectron" rel="noopener ugc nofollow" target="_blank"> Detectron repo </a>:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="1c50" class="mc kr hu ly b fv md me l mf mg">git clone <a class="ae kk" href="https://github.com/facebookresearch/Detectron.git" rel="noopener ugc nofollow" target="_blank">https://github.com/facebookresearch/Detectron.git</a> &amp;&amp; cd Detectron</span></pre><p id="940d" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">安装要求:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="46b7" class="mc kr hu ly b fv md me l mf mg">pip install \<br/>numpy \<br/>pyyaml \<br/>matplotlib \<br/>opencv-python&gt;=3.0 \<br/>setuptools \<br/>Cython \<br/>mock \<br/>scipy</span></pre><p id="efd9" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">并构建python模块:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="54c8" class="mc kr hu ly b fv md me l mf mg">cd lib &amp;&amp; make &amp;&amp; cd ..</span></pre><h1 id="f86b" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">做出推论</h1><p id="6355" class="pw-post-body-paragraph jn jo hu jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj jm hn dt translated">现在，我们要做的就是运行以下命令，在演示映像上运行对象掩蔽:</p><pre class="lt lu lv lw fq lx ly lz ma aw mb dt"><span id="7bfe" class="mc kr hu ly b fv md me l mf mg">python tools/infer_simple.py \<br/>--cfg configs/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml \<br/>--output-dir demo/output \<br/>--image-ext jpg \<br/>--wts \<br/>https://s3-us-west-2.amazonaws.com/detectron/35861858/12_2017_baselines/e2e_mask_rcnn_R-101-FPN_2x.yaml.02_32_51.SgT4y1cO/output/train/coco_2014_train:coco_2014_valminusminival/generalized_rcnn/model_final.pkl \<br/>demo</span></pre><p id="58dd" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">您将能够在<code class="eh mo mp mq ly b">Detectron/demo/output</code>目录中找到pdf格式的输出。</p><p id="bba9" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">这里是我自己的一些测试例子，其中大部分工作得很好。</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mr"><img src="../Images/caa0ba0b9fa6771582b4225b3ceae7dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Iz0oY3GiXM2FE3gbMrezjA.png"/></div></div></figure><p id="34fb" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">但是一如既往的，<a class="ae kk" href="https://hackernoon.com/capsule-networks-are-shaking-up-ai-heres-how-to-use-them-c233a0971952" rel="noopener ugc nofollow" target="_blank">卡戴珊们继续难倒AI </a>，因为她们是真实的吗？</p><figure class="lt lu lv lw fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ms"><img src="../Images/63d4cec34897f37aeb448f5a97c15705.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sv-Gbf-X9mJbh2FheTCXPQ.png"/></div></div></figure><blockquote class="mh mi mj"><p id="0b4f" class="jn jo mk jp b jq kl js jt ju km jw jx ml kn ka kb mm ko ke kf mn kp ki kj jm hn dt translated"><strong class="jp hv">注意:</strong>如果您想测试您自己的图像，只需将JPG文件添加到<code class="eh mo mp mq ly b">Detectron/demo</code>目录中。为了获得最佳效果，请将图像保持在600–800像素左右。</p></blockquote><h1 id="2cfd" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">最后的想法</h1><p id="c7f9" class="pw-post-body-paragraph jn jo hu jp b jq lo js jt ju lp jw jx jy lq ka kb kc lr ke kf kg ls ki kj jm hn dt translated">这个模型在屏蔽非常一般的对象方面做得很好，但是我们中的很多人需要一些更具体的东西。为此，请关注我的下一篇教程，学习如何构建您自己的自定义对象遮罩模型！</p></div><div class="ab cl mt mu hc mv" role="separator"><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my mz"/><span class="mw bw bk mx my"/></div><div class="hn ho hp hq hr"><p id="b4c4" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">感谢阅读！如果您有任何问题，请随时联系bourdakos1@gmail.com，通过<a class="ae kk" href="https://www.linkedin.com/in/nicholasbourdakos" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>与我联系，或者通过<a class="ae kk" rel="noopener" href="/@bourdakos1"> Medium </a>和<a class="ae kk" href="https://twitter.com/bourdakos1" rel="noopener ugc nofollow" target="_blank"> Twitter </a>关注我。</p><p id="f27b" class="pw-post-body-paragraph jn jo hu jp b jq kl js jt ju km jw jx jy kn ka kb kc ko ke kf kg kp ki kj jm hn dt translated">如果你觉得这篇文章很有帮助，给它一些掌声会很有意义👏并分享出来帮别人找！并欢迎在下方发表评论。</p></div></div>    
</body>
</html>