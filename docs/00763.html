<html>
<head>
<title>Hosting Ark Node(s) in Microsoft Azure</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Microsoft Azure中托管方舟节点</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/hosting-ark-node-s-in-microsoft-azure-71ae880f0b12?source=collection_archive---------23-----------------------#2018-01-24">https://medium.com/hackernoon/hosting-ark-node-s-in-microsoft-azure-71ae880f0b12?source=collection_archive---------23-----------------------#2018-01-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="3e77" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">带模板部署演练</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff jj"><img src="../Images/2be79e14d108af7bd0b65006226902da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1076/format:webp/1*O349pg52mTYck9UYseBWRA.png"/></div></figure><p id="0210" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">有很多关于如何创建<a class="ae kn" href="https://blog.ark.io/how-to-setup-a-node-for-ark-and-a-basic-cheat-sheet-4f82910719da" rel="noopener ugc nofollow" target="_blank">方舟节点</a>、<a class="ae kn" href="https://blog.ark.io/how-to-secure-your-ark-node-541254028616" rel="noopener ugc nofollow" target="_blank">保护您的节点</a>、以及<a class="ae kn" rel="noopener" href="/@jarunik/installing-and-managing-an-ark-node-577a9074b9bb">方舟统计</a>汇编的指南。</p><p id="4b6c" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">专业人士在上面的链接中已经详细描述了这些任务，与其一个接一个地进行，我更想把重点放在服务器所在的<em class="ko"/>。</p><p id="4667" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">大多数指南都让您使用便宜的DigitalOcean droplet，或其他一些5美元的服务器。虽然经济实惠，但在这一点上肯定不符合方舟的最低要求。通过改用Azure，您可以使虚拟机高度可用、可扩展，并且可以通过门户网站上的模板轻松复制。通过使用该平台，还可以实现PowerShell自动化功能。</p><p id="7165" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">我们将执行以下操作:<br/> </strong>创建Azure门户/资源管理器登录<br/>部署我们的第一台虚拟机<br/> —创建新的“资源组”<br/> —配置Azure防火墙(“网络安全组”)<br/>使用第一台虚拟机创建模板<br/>通过该模板部署另一台方舟节点虚拟机，并与第一台虚拟机加入“可用性集”</p><p id="b1ce" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">运行Ark节点的最低要求，根据Ark.io文档:<br/> </strong>操作系统:Ubuntu 16.04 <br/> CPU: 1核(越多越好)<br/> RAM: 4GB(越多越好)<br/>磁盘:20GB —推荐SSD</p><p id="8c86" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">一些接近这些要求的Azure尺寸快速细分可在以下网站找到:https://azure.microsoft.com/en-us/pricing/calculator/<a class="ae kn" href="https://azure.microsoft.com/en-us/pricing/calculator/" rel="noopener ugc nofollow" target="_blank"/></p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="d29f" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">让我们从基础开始。</strong>我们将登录@<a class="ae kn" href="HTTPS://portal.azure.com" rel="noopener ugc nofollow" target="_blank">HTTPS://portal.azure.com</a>——如果需要创建帐户，请使用信用卡进行试用。如果您有一个现有的MSDN账户，还有每月150美元的开发者计划福利。</p><p id="81e0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">登录Azure资源管理器仪表板后，单击“+新建”，它将打开一个选项“刀片”。<br/> —我们将使用日益流行的<strong class="jt hv"> Ubuntu Server 16.04 LTS虚拟机</strong>(长期服务分支虚拟机)</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff kw"><img src="../Images/f1b867426a9095f30915e620fd25675b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GQLMqGkSiRWCoqNCN8uZiQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">+ New -&gt; Search for Ubuntu 16.04 OR click on the quickstart tile</figcaption></figure><p id="8aa4" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">一旦您选择/找到Ubuntu 16.04 LTS虚拟机，点击它，它将打开创建步骤。</p><p id="1156" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">如果您对SSH认证有信心，请放心使用该虚拟机。如果你不熟悉，没有很好的理解，你可以在这里阅读:<a class="ae kn" href="https://help.ubuntu.com/community/SSH/OpenSSH/Keys" rel="noopener ugc nofollow" target="_blank">https://help.ubuntu.com/community/SSH/OpenSSH/Keys</a></p><div class="lf lg fm fo lh li"><a href="https://help.ubuntu.com/community/SSH/OpenSSH/Keys" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab ej"><div class="lk ab ll cl cj lm"><h2 class="bd hv fv z el ln eo ep lo er et ht dt translated">SSH/OpenSSH/Keys -社区帮助Wiki</h2><div class="lp l"><h3 class="bd b fv z el ln eo ep lo er et ek translated">对于大多数人来说，公钥认证是比密码好得多的解决方案。事实上，如果你不介意离开…</h3></div><div class="lq l"><p class="bd b gc z el ln eo ep lo er et ek translated">help.ubuntu.com</p></div></div></div></a></div><p id="7aa3" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">为了便于跟踪，我们将坚持使用基于密码的认证。我们还将创建一个新的“资源组”，这是一种Azure资源容器。所有彼此相关的项目，在这个实例中是Ark，都将被添加到这个资源组中。将来，我们可以很容易地找到并管理我们正在制作的所有这些相互关联的项目。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lr"><img src="../Images/aefebb3a8d9dd8ad362f58554d4ba76f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bfj8-YEZ1BH9DWWYB9JxNQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">General Configuration Settings to Follow</figcaption></figure><p id="24d4" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">这里要注意的重要部分</strong>是<strong class="jt hv">磁盘类型</strong>(默认为SSD)，非root用户名，以及<strong class="jt hv">资源组</strong>。在这里，我们为所有Ark节点创建了一个全新的<strong class="jt hv">资源组，命名为ARK_RG1 </strong>。列出的位置是虚拟机、存储和虚拟网络的存放位置，可以从一个分组进行管理。</p><p id="753a" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">点击下一步，你将被要求选择一个机器的大小(基本上是你想花费多少与资源分配)。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="3adc" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">您有几个选项来满足系统要求，这取决于您希望如何进行。一个好的经验法则是从低开始，根据需要增加资源。虽然“纵向扩展”时确实需要重新启动，但从较小的规模开始无疑更具成本效益。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/86b5e01e987e50a0703c36699a345824.png" data-original-src="https://miro.medium.com/v2/resize:fit:1074/format:webp/1*ds5iYCNIqT0xts_PDfgbCQ.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">All pricing and availability for this guide is based on US South Central region for Azure (May vary between datacenters)</figcaption></figure><p id="9f8b" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我将为该指南推出“B1MS标准”大小的虚拟机。如果我加入节点网络，并且我的节点开始落后，我可以通过快速点击几下并重新启动，轻松地“扩展”到其他虚拟机性能级别。</p><p id="6359" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">单击<strong class="jt hv">选择</strong>继续您的虚拟机大小选择。接下来是可选功能配置部分。<strong class="jt hv">我将逐一介绍每一部分，因为它们都有自己的“设置之刃”</strong>:</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="bbdb" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">高可用性:</strong>点击+“新建”<br/> — <strong class="jt hv">名称:</strong>易于识别的东西<br/> — <strong class="jt hv">故障域</strong>(同一故障域中的虚拟机共享一个公共电源和物理网络交换机。):最少2个<br/> — <strong class="jt hv">更新域:</strong>(在计划维护期间，同一更新域中的虚拟机将一起重启。Azure从不一次重启多个更新域。):横向扩展建议5</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lt"><img src="../Images/8a54cae26273b736fcb8d6c68655094a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5lMvV2q0I71vXbXRwMGpRg.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Picture of Settings for High Availability</figcaption></figure></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="ed64" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">存储—被管理的磁盘？是的</strong></p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="c50a" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">网络:<br/> —虚拟网络:</strong> +“新建”<br/> — —默认即可，除非您在此子网中运行超过256台服务器，或者有一个特殊/不同的名称。</p><p id="5e79" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv"> — </strong> <strong class="jt hv">子网:</strong>默认就可以了，除非你在这个子网中运行超过256台服务器或者有一个特殊/不同的名字。</p><p id="97f1" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv"> —公共IP地址:</strong> +“新建”<br/>———默认名称即可。分配=动态(如果需要，可以在以后更改)。意味着它没有静态IP地址。</p><p id="427a" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv"> —网络安全组(防火墙):</strong>这是我们为您的资源设置Azure防火墙的地方。这将是位于虚拟机前面的防火墙。<br/> — —默认:默认允许ssh设置为端口22。如果您希望将SSH端口更改为自定义端口，这可以随时更改。(到达后请参阅Ark安装端口建议)<br/> →单击+添加入站规则<br/> →单击“高级”并输入设置:<br/>源:任何<em class="ko">(如果您想根据入站的public-ip地址限制访问，可以更改此设置)</em> <br/>源端口范围:* <br/>目的地:任何(也可以更改)<br/>目的地端口范围:4001–4002(Ark端口)<br/>协议:TCP <br/>操作:允许【T23</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="2e58" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">扩展:</strong>无</p><p id="0683" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">自动关机:</strong>关</p><p id="a27e" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">监控:<br/> — </strong>引导诊断:关闭(除非您开始遇到引导问题，否则可以稍后打开)<br/>—客户操作系统诊断:关闭<em class="ko">(如果需要，可以稍后打开)</em></p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="ba84" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">点击“下一步”进入总结页面。</strong></p><p id="4306" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">下一页验证您到目前为止所做的一切都可以安全部署。它还列出了您已经配置的所有内容，最重要的是，它允许您下载模板和参数，以便在将来更快地进行部署。</p><p id="3e43" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">点击<strong class="jt hv">“下载模板和参数”</strong>，得到模板文件的ZIP文件。您可以选择通过单击“添加到库”将此新模板添加到您的“模板库”</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lu"><img src="../Images/c8c661c1149eab62b51571c33c981130.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HrFOLnNbu2cs3xD6XjZkyQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Summary Screen and Template download options</figcaption></figure><p id="d98d" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">通过单击“添加到库”，您将需要命名模板，并留下部署的详细描述。</p><p id="0d94" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">保存完模板后，<strong class="jt hv">从我们原始部署的“摘要”部分单击“创建”</strong>。这个<strong class="jt hv">将在Azure中创建第一个虚拟机</strong>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lv"><img src="../Images/fa40559b824d431dfc21776f98a07980.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RxupmoGxH1yxzzJeuHveIg.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Create Button</figcaption></figure><p id="30c5" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在您的服务器完全部署之前，大约需要5分钟。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="33cb" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">要查看您的虚拟机/资源组，请导航到资源组&gt; ARK_RG1 <br/> —在这里，您将能够查看所有存储组、虚拟机、防火墙(NSG)设置和可用性集。</p><p id="a8ff" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">单击您的虚拟机，在资源组ARK_RG1中我的实例“ArkNode1”</p><p id="13a3" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我们希望为此虚拟机设置一个DNS地址，以便您可以使用动态DNS名称而不是静态IP进行连接。单击虚拟机概述中“DNS名称”下的“配置”。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lw"><img src="../Images/881aebe2070499ac82fcca9fed42d6a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T6FNNDTdYkd6DtVG8FLcRQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">DNS Menu in the VM ‘Blade’</figcaption></figure><p id="862e" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">请随意设置DNS名称。为了便于记忆，我将其命名为与VM本身相同的名称。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/4e6dcb4d0be58345ace38472b3a75ea2.png" data-original-src="https://miro.medium.com/v2/resize:fit:662/format:webp/1*a6j-yQ3vUVpQWhRIVsijDA.png"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">The DNS Name will be whatever you choose + The Azure Cloudapp domain for your datacenter location</figcaption></figure><p id="9a26" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">这意味着，当使用PuTTY连接到这个虚拟机时，您可以使用DNS名称:arknode1.southcentralus.cloudapp.azure.com</p><p id="dc55" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">这是由Azure的后端动态更新的DNS，所以如果你的VM动态改变公共IP，你也不需要自己设置。</p><p id="46d6" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">这意味着，当使用PuTTY连接到这个虚拟机时，您可以使用DNS名称:arknode1.southcentralus.cloudapp.azure.com</p><p id="b8bd" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">或者，</strong>您可以选择“静态”IP，但是静态IP和动态IP每月都有费用。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="0cd1" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在我们开始任何种类的Ark节点配置之前，不幸的是，目前还不容易实现自动化，让我们执行第二个VM到这个可用性组的模板部署。通过学习这项技能，您可以快速部署任意数量的额外虚拟机，而无需调整第一次部署时的所有细节。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="c1d1" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在Azure搜索面板中，键入“模板”并选择“模板(预览)”</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff ly"><img src="../Images/c7bc28591160fde234251a08790bd13b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JBpEgn2UiYTepyTXGpqozA.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">Searching in Azure for Templates (Preview)</figcaption></figure><p id="2d46" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">选择你之前创建并保存到你的模板库中的模板，我将我的命名为“ark_node_template”，它将打开它。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff lz"><img src="../Images/57b52cbeb33f23a218deb58370d1fb4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vbt8JRSo23xKKYaDGnP-VQ.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">All settings preserved, nice!</figcaption></figure><p id="0ad2" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">点击【部署】</strong>弹出新模板部署需要设置的参数。它们最初都是空白的。</p><p id="5345" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">要用旧虚拟机的数据填充这些值，并进行必要的细微调整，请执行以下操作:</p><p id="f134" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">点击“编辑参数”,调出编辑背景数据的选项。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff ma"><img src="../Images/b9a64a5df655ebec473353999fde677a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qb2GM008o6bp38syIQsF9w.png"/></div></div></figure><p id="80fb" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">使用之前下载的ZIP文件，您需要将该文件解压缩到您计算机上的某个位置，单击“编辑参数”页面上的“加载文件”。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff mb"><img src="../Images/57b2d96045b7c032b53f1b558dcb6d32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mHtJQ1gT9RmDAO2aTE4wAw.png"/></div></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">“Load file” in top-left opens up the file explorer</figcaption></figure><p id="23d1" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在上传参数JSON文件之后，单击“Save ”,它将带您回到现在已经完全填充的部署信息集。</p><p id="ffd2" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">有几个字段需要调整</strong>，请务必根据需要填写/调整。对我来说，以下需要调整:</p><p id="c2be" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">资源组—设置为ARK_RG1 <br/>虚拟机名称— ArkNode2(新虚拟机名称)<br/>网络接口名称— arknode1762(虚拟机的新网络接口)<br/>管理员密码— &lt;相应设置&gt;<br/>public IP address Name—ARK node 2-IP(该虚拟机的新/独立公共IP)<br/>—side注意:您还需要进入虚拟机并为此设置DNS地址。</p><p id="67c0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">参数列表中的所有其他项目保持相同是安全的，因为它们是可重用的和重叠的。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="fe ff mc"><img src="../Images/5fc4afa2580535d78929faadfdec8baa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4aGWth_O71sHiKbXSj1l7w.png"/></div></div></figure><p id="efa0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">单击“同意”和“购买”开始部署这个新虚拟机。</p><p id="9234" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在通常的5分钟左右之后，它应该会成功结束。继续从资源组中的设备页面仔细检查虚拟机设置。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="c9ba" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">现在，您可以使用在配置步骤中分配/创建的登录名和密码，通过PuTTY自由连接到您的两个虚拟机。</p><p id="c055" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">还可以部署尽可能多的虚拟机，而不仅仅是Ark相关的应用程序。对于Azure中的任何VM场来说，这都是一个相当普通的设置。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="2038" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">通过将两个虚拟机放入一个具有2个容错域的高可用性集中，我们可以保证Azure在其数据中心发生任何形式的停机时，至少有一台服务器99.99%的正常运行时间。</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="699d" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我将通过Ansible为Ark的设置和配置更新指南。这样，可以针对多个服务器同时调用命令，这样我们就可以配置Ark节点，而不用一直坐在控制台前。(当那篇文章完成后，我会更新这篇文章)</p></div><div class="ab cl kp kq hc kr" role="separator"><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku kv"/><span class="ks bw bk kt ku"/></div><div class="hn ho hp hq hr"><p id="d24d" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">好资源/参考:</strong></p><p id="4302" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">Ark.io节点的设置:<a class="ae kn" href="https://blog.ark.io/how-to-setup-a-node-for-ark-and-a-basic-cheat-sheet-4f82910719da" rel="noopener ugc nofollow" target="_blank">https://blog . ark . io/how-to-setup-a-node-for-ark-a-basic-cheat-sheet-4f 82910719 da</a></p><p id="5409" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">保护你的节点:<a class="ae kn" href="https://blog.ark.io/how-to-secure-your-ark-node-541254028616" rel="noopener ugc nofollow" target="_blank">https://blog . ark . io/how-to-secure-your-ark-node-541254028616</a></p><p id="fbb0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">Jarunik快速配置方舟节点:<a class="ae kn" rel="noopener" href="/@jarunik/installing-and-managing-an-ark-node-577a9074b9bb">https://medium . com/@ Jarunik/installing-and-managing-an-Ark-Node-577 a 9074 b9bb</a></p></div></div>    
</body>
</html>