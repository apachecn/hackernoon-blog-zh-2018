<html>
<head>
<title>Create Cross-platform Voice Applications With Jovo</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Jovo创建跨平台的语音应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/create-cross-platform-voice-applications-with-jovo-9b93f2fcd461?source=collection_archive---------35-----------------------#2018-01-25">https://medium.com/hackernoon/create-cross-platform-voice-applications-with-jovo-9b93f2fcd461?source=collection_archive---------35-----------------------#2018-01-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0987" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://www.jovo.tech/" rel="noopener ugc nofollow" target="_blank"> Jovo </a>旨在创建一个开发框架，让你一次写完代码<em class="jq">，交付给<em class="jq">多个</em>语音平台(此时是Alexa和Google Assistant)。同样，这就像语音生态系统正在走与应用程序开发相同的道路，试图找到维护多个代码库的方法。每个语音平台都有一些不可避免的步骤，但是您可以用JavaScript编写应用程序的核心逻辑。</em></p><p id="78b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我创建了一个简单的应用程序，告诉用户我的站点上的最新文章是什么。</p><h1 id="cd4f" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">安装Jovo</h1><p id="ff08" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">Jovo是一个NPM模块，所以请安装:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="9428" class="ld js hu kz b fv le lf l lg lh">npm install -g jovo-cli</span></pre><p id="684e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此命令安装一个命令行实用程序，帮助您创建和管理项目，包括一个有用的项目创建命令:</p><p id="07e3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，安装Jovo项目需要的其他依赖项:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="9dfd" class="ld js hu kz b fv le lf l lg lh">cd &lt;project_name&gt;<br/>npm install</span></pre><p id="39b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以用<code class="eh li lj lk kz b">node index.js</code>或<code class="eh li lj lk kz b">jovo run</code>启动应用程序，但是，由于所有的语音平台都是通过网络连接的应用程序工作的，你需要通过<a class="ae jp" href="https://ngrok.com/" rel="noopener ugc nofollow" target="_blank"> ngrok </a>等工具将你的应用程序暴露在网络上，并获取它生成的URL的安全版本。</p><h1 id="53fe" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">把Jovo和Alexa联系起来</h1><p id="6112" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">要让您的应用程序代码与Alexa一起工作，您需要采取两个初始步骤(但根据其复杂性还会有其他步骤)。</p><h1 id="b20e" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">1.添加意图</h1><p id="02cb" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">意图告诉Alexa如何处理特定的默认和自定义动作，以及用户可以用来触发它们的自定义短语。如果您没有为默认操作指定任何内容，它将使用平台默认值。将以下内容添加到您技能的<a class="ae jp" href="https://developer.amazon.com/alexacreator" rel="noopener ugc nofollow" target="_blank"> Alexa creator </a>的意图部分:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="a413" class="ld js hu kz b fv le lf l lg lh">{<br/>  "languageModel": {<br/>    "intents": [<br/>      {<br/>        "name": "AMAZON.CancelIntent",<br/>        "samples": []<br/>      },<br/>      {<br/>        "name": "AMAZON.HelpIntent",<br/>        "samples": []<br/>      },<br/>      {<br/>        "name": "AMAZON.PauseIntent",<br/>        "samples": []<br/>      },<br/>      {<br/>        "name": "AMAZON.ResumeIntent",<br/>        "samples": []<br/>      },<br/>      {<br/>        "name": "AMAZON.StopIntent",<br/>        "samples": []<br/>      },<br/>      {<br/>        "name": "LatestPostIntent",<br/>        "samples": [<br/>          "latest post",<br/>          "latest news",<br/>          "latest article",<br/>          "latest blog"<br/>        ],<br/>        "slots": []<br/>      }<br/>    ],<br/>    "invocationName": "&lt;your_invocation&gt;"<br/>  }<br/>}</span></pre><p id="4c78" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如你在上面看到的，我只是改变了自定义的<code class="eh li lj lk kz b">LatestPostIntent</code>，并添加了一些可以触发该意图的替代“话语”。这种意图与应用程序代码直接相关，但我稍后将回到这一点。</p><h1 id="61d4" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">2.添加Webhook URL</h1><p id="485f" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">在<strong class="it hv"> <em class="jq">配置</em> </strong>选项卡中，将<strong class="it hv"> <em class="jq">服务端点类型</em> </strong>更改为<strong class="it hv"><em class="jq">【HTTPS】</em></strong>并添加您上面公开的URL，附加<code class="eh li lj lk kz b">/webhook</code>:</p><figure class="ku kv kw kx fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff ll"><img src="../Images/af8d91756f7e789b6c28752b45397fe5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*waBKVn0Sm3a2sdYI.png"/></div></div></figure><h1 id="b0ad" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">谷歌说明</h1><h1 id="d166" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">1.添加意图</h1><p id="b086" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">设置Google Assistant更复杂，默认情况下提供的功能更少。为了提高速度，在本文中，我推荐您通过<strong class="it hv"> <em class="jq">设置</em> </strong> <em class="jq"> &gt; </em> <strong class="it hv"> <em class="jq">导出和导入</em> </strong>选项导入我创建的意图。你可以在下面看到<code class="eh li lj lk kz b">LatestPostIntent</code>的细节，包括触发短语:</p><figure class="ku kv kw kx fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lt"><img src="../Images/dff33bde39557f1831dff871ce0bebda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dYsI5whLoq7uUlHQ.jpg"/></div></div></figure><h1 id="077c" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">2.添加Webhook URL</h1><p id="0df8" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">在<strong class="it hv"> <em class="jq">履行</em> </strong>标签中，启用<strong class="it hv"> <em class="jq"> Webhook </em> </strong>并从上面添加您的公开网址，追加<code class="eh li lj lk kz b">/webhook</code>:</p><figure class="ku kv kw kx fq lm fe ff paragraph-image"><div role="button" tabindex="0" class="ln lo di lp bf lq"><div class="fe ff lt"><img src="../Images/8f0beeda14f54d1cd5f7e9da76fbffa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*_696zRxMzFgwrFpz.jpg"/></div></div></figure><h1 id="98c7" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">代码</h1><p id="918d" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">多亏了Jovo，这个应用程序的代码相当简单，只需要对文件底部的<code class="eh li lj lk kz b">index.js</code>做一点小小的更新:</p><pre class="ku kv kw kx fq ky kz la lb aw lc dt"><span id="24eb" class="ld js hu kz b fv le lf l lg lh">const handlers = {</span><span id="9567" class="ld js hu kz b fv lu lf l lg lh">'LAUNCH': function() {<br/>        app.toIntent('LatestPostIntent');<br/>    },</span><span id="8e20" class="ld js hu kz b fv lu lf l lg lh">'LatestPostIntent': function() {<br/>        parser.parseURL('<a class="ae jp" href="https://gregariousmammal.com/feed.xml'" rel="noopener ugc nofollow" target="_blank">https://gregariousmammal.com/feed.xml'</a>, function(err, parsed) {<br/>            console.log(parsed.feed.title);<br/>            parsed.feed.entries.slice(1).forEach(function(entry) {<br/>                console.log(entry.title + ':' + entry.link);<br/>                app.tell(entry.title);<br/>            })<br/>        });<br/>    },<br/>};</span></pre><p id="7b3a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh li lj lk kz b">toIntent</code>方法允许您在同一个请求中跳转到一个新的意图——在本例中是<code class="eh li lj lk kz b">LatestPostIntent</code>。意图的逻辑是JavaScript，使用<a class="ae jp" href="https://github.com/bobby-brennan/rss-parser" rel="noopener ugc nofollow" target="_blank"> rss-parser </a>解析站点的rss提要并返回框架所说的一个结果。</p><p id="bf84" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是我在我的Echo上尝试应用程序。</p><figure class="ku kv kw kx fq lm"><div class="bz el l di"><div class="lv lw l"/></div></figure><p id="276d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在谷歌助手模拟器中:</p><figure class="ku kv kw kx fq lm fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/99d3296f17a70a96ba94c0a3b4e5a5c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1290/format:webp/0*DWZ-KPu2aBmzWiH9.jpg"/></div></figure><h1 id="963c" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">让它变得更加简单</h1><p id="3ac6" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">如果你已经读到这里，Jovo似乎没有像你希望的那样节省你的时间，这是一个有效的评论。这部分是因为需要访问不同的开发者门户来将代码连接到平台，但也因为Jovo是一个新的平台。我与平台背后的团队谈过，他们很快就会发布新版本。这个版本将减少在每个平台上创建交互模型的需要。相反，您可以在本地创建一个文件，新的CLI命令会将这些文件推送到平台上。它还将引入一个与上述略有不同的文件结构，并计划很快添加字符串国际化。</p><p id="93f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你对为多种平台开发语音界面感兴趣，但又想让你的代码尽可能易于管理，那就尝试现有的平台，<a class="ae jp" href="https://www.jovo.tech/slack" rel="noopener ugc nofollow" target="_blank">注册Jovo Slack </a>并密切关注这些变化。</p></div><div class="ab cl ly lz hc ma" role="separator"><span class="mb bw bk mc md me"/><span class="mb bw bk mc md me"/><span class="mb bw bk mc md"/></div><div class="hn ho hp hq hr"><p id="8bac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">原载于</em><a class="ae jp" href="https://dzone.com/articles/create-cross-platform-voice-applications-with-jovo" rel="noopener ugc nofollow" target="_blank"><em class="jq">dzone.com</em></a><em class="jq">。</em></p></div></div>    
</body>
</html>