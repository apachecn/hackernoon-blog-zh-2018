<html>
<head>
<title>7 ways to do containers on AWS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在AWS上做容器的7种方法</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/7-ways-to-do-containers-on-aws-532f812196f1?source=collection_archive---------7-----------------------#2018-01-28">https://medium.com/hackernoon/7-ways-to-do-containers-on-aws-532f812196f1?source=collection_archive---------7-----------------------#2018-01-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/202f9509b5e1a811a34b5c77610af679.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S2UnU5GNgP3JnHNIUpvtfA.png"/></div></div></figure><div class=""/><p id="082c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近有人问我在<a class="ae ka" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>上运行容器的不同方式的选择和优缺点。当我解释完之后，我想把它写下来可能是有意义的，也许对更多的人有用。</p><p id="f625" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">两个小提示:这不是一个全面的指南，我肯定我已经忘记了一些选项。让我知道。此外，在管弦乐方面，我把自己限制在Kubernetes。YMMV。</em></p></div><div class="ab cl kc kd hc ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hn ho hp hq hr"><h2 id="a104" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">I . EC2上的手卷香草容器</h2><p id="8875" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">自从EC2和Docker出现以来，这个选项就一直存在。您使用EC2来启动一个或多个虚拟机，安装<a class="ae ka" href="https://hackernoon.com/tagged/docker" rel="noopener ugc nofollow" target="_blank"> Docker </a>，并且——特别是如果您有多个可以启动容器的虚拟机——使用shell脚本、Fleet、Puppet、Chef等来管理容器的生命周期。第一波基于容器的应用(从2013年末开始)基本上使用了这种方法。</p><p id="0b01" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="50d2" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">完全控制</li></ul><p id="cb89" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="184a" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">从2018年的观点来看，很大程度上被认为是过时的</li><li id="a80b" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">手工创建的临时编排层很难维护和扩展</li><li id="237d" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">您必须(手动)进行升级</li></ul><h2 id="279e" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">二。EC2上基于安装程序的香草Kubernetes</h2><p id="6f31" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">从概念上来说，建立在前面的配方之上，可以使用安装程序，如<a class="ae ka" href="https://kubernetes.io/docs/setup/independent/create-cluster-kubeadm/" rel="noopener ugc nofollow" target="_blank"> kubeadm </a>、<a class="ae ka" href="https://github.com/kubernetes/kops" rel="noopener ugc nofollow" target="_blank"> kops </a>或<a class="ae ka" href="http://kubicorn.io/" rel="noopener ugc nofollow" target="_blank"> kubicorn </a>在EC2上安装vanilla Kubernetes。</p><p id="f005" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="6985" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">细粒度控制</li><li id="4f5e" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">快速且证据充分</li></ul><p id="d021" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="5d0b" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">需要升级管理，并且并非所有路径都经过了同样好的测试和/或记录</li></ul><h2 id="6925" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">三。模板Kubernetes</h2><p id="fd60" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">存在许多模板化的解决方案，例如<a class="ae ka" href="https://aws.amazon.com/quickstart/architecture/heptio-kubernetes/" rel="noopener ugc nofollow" target="_blank"> Heptio的Kubernetes </a>快速启动，它允许你通过几次点击或命令来启动一个Kubernetes集群。</p><p id="1936" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="999b" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">非常快速简单</li></ul><p id="cb17" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="d4f4" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">根据解决方案的不同，使用可能最适合开发和测试，但不一定适合生产</li></ul><h2 id="5355" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">四。EC2上的Kubernetes分布</h2><p id="42f1" class="pw-post-body-paragraph jc jd if je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">许多供应商正在AWS上提供他们的Kubernetes发行版。如果您不想或不能做出必要的决定(如使用哪个SDN等),这是一个很好的选择。)并希望从附加的、更高级别的功能中受益，如构建管道和注册中心或多租户。一些例子是:</p><ul class=""><li id="ca02" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">牧场主(通过<a class="ae ka" href="http://rancher.com/deploying-rancher-from-the-aws-marketplace/" rel="noopener ugc nofollow" target="_blank">市场</a></li><li id="3543" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated"><a class="ae ka" href="https://aws.amazon.com/blogs/compute/kubernetes-clusters-aws-coreos-tectonic/" rel="noopener ugc nofollow" target="_blank">构造</a></li><li id="d869" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated"><a class="ae ka" href="https://www.openshift.com/dedicated/index.html" rel="noopener ugc nofollow" target="_blank"> OpenShift专用</a></li></ul><p id="b9ae" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="bcfe" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">端到端由发行版负责</li><li id="28b1" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">通常:不需要操作，包括升级</li></ul><p id="e2b3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="ea47" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">在您可以使用此设置的内容和位置方面，可能有一些限制</li><li id="e5b0" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">价格</li></ul><h2 id="3171" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">动词 （verb的缩写）亚马逊弹性容器服务(ECS)</h2><blockquote class="lx ly lz"><p id="e5ed" class="jc jd kb je b jf jg jh ji jj jk jl jm ma jo jp jq mb js jt ju mc jw jx jy jz hn dt translated"><a class="ae ka" href="https://aws.amazon.com/ecs/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/ecs/</a></p></blockquote><p id="7e4d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ECS从2014年开始提供，直到去年还是亚马逊希望你运行容器的主要方式。ECS拥有专有的架构和orchestrator，被从Ubisoft到TIBCO的许多客户所使用。</p><p id="ef25" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="67b6" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">与AWS的深度集成</li><li id="8c49" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">充分理解，久经考验</li></ul><p id="ea7e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="5604" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">鉴于存在新的选择(见下文),不清楚它将走向何方</li></ul><h2 id="1802" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">不及物动词AWS Fargate</h2><blockquote class="lx ly lz"><p id="f26e" class="jc jd kb je b jf jg jh ji jj jk jl jm ma jo jp jq mb js jt ju mc jw jx jy jz hn dt translated"><a class="ae ka" href="https://aws.amazon.com/fargate/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/fargate/</a></p></blockquote><p id="f232" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://aws.amazon.com/blogs/aws/aws-fargate/" rel="noopener ugc nofollow" target="_blank">介绍</a>在2017年末的最近一次re:Invent上，Fargate似乎是门户药物。它被称为“无集群容器产品”和其他东西，并且(除了Azure容器实例之外)在其他云提供商中没有直接的对等物。</p><p id="49e2" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">优点:</em></p><ul class=""><li id="e3a5" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">超级好用</li><li id="3d62" class="lj lk if je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">平台中更复杂/更完整产品的良好开端</li></ul><p id="c496" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb">缺点:</em></p><ul class=""><li id="c339" class="lj lk if je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">为某个用例定价和优化奖品有时很难解决</li></ul><h2 id="4743" class="kj kk if bd kl km kn ko kp kq kr ks kt jn ku kv kw jr kx ky kz jv la lb lc ld dt translated">七。库贝内特斯(EKS)的亚马逊弹性集装箱服务</h2><blockquote class="lx ly lz"><p id="fa95" class="jc jd kb je b jf jg jh ji jj jk jl jm ma jo jp jq mb js jt ju mc jw jx jy jz hn dt translated"><a class="ae ka" href="https://aws.amazon.com/eks/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/eks/</a></p></blockquote><p id="8d45" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">和法盖特一样，EKS最终被发现了。与Fargate不同，EKS在2018年初撰写本文时，仍只能作为注册预览计划的一部分。我真的不能说太多——直到我尝试过——除了它看起来很有趣，我很高兴AWS做出了这一举动。</p></div><div class="ab cl kc kd hc ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hn ho hp hq hr"><p id="9260" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你怎么想呢?关于你在AWS上使用容器的方式，有什么故事要分享吗？也许一些经验报告或更深入的见解对你有用，或者人们应该知道在AWS上运行容器？在这里分享或在Twitter上ping我(<a class="ae ka" href="https://twitter.com/mhausenblas" rel="noopener ugc nofollow" target="_blank"> DMs开放</a>)。</p></div><div class="ab cl kc kd hc ke" role="separator"><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh ki"/><span class="kf bw bk kg kh"/></div><div class="hn ho hp hq hr"><p id="b823" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">更新(2018–02–01):正如Mark Coleman所指出的，随着<a class="ae ka" href="https://hyper.sh/" rel="noopener ugc nofollow" target="_blank"> https://hyper.sh </a>存在一个Fargate等价物，并且从2016年开始！</p><figure class="md me mf mg fq hw"><div class="bz el l di"><div class="mh mi l"/></div></figure></div></div>    
</body>
</html>