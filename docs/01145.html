<html>
<head>
<title>[Unit Test] How do you mock a react component with Jest?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[单元测试]如何用Jest来模拟反应组件？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-do-you-mock-a-react-component-with-jest-unit-test-javascript-tutorial-example-spy-jest-enzyme-6c681f812a00?source=collection_archive---------4-----------------------#2018-02-05">https://medium.com/hackernoon/how-do-you-mock-a-react-component-with-jest-unit-test-javascript-tutorial-example-spy-jest-enzyme-6c681f812a00?source=collection_archive---------4-----------------------#2018-02-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk it iu iv iw fe ff paragraph-image"><div role="button" tabindex="0" class="ix iy di iz bf ja"><div class="fe ff is"><img src="../Images/b17b60b0778cc2eab76d03e07ba43291.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1gZkZxRo-tywgA4l80OXrw.png"/></div></div><figcaption class="jd je fg fe ff jf jg bd b be z ek">jest enzyme test unit component</figcaption></figure><blockquote class="jh"><p id="c062" class="ji jj hu bd jk jl jm jn jo jp jq jr ek translated">您如何用Jest来模拟反应组件？</p></blockquote><p id="bf81" class="pw-post-body-paragraph js jt hu ju b jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko jr hn dt translated">我们得到了一个组件，它包含了另一个外部组件<code class="eh kp kq kr ks b"><strong class="ju hv">InstallCom</strong></code> <strong class="ju hv">和</strong><code class="eh kp kq kr ks b"><strong class="ju hv">UserCom</strong></code><strong class="ju hv">(</strong><a class="ae kt" href="https://gist.github.com/wahengchang/108ca55981f6600c252ad0cb9d4c518f" rel="noopener ugc nofollow" target="_blank"><em class="ku">git hub</em></a><strong class="ju hv">):</strong></p><pre class="kv kw kx ky fq kz ks la lb aw lc dt"><span id="8c7c" class="ld le hu ks b fv lf lg l lh li">import { <strong class="ks hv">InstallCom</strong> } from 'installComponent'<br/>import <strong class="ks hv">UserCom</strong> from 'userComponent'</span><span id="8115" class="ld le hu ks b fv lj lg l lh li">export class ShareCom extends Component {<br/>   render() {<br/>      return (<br/>         &lt;div&gt;<br/>            &lt;<strong class="ks hv">InstallCom</strong> para1='title1'/&gt;<br/>            &lt;<strong class="ks hv">UserCom</strong> para2='title2' /&gt;<br/>         &lt;/div&gt;<br/>      )<br/>   }<br/>}</span></pre><h2 id="0b21" class="ld le hu bd lk ll lm ln lo lp lq lr ls kd lt lu lv kh lw lx ly kl lz ma mb mc dt translated">单元测试</h2><p id="2953" class="pw-post-body-paragraph js jt hu ju b jv md jx jy jz me kb kc kd mf kf kg kh mg kj kk kl mh kn ko jr hn dt translated">在单元测试中，我们关心的是<ShareCom/>的功能性，而不是其他依赖的组件<code class="eh kp kq kr ks b"><strong class="ju hv">InstallCom</strong></code><strong class="ju hv"/><code class="eh kp kq kr ks b"><strong class="ju hv">UserCom</strong></code>，出于模拟目的，<strong class="ju hv"> <em class="ku"> jest </em> </strong>是很好的帮手。</p><pre class="kv kw kx ky fq kz ks la lb aw lc dt"><span id="1406" class="ld le hu ks b fv lf lg l lh li">import {ShareCom} from '../somewhere/ShareCom'</span><span id="aaa3" class="ld le hu ks b fv lj lg l lh li"><strong class="ks hv"><em class="ku">jest.mock</em></strong>('../somewhere/UserCom', () =&gt; ()=&gt; &lt;div id="mockUserCom"&gt;<br/>   mockUserCom<br/>&lt;/div&gt;)</span><span id="0635" class="ld le hu ks b fv lj lg l lh li"><strong class="ks hv"><em class="ku">jest.mock</em></strong>('installComponent', () =&gt; ({<br/>   InstallCom: 'mockInstallCom'<br/>}))<br/></span><span id="1373" class="ld le hu ks b fv lj lg l lh li">describe('ShareCom', () =&gt; {<br/>   it('should return correct component', () =&gt; {<br/>      const wrapper = mount(<br/>         &lt;ShareCom <br/>            something={something}<br/>         /&gt;<br/>      )</span><span id="8926" class="ld le hu ks b fv lj lg l lh li"><br/>      expect(wrapper.find('mockInstallCom').length).toEqual(1)<br/>      expect(wrapper.find('#mockUserCom').length).toEqual(1)<br/>   })<br/>})</span></pre><h2 id="8468" class="ld le hu bd lk ll lm ln lo lp lq lr ls kd lt lu lv kh lw lx ly kl lz ma mb mc dt translated">参考:</h2><p id="6986" class="pw-post-body-paragraph js jt hu ju b jv md jx jy jz me kb kc kd mf kf kg kh mg kj kk kl mh kn ko jr hn dt translated">—Git:<a class="ae kt" href="https://gist.github.com/wahengchang/108ca55981f6600c252ad0cb9d4c518f" rel="noopener ugc nofollow" target="_blank">https://gist . github . com/wah engchang/108 ca 55981 f 6600 c 252 ad 0cb 9 D4 c 518 f</a></p></div></div>    
</body>
</html>