<html>
<head>
<title>Choosing private blockchain tech: Hyperledger Composer</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择私立区块链理工大学:Hyperledger作曲家</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/choosing-private-blockchain-tech-hyperledger-composer-6ed61ea0dbc1?source=collection_archive---------5-----------------------#2018-02-10">https://medium.com/hackernoon/choosing-private-blockchain-tech-hyperledger-composer-6ed61ea0dbc1?source=collection_archive---------5-----------------------#2018-02-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/ea06a86b43d5cc227fdbf5e91d32a573.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*i-AljiziyuoQSy-SCtvbZg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Hyperledger Composer architecture</figcaption></figure><p id="a711" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">欢迎来到“选择私立区块链理工大学”系列的第二部分。在每篇文章中，我们都实现了一个简单的用例来概述现有技术的作用以及它如何在商业中发挥作用。</p><p id="2a34" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最初，这篇文章是关于Hyperledger Fabric的，但是在了解了Hyperledger Composer之后，很明显先写一下它是有益的。这将使我们能够从更高的层面了解可以在Hyperledger Fabric区块链之上构建什么类型的业务应用程序，并更容易理解Fabric本身的用途。</p><h1 id="0c74" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">业务用例</strong></h1><p id="7f0a" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">让我们从<a class="ae ke" href="https://hackernoon.com/choosing-private-blockchain-tech-quorum-d33221d40b54" rel="noopener ugc nofollow" target="_blank">第一部分</a>中定义的金融行业的人为简单用例开始。以下是该场景中的各方:</p><ul class=""><li id="6e0a" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated"><strong class="ji hv">非托管资产经理(对冲基金):</strong>做出投资决策(交易)。非托管意味着他们实际上不持有客户的钱。相反，在交易完成后，他们会向托管人发送指令，让托管人适当地转移资金。</li><li id="8014" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated">保管人:通常是一个大型的、值得信赖的金融机构，代表对冲基金保管客户的资金并执行转账。托管人需要了解每笔交易，以便向交易对手支付款项。</li><li id="c867" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated"><strong class="ji hv">客户</strong>:投资对冲基金。每个客户需要查看自己账户中的交易，而不是其他客户的账户。</li></ul><p id="1d5c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">让我们看看如何使用Hyperledger Composer来定义此场景中的所有参与者，并使他们能够共享适当的信息。</p><h1 id="7002" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">什么是Hyperledger Composer？</strong></h1><p id="5f16" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">Hyperledger Composer是一个高级工具集和框架，用于在Hyperledger Fabric区块链上快速构建和运行应用程序。如果Fabric是网络层，则Composer是应用层。它允许我们为可以在<a class="ae ke" href="http://hyperledger-fabric.readthedocs.io/en/release/channels.html" rel="noopener ugc nofollow" target="_blank">结构通道</a>内部署和执行的应用程序定义数据模型、业务逻辑和访问控制列表。这种应用程序的用户不必运行本地节点，如果需要，可以通过RPC或HTTP REST与远程节点进行交互。</p><p id="e671" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">Composer附带了一个漂亮的<a class="ae ke" href="https://composer-playground.mybluemix.net/" rel="noopener ugc nofollow" target="_blank"> web playground </a>，它允许用户在浏览器中构建应用程序原型，而无需设置本地网络。我们将使用操场来实现和测试我们的用例。在以后的文章中，我们将导出生成的“业务网络定义”并部署到真实的Hyperledger Fabric区块链。</p><h1 id="12c1" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">解决方案</strong></h1><p id="3ada" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">解决方案的完整代码可以在<a class="ae ke" href="https://github.com/andrei-anisimov/hyperledger-composer-example" rel="noopener ugc nofollow" target="_blank">这里</a>找到。下面我们将看到如何使用<a class="ae ke" href="https://composer-playground.mybluemix.net" rel="noopener ugc nofollow" target="_blank"> Composer Playground </a>一步一步地配置每个部分。</p><h2 id="5f53" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 1。创建网络</strong></h2><p id="be15" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">选择“部署新的企业网络”并填写所需信息。在我的情况下，网络的名称是'对冲基金网络'和管理卡的名称是管理@对冲基金网络。选择“empty-business-network”模板并点击部署。这将创建一个空的业务网络和一个完全控制它的管理员身份。创建业务网络后，我们可以通过点击“立即连接”来连接它。</p><h2 id="c1ae" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 2。配置对象模型</strong></h2><p id="99ba" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">Composer有自己的对象建模语言，非常简单易用。可以定义4种类型的资源:</p><ul class=""><li id="e7bd" class="li lj hu ji b jj jk jn jo jr lk jv ll jz lm kd ln lo lp lq dt translated"><strong class="ji hv">资产</strong>。在应用程序中被跟踪的东西。在我们的案例中，我们跟踪大量交易的证券。</li><li id="f921" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated"><strong class="ji hv">参与者。</strong>与网络互动的实体。每个人都有自己的权限。</li><li id="81cc" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated"><strong class="ji hv">发送事务</strong>以更新资产或参与者，并执行自定义逻辑。</li><li id="b956" class="li lj hu ji b jj lr jn ls jr lt jv lu jz lv kd ln lo lp lq dt translated"><strong class="ji hv">事件</strong>可以从事务逻辑中发出，并由参与者订阅。</li></ul><p id="7aa2" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，让我们创建一个名为“org.acme.mynetwork.cto”的模型文件，并添加以下代码。该文件定义了3种参与者类型(交易者、客户、托管人)、批次资产、交易交易和新交易事件。</p><pre class="mk ml mm mn fq mo mp mq mr aw ms dt"><span id="62f6" class="lw kg hu mp b fv mt mu l mv mw">/**<br/> * My commodity trading network<br/> */<br/>namespace org.acme.mynetwork</span><span id="e59c" class="lw kg hu mp b fv mx mu l mv mw">asset Lot identified by lotId {<br/>    o String lotId<br/>    o String securityName<br/>    o Double quantity<br/>    o Double price<br/>    --&gt; Client owner<br/>}</span><span id="ec1d" class="lw kg hu mp b fv mx mu l mv mw">participant Client identified by clientId {<br/>    o String clientId<br/>    o String description<br/>}</span><span id="53ef" class="lw kg hu mp b fv mx mu l mv mw">participant Custodian identified by custodianId {<br/>    o String custodianId<br/>    o String description<br/>}</span><span id="2b59" class="lw kg hu mp b fv mx mu l mv mw">participant Trader identified by traderId {<br/>    o String traderId<br/>    o String name<br/>}</span><span id="c794" class="lw kg hu mp b fv mx mu l mv mw">transaction Trade {<br/>    --&gt; Trader trader<br/>    --&gt; Client client<br/>    --&gt; Lot lot<br/>}</span><span id="a177" class="lw kg hu mp b fv mx mu l mv mw">event NewTradeEvent {<br/>    --&gt; Lot lot<br/>}</span></pre><h2 id="fa39" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 3。配置交易逻辑</strong></h2><p id="533e" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">接下来，我们将实现一个定制逻辑，每次发送交易事务时都会执行该逻辑。使用下面的代码创建一个名为script.js的新脚本文件。Composer知道根据注释中的@param注释为每个贸易事务执行这段代码。这段代码做了两件事:更改Lot的所有者，并在成功时发出一个NewTrade事件。</p><pre class="mk ml mm mn fq mo mp mq mr aw ms dt"><span id="7737" class="lw kg hu mp b fv mt mu l mv mw">/**<br/>* Track the trade<br/>* <a class="ae ke" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> {org.acme.mynetwork.Trade} trade — the trade to be processed<br/>* <a class="ae ke" href="http://twitter.com/transaction" rel="noopener ugc nofollow" target="_blank">@transaction</a><br/>*/<br/>function tradeCommodity(trade) {<br/>  var factory = getFactory();<br/>  trade.lot.owner = trade.client;<br/>  var result = getAssetRegistry(‘org.acme.mynetwork.Lot’)<br/>  .then(function (assetRegistry) {<br/>    return assetRegistry.update(trade.lot);<br/>  });<br/>  if (result) {<br/>    var newTradeEvent = factory.newEvent(‘org.acme.mynetwork’, ‘NewTradeEvent’);<br/>    newTradeEvent.lot = trade.lot;<br/>    emit(newTradeEvent);<br/>  }<br/>  return result;<br/>}</span></pre><h2 id="a2a7" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 4。访问控制列表</strong></h2><p id="f064" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">最后，我们需要定义一个访问控制列表，控制每个参与者类型可以做什么和看到什么。在这里，我们指定交易员可以执行交易，客户可以查看自己的交易，托管人可以查看所有交易。</p><pre class="mk ml mm mn fq mo mp mq mr aw ms dt"><span id="2d39" class="lw kg hu mp b fv mt mu l mv mw">/* Admin */</span><span id="8e8f" class="lw kg hu mp b fv mx mu l mv mw">rule NetworkAdminUser {<br/>    description: "Grant business network administrators full access to user resources"<br/>    participant: "org.hyperledger.composer.system.NetworkAdmin"<br/>    operation: ALL<br/>    resource: "**"<br/>    action: ALLOW<br/>}</span><span id="0a70" class="lw kg hu mp b fv mx mu l mv mw">rule NetworkAdminSystem {<br/>    description: "Grant business network administrators full access to system resources"<br/>    participant: "org.hyperledger.composer.system.NetworkAdmin"<br/>    operation: ALL<br/>    resource: "org.hyperledger.composer.system.**"<br/>    action: ALLOW<br/>}</span><span id="a462" class="lw kg hu mp b fv mx mu l mv mw">/* Common */</span><span id="134c" class="lw kg hu mp b fv mx mu l mv mw">rule CommonReadTransactionRegistry {<br/>    description: "Allow all participants to read transaction registry"<br/>    participant: "org.hyperledger.composer.system.Participant"<br/>    operation: READ<br/>    resource: "org.hyperledger.composer.system.TransactionRegistry"<br/>    action: ALLOW<br/>}</span><span id="b08c" class="lw kg hu mp b fv mx mu l mv mw">rule CommonReadParticipantRegistry {<br/>    description: "Allow all participants to read participant registry"<br/>    participant: "org.hyperledger.composer.system.Participant"<br/>    operation: READ<br/>    resource: "org.hyperledger.composer.system.ParticipantRegistry"<br/>    action: ALLOW<br/>}</span><span id="e231" class="lw kg hu mp b fv mx mu l mv mw">rule CommonReadAssetRegistry {<br/>    description: "Allow all participants to read asset registry"<br/>    participant: "org.hyperledger.composer.system.Participant"<br/>    operation: READ<br/>    resource: "org.hyperledger.composer.system.AssetRegistry"<br/>    action: ALLOW<br/>}</span><span id="23db" class="lw kg hu mp b fv mx mu l mv mw">rule CommonReadNetwork {<br/>    description: "Allow all participants to read network"<br/>    participant: "org.hyperledger.composer.system.Participant"<br/>    operation: READ<br/>    resource: "org.hyperledger.composer.system.Network"<br/>    action: ALLOW<br/>}</span><span id="8b6a" class="lw kg hu mp b fv mx mu l mv mw">/* Trader */</span><span id="9af7" class="lw kg hu mp b fv mx mu l mv mw">rule TraderManageClient {<br/>    description: "Allow traders to read all clients"<br/>    participant: "org.acme.mynetwork.Trader"<br/>    operation: ALL<br/>    resource: "org.acme.mynetwork.Client"<br/>    action: ALLOW<br/>}</span><span id="0554" class="lw kg hu mp b fv mx mu l mv mw">rule TraderManageOwnTrades {<br/>    description: "Allow traders to manage their trades"<br/>    participant(t): "org.acme.mynetwork.Trader"<br/>    operation: ALL<br/>    resource(tt): "org.acme.mynetwork.Trade"<br/>    condition: (tt.trader.getIdentifier() == t.getIdentifier())<br/>    action: ALLOW<br/>}</span><span id="63ad" class="lw kg hu mp b fv mx mu l mv mw">rule TraderManageLots {<br/>    description: "Allow traders to read and create lots"<br/>    participant: "org.acme.mynetwork.Trader"<br/>    operation: READ, CREATE<br/>    resource: "org.acme.mynetwork.Lot"<br/>    action: ALLOW<br/>}</span><span id="ff1d" class="lw kg hu mp b fv mx mu l mv mw">rule TraderUpdateLots {<br/>    description: "Allow traders to update lots via Trade transaction"<br/>    participant: "org.acme.mynetwork.Trader"<br/>    operation: UPDATE<br/>    resource: "org.acme.mynetwork.Lot"<br/>    transaction: "org.acme.mynetwork.Trade"<br/>    action: ALLOW<br/>}</span><span id="69fa" class="lw kg hu mp b fv mx mu l mv mw">rule TraderReadOwnTrader {<br/>    description: "Allow traders to read their own info"<br/>    participant(t): "org.acme.mynetwork.Trader"<br/>    operation: READ<br/>    resource(tt): "org.acme.mynetwork.Trader"<br/>    condition: (tt.getIdentifier() == t.getIdentifier())<br/>    action: ALLOW  <br/>}</span><span id="68b1" class="lw kg hu mp b fv mx mu l mv mw">rule TraderAddAsset {<br/>    description: "Allow traders to add assets to registry"<br/>    participant: "org.acme.mynetwork.Trader"<br/>    operation: CREATE<br/>    resource: "org.hyperledger.composer.system.AddAsset"<br/>    action: ALLOW  <br/>}</span><span id="47f8" class="lw kg hu mp b fv mx mu l mv mw">rule TraderCreateHistorianRecord {<br/>    description: "Allow traders to create historian record"<br/>    participant: "org.acme.mynetwork.Trader"<br/>    operation: CREATE<br/>    resource: "org.hyperledger.composer.system.HistorianRecord"<br/>    action: ALLOW  <br/>}</span><span id="7839" class="lw kg hu mp b fv mx mu l mv mw">rule TraderReadOwnHistorianRecord {<br/>    description: "Allow traders to read their own historian record"<br/>    participant(t): "org.acme.mynetwork.Trader"<br/>    operation: READ<br/>    resource(hr): "org.hyperledger.composer.system.HistorianRecord"<br/>    condition: (hr.transactionType == "org.acme.mynetwork.Trade" &amp;&amp; hr.participantInvoking.getIdentifier() == t.getIdentifier())<br/>    action: ALLOW<br/>}</span><span id="00cd" class="lw kg hu mp b fv mx mu l mv mw">/* Client */</span><span id="b44a" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadOwnTrades {<br/>    description: "Allow clients to view their trades"<br/>    participant(c): "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource(t): "org.acme.mynetwork.Trade"<br/>    condition: (t.client.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW<br/>}</span><span id="88cc" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadOwnEvents {<br/>    description: "Allow clients to subscribe to NewTrade events"<br/>    participant(c): "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource(e): "org.acme.mynetwork.NewTradeEvent"<br/>    condition: (e.lot.owner.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW<br/>}</span><span id="74cf" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadOwnLots {<br/>    description: "Allow clients to view lots they own"<br/>    participant(c): "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource(s): "org.acme.mynetwork.Lot"<br/>    condition: (s.owner.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW  <br/>}</span><span id="346b" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadOwnClient {<br/>    description: "Allow clients to view their info"<br/>    participant(c): "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource(cc): "org.acme.mynetwork.Client"<br/>    condition: (cc.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW  <br/>}</span><span id="dab5" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadTraders {<br/>    description: "Allow clients to view traders"<br/>    participant: "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.Trader"<br/>    action: ALLOW<br/>}</span><span id="d80a" class="lw kg hu mp b fv mx mu l mv mw">rule ClientReadHistorianRecord {<br/>    description: "Allow clients to view their historian records"<br/>    participant(c): "org.acme.mynetwork.Client"<br/>    operation: READ<br/>    resource(hr): "org.hyperledger.composer.system.HistorianRecord"<br/>    condition: (hr.transactionType == "org.acme.mynetwork.Trade" &amp;&amp; hr.transactionInvoked.client.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW<br/>}</span><span id="fee1" class="lw kg hu mp b fv mx mu l mv mw">/* Custodian */</span><span id="c510" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadAllTrades {<br/>    description: "Allow custodian to view all trades"<br/>    participant: "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.Trade"<br/>    action: ALLOW<br/>}</span><span id="a373" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadAllLots {<br/>    description: "Allow custodian to view all lots"<br/>    participant: "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.Lot"<br/>    action: ALLOW<br/>}</span><span id="d58b" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadAllClients {<br/>    description: "Allow custodian to view all clients"<br/>    participant: "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.Client"<br/>    action: ALLOW<br/>}</span><span id="beba" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadAllEvents {<br/>    description: "Allow custodian to subscribe to NewTrade events"<br/>    participant: "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.NewTradeEvent"<br/>    action: ALLOW<br/>}</span><span id="8547" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadAllTraders {<br/>    description: "Allow custodian to view all traders"<br/>    participant: "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource: "org.acme.mynetwork.Trader"<br/>    action: ALLOW<br/>}</span><span id="9f94" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadOwnCustodian {<br/>    description: "Allow custodian to view their info"<br/>    participant(c): "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource(cc): "org.acme.mynetwork.Custodian"<br/>    condition: (cc.getIdentifier() == c.getIdentifier())<br/>    action: ALLOW  <br/>}</span><span id="f18e" class="lw kg hu mp b fv mx mu l mv mw">rule CustodianReadHistorianRecord {<br/>    description: "Allow custodian to view all trade historian records"<br/>    participant(t): "org.acme.mynetwork.Custodian"<br/>    operation: READ<br/>    resource(hr): "org.hyperledger.composer.system.HistorianRecord"<br/>    condition: (hr.transactionType == "org.acme.mynetwork.Trade")<br/>    action: ALLOW<br/>}</span></pre><p id="a046" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">所有步骤完成后，我们可以通过点击左侧的<strong class="ji hv"> Update </strong>来部署应用程序。</p><h1 id="9a9e" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">如何在操场上考试</strong></h1><p id="734e" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">现在我们已经有了应用程序的完整定义，我们可以使用Composer Playground测试模块来测试它(单击顶部的<strong class="ji hv">测试</strong>)。</p><h2 id="26fd" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 1。创建参与者</strong></h2><p id="4a19" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">首先，让一些参与者为我们的应用程序播种。我们可以创建两个客户:一个托管人和一个交易者。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/6d7324c91c8a41975f76b6a8e8b0cb02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*GfkKLsqEqKj8xTzF."/></div></div></figure><h2 id="7746" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 2。为每个参与者创建身份</strong></h2><p id="010f" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">为了能够与商业网络交互，参与者需要相关联的身份。可以在ID注册表中创建身份(打开右上角的用户下拉菜单)。我们将为每个参与者创建一个身份，方法是指定其名称并指向在上一步中创建的参与者实例。至少，我们需要4个身份:2个客户、1个交易者和1个托管者。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/5ef2d504de5ee4923f6c2f577d2c277f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*APxgcxGL8FFBq9b5."/></div></div></figure><h2 id="7c29" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 3。以交易员身份登录</strong></h2><p id="4e62" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">我们现在可以使用新创建的身份登录，方法是单击列表中每个身份旁边的“立即使用”。首先，我们作为交易者登录，创建一个不属于任何客户的新批次(客户ID为空)。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mz"><img src="../Images/e314f44bb1ff72ef21e09b1693781048.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Fe9gMlODm9P9Zvdl."/></div></div></figure><p id="e121" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">然后，我们通过一个交易将该批次的所有权分配给客户1。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff na"><img src="../Images/2bb5c3cbd89eaa8e3acdf7f02857681a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*1dMIQYEau8Q5R6VX."/></div></div></figure><p id="a827" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，让我们再创建一个批次，并通过另一个交易将其分配给客户2。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nb"><img src="../Images/ebcdd1d6eaccaedd1c5608ccba4702a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*x30kPa_AjThz0v0G."/></div></div></figure><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff nc"><img src="../Images/413a9f0f61b3acff601146e8823d030f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*zYH2rlHvyD1kxB3W."/></div></div></figure><h2 id="0ee3" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 4。作为客户端登录</strong></h2><p id="59c6" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">然后，我们将作为客户端1和客户端2登录，以检查我们是否可以看到我们的批次。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/c78fa5c6d3b0ba6dbbca16c12e44c2c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0x6ksvtDwo877JcH."/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Client 1 lots</figcaption></figure><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/28f04c76cbd4c49ce9e8d411400c3f37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*Pgs8WFwywKVamX7R."/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Client 2 lots</figcaption></figure><p id="a059" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">正如你所看到的，每个客户只看到他们拥有的手，他们不知道其他客户的交易。</p><h2 id="4532" class="lw kg hu bd kh lx ly lz kl ma mb mc kp jr md me kt jv mf mg kx jz mh mi lb mj dt translated"><strong class="ak"> 5。作为保管人登录</strong></h2><p id="3d02" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">让我们以托管人的身份登录，检查我们是否可以查看所有交易。事实上，这两种交易都是可见的，如下图所示。</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/df27be0ba8cad6f15149f9044c161f49.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*MDNockX3XeOrS3zd."/></div></div></figure><p id="35a1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">托管人还可以查看所有交易的历史记录:</p><figure class="mk ml mm mn fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/c541bf7eb45a8bb0621171a56af04f00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*15Zp_tUbZjv9jHtZ."/></div></div></figure><h1 id="96fc" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">关于权力下放的说明</strong></h1><p id="57d5" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">请记住，当事务被广播到Hyperledger Fabric网络时，每个已配置的对等体都独立执行自定义事务处理逻辑，以确保区块链更新的正确性。这是一个主要的体系结构差异，在许多情况下，这是相对于传统的集中式客户端-服务器方法的一个优势。在传统方法中，单个组织将负责管理数据并向其他参与者公开数据，迫使其他人信任数据，并使其成为潜在的单点故障。</p><p id="3673" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在区块链方法中，每个对等方负责管理和协调他们自己的数据副本。这使得整个网络更具弹性和分散性。然而，配置起来并不完全简单。由于数据现在托管在许多地方，这造成了潜在的更大威胁面，因此还需要考虑其他隐私问题。</p><h1 id="1eec" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated"><strong class="ak">结论</strong></h1><p id="77a9" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">希望这能让您更好地理解什么是Hyperledger Composer，以及它如何有助于在多个参与者之间共享信息和跟踪资产及其他概念。请随意导出。bna文件，并按照此处的教程<a class="ae ke" href="https://hyperledger.github.io/composer/tutorials/developer-tutorial" rel="noopener ugc nofollow" target="_blank">将应用程序部署到本地Hyperledger结构网络。我们很想听听你对Hyperledger Composer的看法。请在下面留下任何问题或评论。</a></p></div></div>    
</body>
</html>