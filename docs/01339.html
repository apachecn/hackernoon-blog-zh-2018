<html>
<head>
<title>Why is Occlusion in Augmented Reality So Hard?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么增强现实中的遮挡这么难？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-is-occlusion-in-augmented-reality-so-hard-7bc8041607f9?source=collection_archive---------3-----------------------#2018-02-12">https://medium.com/hackernoon/why-is-occlusion-in-augmented-reality-so-hard-7bc8041607f9?source=collection_archive---------3-----------------------#2018-02-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="2523" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">“遮挡”就是把虚拟的物体藏在真实的东西后面。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/772f216be4ecf074972e103e0f190b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MCwu2NedVpbdoB0qTVvLMg.jpeg"/></div></div></figure><p id="23a8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">增强现实难题中最大、最难以捉摸的一块是遮挡。换句话说，将虚拟对象隐藏在真实事物后面的能力。</p><p id="13ec" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这篇帖子是关于为什么AR中的遮挡如此困难，以及为什么深度学习可能是未来解决它的关键。</p><p id="8702" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当你看一个纯粹真实或纯粹虚拟的世界时，你倾向于接受那个世界的“规则”或<a class="ae kr" href="https://en.wikipedia.org/wiki/Suspension_of_disbelief" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">暂停怀疑，</strong> </a>，只要它满足现实的一些基本概念，如重力、照明、阴影等。当这些规则被打破时，你会注意到，因为这很不和谐，感觉像是“看起来不对劲”。这就是为什么对电影中糟糕的特效畏缩不前是如此的本能。</p><p id="df8b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在VR中，实际上很容易实现暂停怀疑，因为你可以完全控制场景中的所有元素。<strong class="jx hv">不幸的是，作为一名AR开发者，你没有这种奢侈，因为你的应用程序的大部分屏幕空间(即真实世界)完全不受你的控制。</strong></p><blockquote class="kt"><p id="19ca" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated"><strong class="ak">作为一名AR开发者，你的大部分应用的屏幕实际空间(即真实世界)完全不在你的控制之内。</strong></p></blockquote><p id="8e87" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">在移动世界中，<a class="ae kr" href="https://developer.apple.com/arkit/" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">苹果的ARKit </strong> </a> <strong class="jx hv"> </strong>已经实现了令人难以置信的快速运动跟踪以及逼真的光照和阴影，但在遮挡方面仍然有所欠缺。</p><h2 id="62fb" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated"><strong class="ak">这里有个例子:</strong></h2><p id="85e9" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">下面的截图你觉得奇怪吗？这是因为龙看起来离椅子更远了，但仍然出现在椅子前面。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/772f216be4ecf074972e103e0f190b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MCwu2NedVpbdoB0qTVvLMg.jpeg"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek"><strong class="bd mm">Without occlusion, this dragon looks weird overlapping the chair.</strong></figcaption></figure><p id="79bc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这不仅仅是移动增强现实的问题。这也是目前所有耳机都存在的问题。</p><h1 id="c6bf" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">AR中的遮挡是如何工作的？</h1><p id="8e5f" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">遮挡的目的是在创建AR场景时保留视线的规则。这意味着任何在真实物体后面的虚拟物体，应该被“<strong class="jx hv">遮挡</strong>”或者隐藏在真实物体后面。</p><p id="007f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">那么这在AR中是怎么做到的呢？基本上，我们基于真实世界的3D结构的一些知识，有选择地阻止部分虚拟场景在屏幕上呈现。</p><h2 id="e88d" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated"><strong class="ak">这样做涉及3个主要功能:</strong></h2><ol class=""><li id="2576" class="my mz hu jx b jy md kb me ke na ki nb km nc kq nd ne nf ng dt translated"><strong class="jx hv">感知</strong>现实世界的3D结构。</li><li id="2063" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated"><strong class="jx hv">重建</strong>一个数字化的3D世界模型。</li><li id="7de2" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated"><strong class="jx hv">渲染</strong>该模型为隐藏虚拟对象的透明遮罩。</li></ol><h1 id="9674" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">但是这有什么难的呢？</h1><p id="0132" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">假设你对真实环境中的所有物体都有一个很好的重建，遮挡只是简单地将模型渲染为场景中的透明遮罩。这是容易的部分。事情已经到了开始变得难以处理的地步。</p><p id="9de3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">考虑一个常见的街道场景。在离你各种距离的地方都有人、车辆、树木和各种各样的物体。更远的地方，有更大的结构，如桥梁和建筑，每一个都有自己独特的功能。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nm"><img src="../Images/b030f7f5b659932126f8d5c0ba54ff0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oPecODRsn6T5sx0_WpvFWA.jpeg"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">The real world is a complicated and dynamic 3D scene</figcaption></figure><p id="cda4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">创建一个真实的遮挡遮罩最困难的事情实际上是重建一个足够好的真实世界模型来应用这个遮罩。</strong></p><p id="6bb8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这是因为今天没有可用的AR设备能够足够精确或快速地感知其环境，以实现逼真的遮挡。</p></div><div class="ab cl nn no hc np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hn ho hp hq hr"><h1 id="838b" class="mn lj hu bd lk mo nu mq lo mr nv mt ls ja nw jb lv jd nx je ly jg ny jh mb mx dt translated">3D传感是如何工作的？</h1><p id="6b6f" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">感知3D结构其实可以归结为一个重要的能力——深度感知。深度传感器有很多种，常见的有<a class="ae kr" href="https://en.wikipedia.org/wiki/Structured-light_3D_scanner#Challenges" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">结构光</strong></a><a class="ae kr" href="https://en.wikipedia.org/wiki/Time-of-flight_camera" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv">飞行时间</strong> </a>和<a class="ae kr" href="https://en.wikipedia.org/wiki/Computer_stereo_vision" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">立体摄像机</strong> </a>。</p><p id="4499" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在硬件方面，结构光和飞行时间涉及一个红外投影仪和传感器对，而立体需要两个彼此相距固定距离的相机，指向相同的方向。</p><p id="27b0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">概括地说，它们是如何工作的:</strong></p><h2 id="16e6" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">结构光传感器</h2><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff nz"><img src="../Images/c733ddfa9d69bb98227ae73ce09a0213.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/0*e6QE_hO4HqcI2LSA."/></div></figure><p id="d7e9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">结构光传感的工作原理是将红外光图案投射到3D表面上，并使用扭曲来重建表面轮廓。</p><h2 id="cf4e" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">飞行时间传感器</h2><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff oa"><img src="../Images/121c98059f7710e268bd1e9d6d33b948.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*vHUeJTpmkOiQDn19."/></div></figure><p id="c218" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这种传感器的工作原理是发射快速脉冲的红外光，这些红外光被其视野内的物体反射。图像传感器使用反射光的延迟来计算每个像素的深度。</p><h2 id="a2ca" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">立体摄像机</h2><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff oa"><img src="../Images/a610b1058e445b47dc592336095d3951.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*7BmF3qf7hgUtTWGK."/></div></figure><p id="26ae" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">立体摄像机通过测量相隔固定距离放置的两个摄像机之间的像素位移来模拟人类的双目视觉，并使用它来三角测量场景中各点的距离。</p><p id="ac04" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当然，所有这些传感器都有其局限性。基于红外的传感器，如，在户外工作就比较困难，因为明亮的阳光(大量的红外)会洗掉或者给测量增加噪声。立体相机在户外工作没有问题，功耗更低，但它们在光线充足的地区工作得最好，有很多功能和鲜明的对比。</p><blockquote class="kt"><p id="721c" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated">要迷惑一台立体摄像机，你只需将它对准一面平坦的白墙。</p></blockquote><p id="3219" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">由于所有这些传感器都是基于像素的测量，因此测量中的任何噪声或误差都会在深度图像中产生空洞。此外，在今天的手机和耳机设备的大小和容量下，迄今为止实现的最大范围约为<strong class="jx hv">3-4米</strong>。</p><p id="bc70" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">下图是一个用立体相机创建的深度图的例子。颜色代表离相机的距离。看看近距离的测量结果如何好，而远处的物体噪音太大或被忽略？</strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff ob"><img src="../Images/abf5a9d3fd0449fb94489227e1be0486.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MbdtMaF_-bkQxsEW9KOp5g.jpeg"/></div></div></figure><p id="0440" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">3D感知并不仅限于深度感应。下一步是获取2D深度图像，并将其转换为3D点云模型，其中深度图像中的每个像素都获得了相对于相机的3D位置。</p><p id="fa51" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">接下来，所有相机相对点云与相机运动的估计融合，以创建传感器周围世界的3D点云地图。</p><p id="b6b5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">下面的视频展示了完整的点云制图过程。</strong></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oc od l"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Mapping an museum exhibit in 3D - From a real project we worked on at Placenote.</figcaption></figure><p id="647c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在你已经理解了3D感知的完整流程，让我们看看这是如何转化为实现遮挡的。</p></div><div class="ab cl nn no hc np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hn ho hp hq hr"><h1 id="390d" class="mn lj hu bd lk mo nu mq lo mr nv mt ls ja nw jb lv jd nx je ly jg ny jh mb mx dt translated">使用深度传感器数据进行遮挡</h1><p id="7709" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">有几种方法可以使用3D深度信息来遮挡虚拟对象。</p><h2 id="1054" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">方法1</h2><p id="5892" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated"><strong class="jx hv">直接使用来自传感器的2D深度图。</strong></p><p id="b9d9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在这种方法中，我们对齐相机图像和深度图，并隐藏应该在深度图的任何像素后面的场景部分。这种方法实际上不需要完全的3D重建，因为它只使用深度图像。</p><p id="fa06" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这使它更快，但有几个问题:</p><ol class=""><li id="6a93" class="my mz hu jx b jy jz kb kc ke oe ki of km og kq nd ne nf ng dt translated">该传感器只能探测到4米远的物体。再远就不会被遮挡了。</li><li id="ad03" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated">深度图有<strong class="jx hv">个洞</strong>并且不完美</li><li id="681e" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated">深度图的分辨率比相机低得多，这意味着缩放和对齐两幅图像将为遮挡创建<strong class="jx hv">像素化的锯齿状边缘</strong>。</li></ol><p id="4fbc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">下面的视频是一个基于深度图的遮挡例子。注意红色立方体移动时遮挡遮罩的不规则性。</strong></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oh od l"/></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Occlusion masking done with a simple depth map.</figcaption></figure><h2 id="c0a3" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">方法2</h2><p id="5450" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated"><strong class="jx hv">重建并使用三维点云模型。</strong></p><p id="df18" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">由于点云是真实世界的几何精确地图，我们可以用它来创建遮挡遮罩。请注意，点云本身并不足以进行遮挡，但是可以处理点云来创建网格，这些网格基本上将曲面拟合到点图上(就像覆盖3D点云的毯子)。</p><blockquote class="kt"><p id="3bc7" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated">网格的计算量比点云少得多，并且是计算(如检测3D游戏中的碰撞)的首选机制。</p></blockquote><figure class="oj ok ol om on jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff oi"><img src="../Images/bf15b1294e2c95d4e04784cb4afe9bc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iuSAmeBa0EZ1hyAG."/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Environment mesh created with a Microsoft Hololens</figcaption></figure><p id="f17f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这个网格现在可以用来创建我们需要的透明遮罩来遮挡场景中的虚拟元素。</p><p id="4730" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">听起来我们已经有了一个足够好的遮挡解决方案！那么问题出在哪里？</p><h1 id="d88e" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">如今增强现实设备的问题是</h1><p id="ca88" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">我认为今天具有最令人印象深刻的跟踪和地图功能的3种AR设备是<strong class="jx hv">谷歌Tango、微软Hololens、</strong>和<strong class="jx hv">苹果iPhone x。</strong>下面是它们的传感器相互对比的情况。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff oo"><img src="../Images/5bbdfce5ed13d3a30e59eedba788f848.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KBkpU7D_QrUzfebKTeI3jQ.png"/></div></div></figure><p id="e841" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">谷歌Tango(已被谷歌停产)<br/> </strong> <em class="ks">深度传感器——红外飞行时间<br/>范围——4m</em></p><p id="bcc2" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">微软Hololens <br/> </strong> <em class="ks">深度传感器—红外飞行时间<br/>范围— 4m </em></p><p id="3308" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">苹果iPhone X <br/> </strong> <em class="ks">前向深度传感器— </em> <a class="ae kr" href="https://www.extremetech.com/mobile/255771-apple-iphone-x-truedepth-camera-works" rel="noopener ugc nofollow" target="_blank"> <em class="ks"> IR结构光</em> </a> <em class="ks"> <br/>后向深度传感器—立体摄像头<br/>范围— 4m </em></p><p id="5659" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">上述所有系统的主要问题在于，在深度感测方面，它们有:</strong></p><ol class=""><li id="7c5a" class="my mz hu jx b jy jz kb kc ke oe ki of km og kq nd ne nf ng dt translated"><strong class="jx hv">范围差(&lt; 4m): </strong>移动设备的尺寸和功率限制限制了红外和立体深度传感器的范围。</li><li id="405c" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated"><strong class="jx hv">低分辨率:</strong>场景中较小的物体在点云中不可分辨，很难获得清晰可靠的遮挡表面。</li><li id="5372" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated"><strong class="jx hv">缓慢的网格重建:</strong>当前从点云生成网格的方法对于这些设备上的实时遮挡来说太慢了。</li></ol><blockquote class="kt"><p id="8f06" class="ku kv hu bd kw kx op oq or os ot kq ek translated">目前，从点云生成网格对于任何平板电脑或耳机设备上的实时遮挡来说都不够快。</p></blockquote><p id="c5d1" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">那么，今天的开发人员如何拼凑出一个合理的解决方案来解决这些问题呢？</p><h1 id="e01d" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">今天怎么黑闭塞？</h1><p id="279d" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">完美的遮挡是一个难以捉摸的目标，但我们可以在某些情况下接近它，特别是当我们可以<strong class="jx hv">放松实时约束</strong>的时候。</p><p id="e1fc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果应用程序允许预映射环境，可以使用预构建的网格作为场景中较大突出对象的遮挡遮罩，前提是它们不移动。</p><p id="01c3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这意味着你不局限于深度传感器的4米范围，至少对于静态对象后面的遮挡。</p><p id="7d43" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">移动物体仍然是一个问题，现在唯一的解决方案是使用深度图遮罩方法来处理近距离移动物体<strong class="jx hv">比如你的手。</strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff oi"><img src="../Images/414efe421299b35d4c15e10454e49b13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*um_NBg7W5xsOAa5A."/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">A sample 3D environment mesh built by pre-mapping an indoor space</figcaption></figure><p id="a345" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在，从上面的示例网格可以清楚地看出，预构建网格的一个大问题是，尽管它们比点云轻，但它们会导致3D内容的复杂性增加十倍以上。</p><blockquote class="kt"><p id="ddea" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated">简化3D网格的方法是用更简单的对象(如包围复杂结构的墙和块)来近似其结构。</p></blockquote><p id="cd9f" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">在Placenote，我们已经在AR 建立了大型博物馆的导游，我们破解occlusion的方法是<strong class="jx hv">手动绘制平面来覆盖空间中可能会妨碍我们虚拟内容的特定墙壁。</strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff ou"><img src="../Images/9997b6efaef3b2b0fcaf442cbd7bed85.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jGbsAPwnxAJbGy5vhppggA.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">A Unity scene that shows how we hacked Occlusion at Placenote. <a class="ae kr" href="https://placenote.com" rel="noopener ugc nofollow" target="_blank">Visit placenote (https://placenote.com)</a></figcaption></figure><h2 id="4532" class="li lj hu bd lk ll lm ln lo lp lq lr ls ke lt lu lv ki lw lx ly km lz ma mb mc dt translated">这是一个在Google Tango上使用高质量的预建环境网格进行遮挡的例子。</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oh od l"/></div></figure><p id="c81b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">当然，这种方法假设开发者或用户在AR会话之前会花时间绘制环境地图。</strong></p><p id="7615" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">由于这对于普通用户来说可能有点难以承受，所以它可能在基于位置的AR体验中工作得最好<a class="ae kr" href="https://placenote.com/blog/2018/01/15/location-based-augmented-reality/" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv"/></a>，其中地图可以由开发人员预先构建。</p><p id="193e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在一个极端的场景中，你可能想要在一个大得多的尺度上遮挡AR体验，比如渲染一只恐龙在纽约市的建筑物中行走。也许，这样做的方法是使用来自谷歌地图或地图盒等服务的已知建筑物3D模型来创建城市尺度的遮挡表面。</p><p id="8429" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们在Sturfee的朋友已经建立了一种独特的方式来创建城市规模的增强现实体验，使用卫星图像来重建大型建筑和静态结构。Sturfee的黄生在这里写了关于他们平台的文章。</p><p id="2a68" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当然，这意味着你需要能够在3D中精确定位设备，这在那个尺度上是相当具有挑战性的。<strong class="jx hv"> GPS定位对于遮挡来说根本不够好，因为它很慢(1Hz)并且非常不准确(测量误差为5-20米)。</strong></p><p id="2775" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ks">事实上，室内和室外的厘米级位置跟踪是遮挡的一个关键组成部分，通过我们与</em><a class="ae kr" href="https://placenote.com/" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv"><em class="ks">place note</em></strong></a><em class="ks">的合作，我们正在努力开发一种基于云的视觉定位系统</em>  <em class="ks">，它可以解决其中的一些问题。</em></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff oi"><img src="../Images/d8d2b68bc46dfa30148b621bd01ce9e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DJPyPv-4XhtFOL2A."/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Occluding buildings is a crazy idea. Or is it? We already have 3D maps (like Google maps) that could be used for Occlusion.</figcaption></figure></div><div class="ab cl nn no hc np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hn ho hp hq hr"><h1 id="be6c" class="mn lj hu bd lk mo nu mq lo mr nv mt ls ja nw jb lv jd nx je ly jg ny jh mb mx dt translated">未来是什么样子的？</h1><p id="ec5f" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">虽然预先构建的网格对于绑定到单个位置的AR体验来说非常好，但遮挡移动对象仍然需要在大于4米的范围内进行即时深度测量。</p><blockquote class="kt"><p id="f630" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated">创建逼真的AR体验所需的是一个传感器，它可以产生接近无限范围的高分辨率深度图。</p></blockquote><p id="680f" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">传感硬件的改进肯定有助于从红外或立体传感器获得更大的分辨率和范围，但这些改进可能会遇到天花板，并在不久的将来产生递减的回报。</p><p id="1fe2" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">有趣的是，3D传感研究中出现了一种替代方法，通过利用深度学习来提高3D重建的速度和质量，将这种硬件问题转化为软件问题。</strong></p><blockquote class="kt"><p id="06e4" class="ku kv hu bd kw kx ky kz la lb lc kq ek translated">神经网络可能是未来解决闭塞的关键。</p></blockquote><p id="5fbb" class="pw-post-body-paragraph jv jw hu jx b jy ld iv ka kb le iy kd ke lf kg kh ki lg kk kl km lh ko kp kq hn dt translated">这种方法使用神经网络，可以在场景中挑选出视觉线索来估计3D结构，就像我们人类估计距离的方式一样。(即通过使用我们对现实世界中事物大小的一般知识来猜测距离。这些网络在大型图像数据集上接受训练，能够分割出场景中的对象，然后识别它们以估计深度。</p><p id="42a6" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这意味着，如果我们能够<a class="ae kr" href="https://hackernoon.com/tagged/design" rel="noopener ugc nofollow" target="_blank">设计</a>神经网络，并在足够好的数据集上训练它们，我们可能能够绕过当前深度传感技术中存在的分辨率和范围的许多限制，而不会增加硬件成本。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff ox"><img src="../Images/1d311230371740a041d39b0be970f33d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iNPNw1Ygo-jruKN5."/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Neural network scene segmentation (<a class="ae kr" href="http://www.ais.uni-bonn.de/papers/KI_2014_Hoeft_RGB-D_Semantic_Segmentation.pdf" rel="noopener ugc nofollow" target="_blank">http://www.ais.uni-bonn.de/papers/KI_2014_Hoeft_RGB-D_Semantic_Segmentation.pdf</a>)</figcaption></figure><p id="f7b9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">上面的图像来自一篇论文，该论文探索了使用神经网络结合深度传感器来分割和标记场景的方法，以提高生成的地图的质量。</p><p id="efde" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">你可以在这里找到论文的全文。</p><h1 id="4857" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">概括起来</h1><ol class=""><li id="d75f" class="my mz hu jx b jy md kb me ke na ki nb km nc kq nd ne nf ng dt translated">到目前为止，遮挡是ar拼图中最大的一块，因为它朝着AR体验的真实性迈出了最大的一步。</li><li id="2c2d" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated">今天的深度传感器太慢，范围有限，实时遮挡的分辨率低。</li><li id="4f2e" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated">你可以通过在预先构建环境网格的区域中构建AR应用来绕过这些限制。<br/> <a class="ae kr" href="https://placenote.com" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> <em class="ks">试用Placenote SDK构建基于位置的AR体验。</em> </strong> </a></li><li id="9aef" class="my mz hu jx b jy nh kb ni ke nj ki nk km nl kq nd ne nf ng dt translated">未来解决深度传感器的范围和速度限制的关键可能是深度学习，这种方法已经显示出有希望的结果。</li></ol><p id="7a21" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你是一个新的AR开发者，正在寻找建立引人注目的AR体验，不要让遮挡阻止你。还记得口袋妖怪Go吗？Pokemon Go中糟糕的遮挡导致了一些搞笑的AR截图，这些截图传遍了互联网，并帮助了游戏的迅速崛起。</p><p id="064e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">所以好好享受吧！</p><p id="d671" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">如果您想在iOS或Unity上构建令人惊叹的AR体验，请与我们合作，或者加入我们的团队，让我们一起来吧！</strong></p><p id="798c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">联系我</strong><a class="ae kr" href="mailto:neil@vertical.ai" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv">Neil @ vertical . ai</strong></a></p><h1 id="5007" class="mn lj hu bd lk mo mp mq lo mr ms mt ls ja mu jb lv jd mv je ly jg mw jh mb mx dt translated">我们是谁？</h1><p id="766f" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">我们正在为持久、共享的增强现实体验构建一个SDK。我们称之为<a class="ae kr" href="https://placenote.com" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> Placenote SDK </strong> </a>。</p><p id="bdbb" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ks">特别感谢</em> <a class="ov ow gr" href="https://medium.com/u/c94b43f230b6?source=post_page-----7bc8041607f9--------------------------------" rel="noopener" target="_blank"> <em class="ks">黄生</em></a><em class="ks"/><a class="ov ow gr" href="https://medium.com/u/5faacc2a4dd3?source=post_page-----7bc8041607f9--------------------------------" rel="noopener" target="_blank"><em class="ks">多米尼克斯·鲍尔</em></a><em class="ks"/><a class="ov ow gr" href="https://medium.com/u/7f91547ce9c9?source=post_page-----7bc8041607f9--------------------------------" rel="noopener" target="_blank"><em class="ks">大卫·斯穆克</em> </a> <em class="ks">和</em> <a class="ov ow gr" href="https://medium.com/u/42e641330078?source=post_page-----7bc8041607f9--------------------------------" rel="noopener" target="_blank"> <em class="ks">彼得·费尔德</em> </a> <em class="ks">帮助审阅本文！</em></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oy od l"/></div></figure></div></div>    
</body>
</html>