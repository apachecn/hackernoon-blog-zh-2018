<html>
<head>
<title>Building GitHub Profile Analytics using React || PART 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React构建GitHub概要分析||第1部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/building-github-profile-analytics-using-react-part-1-37e03b0c3366?source=collection_archive---------21-----------------------#2018-02-12">https://medium.com/hackernoon/building-github-profile-analytics-using-react-part-1-37e03b0c3366?source=collection_archive---------21-----------------------#2018-02-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="b04e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一篇逐步介绍如何使用<a class="ae jp" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank"> React </a>为<a class="ae jp" href="https://hackernoon.com/tagged/github" rel="noopener ugc nofollow" target="_blank"> GitHub </a>概要文件构建一个<strong class="it hv">基本</strong>分析工具的文章。重点是快速实现功能，因此最终结果确实需要进一步的代码重构和样式化。文章由两部分组成(<a class="ae jp" rel="noopener" href="/@dmitryrastorguev/building-github-profile-analytics-using-react-part-1-37e03b0c3366">第1部分</a>、<a class="ae jp" rel="noopener" href="/@dmitryrastorguev/building-github-profile-analytics-using-react-part-2-bc1adc640e25">第2部分</a>)，基于下面的<a class="ae jp" href="https://github.com/drastorguev/github-analytics-react" rel="noopener ugc nofollow" target="_blank"> GitHub </a>库。也是在这个<a class="ae jp" href="http://github-analytics-react.s3-website.eu-west-2.amazonaws.com/" rel="noopener ugc nofollow" target="_blank">网站</a>托管的。请注意，存储库和网站都将超越这两篇文章。</p></div><div class="ab cl jq jr hc js" role="separator"><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv jw"/><span class="jt bw bk ju jv"/></div><div class="hn ho hp hq hr"><p id="384f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">开始加载create-react-app(假设已经安装了npm和create react app)</p><p id="6deb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh jx jy jz ka b">create-react-app github_analytics</code></p><p id="9de2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦完成，用<code class="eh jx jy jz ka b">cd github_analytics</code>改变目录并输入<code class="eh jx jy jz ka b">npm start</code>来检查一切是否正常。您应该会在浏览器中看到以下页面。</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div class="fe ff kb"><img src="../Images/4842e7d02e9ddf1e8543268cd6713842.png" data-original-src="https://miro.medium.com/v2/resize:fit:1062/format:webp/1*Q0TXRC9qdbC1RhUHlnMuQQ.png"/></div></figure><p id="d9ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先删除以下文件:<code class="eh jx jy jz ka b">logo.svg</code>、<code class="eh jx jy jz ka b">index.css</code>、<code class="eh jx jy jz ka b">App.css</code>。将<code class="eh jx jy jz ka b">App.js</code>名称改为<code class="eh jx jy jz ka b">App.jsx</code>(别忘了它在<code class="eh jx jy jz ka b">App.test.jsx</code>和<code class="eh jx jy jz ka b">index.js</code>中的导入)。也偶然其内容为如下:</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="013e" class="kn ko hu ka b fv kp kq l kr ks">import React, { Component } from 'react';</span><span id="a326" class="kn ko hu ka b fv kt kq l kr ks">class App extends Component {<br/>  render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        &lt;header className="App-header"&gt;<br/>          &lt;h1 className="App-title"&gt;GitHub Analytics&lt;/h1&gt;<br/>        &lt;/header&gt;<br/>        &lt;p className="App-intro"&gt;<br/>          Watch this space...<br/>        &lt;/p&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="26da" class="kn ko hu ka b fv kt kq l kr ks">export default App;</span></pre><p id="31e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在<code class="eh jx jy jz ka b">src</code>中创建子文件夹<code class="eh jx jy jz ka b">components</code>。在这里，我们创建第一个组件<code class="eh jx jy jz ka b">Button.jsx</code>,如下所示:</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="ab93" class="kn ko hu ka b fv kp kq l kr ks">import React from 'react';</span><span id="707a" class="kn ko hu ka b fv kt kq l kr ks">const Button = (props) =&gt; {<br/>    return (<br/>        &lt;button className='button' onClick={()=&gt;{props.handleClick()}}&gt;Search&lt;/button&gt;<br/>    )<br/>  };</span><span id="97d0" class="kn ko hu ka b fv kt kq l kr ks">export default Button;</span></pre><p id="e603" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将<code class="eh jx jy jz ka b">App.jsx</code>调整到以下位置:</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="a4c2" class="kn ko hu ka b fv kp kq l kr ks">import React, { Component } from 'react';<br/>import Button from './components/Button.jsx';</span><span id="8652" class="kn ko hu ka b fv kt kq l kr ks">class App extends Component {<br/>  constructor() {<br/>    super();<br/>    this.handleClick = this.handleClick.bind(this)<br/>  }</span><span id="737d" class="kn ko hu ka b fv kt kq l kr ks">handleClick(e) {<br/>    alert("The button was clicked");<br/>  }</span><span id="23b0" class="kn ko hu ka b fv kt kq l kr ks">render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        &lt;header className="App-header"&gt;<br/>          &lt;h1 className="App-title"&gt;GitHub Analytics&lt;/h1&gt;<br/>        &lt;/header&gt;<br/>        &lt;p className="App-intro"&gt;<br/>          Watch this space...<br/>        &lt;/p&gt;<br/>        &lt;Button handleClick={this.handleClick}/&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="f6a5" class="kn ko hu ka b fv kt kq l kr ks">export default App;</span></pre><p id="0b93" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当按下<code class="eh jx jy jz ka b">Search</code>按钮时，这将导致<code class="eh jx jy jz ka b">The button was clicked!</code>报警。</p><p id="2d44" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来我们需要运行<code class="eh jx jy jz ka b">npm install axios -save</code>。这将安装axios，它允许发出HTTP请求。安装后，<code class="eh jx jy jz ka b">App.jsx</code>需要更改为:</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="7fc8" class="kn ko hu ka b fv kp kq l kr ks">import React, { Component } from 'react';<br/>import Button from './components/Button.jsx';<br/>import axios from 'axios';</span><span id="ca7f" class="kn ko hu ka b fv kt kq l kr ks">class App extends Component {<br/>  constructor() {<br/>    super();<br/>    this.state = {<br/>      username: 'No username',<br/>      info: ''<br/>    }<br/>    this.handleClick = this.handleClick.bind(this)<br/>  }</span><span id="288a" class="kn ko hu ka b fv kt kq l kr ks">handleClick(e) {<br/>    axios.get('<a class="ae jp" href="https://api.github.com/users/drastorguev'" rel="noopener ugc nofollow" target="_blank">https://api.github.com/users/drastorguev'</a>)<br/>    .then(response =&gt; this.setState({<br/>      username: response.data.login,<br/>      info : JSON.stringify(response.data, undefined, 2)<br/>    }));<br/>  }</span><span id="6ab5" class="kn ko hu ka b fv kt kq l kr ks">render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        &lt;header className="App-header"&gt;<br/>          &lt;h1 className="App-title"&gt;GitHub Analytics&lt;/h1&gt;<br/>        &lt;/header&gt;<br/>        &lt;p className="App-intro"&gt;<br/>          Watch this space...<br/>        &lt;/p&gt;<br/>        &lt;Button handleClick={this.handleClick}/&gt;<br/>        &lt;p&gt;&lt;b&gt;Username:&lt;/b&gt;&lt;/p&gt;<br/>        &lt;p&gt;{this.state.username}&lt;/p&gt;<br/>        &lt;b&gt;Information:&lt;/b&gt;<br/>        &lt;pre&gt;{this.state.info}&lt;/pre&gt;<br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="7b7d" class="kn ko hu ka b fv kt kq l kr ks">export default App;</span></pre><p id="84c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这导致我的GitHub帐户的数据被自动收集。</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="fe ff ku"><img src="../Images/30c4b8c428e89f2774fe30def5893ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rfx2drNvWlRyH3sYwomsFg.png"/></div></div></figure><p id="f9f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，我们将用一个表单替换<code class="eh jx jy jz ka b">Search</code>按钮，允许用户通过用户名搜索GitHub。为此，我们首先需要创建<code class="eh jx jy jz ka b">Form.jsx</code>组件。</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="adb5" class="kn ko hu ka b fv kp kq l kr ks">import React from 'react';</span><span id="ebc1" class="kn ko hu ka b fv kt kq l kr ks">const Form = (props) =&gt; {<br/>  return (</span><span id="f90f" class="kn ko hu ka b fv kt kq l kr ks">&lt;form onSubmit={(event) =&gt; props.handleUserFormSubmit(event)}&gt;<br/>      &lt;label&gt;<br/>        &lt;p&gt;Search:&lt;/p&gt;<br/>        &lt;input name="username"<br/>        type="text"<br/>        placeholder="GitHub username"<br/>        required<br/>        value={props.formData.username}<br/>        onChange={props.handleFormChange}<br/>      /&gt;<br/>      &lt;/label&gt;<br/>      &lt;div&gt;<br/>      &lt;input<br/>        type="submit"<br/>        value="Submit"<br/>      /&gt;<br/>    &lt;/div&gt;<br/>    &lt;/form&gt;</span><span id="8d7f" class="kn ko hu ka b fv kt kq l kr ks">)};</span><span id="310c" class="kn ko hu ka b fv kt kq l kr ks">export default Form;</span></pre><p id="d474" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，<code class="eh jx jy jz ka b">App.jsx</code>也需要更换如下:</p><pre class="kc kd ke kf fq kj ka kk kl aw km dt"><span id="1b27" class="kn ko hu ka b fv kp kq l kr ks">import React, { Component } from 'react';<br/>import axios from 'axios';</span><span id="8108" class="kn ko hu ka b fv kt kq l kr ks">import Form from './components/Form.jsx';</span><span id="f632" class="kn ko hu ka b fv kt kq l kr ks">class App extends Component {<br/>  constructor() {<br/>    super();<br/>    this.state = {<br/>      gitun: 'No username',<br/>      info: '',<br/>      formData: {<br/>        username: '',<br/>      }<br/>    }<br/>    this.handleUserFormSubmit = this.handleUserFormSubmit.bind(this);<br/>    this.handleFormChange= this.handleFormChange.bind(this);<br/>  }</span><span id="df1b" class="kn ko hu ka b fv kt kq l kr ks">handleUserFormSubmit(event) {<br/>    event.preventDefault();<br/>    axios.get('<a class="ae jp" href="https://api.github.com/users/'+this.state.formData.username" rel="noopener ugc nofollow" target="_blank">https://api.github.com/users/'+this.state.formData.username</a>)<br/>    .then(response =&gt; this.setState({<br/>      gitun: response.data.login,<br/>      info : JSON.stringify(response.data, undefined, 2)<br/>    })).catch((err) =&gt; { console.log(err); });<br/>  };</span><span id="6dd3" class="kn ko hu ka b fv kt kq l kr ks">handleFormChange(event) {<br/>    const obj = this.state.formData;<br/>    obj[event.target.name] = event.target.value;<br/>    this.setState(obj);<br/>  };</span><span id="dd4e" class="kn ko hu ka b fv kt kq l kr ks">render() {<br/>    return (<br/>      &lt;div className="App"&gt;<br/>        &lt;header className="App-header"&gt;<br/>          &lt;h1 className="App-title"&gt;GitHub Analytics&lt;/h1&gt;<br/>        &lt;/header&gt;<br/>        &lt;p className="App-intro"&gt;<br/>          Watch this space...<br/>        &lt;/p&gt;<br/>        &lt;Form<br/>          formData={this.state.formData}<br/>          handleUserFormSubmit={this.handleUserFormSubmit}<br/>          handleFormChange={this.handleFormChange}<br/>        /&gt;<br/>        &lt;p&gt;&lt;b&gt;Username:&lt;/b&gt;&lt;/p&gt;<br/>        &lt;p&gt;{this.state.gitun}&lt;/p&gt;<br/>        &lt;b&gt;Information:&lt;/b&gt;<br/>        &lt;pre&gt;{this.state.info}&lt;/pre&gt;</span><span id="7ff5" class="kn ko hu ka b fv kt kq l kr ks">&lt;/div&gt;<br/>    );<br/>  }<br/>}</span><span id="48f1" class="kn ko hu ka b fv kt kq l kr ks">export default App;</span></pre><p id="5cd2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你的页面应该看起来像下面的截图。</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="fe ff kz"><img src="../Images/8a74b1192a424456b3c468d272de4190.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQTGoiD-avMbyyNHIIepNg.png"/></div></div></figure><p id="be67" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在能够从GitHub API请求任何数据，并在我们的网页上显示它。因此，<a class="ae jp" rel="noopener" href="/@dmitryrastorguev/building-github-profile-analytics-using-react-part-1-37e03b0c3366">第一部</a>到此结束。在<a class="ae jp" rel="noopener" href="/@dmitryrastorguev/building-github-profile-analytics-using-react-part-2-bc1adc640e25">第2部分</a>中，我们将添加3个不同的部分:基本信息、最受欢迎和星级回购列表，最后，分析用户自己的回购中最常见的语言，并为星级回购生成关键字。</p><p id="3934" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请在GitHub的网站上随时关注这个项目的进展。</p><figure class="kc kd ke kf fq kg fe ff paragraph-image"><div role="button" tabindex="0" class="kv kw di kx bf ky"><div class="fe ff la"><img src="../Images/4f410acba189eef1479b53178573bd4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WhUkymHMzeMTlzDm1tEiEQ.jpeg"/></div></div></figure><figure class="kc kd ke kf fq kg"><div class="bz el l di"><div class="lb lc l"/></div></figure></div></div>    
</body>
</html>