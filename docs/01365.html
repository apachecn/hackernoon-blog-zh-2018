<html>
<head>
<title>How to build a Tour Diary App using Next.js and Cosmic JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Next.js和Cosmic JS搭建一个旅游日记App</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-tour-diary-app-using-next-js-and-cosmic-js-bd2daddb1fc5?source=collection_archive---------29-----------------------#2018-02-12">https://medium.com/hackernoon/how-to-build-a-tour-diary-app-using-next-js-and-cosmic-js-bd2daddb1fc5?source=collection_archive---------29-----------------------#2018-02-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/91395d9f487b45c7e86fb6bd20632d04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*oLqLLHTm_jxC77kI."/></div></div></figure><p id="ae58" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本教程中，我将向大家展示如何使用<a class="ae ka" href="https://github.com/zeit/next.js/" rel="noopener ugc nofollow" target="_blank"> Next </a>、Redux、<a class="ae ka" href="https://ant.design/docs/react/introduce" rel="noopener ugc nofollow" target="_blank"> Ant design </a>和<a class="ae ka" href="https://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>创建一个旅游日记app。它将涵盖使用Cosmic JS进行CRUD的所有可用选项。</p><h1 id="5fe9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="1691" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://github.com/cosmicjs/next.js-tour-diary" rel="noopener ugc nofollow" target="_blank">下载GitHub回购。</a> <br/> <a class="ae ka" href="https://cosmicjs.com/apps/nextjs-tour-diary" rel="noopener ugc nofollow" target="_blank">查看演示。</a></p><h1 id="2a11" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">先决条件</h1><p id="f02a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">在启动之前，您需要安装节点JS和npm。确保您已经安装了它们。</p><h1 id="b81b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">开始使用:</h1><p id="f429" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">首先，我们将在Cosmic JS中设置桶。</p><p id="f7c5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">设置桶:<br/> </strong>要创建桶，登录<a class="ae ka" href="http://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>，点击添加‘新桶’。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/cea56732ffe8b3b12420c41fe6497f45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*tSR0LcucOPmgpq-C.png"/></div></div></figure><p id="f9e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">选择从头开始。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/9e75566ef01814ea45dbd7859168ea93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OyXKdXaorMgKIt0_.png"/></div></div></figure><p id="e984" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">导入桶数据:<br/> </strong>下载此<a class="ae ka" href="https://github.com/cosmicjs/next.js-tour-diary/blob/master/bucket.json" rel="noopener ugc nofollow" target="_blank"> bucket.json </a>文件。并在设置- &gt;导入/导出数据中，点击“添加导入文件”并选择下载的文件。它将导入所有对象类型和所需数据。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/cc6992b9711475f025b313682eff95df.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*zECKpB1rK0Mi7rw4.png"/></div></div></figure><p id="549d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们将致力于应用。</p><p id="bbbc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用现有的git repo做任何事情</p><p id="af0d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您需要在您的系统中安装git，以便克隆存储库。完成后，通过终端或命令行运行以下命令:</p><pre class="lf lg lh li fq lj lk ll lm aw ln dt"><span id="2589" class="lo kc hu lk b fv lp lq l lr ls">git clone https://github.com/cosmicjs/next.js-tour-diary<br/>cd next.js-tour-diary<br/>npm install<br/>npm run dev</span></pre><p id="9466" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> package.json </strong>会是这样的:</p><figure class="lf lg lh li fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><h1 id="4239" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">我们正在安装什么，为什么</h1><ol class=""><li id="f17c" class="lv lw hu je b jf kz jj la jn lx jr ly jv lz jz ma mb mc md dt translated">我们将使用<strong class="je hv">下一个</strong>和<strong class="je hv"> Redux </strong>库来创建组件，并在<strong class="je hv">下一个</strong>中管理状态。</li><li id="8d21" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv"> next-routes </strong>包在页面间导航。</li><li id="77ae" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们正在使用<strong class="je hv"> antd </strong>包来使用react组件创建漂亮的布局。我们使用<strong class="je hv"> babel-plugin-import，babel-plugin-inline-import，babel-plugin-transform-decorators-legacy</strong>来集成<strong class="je hv"> ant design </strong>和下一个的<strong class="je hv">。</strong></li><li id="9356" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们将使用<strong class="je hv"> cosmicjs </strong>库来处理我们对cosmicjs桶的请求。</li><li id="e8d3" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated"><strong class="je hv"> react-draft-wysiwyg </strong>用于编辑器&amp; <strong class="je hv"> draft-js </strong>，<strong class="je hv">不可变，已经安装了html-to-draftjs，draftjs-to-html，react-html-parser </strong>与其内容和状态交互。</li><li id="b904" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv">反应-中等-图像-缩放</strong>的图像缩放效果。</li><li id="17a7" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv">时刻</strong>进行时间和日期操作。</li><li id="4b6b" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv"> cross-env </strong>来设置环境变量，使用<strong class="je hv">babel-plugin-inline-dotenv</strong>通过创建<strong class="je hv">来设置它们。我们项目中的env </strong>文件。</li><li id="4e05" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv"> eslint </strong>和<strong class="je hv">eslint-config-rally codeing</strong>中的一组预定义规则来编码林挺。</li><li id="f970" class="lv lw hu je b jf me jj mf jn mg jr mh jv mi jz ma mb mc md dt translated">我们使用<strong class="je hv"> react-cookies </strong>来管理我们的<strong class="je hv"> redux存储</strong>，因为它在页面重载中被破坏了。</li></ol><h1 id="b5b0" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">构建我们的应用</h1><p id="980a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">一旦我们通过运行npm install安装完每个必需的包，让我们开始创建我们的应用程序。</p><p id="a444" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们通过在<strong class="je hv">Tour/TourDetailModal . js</strong>中创建一个文件并在其中添加以下代码来创建我们的<strong class="je hv"> TourDetailModal </strong>组件:</p><p id="2435" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> TourDetailModal.js </strong></p><figure class="lf lg lh li fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><p id="e11f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是最初出现在宇宙JS 上的文章<a class="ae ka" href="https://cosmicjs.com/articles/how-to-build-a-tour-diary-app-using-next-js-and-cosmic-js-jci5wyod" rel="noopener ugc nofollow" target="_blank">的缩略版。</a></p><p id="0ecb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">结论<br/> </strong>所以，这是一个涵盖了所有使用Cosmic JS npm包的Cosmic RESTful API场景的应用(CRUD)。我希望你喜欢这个教程。如果您有任何问题，请<a class="ae ka" href="https://twitter.com/cosmic_js" rel="noopener ugc nofollow" target="_blank">在Twitter </a>上联系宇宙JS，并加入Slack 上的<a class="ae ka" href="https://cosmicjs.com/community" rel="noopener ugc nofollow" target="_blank">宇宙JS社区。</a></p></div></div>    
</body>
</html>