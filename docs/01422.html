<html>
<head>
<title>How does CSS fit into Reactjs?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">CSS如何融入Reactjs？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-does-css-fit-into-react-5a4aa4840135?source=collection_archive---------2-----------------------#2018-02-14">https://medium.com/hackernoon/how-does-css-fit-into-react-5a4aa4840135?source=collection_archive---------2-----------------------#2018-02-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="748a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有许多不同的方式可以让你设计React应用程序，我甚至可以说，与传统的web应用程序相比，你实际上有更多的<strong class="it hv"><em class="jp"/></strong>选项来设计React应用程序。因此，不再赘述，让我们列出其中一些选项:</p><ul class=""><li id="2bb5" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">标准CSS</li><li id="54e4" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">内嵌样式</li><li id="8446" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">CSS模块</li><li id="7bf0" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">CSS-in-JS</li></ul><p id="402e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，让我们仔细看看其中的每一项。</p><h2 id="84bd" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated"><strong class="ak">标准CSS </strong></h2><p id="f666" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">这是传统的也是最常见的CSS编写方式。您创建一个<strong class="it hv"> <em class="jp"> style.css </em> </strong>文件，在其中添加您的所有样式，然后导入样式表并通过<code class="eh le lf lg lh b">className</code>或<code class="eh le lf lg lh b">id</code>属性在您的JSX中引用这些样式。</p><p id="5d56" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，您不必将样式限制在一个样式表中，您也可以将它们分成多个文件，放在它们应该面向的组件旁边。</p><p id="cee3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还要注意，你可以继续使用你日常使用的CSS库和框架，比如<strong class="it hv"> <em class="jp"> SASS </em> </strong>，<strong class="it hv"> <em class="jp"> LESS </em> </strong>，<strong class="it hv"> <em class="jp"> Bootstrap </em> </strong>，<strong class="it hv"> <em class="jp">语义UI </em> </strong>等等。同样，React不会以任何方式限制您。</p><h2 id="dff0" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">内嵌样式</h2><p id="09ac" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">内嵌样式是指通过<code class="eh le lf lg lh b">style</code>属性直接在HTML标记中编写CSS。在React中，使用JSX，看起来像这样:</p><p id="3119" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh le lf lg lh b">&lt;p style={{color: "red"}}&gt;Hello World&lt;/p&gt;</code></p><p id="7891" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就设计成熟的应用程序而言，内联样式可能是最受限制的方法，因为它们不能利用所有的CSS功能，如<strong class="it hv"> <em class="jp">伪选择器</em> </strong>、<strong class="it hv"> <em class="jp">动画</em> </strong>和<strong class="it hv"> <em class="jp">媒体查询</em> </strong>。</p><p id="04e5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在实践中，它们主要用于基本的样式修改，如基于条件的颜色切换，但我也听说过有人甚至公司将此作为他们唯一的样式机制。</p><p id="2b07" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">(请注意，有争议的是，内联样式也可以被认为是CSS-in-JS的一部分，因为从技术上讲，你确实是用React在JS文件内部编写它们。我选择将它们放在自己的类别中的原因是因为CSS-in-JS库通常比在style属性中编写样式更复杂——相反，它们引入了某种更高级别的抽象，您将在CSS-in-JS一节中看到这一点。)</em></p><h2 id="8b51" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">CSS模块</h2><p id="1d00" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">使用CSS模块，您可以为每种类型的组件创建一个CSS文件，就像您使用<em class="jp">“标准CSS”</em>选项一样，但是这里的不同之处在于，CSS模块的样式是在本地<strong class="it hv"><em class="jp"/></strong>范围内的，这意味着与<em class="jp">“标准CSS”</em>不同，它们<strong class="it hv">不会泄漏到其他组件</strong>。</p><p id="3030" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">局部作用域的样式也意味着您可以忘记实现您自己的局部作用域策略或者遵循诸如<a class="ae li" href="http://getbem.com" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"><em class="jp">BEM</em></strong></a>之类的方法，这些方法需要您手动创建并输入长的<code class="eh le lf lg lh b">class</code>或<code class="eh le lf lg lh b">id</code>名称。</p><p id="4851" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> <em class="jp">如何在React内使用:</em> </strong></p><p id="84e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用<code class="eh le lf lg lh b">webpack.config</code>中的<strong class="it hv"><em class="jp"/></strong>CSS-loader，将<code class="eh le lf lg lh b">modules</code>属性设置为<code class="eh le lf lg lh b">true</code>，或者下载一个完整的库，如<strong class="it hv"> <em class="jp"> css-modules </em> </strong>，安装后使用如下:</p><ul class=""><li id="e194" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">为您想要设置样式的任何组件创建一个CSS文件</li><li id="3139" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">编写您的CSS</li><li id="a4d3" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">将这个CSS文件导入目标组件内部</li><li id="5c94" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">通过组件的<code class="eh le lf lg lh b">className</code>和<code class="eh le lf lg lh b">id</code>属性在组件中引用这些样式</li></ul><p id="f9d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"><em class="jp">CSS模块是如何在幕后实现的？</em> </strong></p><p id="eaca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">CSS模块的工作方式是获取你的CSS文件并通过<strong class="it hv"> <em class="jp"> CSS模块编译器</em> </strong>运行它们，它做两件事:</p><ul class=""><li id="2705" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">修改CSS文件中的<code class="eh le lf lg lh b">class</code>和/或<code class="eh le lf lg lh b">id</code>名称，使它们唯一</li><li id="1afb" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">生成一个JS文件，其中包含新生成的名称和旧名称之间的映射</li></ul><p id="7eb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，您可以对CSS模块使用命名导入——您实际上不是导入您的CSS，而是导入由CSS模块编译器生成的JS。</p><h2 id="0b78" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">CSS-in-JS</h2><p id="60aa" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">顾名思义，CSS-in-JS是在JavaScript文件中编写CSS，而不是在CSS文件中编写，但是，如何编写和应用它们很大程度上取决于您使用的特定CSS-in-JS库。</p><p id="b76b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在后台，CSS-in-JS通常以以下三种方式之一实现<em class="jp">(或组合)</em>:</p><ul class=""><li id="dc45" class="jq jr hu it b iu iv iy iz jc js jg jt jk ju jo jv jw jx jy dt translated">通过内嵌样式</li><li id="a25f" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">通过<code class="eh le lf lg lh b">&lt;style&gt;</code>元件</li><li id="f0ed" class="jq jr hu it b iu jz iy ka jc kb jg kc jk kd jo jv jw jx jy dt translated">在构建时通过<code class="eh le lf lg lh b">&lt;link&gt;</code>元素将样式提取到CSS文件中</li></ul><p id="2218" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了不使文章过长，我们将只看一个CSS-in-JS实现，即<strong class="it hv"><em class="jp">styled-components</em></strong>，这也是最流行的实现之一。</p><p id="7407" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，在我们分析其工作原理之前，让我们先来看一个例子:</p><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="61e0" class="ke kf hu lh b fv lr ls l lt lu">import React, { Component } from "react";<br/>import styled from "styled-components";</span><span id="62f3" class="ke kf hu lh b fv lv ls l lt lu">const Wrapper = styled.div`<br/>  max-width: 600px;<br/>  margin: 0 auto;<br/>`;</span><span id="cc9f" class="ke kf hu lh b fv lv ls l lt lu">class HelloWorld extends Component {<br/>  render() {<br/>    return (<br/>      &lt;Wrapper&gt;<br/>        &lt;p&gt;Hello World&lt;/p&gt;<br/>      &lt;/Wrapper&gt;<br/>    );<br/>  }<br/>}</span></pre><p id="e803" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们来分解这个例子。在顶部，我们声明了一个名为<code class="eh le lf lg lh b">Wrapper</code>的变量，并要求<strong class="it hv"><em class="jp">styled-components</em></strong>创建并返回给我们一个<code class="eh le lf lg lh b">div</code> <strong class="it hv">组件</strong>，它由我们在反斜线中定义的样式组成——在本例中，我们要求它提供一个具有以下样式的<code class="eh le lf lg lh b">div</code>组件<code class="eh le lf lg lh b">max-width: 600px; margin: 0 auto;</code>。</p><p id="1856" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后我们将这个<code class="eh le lf lg lh b">Wrapper</code>组件添加到我们的<code class="eh le lf lg lh b">render</code>方法中，并像普通的<code class="eh le lf lg lh b">div</code>一样使用它。</p><p id="f101" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">简而言之，这里所发生的就是你告诉样式化组件你想要什么样的内置组件，以及它应该如何被样式化和样式化，组件把那个组件还给你。</p><p id="ec69" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">样式是如何在幕后应用的？T25】</p><p id="b0a5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">样式化组件依赖于<code class="eh le lf lg lh b">&lt;style&gt;</code>元素，所以在内部你可以把它想象成创建并附加<code class="eh le lf lg lh b">&lt;style&gt; <em class="jp">your styles</em> &lt;/style&gt;</code>到文档头部分。此外，由于它提供了局部风格的作用域，它负责生成和应用唯一的类名。</p><p id="2201" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了更好地形象化，让我们运行上面的代码片段，看看它被添加到DOM后会产生什么:</p><pre class="lj lk ll lm fq ln lh lo lp aw lq dt"><span id="519e" class="ke kf hu lh b fv lr ls l lt lu">...<br/>&lt;head&gt;<br/>  ...<br/>  &lt;style&gt;<br/>    /* sc-component-id: sc-bdVaJa */<br/>    .sc-bdVaJa {}<br/>    .brPdfu {<br/>      max-width: 600px;<br/>      margin: 0 auto;<br/>    }<br/>  &lt;/style&gt;<br/>&lt;/head&gt;</span><span id="d40c" class="ke kf hu lh b fv lv ls l lt lu">&lt;body&gt;<br/>  &lt;div id="app"&gt;<br/>    &lt;div class="sc-bdVaJa brPdfu"&gt;<br/>      &lt;p&gt;Hello World&lt;/p&gt;<br/>    &lt;/div&gt;<br/>  &lt;/div&gt;<br/>&lt;/body&gt;<br/>...</span></pre><p id="a9eb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如你所见，它看起来确实和我们预期的一样。唯一令人惊讶的是额外的空样式声明<code class="eh le lf lg lh b">.sc-bdVaJa {}</code>，基于它上面的注释<code class="eh le lf lg lh b">/* sc-component-id: sc-bdVaJa */</code>，它似乎暗示样式组件跟踪样式属于哪个组件——大概是为了某种内部性能优化或类似的事情。</p><p id="e39c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢你所看到的，你可能还想签出另一个非常相似的CSS-in-JS库，名为<strong class="it hv"> <em class="jp"> Emotion </em> </strong>，它与<strong class="it hv"><em class="jp">styled-components</em></strong>非常相似，但是在构建时，你可以选择将你所有的样式提取到一个CSS文件中，然后通过<code class="eh le lf lg lh b">&lt;link&gt;</code>元素链接到文档中。这为什么有用？因为生成的样式表可以被浏览器缓存。</p><p id="4613" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关于最流行的CSS-in-JS解决方案的完整列表，请参见这个<a class="ae li" href="https://github.com/MicheleBertoli/css-in-js" rel="noopener ugc nofollow" target="_blank"> github </a>资源库。</p><h2 id="6824" class="ke kf hu bd kg kh ki kj kk kl km kn ko jc kp kq kr jg ks kt ku jk kv kw kx ky dt translated">终点线</h2><p id="e413" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">恭喜你读到最后:)，感谢阅读，希望你学到有用的东西。推特:<a class="ae li" href="https://twitter.com/linasmnew" rel="noopener ugc nofollow" target="_blank"> linasmnew </a>。</p><figure class="lj lk ll lm fq lx fe ff paragraph-image"><div role="button" tabindex="0" class="ly lz di ma bf mb"><div class="fe ff lw"><img src="../Images/869c5d452dd1449429e9522e15835546.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8d4bSxyE4Hl5dfN4UuJe-w.jpeg"/></div></div></figure></div></div>    
</body>
</html>