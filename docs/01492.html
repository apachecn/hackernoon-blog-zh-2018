<html>
<head>
<title>Core Data Relationships</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">核心数据关系</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/core-data-relationships-d813ed66ba8c?source=collection_archive---------0-----------------------#2018-02-16">https://medium.com/hackernoon/core-data-relationships-d813ed66ba8c?source=collection_archive---------0-----------------------#2018-02-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="ed50" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">理解一对一和一对多关系</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/e1c297fdfdcc49cda23554510664b90f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7VXg6I088zuwNpmJ7EM9TQ.png"/></div></div></figure><p id="a625" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在我最近的项目  <strong class="jx hv">中工作</strong> <a class="ae kr" href="http://apple.co/2CrlXDf" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">时，我决定写一个关于<em class="ks">实体间核心数据关系的教程</em>。</strong></a></p><p id="bc6b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">持久存储已经成为今天发布的大多数iOS应用的重要组成部分。当我们谈论iOS中的持久性时，我们应该只考虑核心数据。这款强大的工具将为您提供出色的数据存储管理体验。</p><h1 id="078d" class="kt ku hu bd kv kw kx ky kz la lb lc ld ja le jb lf jd lg je lh jg li jh lj lk dt translated">核心数据关系示例</h1><p id="f6b9" class="pw-post-body-paragraph jv jw hu jx b jy ll iv ka kb lm iy kd ke ln kg kh ki lo kk kl km lp ko kp kq hn dt translated">出于本教程的目的，我已经创建了一个简单的项目，该项目具有处理一对一和一对多关系的核心数据实体。</p><p id="f5ba" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">该示例中创建了3个实体:</p><ol class=""><li id="338b" class="lq lr hu jx b jy jz kb kc ke ls ki lt km lu kq lv lw lx ly dt translated"><strong class="jx hv">人</strong> -这将是主要实体，将与<em class="ks">电话</em>和<em class="ks">朋友</em>实体有关系。</li><li id="c2ac" class="lq lr hu jx b jy lz kb ma ke mb ki mc km md kq lv lw lx ly dt translated"><strong class="jx hv">Phone</strong>——一个保存人的手机信息的实体。假设<em class="ks">人</em>只有一部手机，它将被用作<em class="ks">一对一</em>关系。</li><li id="6bca" class="lq lr hu jx b jy lz kb ma ke mb ki mc km md kq lv lw lx ly dt translated"><strong class="jx hv">朋友</strong>——一个保存所有人的朋友的实体。它将被用作一对多关系，假设这个人有不止一个朋友。</li></ol><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff me"><img src="../Images/fe3722374bb4bbd2366fa3a5939c6add.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KmbyBDJ7i8rJ6gSkTyheRg.png"/></div></div></figure><p id="b98e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">正如你在上面的截图中看到的，我已经创建了关系。我现在将向您解释如何正确地做到这一点(这非常简单)。👇</p><h2 id="ca87" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">一对一的关系(人-&gt;电话)</h2><p id="4a86" class="pw-post-body-paragraph jv jw hu jx b jy ll iv ka kb lm iy kd ke ln kg kh ki lo kk kl km lp ko kp kq hn dt translated">如果您已经创建了实体，我们可以继续创建人和电话之间的关系<em class="ks"> </em>。您需要添加3个值才能创建关系。</p><ol class=""><li id="f234" class="lq lr hu jx b jy jz kb kc ke ls ki lt km lu kq lv lw lx ly dt translated"><strong class="jx hv">关系</strong>——说出你们的关系。</li><li id="99e6" class="lq lr hu jx b jy lz kb ma ke mb ki mc km md kq lv lw lx ly dt translated"><strong class="jx hv">目的地</strong>——添加你想与之建立关系的实体(在我们的例子中是电话)。</li><li id="08d0" class="lq lr hu jx b jy lz kb ma ke mb ki mc km md kq lv lw lx ly dt translated"><strong class="jx hv">反向</strong> -从手机创建一个反向关系，并在Person下选择它。Apple建议您始终添加一个逆数值，因此千万不要将其留空。</li></ol><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/01c06066b5c887ece2735a9df05c7853.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*lyRZO4ll1jxynOJA-XGONQ.gif"/></div><figcaption class="mu mv fg fe ff mw mx bd b be z ek"><strong class="bd my">Part 1 (Person)</strong></figcaption></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/a2545209f1203f1432dae37ae0c6fde1.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*0XV1pTdP4TiEiJPRlJFSrQ.gif"/></div><figcaption class="mu mv fg fe ff mw mx bd b be z ek"><strong class="bd my">Part 2 (Phone)</strong></figcaption></figure><h2 id="40b6" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">密码</h2><p id="f3d4" class="pw-post-body-paragraph jv jw hu jx b jy ll iv ka kb lm iy kd ke ln kg kh ki lo kk kl km lp ko kp kq hn dt translated">每个实体都包含自己自动生成的<a class="ae kr" href="https://developer.apple.com/documentation/coredata/nsmanagedobject" rel="noopener ugc nofollow" target="_blank"> <em class="ks"> NSManagedObject </em> </a>代码，您可以在其中工作。这是核心数据先于其他数据的优势之一。</p><p id="3a87" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这里有一个例子，你可以如何在<em class="ks"> Person </em>和它的一对一关系(<em class="ks"> Phone </em>)中写。👇</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mz na l"/></div><figcaption class="mu mv fg fe ff mw mx bd b be z ek">Simple isn’t it?</figcaption></figure><h2 id="8460" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">一对多关系(人-&gt;朋友)</h2><p id="0f3b" class="pw-post-body-paragraph jv jw hu jx b jy ll iv ka kb lm iy kd ke ln kg kh ki lo kk kl km lp ko kp kq hn dt translated">我希望到目前为止你已经理解了人际关系是如何运作的。现在我们将更进一步，创建一个<em class="ks">一对多</em>关系。这个概念与<em class="ks">一对一</em>关系相同，只是有一些小的变化。</p><p id="98d6" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当创建一个<em class="ks">一对多</em>关系时，您必须从<strong class="jx hv"/><strong class="jx hv"/>数据模型检查器中将类型改为<strong class="jx hv"> <em class="ks">对多</em> </strong>。而<em class="ks">一对一</em>则不是这样，因为这种类型默认设置为<em class="ks"> </em> <strong class="jx hv"> <em class="ks">对一个</em></strong><em class="ks"/><em class="ks">。</em></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff mt"><img src="../Images/c20d6cedea9d624c310358fcf5277502.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*p9fOxbXPLgvWCr_yo5mEDw.gif"/></div></figure><h2 id="2252" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">密码</h2><p id="3f21" class="pw-post-body-paragraph jv jw hu jx b jy ll iv ka kb lm iy kd ke ln kg kh ki lo kk kl km lp ko kp kq hn dt translated">下面是一个例子，说明如何在<em class="ks"> Person </em>及其一对多关系(<em class="ks"> Friends </em>)中进行编写。👇</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mz na l"/></div></figure><p id="5946" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">NSManagedObject包含类似于<code class="eh nb nc nd ne b">addToFriends()</code>的通用方法，其中<em class="ks"> </em>你可以传递一个Friends对象或者一个Friends数组<em class="ks">。</em></p><blockquote class="nf ng nh"><p id="09ed" class="jv jw ks jx b jy jz iv ka kb kc iy kd ni kf kg kh nj kj kk kl nk kn ko kp kq hn dt translated"><strong class="jx hv">注意:</strong>由于预定义的上下文和核心数据保存方法，您在本教程中看到的代码是为了简化和提供更快的测试而在AppDelegate中编写的。</p></blockquote><h2 id="2ccc" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">我在我的最新项目中使用核心数据关系:</h2><div class="nl nm fm fo nn no"><a href="https://apple.co/2EIiDpI" rel="noopener  ugc nofollow" target="_blank"><div class="np ab ej"><div class="nq ab nr cl cj ns"><h2 class="bd hv fv z el nt eo ep nu er et ht dt translated">1x2赌注-足球提示和赔率</h2><div class="nv l"><h3 class="bd b fv z el nt eo ep nu er et ek translated">热门赔率每天，我们都会生成一份全球热门赔率列表。这些是下降最多的赔率…</h3></div><div class="nw l"><p class="bd b gc z el nt eo ep nu er et ek translated">apple.co</p></div></div><div class="nx l"><div class="ny l nz oa ob nx oc jt no"/></div></div></a></div><h2 id="50f3" class="mf ku hu bd kv mg mh mi kz mj mk ml ld ke mm mn lf ki mo mp lh km mq mr lj ms dt translated">如果你喜欢我的教程，并且它对你有帮助，请👏或者分享这个故事，这样其他人也可以找到它。干杯！🚀</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="od na l"/></div></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oe na l"/></div></figure></div></div>    
</body>
</html>