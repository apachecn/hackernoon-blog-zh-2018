<html>
<head>
<title>How to Build a React Todo App with a Pomodoro Timer using Cosmic JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Cosmic JS构建一个带有番茄计时器的React Todo应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-react-todo-app-with-a-pomodoro-timer-using-cosmic-js-b451de2ab754?source=collection_archive---------13-----------------------#2018-02-16">https://medium.com/hackernoon/how-to-build-a-react-todo-app-with-a-pomodoro-timer-using-cosmic-js-b451de2ab754?source=collection_archive---------13-----------------------#2018-02-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6d513794acbafb7078b069182a26698c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qNzukOWKD_flIiXW."/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">What we will be building.</figcaption></figure><p id="6871" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在本教程中，我将向你展示如何使用<a class="ae ke" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> React </a>和<a class="ae ke" href="https://cosmicjs.com/" rel="noopener ugc nofollow" target="_blank"> Cosmic JS </a>创建一个包含【pomodort timer的<strong class="ji hv"> Todo list应用程序。我们将使用Cosmic JS npm包来实现我们对象的基本CRUD，并从Cosmic JS中检索数据和媒体。让我们开始吧。</strong></p><h1 id="6c8c" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">TL；速度三角形定位法(dead reckoning)</h1><p id="5eea" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated"><a class="ae ke" href="https://cosmicjs.com/apps/react-pomodoro-todo-app" rel="noopener ugc nofollow" target="_blank">查看演示</a> <br/> <a class="ae ke" href="https://github.com/cosmicjs/react-todo-pomodoro" rel="noopener ugc nofollow" target="_blank">下载GitHub回购</a></p><h1 id="7aed" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">先决条件</h1><p id="14e8" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">在启动之前，您需要安装节点JS和npm。确保你已经有了。</p><h1 id="70bc" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">入门指南</h1><h1 id="e0cb" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">使用现有的git repo做任何事情</h1><p id="a8b8" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">首先，您必须确保您已经安装了node &gt; 6.x和yarn，然后运行以下命令:</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="cf40" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">成功完成最后一个命令后，浏览器窗口将自动打开<code class="eh lo lp lq lr b">package.json</code>,如下所示。</p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="54ec" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，应用程序必须在<code class="eh lo lp lq lr b"><a class="ae ke" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank">http://localhost:300</a></code>上运行</p><p id="abd4" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">让我们设置<code class="eh lo lp lq lr b">webpack.config.js</code></p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="7747" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这里写的代码负责编译React JS。</p><p id="36c5" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">设置<code class="eh lo lp lq lr b">./src/components/app/app.js</code></p><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="50d7" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这个文件中，我们正在创建主页文件。因此，在state中，我们保留以下数据。</p><ol class=""><li id="ca8d" class="ls lt hu ji b jj jk jn jo jr lu jv lv jz lw kd lx ly lz ma dt translated">表单-&gt;标题:负责新任务输入值</li><li id="99bb" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">List:字符串数组，这里保存了所有的任务</li><li id="49da" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">showNewTaskInput:布尔值，负责显示/隐藏新的任务输入</li><li id="7d21" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">通知:当前通知名称，我们也有类型的通知列在下面作为一个对象，这里是排序的通知类型的名称。</li></ol><p id="f11b" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在我们的<code class="eh lo lp lq lr b">Class</code>中我们使用了以下方法:</p><ol class=""><li id="08a5" class="ls lt hu ji b jj jk jn jo jr lu jv lv jz lw kd lx ly lz ma dt translated">构造者:我们正在设置新的<code class="eh lo lp lq lr b">Api service</code>，它将被用来连接宇宙JS API。</li><li id="7d41" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">ComponentWillMount:这是属于React组件生命周期的函数，这里我们只是调用我们自己创建的另一个方法。</li><li id="fd09" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">getData:调用API并更新任务列表的函数，之后我们使用<code class="eh lo lp lq lr b">this.resetForm()</code>重置新任务输入的值</li><li id="aa31" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">createNotification:函数获取一个通知类型作为参数，并将其置于状态中以备将来使用</li><li id="1689" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onChange:函数负责保持新任务标题的状态。</li><li id="67f9" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onSave:函数使用Cosmic JS api创建一个新任务。</li><li id="858c" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onStart:函数负责启动特定任务的定时器，它调用Api将启动时间保存在Cosmic的db中。</li><li id="1b2f" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onDone:函数负责将特定任务的状态设置为“完成”。</li><li id="3fd5" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onUpdate:函数负责更新特定任务的标题。</li><li id="cfa4" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">showNewTaskInput:函数显示新的任务输入。</li><li id="9722" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">resetForm:函数负责清理新任务输入的值。</li><li id="a295" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">render:在render中，我们放置html，并调用上面提到的函数。</li></ol><h1 id="3a07" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">设置<code class="eh lo lp lq lr b">./src/task-list/list-item/index.js</code></h1><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><h1 id="44a8" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">在<code class="eh lo lp lq lr b">list-item</code>中，我们正在创建每个任务项</h1><p id="f464" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">在州政府，我们保留两件物品:</p><ol class=""><li id="2761" class="ls lt hu ji b jj jk jn jo jr lu jv lv jz lw kd lx ly lz ma dt translated">编辑:如果标题正在修改中</li><li id="5e44" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">标题:任务的当前标题</li></ol><p id="8b23" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">下面我们将介绍3个函数。他们将调用由<code class="eh lo lp lq lr b">props</code>传递给组件的函数。</p><p id="f647" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">接下来的两个函数有一些逻辑。他们在这里:</p><ol class=""><li id="021d" class="ls lt hu ji b jj jk jn jo jr lu jv lv jz lw kd lx ly lz ma dt translated">onEdit:响应更新状态<code class="eh lo lp lq lr b">editing</code>项的函数。</li><li id="e08c" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">onChange:改变<code class="eh lo lp lq lr b">title</code>项状态的函数。</li></ol><p id="3f29" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">然后，我们有2个React组件生命周期方法:</p><ol class=""><li id="18e6" class="ls lt hu ji b jj jk jn jo jr lu jv lv jz lw kd lx ly lz ma dt translated">componentWillReceiveProps:在这个函数中，我们检查组件是否收到了新的Props，我们正在更新我们的本地状态。</li><li id="67b1" class="ls lt hu ji b jj mb jn mc jr md jv me jz mf kd lx ly lz ma dt translated">render:所有的HTML代码都在这里。我们在这里调用上面提到的函数。</li></ol><h1 id="d935" class="kf kg hu bd kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc dt translated">设置<code class="eh lo lp lq lr b">./src/components/countdown/index.js</code></h1><figure class="li lj lk ll fq iv"><div class="bz el l di"><div class="lm ln l"/></div></figure><p id="56a3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在这个文件中，我们使用<a class="ae ke" href="https://momentjs.com/" rel="noopener ugc nofollow" target="_blank"> Moment JS </a>进行倒计时的基本计算。</p><h2 id="c2a8" class="mg kg hu bd kh mh mi mj kl mk ml mm kp jr mn mo kt jv mp mq kx jz mr ms lb mt dt translated">结论</h2><p id="70ac" class="pw-post-body-paragraph jg jh hu ji b jj ld jl jm jn le jp jq jr lf jt ju jv lg jx jy jz lh kb kc kd hn dt translated">我们都设置好了，你可以运行应用程序，并享受它。有问题的话，<a class="ae ke" href="https://cosmicjs.com/drprotg00" rel="noopener ugc nofollow" target="_blank">上Cosmic JS </a>找我。</p><p id="8f39" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">本文<a class="ae ke" href="https://cosmicjs.com/articles/how-to-build-a-react-todo-app-with-a-pomodoro-timer-using-cosmic-js" rel="noopener ugc nofollow" target="_blank">原载于Cosmic JS </a>。</p></div></div>    
</body>
</html>