<html>
<head>
<title>Serverless Revolution: the Good, the Bad and the Ugly</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器革命:好、坏、丑</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/serverless-revolution-the-good-the-bad-and-the-ugly-e76c671cb628?source=collection_archive---------31-----------------------#2018-02-20">https://medium.com/hackernoon/serverless-revolution-the-good-the-bad-and-the-ugly-e76c671cb628?source=collection_archive---------31-----------------------#2018-02-20</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="7157" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">是愚蠢。这比愚蠢更糟糕:这是一场营销炒作活动。<br/> ‐ <em class="hu">理查德·斯托尔曼</em><a class="ae jt" href="https://www.theguardian.com/technology/2008/sep/29/cloud.computing.richard.stallman" rel="noopener ugc nofollow" target="_blank">T5】云计算点评</a><em class="hu">2008年9月</em></p></blockquote><p id="0202" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">而且，10年后，当有人提到这个词时，你会开始三思而行:它是天空中的那个东西，还是预计到2020年托管全球83%的企业工作负载的另一个东西？</p><p id="1bdd" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">不管你喜不喜欢，另一场革命正在进行。AWS一马当先，Azure女士和GCP紧随其后，他们都怀有一个共同的目标:</p><p id="136c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">从基础架构中分离软件。</p><p id="6980" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated"><a class="ae jt" href="https://hackernoon.com/tagged/serverless" rel="noopener ugc nofollow" target="_blank">无服务器</a>。</p><p id="a0aa" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">FaaS。</p><p id="5c7f" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">德沃普斯之死。</p><p id="ef67" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">你说吧。</p><p id="4229" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">不管名字是什么(为了方便起见，我们称之为“无服务器”)，这种新的范例已经在重塑软件景观方面发挥了作用。我们已经看到<a class="ae jt" href="https://aws.amazon.com/blogs/aws/things-go-better-with-step-functions/" rel="noopener ugc nofollow" target="_blank">像可口可乐</a>这样的巨头在他们的生产栈中采用无服务器组件，像<a class="ae jt" href="https://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>这样的框架获得了数百万的资金<a class="ae jt" href="https://techcrunch.com/2016/10/12/serverless-raises-3m-to-help-developers-go-serverless/" rel="noopener ugc nofollow" target="_blank">。然而，我们应该记住，无服务器并不适合任何人、任何地方、任何时间——至少目前是这样。</a></p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kd ke di kf bf kg"><div class="fe ff jx"><img src="../Images/fda808e963b6bacfd0ba88ffdf9e206a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0VS537B4ksgpe846H81lwQ.jpeg"/></div></div><figcaption class="kj kk fg fe ff kl km bd b be z ek">Take a wild guess: where would you fit In?</figcaption></figure><h1 id="25ba" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">服务器(少)=状态(少)</h1><p id="04b8" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">作为一个传统的程序员，当谈到无服务器时，我看到的最大的“障碍”是“无状态”。而之前我可以相当确定我存储在内存中的复杂计算结果；或者我提取到<code class="eh lq lr ls lt b">/tmp</code>里的相当大的元数据文件；或者我刚刚生成的助手子流程；一旦我的程序重新得到控制，它仍然存在，无服务器打破了所有这些假设。尽管像lambda <a class="ae jt" href="https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/" rel="noopener ugc nofollow" target="_blank">这样的实现倾向于在一段时间内保留状态</a>，但一般的契约是，你的应用程序应该能够放弃所有希望，优雅地从零开始，以防它被从头开始调用。不再有内存状态:如果你想保存，你就保存。你没有，你就输了。</p><p id="258d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">从另一个角度考虑，这也可能被认为是无服务器的(无意的)巨大优势之一；因为瞬态(它的存在仅仅是因为有了<a class="ae jt" href="https://www.urbandictionary.com/define.php?term=serverful" rel="noopener ugc nofollow" target="_blank">“服务器式”架构</a>)是大多数——如果不是全部——邪恶的根源。现在，通过设计，您犯错误的空间更小了——这可能是一个公平的权衡，特别是对于像我这样臭名昭著的程序员来说，通过内存状态管理来寻求(通常是过早的)优化。</p><p id="321d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">然而，我们不应该忘记内存状态管理和缓存容量的减少所导致的性能损失；您的状态管理器(数据存储)以前在几个<a class="ae jt" href="https://gist.github.com/understeer/4d8ea07c18752989f6989deeb769b778" rel="noopener ugc nofollow" target="_blank">【电路跳】</a>之外，现在将在几个网络跳之外，导致几毫秒——甚至几秒——的延迟，以及更多的故障空间。</p><h1 id="1917" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">亚秒计费</h1><p id="89fd" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">如果你生活在过去的十年里，你会看到它的到来:一切都逐渐进入现收现付的模式。现在它已经发展到这样的长度，以0.1秒的执行间隔对<a class="ae jt" href="https://aws.amazon.com/lambda/pricing/" rel="noopener ugc nofollow" target="_blank">λ进行充电——并且量化将继续。虽然这可能并不意味着太多的优势，有时甚至可能意味着</a><a class="ae jt" href="https://dzone.com/articles/the-rise-of-lambda" rel="noopener ugc nofollow" target="_blank">劣势</a>，但对于持续负载，具有高负载变化的应用可以获得巨大的优势，因为不必一直为其预期的峰值负载进行配置和支付。更不用说<a class="ae jt" href="https://hackernoon.com/going-serverless-with-amazon-web-services-aws-the-modern-approach-245fa9203f47" rel="noopener ugc nofollow" target="_blank">事件驱动的</a>和<a class="ae jt" rel="noopener" href="/@uditharosha/implementing-a-serverless-batch-file-processing-application-part-2-the-sigma-way-885951575a25">批处理处理器</a>系统，它们具有稀疏的负载分布，可以节省一个数量级的成本，特别是当它们是小规模和地理上本地化的时候。</p><p id="bc5c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">此外，新的按资源使用付费模型(考虑到时间——或者更具体地说，执行时间——也是一种非常有价值的资源)鼓励面向性能的编程，这确实是一个好迹象。FaaS提供商通常使用复合计费指标，将执行时间与内存分配等结合起来。，进一步加强平衡优化的动力，最终实现更好的资源利用、更少的浪费以及由此带来的财务和环境效益。</p><h1 id="1f73" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">不可见的红外线</h1><p id="3861" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">在物理硬件、虚拟化(后来)或容器化(后来)操作系统环境中，现在您只能看到单个进程:实际上是单个功能或工作单元。虽然这一开始听起来很棒(不再需要基础架构/硬件/操作系统/支持设施监控或维护，希望无服务器提供商能为我们解决这些问题！)，这也意味着灵活性方面的巨大挫折:即使在容器时代，我们至少有选择我们喜欢的基本操作系统的灵活性(尽管仍然绑定到底层内核)，而我们现在所拥有的只是编程语言的选择(有时还有它的版本)。然而，那些经历过devops难题的人肯定会同意后者是一个非常合理的权衡。</p><h1 id="a4f7" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">更强的隔离</h1><p id="0469" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">由于你不再能接触到真实的世界(你通常会是一个短命的<a class="ae jt" href="https://aws.amazon.com/blogs/compute/container-reuse-in-lambda/" rel="noopener ugc nofollow" target="_blank">容器化的</a>过程)，犯错误的空间更小了(这是不可避免的，因为实际上你能做的事情更少了！).即使你受到了威胁，你短暂的生命和<a class="ae jt" href="https://docs.aws.amazon.com/lambda/latest/dg/intro-permission-model.html" rel="noopener ugc nofollow" target="_blank">有限的特权</a>可以防止进一步的污染，除非漏洞足够强大到<a class="ae jt" href="https://aws.amazon.com/security/security-bulletins/" rel="noopener ugc nofollow" target="_blank">影响底层的编排框架</a>。因此，不幸的是，如果这样的漏洞被发现，它可能会被大规模利用，因为基于lambda的恶意软件主机将比以往任何时候都更具可扩展性。</p><p id="6a88" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">大多数提供商故意限制lambda尝试恶意活动，例如<a class="ae jt" href="https://aws.amazon.com/lambda/faqs/#AWS_Lambda_functions" rel="noopener ugc nofollow" target="_blank">发送垃圾邮件</a>，这可能会受到合法用户的反对，但却受到垃圾邮件困扰的称赞(想象一下每月数百万lambda运行时的高峰——<a class="ae jt" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank">AWS</a>已经提供了<a class="ae jt" href="https://aws.amazon.com/free/#AWS_Lambda" rel="noopener ugc nofollow" target="_blank">100万次免费调用和320万秒的执行时间</a>——向一组用户发送垃圾邮件；十几个免费的AWS订阅将会给攻击者带来巨大的优势！)</p><h1 id="301f" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">供应商锁定:副作用？</h1><p id="f009" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">这是每个云平台固有的问题，或者，如果你仔细考虑的话，是任何平台、实用程序或服务固有的问题。当你决定利用平台的一个“酷”或“高级”的特性时，你就有效地与它结合了。对于无服务器平台来说，这一点比以往任何时候都更加真实:除了语言构造，几乎所有的东西都是特定于提供者的，试图编写一个“通用”的函数要么以一堆难以理解的复杂代码和<a class="ae jt" href="https://dictionary.cambridge.org/dictionary/english/reinvent-the-wheel" rel="noopener ugc nofollow" target="_blank">重新发明的轮子</a>告终，要么，最有可能的是，什么也没有。</p><p id="4e6e" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">从某种意义上说，这是一种必不可少的、不可避免的回报；非要特别就要具体！像<a class="ae jt" href="https://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器</a>这样的框架正在积极尝试解决这个问题，但是根据<a class="ae jt" rel="noopener" href="/@PaulDJohnston/why-vendor-lock-in-with-serverless-isnt-what-you-think-it-is-d6be40fa9ca9">普遍意见</a>通用的解决方案仍然遥不可及。</p><h1 id="70d8" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">能力越大，责任越大</h1><p id="0029" class="pw-post-body-paragraph iu iv hu ix b iy ll ja jb jc lm je jf ju ln ji jj jv lo jm jn jw lp jq jr js hn dt translated">鉴于其简单性、多功能性和可扩展性，无服务器应用程序对于公司的IT基础设施来说是一笔宝贵的资产；但是，如果设计、部署、管理和监控不当，事情很容易失控，无论是在体系结构的复杂性方面还是在财务方面。因此，知道如何驯服野兽比简单地学习野兽能做什么要重要得多。</p><p id="3122" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">祝你的<a class="ae jt" href="https://slappforge.com" rel="noopener ugc nofollow" target="_blank">无服务器冒险</a>好运！</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="8b6a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated"><em class="iw">原载于2018年2月20日randomizd.blogspot.com</em><a class="ae jt" href="http://randomizd.blogspot.com/2018/02/serverless-revolution-good-bad-and-ugly.html?m=1" rel="noopener ugc nofollow" target="_blank"><em class="iw"/></a><em class="iw">。</em></p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="mb mc l"/></div></figure></div></div>    
</body>
</html>