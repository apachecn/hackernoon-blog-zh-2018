<html>
<head>
<title>Accessing Nested Objects in JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨JavaScriptä¸­è®¿é—®åµŒå¥—å¯¹è±¡</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/accessing-nested-objects-in-javascript-f02f1bd6387f?source=collection_archive---------1-----------------------#2018-02-21">https://medium.com/hackernoon/accessing-nested-objects-in-javascript-f02f1bd6387f?source=collection_archive---------1-----------------------#2018-02-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/994546f80689ce68f3111338c73ebaf7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*iMj9w69n5RD9c7R5.jpg"/></div></div></figure><p id="72d6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">tldrï¼›</strong> <em class="ka">ä»¥è¶…çº§é…·çš„æ–¹å¼å®‰å…¨è®¿é—®JavaScriptä¸­çš„åµŒå¥—å¯¹è±¡ã€‚</em></p><p id="ec4b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">JavaScriptå¾ˆç¥å¥‡ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ã€‚ä½†æ˜¯JavaScriptä¸­çš„ä¸€äº›ä¸œè¥¿çœŸçš„å¾ˆå¥‡æ€ªï¼Œè®©æˆ‘ä»¬æ‘¸ä¸ç€å¤´è„‘ã€‚å…¶ä¸­ä¹‹ä¸€å°±æ˜¯å½“æ‚¨è¯•å›¾è®¿é—®ä¸€ä¸ªåµŒå¥—å¯¹è±¡æ—¶ä¼šé‡åˆ°è¿™ä¸ªé”™è¯¯ï¼Œ</p><p id="438e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ka">æ— æ³•è¯»å–æœªå®šä¹‰</em> </strong>çš„å±æ€§â€˜fooâ€™</p><p id="aaa2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨JavaScriptæ—¶ï¼Œæˆ‘ä»¬ä¼šå¤„ç†åµŒå¥—å¯¹è±¡ï¼Œå¹¶ä¸”ç»å¸¸éœ€è¦å®‰å…¨åœ°è®¿é—®æœ€å†…å±‚çš„åµŒå¥—å€¼ã€‚</p><p id="c35e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è®©æˆ‘ä»¬ä»¥è¿™ä¸ªåµŒå¥—å¯¹è±¡ä¸ºä¾‹ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="f60b" class="kk kl hu kg b fv km kn l ko kp">const user = {<br/>    id: 101,<br/>    email: 'jack@dev.com',<br/>    personalInfo: {<br/>        name: 'Jack',<br/>        address: {<br/>            line1: 'westwish st',<br/>            line2: 'washmasher',<br/>            city: 'wallas',<br/>            state: 'WX'<br/>        }<br/>    }<br/>}</span></pre><p id="a66f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è¦è®¿é—®æˆ‘ä»¬ç”¨æˆ·çš„åå­—ï¼Œæˆ‘ä»¬è¦å†™</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="e589" class="kk kl hu kg b fv km kn l ko kp">const name = user.personalInfo.name;<br/>const userCity = user.personalInfo.address.city;</span></pre><p id="8513" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è¿™æ—¢ç®€å•åˆç›´æ¥ã€‚</p><p id="1f28" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ä½†æ˜¯ï¼Œç”±äºæŸç§åŸå› ï¼Œå¦‚æœæˆ‘ä»¬çš„ç”¨æˆ·çš„ä¸ªäººä¿¡æ¯ä¸å¯ç”¨ï¼Œå¯¹è±¡ç»“æ„å°†æ˜¯è¿™æ ·çš„ï¼Œ</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="c827" class="kk kl hu kg b fv km kn l ko kp">const user = {<br/>    id: 101,<br/>    email: 'jack@dev.com'<br/>}</span></pre><p id="20a1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ç°åœ¨å¦‚æœä½ å°è¯•è®¿é—®è¿™ä¸ªåå­—ï¼Œä½ ä¼šè¢«æŠ›å‡º<em class="ka">æ— æ³•è¯»å–æœªå®šä¹‰</em>çš„å±æ€§â€˜nameâ€™ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="406d" class="kk kl hu kg b fv km kn l ko kp">const name = user.personalInfo.name; // Cannot read property 'name' of undefined</span></pre><p id="df6d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è¿™æ˜¯å› ä¸ºæˆ‘ä»¬è¯•å›¾ä»ä¸€ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡è®¿é—®<code class="eh kq kr ks kg b">name</code>é”®ã€‚</p><p id="92b1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¤§å¤šæ•°å¼€å‘äººå‘˜å¤„ç†è¿™ç§æƒ…å†µçš„é€šå¸¸æ–¹å¼æ˜¯ï¼Œ</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="e27d" class="kk kl hu kg b fv km kn l ko kp">const name = user &amp;&amp; user.personalInfo ? user.personalInfo.name : null;<br/>// undefined error will NOT be thrown as we check for existence before access</span></pre><p id="07b4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¦‚æœä½ çš„åµŒå¥—ç»“æ„å¾ˆç®€å•ï¼Œè¿™æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯å¦‚æœä½ çš„æ•°æ®åµŒå¥—äº†5æˆ–6å±‚ï¼Œé‚£ä¹ˆä½ çš„ä»£ç çœ‹èµ·æ¥ä¼šå¾ˆä¹±ï¼Œ</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="182a" class="kk kl hu kg b fv km kn l ko kp">let city;<br/>if (<br/>    data &amp;&amp; data.user &amp;&amp; data.user.personalInfo &amp;&amp;<br/>    data.user.personalInfo.addressDetails &amp;&amp;<br/>    data.user.personalInfo.addressDetails.primaryAddress<br/>   ) {<br/>    city = data.user.personalInfo.addressDetails.primaryAddress;<br/>}</span></pre><p id="d932" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">æœ‰ä¸€äº›æŠ€å·§å¯ä»¥å¤„ç†è¿™ç§æ··ä¹±çš„å¯¹è±¡ç»“æ„ã€‚</p><h1 id="0b63" class="kt kl hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">å¥¥åˆ©å¼—Â·æ–¯è’‚å°”çš„åµŒå¥—å¯¹è±¡è®¿é—®æ¨¡å¼</h1><p id="9922" class="pw-post-body-paragraph jc jd hu je b jf lq jh ji jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz hn dt translated">è¿™æ˜¯æˆ‘ä¸ªäººæœ€å–œæ¬¢çš„ï¼Œå› ä¸ºå®ƒè®©ä»£ç çœ‹èµ·æ¥<em class="ka">å¹²å‡€</em>å’Œ<em class="ka">ç®€å•</em>ã€‚æˆ‘ä¸ä¹…å‰ä»stackoverflowä¸­æŒ‘é€‰äº†è¿™ç§é£æ ¼ï¼Œä¸€æ—¦ä½ ç†è§£äº†å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒå°±éå¸¸å¸å¼•äººã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="c71b" class="kk kl hu kg b fv km kn l ko kp">const name = ((user || {}).personalInfo || {}).name;</span></pre><p id="2934" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ç”¨è¿™ç§ç¬¦å·ï¼Œä½ æ°¸è¿œä¸ä¼šé‡åˆ°<em class="ka">æ— æ³•è¯»å–æœªå®šä¹‰</em>çš„å±æ€§â€˜nameâ€™ã€‚ä½ åŸºæœ¬ä¸Šæ£€æŸ¥ç”¨æˆ·æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œä½ åˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡ã€‚è¿™æ ·ï¼Œä¸‹ä¸€çº§é”®<strong class="je hv">å°†æ€»æ˜¯ä»ä¸€ä¸ªå·²å­˜åœ¨çš„å¯¹è±¡æˆ–ä¸€ä¸ªç©ºå¯¹è±¡</strong>ä¸­è¢«è®¿é—®ï¼Œè€Œä¸æ˜¯ä»æœªå®šä¹‰çš„å¯¹è±¡ä¸­è¢«è®¿é—®ã€‚</p><p id="406f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ä¸å¹¸çš„æ˜¯ï¼Œ<strong class="je hv">ä½ ä¸èƒ½ç”¨è¿™ä¸ªæŠ€å·§è®¿é—®åµŒå¥—æ•°ç»„</strong></p><h1 id="fb22" class="kt kl hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">ä½¿ç”¨Array Reduceè®¿é—®åµŒå¥—å¯¹è±¡</h1><p id="318b" class="pw-post-body-paragraph jc jd hu je b jf lq jh ji jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz hn dt translated">Array reduceæ–¹æ³•éå¸¸å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å®‰å…¨åœ°è®¿é—®åµŒå¥—å¯¹è±¡ã€‚</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="7974" class="kk kl hu kg b fv km kn l ko kp">const getNestedObject = (nestedObj, pathArr) =&gt; {<br/>    return pathArr.reduce((obj, key) =&gt;<br/>        (obj &amp;&amp; obj[key] !== 'undefined') ? obj[key] : undefined, nestedObj);<br/>}</span><span id="be92" class="kk kl hu kg b fv lv kn l ko kp">// pass in your object structure as array elements<br/>const name = getNestedObject(user, ['personalInfo', 'name']);</span><span id="f7a8" class="kk kl hu kg b fv lv kn l ko kp">// to access nested array, just pass in array index as an element the path array.<br/>const city = getNestedObject(user, ['personalInfo', 'addresses', 0, 'city']);<br/>// this will return the city from the first address item.</span></pre><h1 id="7b71" class="kt kl hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">ç±»å‹</h1><p id="db1c" class="pw-post-body-paragraph jc jd hu je b jf lq jh ji jj lr jl jm jn ls jp jq jr lt jt ju jv lu jx jy jz hn dt translated">å¦‚æœä½ è®¤ä¸ºä»¥ä¸Šæ–¹æ³•æœ‰ç‚¹å¤ªä¸»æµï¼Œé‚£ä¹ˆä½ åº”è¯¥è¯•è¯•æˆ‘å†™çš„<a class="ae lw" href="https://github.com/flexdinesh/typy" rel="noopener ugc nofollow" target="_blank"> Typy </a>åº“ã€‚é™¤äº†å®‰å…¨åœ°è®¿é—®åµŒå¥—å¯¹è±¡ï¼Œå®ƒè¿˜åšäº†è®¸å¤šæ›´æ£’çš„äº‹æƒ…ã€‚ğŸ‰</p><p id="fdfb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å®ƒä»¥npmåŒ…çš„å½¢å¼æä¾›â€” <a class="ae lw" href="https://www.npmjs.com/package/typy" rel="noopener ugc nofollow" target="_blank">ç±»å‹</a></p><p id="4820" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¦‚æœæ‚¨ä½¿ç”¨<strong class="je hv"> Typy </strong>ï¼Œæ‚¨çš„ä»£ç å°†å¦‚ä¸‹æ‰€ç¤º:</p><pre class="kb kc kd ke fq kf kg kh ki aw kj dt"><span id="e8ac" class="kk kl hu kg b fv km kn l ko kp">import t from 'typy';</span><span id="6345" class="kk kl hu kg b fv lv kn l ko kp">const name = t(user, 'personalInfo.name').safeObject;<br/>const city = t(user, 'personalInfo.addresses[0].city').safeObject;<br/>// address is an array</span></pre><p id="9b2e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è¿˜æœ‰ä¸€äº›åƒLodashå’ŒRamdaè¿™æ ·çš„åº“å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚ä½†æ˜¯åœ¨è½»é‡çº§çš„å‰ç«¯é¡¹ç›®ä¸­ï¼Œç‰¹åˆ«æ˜¯å¦‚æœæ‚¨åªéœ€è¦è¿™äº›åº“ä¸­çš„ä¸€ä¸¤ä¸ªæ–¹æ³•ï¼Œé€‰æ‹©ä¸€ä¸ªæ›¿ä»£çš„è½»é‡çº§åº“æ˜¯ä¸ªå¥½ä¸»æ„ï¼Œæˆ–è€…æ›´å¥½çš„æ˜¯ï¼Œç¼–å†™æ‚¨è‡ªå·±çš„åº“ã€‚</p><p id="ea0d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Happyå®‰å…¨è®¿é—®JavaScriptä¸­çš„åµŒå¥—å¯¹è±¡â€™ï¼ğŸ’¥</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="lx ly l"/></div></figure></div></div>    
</body>
</html>