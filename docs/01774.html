<html>
<head>
<title>Why Flutter Uses Dart</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么Flutter使用Dart</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-flutter-uses-dart-dd635a054ebf?source=collection_archive---------0-----------------------#2018-02-26">https://medium.com/hackernoon/why-flutter-uses-dart-dd635a054ebf?source=collection_archive---------0-----------------------#2018-02-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="92f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt jp translated">任何语言学家都认为一个人说的自然语言<a class="ae jy" href="https://en.wikipedia.org/wiki/Linguistic_relativity" rel="noopener ugc nofollow" target="_blank">会影响他们的思维方式</a>。同样的概念是否适用于<a class="ae jy" href="https://en.wikipedia.org/wiki/Programming_language" rel="noopener ugc nofollow" target="_blank">计算机语言</a>？使用不同编程语言的程序员经常会提出完全不同的问题解决方案。作为一个更极端的例子，计算机科学家<a class="ae jy" href="https://homepages.cwi.nl/~storm/teaching/reader/Dijkstra68.pdf" rel="noopener ugc nofollow" target="_blank">删除了<em class="jz"> goto </em>语句</a>以鼓励更结构化的程序(与<a class="ae jy" href="https://en.wikipedia.org/wiki/Nineteen_Eighty-Four" rel="noopener ugc nofollow" target="_blank">小说<em class="jz"> 1984 </em> </a>中极权主义领导人从自然语言中删除异端词汇以消除<a class="ae jy" href="https://en.wikipedia.org/wiki/Thoughtcrime" rel="noopener ugc nofollow" target="_blank"> <em class="jz">思想罪</em> </a>不太一样，但你明白这个意思)。</p><p id="ab14" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这跟<a class="ae jy" href="https://flutter.io/" rel="noopener ugc nofollow" target="_blank">扑</a>和<a class="ae jy" href="https://www.dartlang.org/" rel="noopener ugc nofollow" target="_blank">镖</a>有什么关系？实际上相当多。早期的Flutter团队评估了十几种语言，选择Dart是因为它符合他们构建用户界面的方式。</p><p id="f70a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart是开发者爱Flutter的一大原因。正如一条推文所说:</p><figure class="ka kb kc kd fq ke"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="1847" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是Dart特性的快速列表，这些特性共同使其成为Flutter不可或缺的要素:</p><ul class=""><li id="32f4" class="kh ki hu it b iu iv iy iz jc kj jg kk jk kl jo km kn ko kp dt translated">Dart是AOT(提前)编译成的快速、可预测的原生代码，这使得几乎所有的Flutter都可以用Dart编写。这不仅使Flutter速度更快，几乎所有东西(包括所有的小部件)都可以定制。</li><li id="cfb5" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">Dart还可以进行JIT (Just In Time)编译，以实现异常快速的开发周期和改变游戏规则的工作流(包括Flutter流行的亚秒级有状态热重装)。</li><li id="df19" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">Dart使创建以60fps运行的平滑动画和过渡更加容易。Dart可以在没有锁的情况下进行对象分配和垃圾收集。和JavaScript一样，Dart避免了抢占式调度和共享内存(以及锁)。因为Flutter应用被编译成本机代码，所以它们不需要领域之间的慢速桥(例如，JavaScript到本机)。他们也启动得更快。</li><li id="49d5" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">Dart允许Flutter避免使用独立的声明式布局语言，如JSX或XML，或者独立的可视化界面构建器，因为Dart的声明式、编程式布局易于阅读和可视化。而且所有的布局都在一种语言和一个地方，很容易让Flutter提供先进的工具，使布局变得轻而易举。</li><li id="ed68" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">开发人员发现Dart特别容易学习，因为它具有静态和动态语言用户都熟悉的特性。</li></ul><p id="9bc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并非所有这些特性都是Dart独有的，但它们的组合达到了一个<em class="jz">最佳点</em>，使得Dart在实现Flutter时非常强大。以至于很难想象Flutter在没有Dart的情况下还会如此强大。</p><figure class="ka kb kc kd fq ke fe ff paragraph-image"><div class="fe ff kv"><img src="../Images/d84e32d105990b36ac189bbc23cca292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1326/format:webp/1*bAUFoOPQ3gcv7y4Kdz82tw.png"/></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">Flutter loves Dart</figcaption></figure><p id="a324" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本文的其余部分将更深入地介绍Dart的许多特性(包括它的标准库)，这些特性使得Dart成为实现Flutter的<em class="jz">最佳语言。</em></p><h1 id="7ede" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">编译和执行</h1><p id="1add" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated"><em class="jz">【如果你已经了解静态与动态语言、AOT和JIT编译以及虚拟机等主题，你可以跳过这一部分。] </em></p><p id="1204" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">历史上，计算机语言被分为两类:<a class="ae jy" href="https://en.wikipedia.org/wiki/Compiled_language" rel="noopener ugc nofollow" target="_blank"> <em class="jz">静态</em>语言</a>(例如Fortran或C，其中变量在编译时静态类型化)，以及<a class="ae jy" href="https://en.wikipedia.org/wiki/Interpreted_language" rel="noopener ugc nofollow" target="_blank"> <em class="jz">动态</em>语言</a>(例如Smalltalk或JavaScript，其中变量的类型可以在运行时改变)。静态语言通常被编译以产生用于目标机器的本机代码(或<em class="jz">汇编代码</em>)程序，这些程序在运行时由硬件直接执行。动态语言由解释器执行，不产生机器语言代码。</p><p id="a0cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，事情最终变得复杂得多。一个<a class="ae jy" href="https://en.wikipedia.org/wiki/Virtual_machine" rel="noopener ugc nofollow" target="_blank">虚拟机</a> (VM)的概念变得流行起来，它实际上只是一个在软件中模仿硬件机器的高级解释器。虚拟机使语言移植到新的硬件平台变得更加容易。在这种情况下，VM的输入语言通常是一种<a class="ae jy" href="https://en.wikipedia.org/wiki/Intermediate_representation#Intermediate_language" rel="noopener ugc nofollow" target="_blank">中间语言</a>。比如将一种编程语言(比如<a class="ae jy" href="https://en.wikipedia.org/wiki/Java_(programming_language)" rel="noopener ugc nofollow" target="_blank"> Java </a>)编译成中间语言(<a class="ae jy" href="https://en.wikipedia.org/wiki/Java_bytecode" rel="noopener ugc nofollow" target="_blank"> <em class="jz">字节码</em> </a>)，然后在VM上执行(即<a class="ae jy" href="https://en.wikipedia.org/wiki/Java_virtual_machine" rel="noopener ugc nofollow" target="_blank"> <em class="jz"> JVM </em> </a>)。</p><p id="3200" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，现在还有<a class="ae jy" href="https://en.wikipedia.org/wiki/Just-in-time_compilation" rel="noopener ugc nofollow" target="_blank"> <em class="jz">实时</em> (JIT)编译器</a>。JIT编译器在程序执行期间运行，即时编译。在程序创建期间(运行时之前)执行的原始编译器现在被称为提前<a class="ae jy" href="https://en.wikipedia.org/wiki/Ahead-of-time_compilation" rel="noopener ugc nofollow" target="_blank"><em class="jz"/>(AOT)编译器</a>。</p><p id="fe0a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一般来说，只有静态语言才适合AOT编译成本机代码，因为机器语言通常需要知道数据的类型，而在动态语言中，数据的类型不是预先确定的。因此，动态语言通常被解释或JIT编译。</p><p id="458d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当AOT编译在开发期间完成时，它不可避免地导致更慢的开发周期(对程序进行更改和能够执行程序以查看更改结果之间的时间)。但是AOT编译使得程序可以更加可预测地执行，并且在运行时不需要停下来进行分析和编译。AOT编译的程序也开始执行得更快(因为它们已经被编译过了)。</p><p id="06fe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">相反，JIT编译提供了更快的开发周期，但是会导致更慢或更不稳定的执行。特别是，JIT编译器有较慢的启动时间，因为当程序开始运行时，JIT编译器必须在执行代码之前进行分析和编译。研究表明，如果开始执行的时间超过几秒钟，许多人就会放弃一个应用程序。</p><p id="627d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">背景信息到此结束。将AOT和JIT编译的优点结合起来不是很棒吗？请继续阅读。</p><h2 id="2a59" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">编译和执行Dart</h2><p id="b783" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">在致力于Dart之前，Dart团队成员已经在高级编译器和虚拟机方面做了开创性的工作，既包括动态语言(如JavaScript的<a class="ae jy" href="https://en.wikipedia.org/wiki/Chrome_V8" rel="noopener ugc nofollow" target="_blank"> V8引擎</a>和Smalltalk的<a class="ae jy" href="https://en.wikipedia.org/wiki/Strongtalk" rel="noopener ugc nofollow" target="_blank"> Strongtalk </a>)也包括静态语言(如Java的<a class="ae jy" href="https://en.wikipedia.org/wiki/HotSpot" rel="noopener ugc nofollow" target="_blank"> Hotspot编译器</a>)。他们利用这一经验使Dart在编译和执行方面异常灵活。</p><p id="a2c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart是极少数同时适合AOT和JIT编译的语言之一(也许是唯一的“主流”语言)。支持这两种编译为Dart和(尤其是)Flutter提供了显著的优势。</p><p id="a2c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">JIT编译在开发过程中使用，使用特别快的编译器。然后，当一个应用程序准备发布时，它被编译成AOT。因此，在高级工具和编译器的帮助下，Dart可以提供两个世界中最好的东西:极快的开发周期、<em class="jz">和</em>快速的执行和启动时间。</p><p id="a5a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart在编译和执行方面的灵活性不止于此。例如，Dart可以被<a class="ae jy" href="https://webdev.dartlang.org/tools/dart2js" rel="noopener ugc nofollow" target="_blank">编译成JavaScript </a>，这样它就可以被浏览器执行。这允许移动应用和web应用之间的代码重用。开发人员报告称，他们的移动应用和网络应用之间的代码重用率高达70%。Dart也可以在服务器上使用，要么编译成本机代码，要么编译成JavaScript并与<a class="ae jy" href="https://nodejs.org/en/" rel="noopener ugc nofollow" target="_blank"> node.js </a>一起使用。</p><p id="e9a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，<a class="ae jy" href="https://www.dartlang.org/dart-vm/tools/dart-vm" rel="noopener ugc nofollow" target="_blank"> Dart还提供了一个独立的VM </a>，它使用Dart语言本身作为它的中间语言(本质上就像一个解释器)。</p><p id="ce75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart可以被有效地编译成AOT或JIT，解释或转换成其他语言。Dart的编译和执行不仅异常灵活，尤其是<em class="jz">快</em>。</p><p id="ee4a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下一节将举例说明Dart的编译速度如何改变游戏规则…</p><h2 id="fe16" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">有状态热重装</h2><p id="97ab" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">Flutter最受欢迎的特性之一是其极快的<em class="jz">热重装</em>。在开发过程中，Flutter使用一个JIT编译器，它可以在一秒钟内重新加载并继续执行代码。只要有可能，应用程序状态会在重新加载时保留，因此应用程序可以从停止的地方继续运行。</p><figure class="ka kb kc kd fq ke fe ff paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="fe ff mt"><img src="../Images/a66fb268a22630554cdb9fbec60d8c4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*c1dM9uhkRj9_fpiDrLJmDw.gif"/></div></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">Flutter’s sub-second stateful hot reload</figcaption></figure><p id="6aa7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除非您亲身经历过，否则很难理解快速(可靠)热重装在开发过程中有多重要。开发人员报告说，这改变了他们创建应用程序的方式，他们形容这就像<a class="ae jy" href="https://github.com/zilongc/blog/issues/3" rel="noopener ugc nofollow" target="_blank">把他们的应用程序画得栩栩如生</a>。</p><p id="ef68" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一位<a class="ae jy" rel="noopener" href="/@lets4r/the-fluture-is-now-6040d7dcd9f3">移动应用开发者对Flutter的热重装</a>的评价:</p><blockquote class="my mz na"><p id="1c4c" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">我想测试热重装，所以我改变了一个颜色，保存了我的修改，并…爱上了❤️！</p><p id="3d7b" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">这个功能真的很神奇。我认为Visual Studio中的<strong class="it hv">编辑&amp;继续</strong>很好，但这只是令人震惊的<strong class="it hv"/>。只有这样，我认为移动开发人员的工作效率才能提高两倍。</p><p id="0731" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">对我来说，这真的是一个游戏规则的改变者。当我部署我的代码并花费很长时间时，我失去了注意力，我做了其他事情，当我回到模拟器/设备时，我已经失去了我想要测试的东西的轨迹。比损失5分钟移动一个控件2px更让人沮丧的是什么？随着颤振，这不再存在。</p></blockquote><p id="578a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Flutter的hot reload让尝试新想法或实验替代方案变得容易得多，为创造力提供了巨大的推动力。</p><p id="6d4c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">到目前为止，我们已经讨论了Dart如何为开发人员做得更好。下一部分是关于Dart如何使创建让用户满意的流畅应用变得更容易。</p><h1 id="549b" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">避开jank</h1><p id="9c90" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">一个<em class="jz">快速的</em>应用程序很棒，但是一个<em class="jz">流畅的</em>应用程序更好。即使是超快的动画，如果不流畅也会很难看。然而，预防抽筋可能很困难，因为有太多不同的原因。Dart有许多特性可以避免许多导致jank的常见问题。</p><p id="c996" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，(像任何语言一样)用Flutter写一个janky app还是可以的；Dart提供了更好的可预测性，让开发者能够更好地控制应用的流畅度，从而更容易提供最佳用户体验，无一例外。</p><p id="c34b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jy" href="https://code.tutsplus.com/tutorials/developing-an-android-app-with-flutter--cms-28270" rel="noopener ugc nofollow" target="_blank">结果</a>？</p><blockquote class="my mz na"><p id="ba72" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">以60 fps的速度运行，用Flutter创建的用户界面比用其他跨平台开发框架创建的用户界面性能好得多。</p></blockquote><p id="1cba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不仅比跨平台应用更好，而且和最好的本地应用一样好:</p><blockquote class="my mz na"><p id="56e2" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">UI黄油光滑…我从来没见过这么光滑的安卓应用。</p></blockquote><h2 id="db3c" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">AOT编译与“桥”</h2><p id="8f10" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">我们已经讨论过一个有助于保持流畅的特性，那就是Dart能够被AOT编译为本机代码。预编译的AOT代码比JIT更可预测，因为在运行时没有暂停来执行JIT分析或编译。</p><p id="a20a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，AOT编译代码还有一个更大的优势，那就是避免“JavaScript桥”。当动态语言(如JavaScript)需要与平台上的本机代码进行互操作时，<a class="ae jy" href="https://hackernoon.com/whats-revolutionary-about-flutter-946915b09514" rel="noopener ugc nofollow" target="_blank">它们必须通过桥</a>进行通信，这<a class="ae jy" rel="noopener" href="/@talkol/performance-limitations-of-react-native-and-how-to-overcome-them-947630d7f440">导致上下文切换</a>必须保存特别大量的状态(可能保存到辅助存储)。这些<a class="ae jy" href="https://en.wikipedia.org/wiki/Context_switch" rel="noopener ugc nofollow" target="_blank">上下文切换</a>是双重打击，因为它们不仅会减慢速度，还会导致严重的问题。</p><figure class="ka kb kc kd fq ke fe ff paragraph-image"><div role="button" tabindex="0" class="mu mv di mw bf mx"><div class="fe ff ne"><img src="../Images/bda8ee3cd825aa2c0b2363fcc40a474d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_fK1BtH5V-kO828lPg-Ukw.png"/></div></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">“The Bridge”</figcaption></figure><p id="ebc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意:即使是编译后的代码也可能需要一个接口来与平台代码对话，这也可以称为桥，但它通常比动态语言所需的桥快几个数量级。此外，因为Dart允许将小部件之类的东西移动到应用程序中，所以减少了过桥的需要。</p><h2 id="46c0" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">抢先调度、时间分片和共享资源</h2><p id="5463" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">大多数支持多并发执行线程的计算机语言(包括Java、Kotlin、Objective-C和Swift)都是使用<a class="ae jy" href="https://en.wikipedia.org/wiki/Preemption_(computing)" rel="noopener ugc nofollow" target="_blank">抢占</a>在线程间切换。每个线程都被分配了一个“时间片”来执行，如果超过了分配给它的时间，线程就会被上下文切换抢占。然而，如果抢占发生在线程间共享的资源(如内存)被更新时，那么这会导致<a class="ae jy" href="https://en.wikipedia.org/wiki/Race_condition" rel="noopener ugc nofollow" target="_blank">竞争条件</a>。</p><p id="93af" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">竞争条件是一个双重打击，因为它们会导致严重的错误，包括使你的应用崩溃和导致数据丢失，并且它们特别难以发现和修复，因为它们依赖于独立线程的<a class="ae jy" href="https://en.wikipedia.org/wiki/Race_condition#Software" rel="noopener ugc nofollow" target="_blank">相对计时。当您在调试器中运行应用程序时，竞争条件停止显现是很常见的。</a></p><p id="0ac7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">修复竞争状况的典型方法是使用<a class="ae jy" href="https://en.wikipedia.org/wiki/Lock_(computer_science)" rel="noopener ugc nofollow" target="_blank">锁</a>来保护共享资源，防止其他线程执行，但锁本身会导致jank，或<a class="ae jy" href="https://en.wikipedia.org/wiki/Dining_philosophers_problem" rel="noopener ugc nofollow" target="_blank">甚至更严重的问题</a>(包括<a class="ae jy" href="https://en.wikipedia.org/wiki/Deadlock" rel="noopener ugc nofollow" target="_blank">死锁</a>和<a class="ae jy" href="https://en.wikipedia.org/wiki/Starvation_(computer_science)" rel="noopener ugc nofollow" target="_blank">饥饿</a>)。</p><p id="be1f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart采取了不同的方法来解决这个问题。Dart中被称为<em class="jz">的线程隔离</em>，不共享内存，这避免了对大多数锁的需要。隔离通过通道传递消息进行通信，这类似于<a class="ae jy" href="https://www.erlang.org/" rel="noopener ugc nofollow" target="_blank"> Erlang </a>中的<em class="jz"> actors </em>或JavaScript中的<em class="jz"> web workers </em>。</p><p id="0b03" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">像JavaScript一样，Dart是单线程的，这意味着它根本不允许抢占。相反，线程显式地让步(使用<a class="ae jy" href="https://www.dartlang.org/tutorials/language/futures" rel="noopener ugc nofollow" target="_blank"> async/await、Futures </a>或<a class="ae jy" href="https://www.dartlang.org/tutorials/language/streams" rel="noopener ugc nofollow" target="_blank"> Streams </a>)。这给了开发人员更多的执行控制权。单线程帮助开发人员确保关键功能(包括动画和过渡)在没有抢占的情况下执行完成。这不仅对用户界面来说是一个很大的优势，对其他客户端-服务器代码也是如此。</p><p id="8938" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，如果开发人员忘记让出控制权，这会延迟其他代码的执行。然而，我们发现，忘记让步通常比忘记锁定更容易发现和修复(因为竞争条件很难发现)。</p><h2 id="47aa" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">分配和垃圾收集</h2><p id="36fb" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">jank的另一个严重原因是垃圾收集。事实上，这只是访问共享资源(内存)的一个特例，在许多语言中，这需要使用锁。但是当空闲内存被收集时，锁可能会<a class="ae jy" href="https://en.wikipedia.org/wiki/Tracing_garbage_collection#Stop-the-world_vs._incremental_vs._concurrent" rel="noopener ugc nofollow" target="_blank">阻止整个应用程序运行</a>。然而，Dart几乎可以在所有时间<em class="jz">执行垃圾收集，而不需要锁</em>。</p><p id="5d9c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart使用高级的<a class="ae jy" rel="noopener" href="/flutter-io/flutter-dont-fear-the-garbage-collector-d69b3ff1ca30">分代垃圾收集和分配方案</a>，这对于分配许多短期对象来说特别快(非常适合像Flutter这样的反应式用户界面，它为每一帧重建不可变的视图树)。Dart可以通过一次指针碰撞来分配对象(不需要锁)。同样，这导致平滑滚动和动画，没有jank。</p><h1 id="54d3" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">统一布局</h1><p id="f81a" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">Dart的另一个好处是，Flutter不会在程序和额外的模板或布局语言(如JSX或XML)之间分割布局，也不需要单独的可视化布局工具。下面是一个简单的颤振视图，用Dart编写:</p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="4df9" class="mf ld hu ng b fv nk nl l nm nn">new Center(child:<br/>  new Column(children: [<br/>    new Text('Hello, World!'),<br/>    new Icon(Icons.star, color: Colors.green),<br/>  ])<br/>)</span></pre><figure class="ka kb kc kd fq ke fe ff paragraph-image"><div class="fe ff no"><img src="../Images/59fdd9f27de52166e5fdd0aa5aefc0cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:390/format:webp/1*vEDegE4I9KLBAEX1bjDMbQ.png"/></div><figcaption class="ky kz fg fe ff la lb bd b be z ek">A view in Dart and what it produces</figcaption></figure><p id="5d28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，可视化该代码产生的输出是多么容易(即使您没有使用Dart的经验)。</p><p id="5b43" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">请注意，现在Flutter使用Dart 2，布局变得更加简单和清晰，因为<code class="eh np nq nr ng b">new</code>关键字是可选的，所以静态布局看起来更像是用声明性布局语言编写的，如下所示:</p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="bd8a" class="mf ld hu ng b fv nk nl l nm nn">Center(child:<br/>  Column(children: [<br/>    Text('Hello, World!'),<br/>    Icon(Icons.star, color: Colors.green),<br/>  ])<br/>)</span></pre><p id="0e96" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，我知道你可能在想——缺乏专业布局语言的<em class="jz">怎么能被称为优势<em class="jz">呢？但它实际上是一个游戏改变者。下面是一位开发者在一篇名为“<a class="ae jy" href="https://hackernoon.com/why-native-app-developers-should-take-a-serious-look-at-flutter-e97361a1c073" rel="noopener ugc nofollow" target="_blank">为什么原生应用开发者应该认真看待Flutter </a>”的文章中写的内容。</em></em></p><blockquote class="my mz na"><p id="d1e5" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">在Flutter中，仅使用Dart代码定义布局。没有XML /模板语言。也没有视觉设计师/故事板工具。</p><p id="902c" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">我的直觉是，听到这个，你们中的一些人甚至会有点畏缩。显然，这也是我的反应。使用可视化工具进行布局不是更容易吗？用代码写各种约束逻辑不会让事情过分复杂吗？</p><p id="0fb9" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">给我的答案竟然是<strong class="it hv">不</strong>。好家伙！真是大开眼界。</p></blockquote><p id="af75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">回答的第一部分就是上面提到的热重装。</p><blockquote class="my mz na"><p id="51bd" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">我怎么强调都不为过，这比Android的Instant Run或任何类似的解决方案领先了好几光年。它只是工作，甚至在大型非平凡的应用程序。而且是疯狂的快。这就是Dart给你的力量。</p><p id="97b6" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">实际上，这使得可视化编辑器界面变得多余。我一点都没有错过XCode相当不错的自动布局<strong class="it hv"/>。</p></blockquote><p id="b279" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart创建简洁易懂的布局，而“疯狂快速”的热重装让您可以立即看到结果。这包括布局中的非静态部分。</p><blockquote class="my mz na"><p id="a927" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">因此，我用Flutter (Dart)编写布局的效率比Android/XCode都高。一旦你掌握了它(对我来说，这意味着几个星期)，因为很少发生上下文切换，所以有一个实质性的开销减少。人们不必切换到设计模式，选择鼠标并开始四处点击。然后想知道某件事是否必须通过编程来完成，如何实现等等。一切都是程序化的。API设计得非常好。它很快变得直观，并且比auto layout / layout XMLs提供的构造强大得多。</p></blockquote><p id="47d5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，下面是一个简单的列表布局，它在每隔一项之间添加一个分隔线(水平线)，这是以编程方式定义的:</p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="846d" class="mf ld hu ng b fv nk nl l nm nn">return new ListView.builder(itemBuilder: (context, i) {<br/>  if (i.isOdd) return new Divider(); <br/>  // rest of function<br/>});</span></pre><p id="c652" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在Flutter中，所有布局都存在于一个地方，不管是静态布局还是程序化布局。和<a class="ae jy" href="https://groups.google.com/forum/#!topic/flutter-dev/lKtTQ-45kc4" rel="noopener ugc nofollow" target="_blank">新的镖工具</a>，包括颤振检查器和大纲视图(利用所有布局在一个地方)，使复杂，美丽的布局更加容易。</p><h1 id="6058" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">Dart是专有语言吗？</h1><p id="d0bc" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">不，Dart(像Flutter一样)是完全开源的，有一个干净的许可证，也是一个<a class="ae jy" href="https://www.ecma-international.org/publications/standards/Ecma-408.htm" rel="noopener ugc nofollow" target="_blank"> ECMA标准</a>。Dart在谷歌内外都很受欢迎。在谷歌内部，它是发展最快的语言之一，被Adwords、Flutter、<a class="ae jy" href="https://github.com/fuchsia-mirror" rel="noopener ugc nofollow" target="_blank"> Fuchsia </a>等使用；在外部，Dart存储库有100多个外部提交者。</p><p id="9ac7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart开放性的一个更好的指标是谷歌之外的社区的增长。例如，我们看到来自第三方的关于Dart(包括Flutter和AngularDart)的文章和视频源源不断，我在本文中引用了其中的一些。</p><p id="74ea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">除了Dart本身的外部提交者之外，<a class="ae jy" href="https://pub.dartlang.org/" rel="noopener ugc nofollow" target="_blank">公共Dart包存储库</a>中还有超过3000个包，包括Firebase、Redux、RxDart、国际化、加密、数据库、路由、集合等库。</p><h1 id="abb7" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">Dart程序员会很好找吗？</h1><p id="680a" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">如果知道Dart的程序员不多，会不会更难找到合格的程序员？具有讽刺意味的是，Dart使得寻找程序员变得更加容易，因为它是一种非常容易学习的语言。已经了解Java、JavaScript、Kotlin、C#或Swift等语言的程序员几乎可以立即开始用Dart编程。最重要的是，hot reload鼓励用户玩Dart和尝试新事物，这使得学习Dart更快更愉快。</p><p id="f385" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一位程序员在一篇名为“<a class="ae jy" href="https://codeburst.io/why-flutter-will-take-off-in-2018-bbd75f8741b0" rel="noopener" target="_blank">为什么Flutter将在2018年</a>起飞”的文章中所说的:</p><blockquote class="my mz na"><p id="568e" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated"><a class="ae jy" href="https://www.dartlang.org/" rel="noopener ugc nofollow" target="_blank"> Dart </a>，用于开发Flutter应用的语言<strong class="it hv">很蠢——简单易学</strong>。例如，Google在创建像Go这样简单的、文档良好的语言方面有经验。到目前为止，对我来说，Dart让我想起了Ruby，学习它是一种乐趣。它不仅适用于手机，也适用于网络。</p></blockquote><p id="9321" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">来自另一篇关于旋舞和飞镖的文章，题为《<a class="ae jy" rel="noopener" href="/@franzsilva/why-flutter-and-not-framework-x-or-better-yet-why-im-going-flutter-all-in-b484ecb25336">为什么旋舞？而不是framework X？或者更好的是为什么我要全力以赴。</a></p><blockquote class="my mz na"><p id="83e4" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">Flutter也使用google开发的Dart语言，老实说，我并不喜欢C#或JAVA这样的强类型语言，但我不知道为什么Dart编写代码的方式看起来不同。我觉得写它很舒服。也许是因为它学起来很简单，也很直白。</p></blockquote><p id="ecde" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过广泛的UX研究和测试，Dart被特别设计为熟悉和易于学习。例如，在2017年上半年，Flutter团队与八名开发人员进行了一项UX研究。我们给了他们一个简短的颤振介绍，然后让他们放松了一个小时左右，创造了一个简单的观点。所有的参与者都能够立即开始编程，尽管他们以前从未使用过Dart。他们专注于写反应性的观点，而不是语言。<a class="ae jy" href="https://www.dartlang.org/guides/get-started" rel="noopener ugc nofollow" target="_blank">飞镖刚刚起作用</a>。</p><p id="1995" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，一名参与者(在这项任务中进步特别大)没有提到任何关于语言的事情，所以我们问他们是否意识到他们在使用什么语言。他们不知道。语言<em class="jz">无关紧要</em>；他们在几分钟内就用Dart编程了。</p><p id="129c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">学习一个新系统最困难的部分通常不是学习语言，而是学习所有的库、框架、工具、模式和编写好代码的最佳实践。Dart库和工具非常好，并且有很好的文档记录。一篇文章宣称“作为奖励，他们也非常小心地维护他们的代码库，他们有我见过的最好的文档。”学习Dart所花费的一点点努力很容易被学习其余部分所节省的时间所弥补。</p><p id="db5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为直接证据，谷歌内部的一个大型项目希望将他们的移动应用移植到iOS。他们打算雇佣一些iOS程序员，但最终决定尝试Flutter。他们监测了开发人员在Flutter上达到速度所需的时间。他们的结果显示，一名程序员可以在三周内学会飞镖<em class="jz">和</em>颤振并变得高效。相比之下，他们之前观察到仅让程序员熟悉Android就需要五周时间(更不用说他们还必须雇佣和培训iOS开发人员)。</p><p id="a281" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，文章“<a class="ae jy" rel="noopener" href="/@matthew.smith_66715/why-we-chose-flutter-and-how-its-changed-our-company-for-the-better-271ddd25da60">我们为什么选择Flutter以及它如何让我们的公司变得更好</a>”来自一家公司，该公司将其大型企业应用程序迁移到所有三个平台(iOS、Android和web)上的Dart。他们的结论是:</p><blockquote class="my mz na"><p id="5e91" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">更容易雇佣。我们现在寻求最佳候选人，不管他们是来自网络、iOS还是Android。</p><p id="9062" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">我们现在有3倍的带宽，因为我们所有的团队都整合在一个代码基础上。</p><p id="ccae" class="ir is jz it b iu iv iw ix iy iz ja jb nb jd je jf nc jh ji jj nd jl jm jn jo hn dt translated">知识共享空前高涨</p></blockquote><p id="71bb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过使用Dart和Flutter，他们的生产率提高了三倍。考虑到他们之前的所作所为，这并不奇怪。像许多公司一样，他们利用<em class="jz">独立的语言、工具和程序员为每个平台(web、iOS和Android)开发独立的应用程序</em>。改用Dart意味着他们不再需要雇佣三种不同的程序员。他们很容易将现有的程序员转移到Dart。</p><p id="da3d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们和其他人发现，一旦程序员开始使用Flutter，他们往往会<a class="ae jy" href="https://traversoft.com/2017/06/07/talk-on-dart-and-flutter/" rel="noopener ugc nofollow" target="_blank">爱上Dart </a>。他们喜欢简洁的语言，不拘泥于礼节。他们喜欢<a class="ae jy" rel="noopener" href="/@lukeaf/flutter-doesnt-need-kotlin-or-anything-else-5773965d5905">语言特性</a>，比如级联、命名参数、异步/等待和流。最重要的是，他们喜欢由Dart实现的Flutter功能(如热重装)，以及Dart帮助他们构建的漂亮、高性能的应用程序。</p><h1 id="54e1" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">飞镖2</h1><p id="31c0" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">随着这篇文章的发表，<a class="ae jy" href="https://www.dartlang.org/dart-2" rel="noopener ugc nofollow" target="_blank"> Dart 2 </a>正在发布。Dart 2专注于<a class="ae jy" rel="noopener" href="/@asandholm/announcing-dart-2-80ba01f43b6">改进构建客户端应用</a>的体验，包括开发速度、改进的开发工具和类型安全。比如Dart 2就有一个<a class="ae jy" href="http://papl.cs.brown.edu/2014/safety-soundness.html" rel="noopener ugc nofollow" target="_blank"> <em class="jz">声音类型系统</em> </a>和<a class="ae jy" href="https://en.wikipedia.org/wiki/Type_inference" rel="noopener ugc nofollow" target="_blank"> <em class="jz">类型推理</em> </a>。</p><p id="f60e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart 2还将<code class="eh np nq nr ng b">new</code>关键字设为可选。这意味着有可能在根本不使用任何关键字的情况下描述许多抖动视图<em class="jz">，使它们不那么杂乱，更容易阅读。例如:</em></p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="2a96" class="mf ld hu ng b fv nk nl l nm nn">Widget build(BuildContext context) =&gt;<br/>  Center(child:<br/>    Column(children: [<br/>      Text('Hello, World!'),<br/>      Icon(Icons.star, color: Colors.green),<br/>    ])<br/>  )</span></pre><p id="40c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Dart 2还使用类型推理，通过不要求在<code class="eh np nq nr ng b">const</code>上下文中冗余地指定<code class="eh np nq nr ng b">const</code>，使<code class="eh np nq nr ng b">const</code>关键字的许多使用成为可选的。例如，语句:</p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="a7a2" class="mf ld hu ng b fv nk nl l nm nn">const breakfast = {<br/>   const Doughnuts(): const [const Cruller(), const BostonCream()], <br/>};</span></pre><p id="1b46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在可以替换为:</p><pre class="ka kb kc kd fq nf ng nh ni aw nj dt"><span id="8508" class="mf ld hu ng b fv nk nl l nm nn">const breakfast = {<br/>   Doughnuts(): [Cruller(), BostonCream()],<br/>};</span></pre><p id="c342" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为<code class="eh np nq nr ng b">breakfast</code>是<code class="eh np nq nr ng b">const</code>，所以其他一切都被推断为<code class="eh np nq nr ng b">const</code>。</p><h2 id="82bc" class="mf ld hu bd le mg mh mi li mj mk ml lm jc mm mn lq jg mo mp lu jk mq mr ly ms dt translated">秘诀在于专注</h2><p id="709b" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">Dart 2中的改进集中在优化客户端开发上。但是Dart仍然是构建服务器端、桌面、嵌入式系统或其他程序的优秀语言。</p><p id="f1b8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">专注是一件<em class="jz">好事情</em>。几乎所有经久不衰的流行语言都得益于非常专注。例如:</p><ul class=""><li id="f69f" class="kh ki hu it b iu iv iy iz jc kj jg kk jk kl jo km kn ko kp dt translated">c是一种用于编写操作系统和编译器的系统编程语言。它变得越来越多。</li><li id="49c9" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">Java是一种为嵌入式系统设计的语言。</li><li id="89bd" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">JavaScript是一种用于web浏览器的脚本语言。).</li><li id="403d" class="kh ki hu it b iu kq iy kr jc ks jg kt jk ku jo km kn ko kp dt translated">甚至备受指责的PHP也获得了成功，因为它专注于编写个人主页(这也是它得名的原因)。</li></ul><p id="b61f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一方面，许多语言已经明确地尝试(并且失败了)成为完全通用的语言，比如PL/1和Ada等等。最常见的问题是<em class="jz">没有焦点</em>，这些语言变成了众所周知的厨房水槽。</p><p id="1efc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使Dart成为优秀客户端语言的许多特性也使它成为更好的服务器端语言。例如，Dart避免了抢占式多任务处理，这一事实赋予了它与服务器上的Node相同的优势，但打字更好、更安全。</p><p id="885e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为嵌入式系统编写软件也是如此。Dart可靠地处理多个并发输入的能力是这里的关键。</p><p id="9664" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，Dart在客户机上的成功将不可避免地产生更多在服务器上使用它的兴趣——就像JavaScript和Node的情况一样。为什么要强迫人们使用两种不同的语言来构建客户机-服务器软件呢？</p><h1 id="ecc3" class="lc ld hu bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz dt translated">结论</h1><p id="1c6e" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">对于Dart来说，这是一个激动人心的时刻。使用Dart的人喜欢它，Dart 2中的新特性使它成为您的工具库中更有价值的一部分。如果您没有使用过Dart，我希望这篇文章为您提供了关于Dart的新特性或不同之处的有价值的信息，并且希望您尝试一下。</p><figure class="ka kb kc kd fq ke"><div class="bz el l di"><div class="ns kg l"/></div></figure></div></div>    
</body>
</html>