<html>
<head>
<title>Terraform module for automated MongoDB backup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动化MongoDB备份的Terraform模块</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/terraform-module-for-automated-mongodb-backup-8c9594ca018?source=collection_archive---------12-----------------------#2018-03-03">https://medium.com/hackernoon/terraform-module-for-automated-mongodb-backup-8c9594ca018?source=collection_archive---------12-----------------------#2018-03-03</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="fbe3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">MongoDB是使用最广泛的数据库之一，为它创建备份是一项至关重要的日常任务，不能掉以轻心。这就是我们决定自动化流程的原因。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/b73cd5f32ca10c7f08a6fd41dfdf998c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ike7L8K4CE__nhuO_M2Kcg.jpeg"/></div></div></figure><p id="f1a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">手动备份完全过时了，更不用说这意味着要记住所有的特性并手动标记副本。自动备份需要使用默认情况下不存在的某些库，DevOps团队很可能会通过艰难的方式了解到这一点。</p><p id="0a34" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，我们希望在为自动化MongoDB备份创建<a class="ae kb" href="https://github.com/ITSvitCo/terraform-aws-mongo-backup" rel="noopener ugc nofollow" target="_blank"> Terraform模块时达到以下结果:</a></p><ul class=""><li id="7644" class="kc kd hu it b iu iv iy iz jc ke jg kf jk kg jo kh ki kj kk dt translated">备份流程的自动化管理(您只需访问您的AWS帐户、已安装的Terraform和我们的解决方案)</li><li id="addf" class="kc kd hu it b iu kl iy km jc kn jg ko jk kp jo kh ki kj kk dt translated">创建结构化且易于访问的备份注册表(存储多个最新版本的备份，确保它们可从多个访问点获得)</li></ul><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kq"><img src="../Images/160aecde76e280f496588d473cbd82bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8j50LH5leXuQjyX574M2dg.jpeg"/></div></div></figure><p id="e404" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">截图1 </strong> : AWS CloudFormation界面，带有周期性任务列表</p><h1 id="8c06" class="kr ks hu bd kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo dt translated">使用来自IT Svit的自动化MongoDB备份工具</h1><p id="e916" class="pw-post-body-paragraph ir is hu it b iu lp iw ix iy lq ja jb jc lr je jf jg ls ji jj jk lt jm jn jo hn dt translated">我们目前有一个Terraform清单，它安装了所有需要的库和依赖项，支持使用AWS CloudFormation和数据管道工具自动备份到AWS S3云存储。CloudFormation充当调度程序，启动数据管道任务，创建一个MongoDB转储作为备份，并将其存储在S3存储桶中。可通过Terraform或数据管道网络界面访问流程日志。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lu"><img src="../Images/004e24eb0bc9122293fbf683419fb377.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_eUk52gHbYinZqfJ85t2wA.jpeg"/></div></div></figure><p id="c13a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">截图二</strong>:AWS数据管道备份任务列表</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lv"><img src="../Images/394fd907dacbdc328d092a9fba28ffb1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SrqlspUawpLcNJhZVN-WpQ.jpeg"/></div></div></figure><p id="de72" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">截图3 </strong>:存储在AWS S3存储桶中的数据库备份</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lv"><img src="../Images/8df07a652ce06225d45ac68251bd0149.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mKtt7gBvT7QeNLO063jPig.jpeg"/></div></div></figure><p id="6f62" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">截图4 </strong>:每个备份都有版本，这意味着如果需要，可以恢复任何文件的特定版本。</p><p id="a246" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总之，这是一个整洁的小工具，解决了任何DevOps团队的主要头痛之一:自动数据库备份，备份版本监控和简单的恢复请求。</p><p id="4244" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，使用该解决方案唯一需要的是访问AWS服务和安装在您机器上的Terraform。Terraform运行安装所需库和配置备份工作流的清单。在<a class="ae kb" href="https://github.com/ITSvitCo/terraform-aws-mongo-backup" rel="noopener ugc nofollow" target="_blank"> Github </a>上查看！</p></div><div class="ab cl lw lx hc ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hn ho hp hq hr"><p id="b8c3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个故事最初发表在我公司的博客上—<a class="ae kb" href="https://itsvit.com/blog/automate-mongodb-backups-using-terraform/" rel="noopener ugc nofollow" target="_blank">https://it svit . com/blog/automate-MongoDB-backups-using-terraform/</a></p></div></div>    
</body>
</html>