<html>
<head>
<title>Build an AI / Machine Learning ChatBot in Python with RASA — Part 1</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用RASA用Python构建一个人工智能/机器学习聊天机器人——第1部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/build-simple-chatbot-with-rasa-part-1-f4c6d5bb1aea?source=collection_archive---------0-----------------------#2018-03-07">https://medium.com/hackernoon/build-simple-chatbot-with-rasa-part-1-f4c6d5bb1aea?source=collection_archive---------0-----------------------#2018-03-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/ad2ef8e34d5f4bb2293aaec7a0430483.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cebKFEibTVLi5rPh6ZTtWg.jpeg"/></div></div></figure><div class=""/><p id="d8e9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这篇文章中，我们将使用<strong class="je ig">真实</strong> <strong class="je ig">机器学习</strong>和(幕后)深度学习进行自然语言处理/理解！</p><p id="64b5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这篇文章中，我们将为NLP/U引擎和<a class="ae ka" rel="noopener" href="/@nattykohn/build-simple-chatbot-with-rasa-part-2-16726357b72c">对话部分</a>使用<a class="ae ka" href="https://rasa.com/" rel="noopener ugc nofollow" target="_blank"> RASA </a>对话人工智能解决方案</p><blockquote class="kb kc kd"><p id="ea6d" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">RASA——是NLP引擎/意图提取/对话的开源Python实现——其中所有上述内容都运行在<strong class="je ig">您的机器</strong> /内部→ <strong class="je ig">无云！</strong></p><p id="ee7d" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">顺便提一下，我们在<a class="ki kj gr" href="https://medium.com/u/bd8c6fbc1fb7?source=post_page-----f4c6d5bb1aea--------------------------------" rel="noopener" target="_blank">柠檬水</a>https://bit.ly/2NG88T0<a class="ae ka" href="https://bit.ly/2NG88T0?source=post_stats_page---------------------------" rel="noopener ugc nofollow" target="_blank">的产品中广泛使用了机器学习和数据科学，我们正在招聘:)(PM me)</a></p></blockquote><p id="1372" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章的灵感/参考是由<a class="ae ka" href="https://twitter.com/juste_petr" rel="noopener ugc nofollow" target="_blank">Justina petraiyte</a>制作的视频，谢谢！我试着分解它，并使用我自己的版本，在Mac上略有不同，所以我希望你会喜欢它，并发现它很有用。</p><p id="bd85" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">TL；</strong>跳到<a class="ae ka" href="#2aa3" rel="noopener ugc nofollow">博士<strong class="je ig">这里</strong>到</a></p><blockquote class="kb kc kd"><p id="aefa" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">首先这里是一个简短的介绍(如果你非常熟悉聊天机器人/对话架构或者想进入正题，这里 跳到<a class="ae ka" href="#2aa3" rel="noopener ugc nofollow"> <strong class="je ig">)</strong></a></p><p id="88f8" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">当聊天机器人输入是文本时，例如:“我想点比萨饼”</p><p id="8739" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">首先，机器人需要运行一个NLP ( <a class="ae ka" href="https://en.wikipedia.org/wiki/Natural-language_processing" rel="noopener ugc nofollow" target="_blank">自然语言处理</a>)引擎来解析句子(创建一个结构，或者“试着理解它”，如果你可以的话)</p><p id="9808" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">…但是下一步呢？让我们假设机器人成功地将其分类到正确的“意图”，在我们的情况下，假设“意图”是:订单_比萨饼，</p><p id="a7eb" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">常识上说我们必须有(来自用户)，全名，地址，披萨大小，浇头，还有什么？为此，我们需要一个“对话管理”组件，在这个组件中，我们将配置我们的机器人支持的各种“意图”，对于每个“意图”(下一部分—第2部分)，我们将指定哪些“插槽”/“实体”是强制性的，哪些只是可选的—这种配置通常被称为:“域定义”。</p><p id="bcac" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">如果你已经注意到在我们的例子中，全名，地址，比萨饼大小和浇头(槽)是强制性的，通过强制性，我们的意思是我们的机器人将继续与我们的用户交互，直到这些信息得到满足，只有这样它才能完成任务-比萨饼订购！</p></blockquote><h1 id="746b" class="kk kl if bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">最受欢迎的3篇人工智能文章:</h1><blockquote class="li"><p id="fc58" class="lj lk if bd ll lm ln lo lp lq lr jz ek translated"><a class="ae ka" href="https://chatbotslife.com/finding-the-genre-of-a-song-with-deep-learning-da8f59a61194" rel="noopener ugc nofollow" target="_blank"> 1。用深度学习寻找歌曲的流派</a></p><p id="466b" class="lj lk if bd ll lm ln lo lp lq lr jz ek translated"><a class="ae ka" href="https://chatbotslife.com/tensorflow-demystified-80987184faf7" rel="noopener ugc nofollow" target="_blank"> 2。张量流揭秘</a></p><p id="5731" class="lj lk if bd ll lm ln lo lp lq lr jz ek translated"><a class="ae ka" href="https://chatbotslife.com/bots-mods-multiplayer-co-op-why-slack-is-game-like-not-gamified-bb1b7ac93c04" rel="noopener ugc nofollow" target="_blank"> 3。机器人，MODs &amp;多人合作:为什么Slack是游戏化的——而不是游戏化的</a></p></blockquote><p id="3c22" class="pw-post-body-paragraph jc jd if je b jf ls jh ji jj lt jl jm jn lu jp jq jr lv jt ju jv lw jx jy jz hn dt translated">(我将制作一个更详细的视频，敬请关注:)</p><p id="2aa3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在让我们言归正传。</p><h2 id="e896" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">建立NLU方面</h2><p id="21f1" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">为了获得使用<a class="ae ka" href="https://stackoverflow.com/a/52783694/1340604" rel="noopener ugc nofollow" target="_blank"> Python 3.6.4 </a>(以及更高版本)运行的最佳结果，最好使用<a class="ae ka" href="https://stackoverflow.com/a/54183964/1340604" rel="noopener ugc nofollow" target="_blank"> virtualenv </a>(如果出现错误)尝试使用以下代码创建env:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="8952" class="lx kl if mv b fv mz na l nb nc">pip3 install virtualenv<br/>python3 -m virtualenv &lt;env_name&gt;<br/>source &lt;env_name&gt;/bin/activate</span></pre><blockquote class="kb kc kd"><p id="b109" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">如果您不想在您的版本上安装Python版本，只需使用<a class="ae ka" href="https://stackoverflow.com/a/57876585/1340604" rel="noopener ugc nofollow" target="_blank"> Pyenv </a>(推荐)</p><p id="39b5" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated"><a class="ae ka" href="https://stackoverflow.com/a/51367161/1340604" rel="noopener ugc nofollow" target="_blank">如果你安装了Python 3.6.4，确保你运行上面的命令，Python 3指向上面提到的Python 3 . 6 . 4</a></p></blockquote><p id="e794" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以选择安装它:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="49be" class="lx kl if mv b fv mz na l nb nc">pip3 install rasa_nlu==0.12.3</span></pre><p id="3449" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您希望能够调试您的代码并开始实现，您应该克隆它:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="e9d0" class="lx kl if mv b fv mz na l nb nc">git clone <a class="ae ka" href="mailto:git@github.com" rel="noopener ugc nofollow" target="_blank">git@github.com</a>:RasaHQ/rasa_nlu.git</span><span id="a657" class="lx kl if mv b fv nd na l nb nc">cd rasa_nlu</span><span id="1f20" class="lx kl if mv b fv nd na l nb nc">#go to the relevant release (0.12.3):<br/>git reset --hard d08b5765e92ea27741926b1246e5e22713158987</span><span id="51dd" class="lx kl if mv b fv nd na l nb nc"><br/>pip install -r requirements.txt<br/>pip install -e .</span></pre><p id="77d1" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">无论哪种方式，都可以创建一个工作目录，我们将在其中放置本教程的所有文件:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="06e2" class="lx kl if mv b fv mz na l nb nc">mkdir rasa_demo<br/>cd rasa_demo<br/>vim requirements.txt</span></pre><blockquote class="kb kc kd"><p id="4f52" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">如果不想使用vim，只需创建requirements.txt文件。并在文本编辑器(sublime或记事本)中编辑它</p></blockquote><p id="abba" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您克隆了代码，请跳到<a class="ae ka" href="#429a" rel="noopener ugc nofollow">配置</a>。</p><p id="0d32" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在文件“requirements.txt”中添加以下内容:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="ecb6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在运行(查找文件的位置):</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="50b0" class="lx kl if mv b fv mz na l nb nc">pip install -r requirements.txt</span></pre><h2 id="429a" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">配置</h2><p id="920e" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">首先让我们创建配置文件和培训文件。</p><p id="9b44" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们从配置文件开始。创建名为config的目录:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="f7fc" class="lx kl if mv b fv mz na l nb nc">mkdir config<br/>cd config<br/>vim config.json</span></pre><blockquote class="kb kc kd"><p id="33b1" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">如果不想使用vim，只需创建requirements.txt文件。并在文本编辑器(sublime或记事本)中编辑它</p></blockquote><p id="4ce6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这个文件“config.json”中添加以下内容:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="be0a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您使用的是较新版本的Rasa，即通过yml完成配置，请创建config/config.yml:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="cb32" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">回到父工作区目录—在我们的例子中是“rasa_demo”</p><h2 id="9af7" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">培训用数据</h2><p id="1361" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">现在让我们创建训练数据，就此而言，我们认为我们的用户将要说的句子的例子，以及我们的聊天机器人应该打破它的意图和实体。</p><p id="704b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，让我们创建一个目录“data ”,并在其中创建一个文件“training_data.json”</p><p id="756d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="074e" class="lx kl if mv b fv mz na l nb nc">cd ../<br/>mkdir data<br/>cd !$<br/>vim training_data.json</span></pre><blockquote class="kb kc kd"><p id="9ae8" class="jc jd ke je b jf jg jh ji jj jk jl jm kf jo jp jq kg js jt ju kh jw jx jy jz hn dt translated">如果不想使用vim，只需创建requirements.txt文件。并在文本编辑器(sublime或记事本)中编辑它</p></blockquote><p id="353f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有了这个内容:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="27fd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有一个很棒的工具(rasa_nlu_trainer)可以用来添加新的例子/意图/实体。</p><p id="3a25" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要安装它，请在终端中运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="f3a4" class="lx kl if mv b fv mz na l nb nc">npm i -g rasa-nlu-trainer<!-- --> (you'll need <a class="ae ka" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank">nodejs and npm</a> for this)</span></pre><p id="79f0" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您没有npm和nodejs，请转到此处的<a class="ae ka" href="https://github.com/RasaHQ/rasa-nlu-trainer" rel="noopener ugc nofollow" target="_blank"/>，并按照安装部分中的链接找到npm和nodejs。</p><p id="7248" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在启动训练器:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="6b79" class="lx kl if mv b fv mz na l nb nc">rasa-nlu-trainer -v &lt;path to the training data file&gt;</span></pre><p id="3dea" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我们的示例中，我们将文件放在数据目录下:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="a7b6" class="lx kl if mv b fv mz na l nb nc">rasa-nlu-trainer -v data/training_data.json</span></pre><p id="78ef" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是培训师的截图:</p><figure class="mq mr ms mt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ng"><img src="../Images/1e898cdcae115c9ef146f785cda185d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QvfeQocrlvfVcAyHdMxM7w.png"/></div></div></figure><p id="ab53" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在截图中我们可以看到意图部分:“order_pizza”和用户输入的文本:“我想点大披萨”。此外，我标记了单词“large ”,现在我可以选择将其作为一个实体添加:“size ”,在本例中其值为:“large”</p><p id="dcd3" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这个例子中，我们每个意图只有2个例子(顺便说一句，这是每个意图你必须拥有的最少例子，否则你会在训练时间中出错。</p><h2 id="0e0b" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">机器学习培训</h2><p id="8750" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">现在我们已经准备好实际训练我们的<a class="ae ka" href="https://hackernoon.com/tagged/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a> NLU模型。</p><p id="ac00" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用以下代码在父工作区目录中创建一个文件:“nlu_model.py ”:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="d615" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您使用的是较新版本的Rasa(没有通过yml的NLU转换器/配置),请使用nlu_model.py:</p><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="ne nf l"/></div></figure><p id="37e4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在运行(确保您在父工作区目录中):</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="854d" class="lx kl if mv b fv mz na l nb nc">python nlu_modle.py</span></pre><p id="73bf" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">注意，在上面的代码中，对run()函数的调用被注释掉了。</p><p id="2c4c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在尝试取消对它的注释，并注释掉对函数train()的调用。</p><p id="29e9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">再次运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="5632" class="lx kl if mv b fv mz na l nb nc">python nlu_modle.py</span></pre><p id="5dc9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您应该会看到输出:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="9dcf" class="lx kl if mv b fv mz na l nb nc">{u’entities’: [], u’intent’: {u’confidence’: 0.78863250761506243, u’name’: u’order_pizza’}, ‘text’: u’I want to order pizza’, u’intent_ranking’: [{u’confidence’: 0.78863250761506243, u’name’: u’order_pizza’}, {u’confidence’: 0.21136749238493763, u’name’: u’greet’}]}</span></pre><p id="9c85" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">正如您所看到的，我们的模型已经成功地将文本分类到意图:“order_pizza”，并充满信心:“0.788……”—为了获得更好的概率，只需在训练数据中添加更多的示例。</p><p id="193b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">恭喜</strong>！我们刚刚为我们的聊天机器人构建了一个解释器—中途:)</p><p id="be55" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你可以休息一下，稍后再看第二部分——别忘了<strong class="je ig">鼓掌</strong>:)</p><p id="05cb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，您已经准备好构建对话端了。</p><p id="8421" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" rel="noopener" href="/p/16726357b72c">转到指南的第2部分</a>(链接将很快添加)</p><p id="1c16" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">(顺便说一句，我们正在<a class="ae ka" href="https://www.lemonade.com/?utm_source=medium&amp;utm_medium=social&amp;utm_content=nathanielkohn" rel="noopener ugc nofollow" target="_blank">柠檬水</a>建造惊人的人工智能和聊天机器人)</p><h1 id="bcd9" class="kk kl if bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">解决纷争</h1><p id="6fbe" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">如果您遇到问题！</p><p id="be8f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">git克隆最新版本，安装所有需求像<a class="ae ka" href="https://stackoverflow.com/a/54183964/1340604" rel="noopener ugc nofollow" target="_blank">这个</a>:</p><p id="9e1f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="a9f4" class="lx kl if mv b fv mz na l nb nc">virtualenv -p python3 &lt;env name&gt;</span><span id="92db" class="lx kl if mv b fv nd na l nb nc">python3 -m virtualenv &lt;env_name&gt; <br/> <br/>pip3 install <!-- -->alt_requirements/requirements_tensorflow_sklearn.txt</span></pre><h2 id="6f3e" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">现在你准备好了吗</h2><ol class=""><li id="ab63" class="nh ni if je b jf ml jj mm jn nj jr nk jv nl jz nm nn no np dt translated">只需确保您有一个培训文件(类似于上面的)配置文件，如下所示— config.yml:</li></ol><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="5d47" class="lx kl if mv b fv mz na l nb nc">pipeline:<br/>- name: "tokenizer_whitespace"<br/>- name: "ner_crf"<br/>- name: "intent_featurizer_count_vectors"<br/>- name: "intent_classifier_tensorflow_embedding"<br/>  batch_size: [64, 256]<br/>  epochs: 1500<br/>  embed_dim: 20</span></pre><p id="3f16" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.现在训练:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="e595" class="lx kl if mv b fv mz na l nb nc">python3 rasa_nlu/train.py \<br/>    --config `pwd`/config/config.yml \<br/>    --data `pwd`/data/training_data.json  \<br/>    --path `pwd`/projects/</span></pre><p id="b8ff" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.现在运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="fbc0" class="lx kl if mv b fv mz na l nb nc">python3 rasa_nlu/server.py --path `pwd`/projects --config config/config.yml</span></pre><p id="2f1d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">确保config.yml文件在同一个位置。</p><p id="6e14" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有Python pkgs的问题，请跟随<a class="ae ka" href="https://stackoverflow.com/a/54183964/1340604" rel="noopener ugc nofollow" target="_blank">这个</a>:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="fab2" class="lx kl if mv b fv mz na l nb nc">virtualenv -p python3 &lt;env name&gt;</span><span id="733d" class="lx kl if mv b fv nd na l nb nc">python3 -m virtualenv &lt;env_name&gt; <br/> <br/>pip3 install <!-- -->alt_requirements/requirements_tensorflow_sklearn.txt</span></pre><h2 id="ceb9" class="lx kl if bd km ly lz ma kq mb mc md ku jn me mf ky jr mg mh lc jv mi mj lg mk dt translated">更多问题？</h2><p id="7ec3" class="pw-post-body-paragraph jc jd if je b jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv mp jx jy jz hn dt translated">如果在尝试运行NLU (&gt; python nlu_model.py)时出现以下错误:</p><p id="aacd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">" OSError:找不到模型' en ' "</p><p id="41cb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这意味着您还没有下载spacy“en”语言模型。</p><p id="7943" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="f685" class="lx kl if mv b fv mz na l nb nc">python3 -m spacy download en</span></pre><p id="9eee" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">或者:</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="e937" class="lx kl if mv b fv mz na l nb nc">python -m spacy download en</span></pre><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="nq nf l"/></div></figure><div class="mq mr ms mt fq ab cb"><figure class="nr hw ns nt nu nv nw paragraph-image"><a href="https://chatbotslife.com/bot-communities-mastermind-group-d2dae9876709#.53x0py6ou"><img src="../Images/5ba109d060e9ddce34a21e4f057bd981.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*6XUspT9JOSq0w0Fi35HIaA.png"/></a></figure><figure class="nr hw ns nt nu nv nw paragraph-image"><a href="https://m.me/ChatbotsLife"><img src="../Images/6669d4d26338491b6b15930d8dacd0a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*c1LDMH5vbnIz9rmAka8Hwg.png"/></a></figure><figure class="nr hw ns nt nu nv nw paragraph-image"><a href="https://chatbotslife.com/how-to-get-a-free-chatbot-b1fb9dfe109#.z9dtp2sy0"><img src="../Images/e0380c5cd23de0f8fa7b9457c952cc8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*D0Jf3dI6ZThtqcfwDYY7mg.png"/></a></figure></div><figure class="mq mr ms mt fq hw"><div class="bz el l di"><div class="nq nf l"/></div></figure></div></div>    
</body>
</html>