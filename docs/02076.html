<html>
<head>
<title>Publish your own NPM package 🎉</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">发布您自己的NPM包🎉</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/publish-your-own-npm-package-946b19df577e?source=collection_archive---------3-----------------------#2018-03-07">https://medium.com/hackernoon/publish-your-own-npm-package-946b19df577e?source=collection_archive---------3-----------------------#2018-03-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/22f9ddd5783a01f39b783853c2aaa479.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*6NuFbiTgZwuiRI4e.jpg"/></div></div></figure><p id="29fe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ka">注:</em> </strong> <a class="ae kb" href="https://github.com/flexdinesh/npm-module-boilerplate" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> <em class="ka"> npm模块</em> </strong> </a> <strong class="je hv"> <em class="ka">有一个惊人的样板。这篇文章是基于我在创建它时学到的东西。</em> </strong></p><p id="ae47" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如今，NPM已经成为javascript库事实上的注册中心。尤其是随着React、Angular等前端库统治web，node.js接管服务器端，<em class="ka"> NPM包现在比以往任何时候都更受欢迎</em>。我们经常在代码中导入惊人的实用程序，如<a class="ae kb" href="https://github.com/flexdinesh/typy" rel="noopener ugc nofollow" target="_blank"> typy </a>、<a class="ae kb" href="https://github.com/andrewplummer/Sugar" rel="noopener ugc nofollow" target="_blank"> sugar </a>并毫无争议地使用它们。</p><p id="8761" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是你有没有想过编写你自己的实用程序/库并把它发布到NPM，这样你和全世界都可以在任何地方重用它？如果是，那就继续读下去。✨</p><p id="eae0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将在这篇文章中讨论以下几个部分。</p><ol class=""><li id="424a" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">为什么？</li><li id="c360" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">发布步骤</li><li id="5cf5" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">样板文件</li></ol><h1 id="12e0" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">为什么？</h1><p id="257b" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">当您跨多个项目工作时，您会经常发现自己在多个项目中重复简单的事情。例如，以您喜欢的方式解析日期并格式化它。大多数开发人员只是从一个项目中复制代码，然后用在另一个项目中，因为它只有几行代码。但是更好的方法是提取代码并把它放在一个公共的地方，这样你就可以从任何项目中访问它。NPM是一个理想的和不断增长的生态系统，它是免费使用的。因此，从长远来看，将所有可重用代码发布为npm包会对您有所帮助。</p><p id="00a4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不管代码有多小，是一行还是一千行，把它作为一个包发布，这样它就可以很容易地在多个代码库中使用。</p><p id="1863" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">而且，你会成为一个图书馆的作者。多酷啊！😎</p><h1 id="3e72" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">发布步骤</h1><p id="65d5" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">出版通常是一个简单的过程。</p><p id="f448" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh lt lu lv lw b">code =&gt; test =&gt; publish =&gt; revise code =&gt; test =&gt; publish new version ...</code></p><h1 id="2568" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">进入</h1><p id="59d1" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">创建一个新目录，并从终端输入以下命令。</p><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="8acf" class="mf kr hu lw b fv mg mh l mi mj">npm init</span></pre><p id="ea8e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为您的包输入有意义的名称和适当的详细信息。这将为您创建<code class="eh lt lu lv lw b">package.json</code>。所有NPM包裹都需要<code class="eh lt lu lv lw b">main</code>钥匙。这定义了我们库的入口点。默认情况下，这将是<code class="eh lt lu lv lw b">index.js</code>，但你可以改变它，无论你想你的入口点。</p><p id="1425" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于基于Babel或bundle的库，入口点通常在构建目录中。</p><h1 id="c996" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">来源</h1><p id="dbdf" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">如果你在写一个小库，你可以把你所有的代码放到<code class="eh lt lu lv lw b">index.js</code>里。但更常见的是，我们会将代码抽象出来，放入单独的文件中。所以理想的方法是将所有的源代码保存在<code class="eh lt lu lv lw b">src</code>目录中。</p><p id="89e8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是目前最广泛使用和推荐的源代码设置，尽管它因库而异。</p><ul class=""><li id="158c" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz mk ki kj kk dt translated"><strong class="je hv">ES6</strong>——<a class="ae kb" href="https://babeljs.io" rel="noopener ugc nofollow" target="_blank">巴别塔</a></li><li id="213b" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz mk ki kj kk dt translated"><strong class="je hv">林挺</strong>——<a class="ae kb" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank">诚信通</a></li><li id="ff6c" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz mk ki kj kk dt translated"><strong class="je hv">代码格式化</strong> —美化/ <a class="ae kb" href="https://github.com/prettier/prettier" rel="noopener ugc nofollow" target="_blank">更漂亮</a></li><li id="9a2e" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz mk ki kj kk dt translated"><strong class="je hv">捆绑</strong> — <a class="ae kb" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank">网络包</a></li></ul><p id="36a1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你们中的大多数人已经知道了这些事情，所以我将把它留给你们去解决。</p><h1 id="6c5e" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">试验</h1><p id="4353" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">您需要进行彻底的测试，以确保您的代码按预期运行。有各种测试设置。你可以使用最适合你需要的。虽然，广泛使用的测试设置是</p><ul class=""><li id="abcb" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz mk ki kj kk dt translated">JavaScript实用程序— <a class="ae kb" href="https://mochajs.org/" rel="noopener ugc nofollow" target="_blank">摩卡</a></li><li id="1861" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz mk ki kj kk dt translated">反应库— <a class="ae kb" href="https://facebook.github.io/jest/" rel="noopener ugc nofollow" target="_blank">笑话</a>与<a class="ae kb" href="https://github.com/airbnb/enzyme" rel="noopener ugc nofollow" target="_blank">酶</a></li><li id="4e29" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz mk ki kj kk dt translated">角库— <a class="ae kb" href="https://karma-runner.github.io/2.0/index.html" rel="noopener ugc nofollow" target="_blank">因缘</a>与<a class="ae kb" href="https://jasmine.github.io/" rel="noopener ugc nofollow" target="_blank">茉莉</a></li></ul><p id="563c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">…以及更多</p><p id="11a6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你也需要<strong class="je hv">代码覆盖</strong>，<em class="ka">(我是</em>，<a class="ae kb" href="https://github.com/gotwarlost/istanbul" rel="noopener ugc nofollow" target="_blank">，<em class="ka">伊斯坦布尔</em>，</a>是任何JavaScript项目的最佳覆盖工具之一。我绝对喜欢它。</p><h1 id="7d2e" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">出版</h1><p id="eca5" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">一旦你的代码被彻底测试，它就可以发布了。</p><ol class=""><li id="e52c" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">在<a class="ae kb" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank">npmjs.com</a>创建账户。</li><li id="824d" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">从终端运行以下命令</li></ol><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="616f" class="mf kr hu lw b fv mg mh l mi mj">npm login</span></pre><p id="6e24" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">输入您的用户名和密码。这将存储凭据，因此您不必在每次发布时都输入凭据。</p><ol class=""><li id="6796" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">现在发布，运行</li></ol><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="bdd7" class="mf kr hu lw b fv mg mh l mi mj">npm publish</span></pre><p id="a70a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将发布您的软件包到NPM注册表。一旦发布完成(不到一分钟)，你可以在<code class="eh lt lu lv lw b"><a class="ae kb" href="https://www.npmjs.com/~{username}/{package-name}." rel="noopener ugc nofollow" target="_blank">https://www.npmjs.com/~{username}/{package-name}</a></code> <a class="ae kb" href="https://www.npmjs.com/~{username}/{package-name}." rel="noopener ugc nofollow" target="_blank">链接中查看你的包。</a></p><p id="3371" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想改变你的包，你必须改变版本号并重新发布。</p><p id="bb5f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">记住使用npm命令<code class="eh lt lu lv lw b">npm version patch</code>、<code class="eh lt lu lv lw b">npm version minor</code>和<code class="eh lt lu lv lw b">npm version major</code>来自动更新版本，而不是手动更新。这些命令基于<a class="ae kb" href="https://docs.npmjs.com/getting-started/semantic-versioning" rel="noopener ugc nofollow" target="_blank">语义版本</a>。</p><h1 id="5834" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">样板文件</h1><p id="d679" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">我自己有几个npm包，并在网上对创建NPM包的所有<strong class="je hv">最佳实践</strong>进行了足够的研究，还专门为此创建了一个<strong class="je hv">样板文件</strong>。它已经预先设置好一切，您可以在几秒钟内<strong class="je hv">开始使用</strong>。如果您正在寻找编写JavaScript util包，它可能只是您的样板文件。</p><p id="30f2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">链接到样板文件— <a class="ae kb" href="https://github.com/flexdinesh/npm-module-boilerplate" rel="noopener ugc nofollow" target="_blank"> npm模块样板文件</a></p><p id="33c1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你太棒了！祝你有美好的一天！🎉</p><figure class="lx ly lz ma fq iv"><div class="bz el l di"><div class="ml mm l"/></div></figure></div></div>    
</body>
</html>