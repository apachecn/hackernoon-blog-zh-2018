<html>
<head>
<title>Redux-saga pattern: flow sagas and common sagas</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">还原传奇模式:流动传奇与普通传奇</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/redux-saga-pattern-flow-sagas-and-common-sagas-3aa6862533e0?source=collection_archive---------7-----------------------#2018-03-07">https://medium.com/hackernoon/redux-saga-pattern-flow-sagas-and-common-sagas-3aa6862533e0?source=collection_archive---------7-----------------------#2018-03-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/4e66691aa668401a60ef7d108953cb0c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-GC9G3YWGrTD85yV5N0STg.png"/></div></div></figure><p id="e227" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我已经和<a class="ae ka" href="https://hackernoon.com/tagged/redux-saga" rel="noopener ugc nofollow" target="_blank"> redux-saga </a>一起工作了半年，我喜欢它，因为它允许编写干净的声明性代码。</p><p id="3ae2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每当我接触一项<a class="ae ka" href="https://hackernoon.com/tagged/technology" rel="noopener ugc nofollow" target="_blank">技术</a>时，我都会研究模式、惯例、最佳实践来提高我的知识。<br/>我在redux-saga上找到了很多资源(文档非常好),但是没有解释如何在应用程序上构建和定义saga以提高可维护性和可伸缩性。</p><p id="d240" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">考虑到这一点，我想分享我是如何管理sagas的，希望这篇文章能帮助到一些人，并收到一些改进的反馈。<br/>简单的概念就是定义两种传奇，<strong class="je hv">流和普通</strong>。</p><h1 id="aa3f" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是流量传奇和普通传奇？</h1><h2 id="11ad" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated"><strong class="ak">普通传奇</strong>:</h2><p id="53c5" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">是只有一个职责的传奇，可以在我们应用程序的所有部分使用。<br/>它们应该包括每次动作生命周期(开始、成功、失败)<br/>它们应该<strong class="je hv">总是返回一些东西</strong>并且要被调用，它们应该作为生成器导出。<br/>他们将错误管理委托给流传奇。<br/>从这里调度的动作<strong class="je hv">可以管理</strong>redux store的状态。</p><p id="8e42" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">例子:<strong class="je hv">获取</strong>用户的喜好。</p><figure class="ls lt lu lv fq iv"><div class="bz el l di"><div class="lw lx l"/></div></figure><h2 id="ebd5" class="kz kc hu bd kd la lb lc kh ld le lf kl jn lg lh kp jr li lj kt jv lk ll kx lm dt translated"><strong class="ak">流传奇</strong>:</h2><p id="a505" class="pw-post-body-paragraph jc jd hu je b jf ln jh ji jj lo jl jm jn lp jp jq jr lq jt ju jv lr jx jy jz hn dt translated">是管理一个特性的<strong class="je hv">行为</strong>的传奇，应该只由一个特性使用<strong class="je hv">。我们也可以定义一个心流传奇，一个用普通传奇创造一种行为的传奇。<br/> </strong>它们总是被调度的动作调用，并描述特定特性的行为(<strong class="je hv">流程</strong>)。他们应该管理成功和失败行为，为此我们使用TRY-CATCH语句。在尝试中我们有成功的行为，在捕捉中我们有失败的行为。</p><p id="7804" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">示例:<strong class="je hv">该特性如何在引导程序上工作。</strong></p><figure class="ls lt lu lv fq iv"><div class="bz el l di"><div class="lw lx l"/></div></figure><h1 id="c840" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">我为什么喜欢它？</h1><ul class=""><li id="39bf" class="ly lz hu je b jf ln jj lo jn ma jr mb jv mc jz md me mf mg dt translated">在sagas之间创建差异有助于您使您的应用程序更易于维护，因为您可以重用公共部分并划分业务逻辑的职责。</li><li id="13ea" class="ly lz hu je b jf mh jj mi jn mj jr mk jv ml jz md me mf mg dt translated">通过将两种类型的传奇分开，你可以很快地改变你的应用程序，因为这样你可以隔离行为并改变它们，而不需要触及任何其他东西。</li><li id="839f" class="ly lz hu je b jf mh jj mi jn mj jr mk jv ml jz md me mf mg dt translated">错误处理非常容易，因为只有一个地方可以处理它。</li><li id="3549" class="ly lz hu je b jf mh jj mi jn mj jr mk jv ml jz md me mf mg dt translated">您可以知道在您的应用程序中发生了什么，因为动作日志记录是非常干净的，并且发现bug将是有益的！</li></ul></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="06ed" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我希望这篇文章可以帮助你避免我遇到的一些问题。我很好奇你的方法，以及你对这篇文章的看法。</p><p id="8a66" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">祝编码愉快🚀</p><p id="7ac6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Github上关注我:<a class="ae ka" href="https://github.com/CVarisco" rel="noopener ugc nofollow" target="_blank">https://github.com/CVarisco</a>T3】在Twitter上关注我:<a class="ae ka" href="https://twitter.com/chrivarisco" rel="noopener ugc nofollow" target="_blank">https://twitter.com/chrivarisco</a></p><figure class="ls lt lu lv fq iv"><div class="bz el l di"><div class="mt lx l"/></div></figure></div></div>    
</body>
</html>