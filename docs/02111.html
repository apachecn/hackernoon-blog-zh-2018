<html>
<head>
<title>Linear optimization using Julia</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Julia的线性优化</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/linear-optimization-using-julia-40311c0ad98c?source=collection_archive---------9-----------------------#2018-03-08">https://medium.com/hackernoon/linear-optimization-using-julia-40311c0ad98c?source=collection_archive---------9-----------------------#2018-03-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="e54e" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">编写您的第一个Julia代码来解决线性优化问题。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/f997836d1f693986462f977880bc9a66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*a1FzoutKEU1BbOWJimVE4Q.jpeg"/></div></div></figure><p id="5049" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在这篇文章中，我们将关注使用Julia建模线性优化问题。</p><blockquote class="kr ks kt"><p id="134a" class="jv jw ku jx b jy jz iv ka kb kc iy kd kv kf kg kh kw kj kk kl kx kn ko kp kq hn dt translated">想了解更多关于Julia的信息，请点击这里的链接。<br/>想了解更多关于线性优化的知识，请点击这里的<a class="ae ky" rel="noopener" href="/@jayantakshirsagar/linear-optimization-b688d87c0f28">链接。</a></p></blockquote><p id="2747" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">Julia有一个名为JuMP的软件包，用于建模优化问题。<br/> JuMP是一种领域特定的建模语言，可用于线性、混合整数、非线性问题。</p><p id="2f0d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">JuMP内部使用MathProgBase。MathProgBase提供了独立于求解器的高级函数，可用于与Cbc、Clp、CPLEX、Gurobi等求解器进行交互。在这个例子中，我们将使用Cbc作为求解器。Cbc是一个开源的数学求解器，支持线性以及混合整数问题。</p><p id="0f5b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku"> 1。创建模型</em></p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="d799" class="le lf hu la b fv lg lh l li lj">using JuMP<br/>using Cbc</span><span id="93ea" class="le lf hu la b fv lk lh l li lj">lpModel = Model(solver = CbcSolver(seconds = 3600))</span></pre><p id="898d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在我们使用JuMP创建模型之前，让我们确保安装了JuMP和Cbc。</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="b931" class="le lf hu la b fv lg lh l li lj">Pkg.add(“JuMP”)<br/>Pkg.add("Cbc")</span></pre><p id="9382" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku"> 2。定义变量</em></p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="a2ff" class="le lf hu la b fv lg lh l li lj"><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, x &lt;= 5)<br/><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, y &gt;= 6)</span></pre><p id="1b76" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们正在创建两个变量，即具有预定义边界的x和y。</p><p id="1e2f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku"> 3。创建约束</em></p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="b364" class="le lf hu la b fv lg lh l li lj"><a class="ae ky" href="http://twitter.com/constraint" rel="noopener ugc nofollow" target="_blank">@constraint</a>(lpModel, x+y &lt;= 20)<br/><a class="ae ky" href="http://twitter.com/constraint" rel="noopener ugc nofollow" target="_blank">@constraint</a>(lpModel, 2x + 3y &gt;= 28)</span></pre><p id="c6d5" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku"> 4。创建一个目标</em></p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="84fc" class="le lf hu la b fv lg lh l li lj"><a class="ae ky" href="http://twitter.com/objective" rel="noopener ugc nofollow" target="_blank">@objective</a>(lpModel, Max, x + y)</span></pre><p id="e08a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku"> 5。求解并阅读答案</em></p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="671a" class="le lf hu la b fv lg lh l li lj">status = JuMP.solve(lpModel)<br/><br/>getvalue(x)<br/>getvalue(y)</span></pre></div><div class="ab cl ll lm hc ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hn ho hp hq hr"><p id="9e25" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="ku">我们来举个例子。</em>T19】</strong></p><p id="7bbf" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">有一次，一群18名学生走进了一家新开的咖啡馆。咖啡馆只有两个项目，菜单卡是这样的。</p><p id="d532" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">1.茶叶印度卢比20 <br/> 2。R30中的咖啡</p><p id="49cf" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">18个学生中，5个要了茶，6个说要咖啡。剩下的7个对这两种饮料都没问题。<br/>此外，他们不想花费超过470印度卢比。这让酒店经理很困惑。他曾经在茶叶和咖啡上分别获得2卢比和3卢比的利润。他想将利润最大化，但不知道如何去做。让我们试着帮助他。</p></div><div class="ab cl ll lm hc ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hn ho hp hq hr"><p id="38db" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="ku">解</em> </strong></p><p id="e981" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">假设，x是要求喝茶的学生人数，y是想要咖啡的学生人数。他们中至少有5个人想要茶。</p><p id="fd2f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">x &gt;= 5 <br/>同样，y &gt; = 6</p><p id="bb9e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们知道，总共有18名学生，因此，x + y = 18。总费用不能超过470英镑，因此</p><p id="c5c3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">20x + 30y &lt;= 470</p><p id="706c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">目标是利润最大化，这意味着</p><p id="71c3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">利润最大化，用2x + 3y表示，因为每一杯茶将产生2卢比的利润，每杯咖啡将产生3卢比的利润。</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="4a26" class="le lf hu la b fv lg lh l li lj"><br/>using JuMP<br/>using Cbc</span><span id="6209" class="le lf hu la b fv lk lh l li lj">lpModel = Model(solver = CbcSolver(seconds = 3600))</span><span id="820a" class="le lf hu la b fv lk lh l li lj"><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, x &gt;= 5)<br/><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, y &gt;= 6)</span><span id="9fc7" class="le lf hu la b fv lk lh l li lj"><a class="ae ky" href="http://twitter.com/constraint" rel="noopener ugc nofollow" target="_blank">@constraint</a>(lpModel, x+y == 18)<br/><a class="ae ky" href="http://twitter.com/constraint" rel="noopener ugc nofollow" target="_blank">@constraint</a>(lpModel, 20x + 30y &lt;= 470)</span><span id="be12" class="le lf hu la b fv lk lh l li lj"><a class="ae ky" href="http://twitter.com/objective" rel="noopener ugc nofollow" target="_blank">@objective</a>(lpModel, Max, 2x + 3y)</span><span id="8c38" class="le lf hu la b fv lk lh l li lj">status = JuMP.solve(lpModel)</span><span id="34ff" class="le lf hu la b fv lk lh l li lj">println("Number of Tea Cups: $(getvalue(x))")<br/>println("Number of Coffee Mugs : $(getvalue(y))")</span></pre><p id="aee0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">上面的代码应该输出</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="7388" class="le lf hu la b fv lg lh l li lj">Number of Tea cups: 7.0<br/>Number of Coffee Mugs : 11.0</span></pre><p id="cab7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">也就是说，最大利润应该是</p><p id="98f1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">2 * 7 + 3 * 11 =印度卢比47</p><p id="c1e9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在，让我们把问题变得更有趣一点。总预算不是470印度卢比，我们假设预算是475印度卢比。</p><p id="9e1e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">因此，我们需要修改其中一个约束。</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="c175" class="le lf hu la b fv lg lh l li lj">@<a class="ae ky" href="http://twitter.com/constraint" rel="noopener ugc nofollow" target="_blank">constraint</a>(lpModel, 20x + 30y &lt;= 475)</span></pre><p id="70af" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">那很简单。让我们用修改后的约束运行整个代码，看看输出是什么。</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="fff9" class="le lf hu la b fv lg lh l li lj">Number of Tea Cups: 6.5<br/>Number of Coffee Mugs : 11.5</span></pre><p id="855a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">哪里出了问题？因为，给别人上半杯茶和半杯咖啡是没有意义的，对吗？我们需要确定，x和y是离散的整数变量，而不是连续的。让我们将变量声明改为</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="0704" class="le lf hu la b fv lg lh l li lj"><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, x &gt;= 5, Int)<br/><a class="ae ky" href="http://twitter.com/variable" rel="noopener ugc nofollow" target="_blank">@variable</a>(lpModel, y &gt;= 6, Int)</span></pre><p id="a198" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这也将导致与前面相同的输出。</p><pre class="jk jl jm jn fq kz la lb lc aw ld dt"><span id="4087" class="le lf hu la b fv lg lh l li lj">Number of Tea Cups: 7.0<br/>Number of Coffee Mugs : 11.0</span></pre></div><div class="ab cl ll lm hc ln" role="separator"><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq lr"/><span class="lo bw bk lp lq"/></div><div class="hn ho hp hq hr"><p id="14e1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="ku">感谢阅读。非常感谢您的反馈。</em></p></div></div>    
</body>
</html>