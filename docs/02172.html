<html>
<head>
<title>Microservices for Startups: An Interview with Mike Hu of LogDNA</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为创业企业提供微服务LogDNA的Mike Hu访谈</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/microservices-for-startups-an-interview-with-mike-hu-of-logdna-d5e8dfc31170?source=collection_archive---------37-----------------------#2018-03-09">https://medium.com/hackernoon/microservices-for-startups-an-interview-with-mike-hu-of-logdna-d5e8dfc31170?source=collection_archive---------37-----------------------#2018-03-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="099e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">这次采访是为我们的</em> <a class="ae jq" href="https://buttercms.com/books/microservices-for-startups/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">创业微服务</em> </a> <em class="jp">电子书做的。一定要去看看关于微服务的实用建议。感谢Mike的时间和投入！</em></p><figure class="js jt ju jv fq jw fe ff paragraph-image"><div class="fe ff jr"><img src="../Images/627f91eeff4974ad91e6dfc80e257a4c.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/0*iIjaRHjz0aD7JlTX."/></div></figure><p id="fe40" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp"> Mike Hu是</em><a class="ae jq" href="https://logdna.com/" rel="noopener ugc nofollow" target="_blank"><em class="jp">LogDNA</em></a><em class="jp">的工程主管，这是一个基于云的日志管理系统，允许工程和开发人员将所有系统和应用程序日志聚合到一个高效的平台中。</em></p><p id="8a42" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">对于上下文，您的工程团队有多大？您是否正在使用微服务，能否概述一下您是如何使用它们的？</strong></p><p id="d7c7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们有7名工程师。我们的基础架构按功能划分，每一层都有多个冗余，因此绝不会出现单点故障。</p><p id="0b04" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">你是从整体开始，后来采用微服务的吗？如果没有，你是直接从微服务入手的吗？为什么？</strong></p><p id="f2ad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们从一开始就采用微服务模型，从成熟的公司和成熟的部署策略中吸取经验教训。我们构建的产品需要高水平的可用性，就我们所知，实现这一点的唯一方法是从根本上确保没有单点故障，在我们的世界里，单点故障就是停机。</p><p id="c6be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">作为一个团队，你们是如何处理微服务这个话题的，有没有围绕什么是微服务展开讨论？</strong></p><p id="2c6d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们有机会从一个非常小的两人团队开始一切工作，我们真的没有任何组织上的需要[在微服务上正式结盟]。大多数讨论都是即兴的，只有一个目标。</p><p id="ca02" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在技术选择上有多大的自由度？你们是否都同意坚持使用一个堆栈，或者是否有尝试新堆栈的灵活性？</p><p id="b4c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们已经在之前的pivots和当前产品的构建过程中试验了不同的技术。除非有特殊需要，否则我们尽量坚持我们熟悉的东西。和你认识的魔鬼打交道总比和你不认识的魔鬼打交道好。</p><p id="ce2b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">您如何确定服务界限？您从规模调整服务中学到了什么？</strong></p><p id="89db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们大部分的服务边界是基于功能分割的；其中一些是业务性的(比如业务流程)，一些是技术性的(比如每个代码仓库一个服务)。例如，我们将工作人员分散到不同的服务器，每个服务器执行特定的功能，但所有服务器都监听消息队列进行工作。这样做的目的是将糟糕代码造成的影响降到最低。从工程组织的角度来看，当您对现有的代码库进行更改时，不可避免地会遇到一些错误，这些错误可能并不在您的控制范围之内，但是如果真的发生了，您肯定可以控制您的基础设施会受到多大的影响。</p><p id="bd56" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">微服务对您的开发流程或运营和部署流程有何影响？</strong></p><p id="c286" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为最大的影响是部署过程的自动化。有许多方法可以实现自动化，我们碰巧编写了自己的Slackbot来处理部署。我们所有服务的部署可能会非常快，因此确保服务能够及时停止和启动非常重要，否则这可能意味着我们所有的服务(执行相同功能)在短时间内变得不可访问。我们通过两种不同的方法来解决这个问题:一种是确保我们的代码能够在设定的时间内优雅地关闭和启动；二是确保部署自动化执行我们服务的滚动重启，而不是一次重启所有服务。</p><p id="00fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">微服务对你的测试方式有什么影响？</strong></p><p id="910e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最大的好处是实际上能够在同一个基础设施中运行两个(甚至更多)不同版本的代码。这允许与现有服务并行测试新代码变更的能力。例如，我们通过首先将消息队列分为测试集群和活动集群来过渡一些管道服务，这使我们能够在推到基础设施的其余部分之前执行数据完整性检查。</p><p id="c951" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">微服务对安全性和控制数据访问有何影响？</strong></p><p id="0cb4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这可能是所有诚实中最令人头痛的。我们必须建立许多防火墙规则来限制集群/服务之间的访问。幸运的是，有一些部署框架(如SaltStack)可以帮助将这一点融入基础设施的管理中。对我们来说，最大的收获是尝试使用支持某种认证机制的工具，而不是控制入站和出站防火墙规则。</p><p id="c64d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">您是否遇到过在微服务架构中管理数据一致性的问题？</strong></p><p id="e7cb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不完全是。我们运行一个集中式的Mongo DB，它有自己的复制机制来处理数据一致性。</p><p id="349a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">再次感谢Mike的时间和投入！这次采访是为我们的 <a class="ae jq" href="https://buttercms.com/books/microservices-for-startups/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">创业微服务</em> </a> <em class="jp">电子书做的。一定要去看看关于微服务的实用建议。</em></p></div><div class="ab cl jz ka hc kb" role="separator"><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke kf"/><span class="kc bw bk kd ke"/></div><div class="hn ho hp hq hr"><p id="5a0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">这篇采访最初发表于</em><a class="ae jq" href="https://buttercms.com/blog/microservices-for-startups-an-interview-with-mike-hu-of-logdna" rel="noopener ugc nofollow" target="_blank"><em class="jp">buttercms.com</em></a><em class="jp">，是为电子书</em> <a class="ae jq" href="https://buttercms.com/books/microservices-for-startups/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> <em class="jp">创业微服务</em> </strong> </a> <em class="jp">而做的。新的章节一发布，你就可以注册接收。</em></p><p id="a9e3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢这篇文章，请在下面鼓掌帮助它传播！更多类似这样的内容， <a class="ae jq" href="https://twitter.com/ButterCMS" rel="noopener ugc nofollow" target="_blank"> <em class="jp">在Twitter上关注ButterCMS</em></a><em class="jp">并订阅我们的</em> <a class="ae jq" href="https://buttercms.com/blog/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">博客</em> </a> <em class="jp">。</em></p><p id="f562" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你想在你的网站上添加一个博客或者内容管理系统，而又不想乱用Wordpress， <a class="ae jq" href="https://buttercms.com/" rel="noopener ugc nofollow" target="_blank"> <em class="jp">你应该试试ButterCMS </em> </a> <em class="jp">。</em></p></div></div>    
</body>
</html>