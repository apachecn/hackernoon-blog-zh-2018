<html>
<head>
<title>4 Misconceptions About SQL Injection Vulnerabilities</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于SQL注入漏洞的4个误解</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/4-misconceptions-about-sql-injection-vulnerabilities-8f4a5be4df69?source=collection_archive---------6-----------------------#2018-03-11">https://medium.com/hackernoon/4-misconceptions-about-sql-injection-vulnerabilities-8f4a5be4df69?source=collection_archive---------6-----------------------#2018-03-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/427e5f1d8579aaedcdc7a740b5fb7029.png" data-original-src="https://miro.medium.com/v2/format:webp/0*fE31XuYNQdT9fniS.jpg"/></div></figure><p id="5ba5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">有兴趣了解更多关于SQL注入袭击的信息，包括如何防范？ <a class="ae jx" href="https://groupby.org" rel="noopener ugc nofollow" target="_blank"> <em class="jw">参加我的在线网络直播2018年3月16日星期五上午9点东部时间在免费的在线GroupBy会议</em> </a> <em class="jw">。</em></p><p id="2e49" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">作为开发人员和数据库专业人员，SQL注入仍然是我们面临的最大的安全风险之一。</p><p id="89ae" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">每年，数百万用户的个人信息因被SQL注入利用的糟糕的查询而被泄露。可悲的事实是，只要掌握正确的知识，SQL注入是完全可以预防的。</p><p id="5eb7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我今天的目标是涵盖人们对SQL注入的四种常见误解，以努力打消任何认为注射攻击不会发生在你身上的幻想。</p><figure class="jy jz ka kb fq iu"><div class="bz el l di"><div class="kc kd l"/></div></figure><p id="3249" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jw">更喜欢看我对这些常见的误解发火？</em> <a class="ae jx" href="https://youtu.be/5Ev6ZSpQd54" rel="noopener ugc nofollow" target="_blank"> <em class="jw">你可以在我的YouTube频道看这个内容。</em> </a></p><h1 id="16af" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">1.“我的数据库信息不公开”</h1><p id="cb79" class="pw-post-body-paragraph iy iz hu ja b jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv hn dt translated">让我想想，在我对您的数据库一无所知的情况下，我猜您可能有一些名称类似于以下的表:</p><ul class=""><li id="65d5" class="lh li hu ja b jb jc jf jg jj lj jn lk jr ll jv lm ln lo lp dt translated">用户</li><li id="5383" class="lh li hu ja b jb lq jf lr jj ls jn lt jr lu jv lm ln lo lp dt translated">库存</li><li id="1d12" class="lh li hu ja b jb lq jf lr jj ls jn lt jr lu jv lm ln lo lp dt translated">制品</li><li id="70a5" class="lh li hu ja b jb lq jf lr jj ls jn lt jr lu jv lm ln lo lp dt translated">销售</li><li id="2482" class="lh li hu ja b jb lq jf lr jj ls jn lt jr lu jv lm ln lo lp dt translated">等等…</li></ul><p id="4671" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这些听起来熟悉吗？</p><p id="a685" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您可能不会公开发布您的数据库对象名称，但这并不意味着它们不容易被猜到。</p><p id="fef4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">恶意用户所需要的只是一个常见数据库表名的列表，他们可以遍历感兴趣的表名，直到在您的系统中找到匹配的表名。</p><h1 id="b9ea" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">2."但是我混淆了所有的表名和列名！"</h1><figure class="jy jz ka kb fq iu fe ff paragraph-image"><div class="fe ff lv"><img src="../Images/7b50bcb360b6b9fc350fe5c0557ef401.png" data-original-src="https://miro.medium.com/v2/resize:fit:478/format:webp/0*78aPK7wZcqKepD1-.png"/></div></figure><p id="40bd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">哦天啊。我希望你不要这样做。</p><p id="b267" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">有些人这样做是为了工作安全(“因为只有我能理解我的命名惯例，我保证我自己有一份工作！”)这本身就是一个可怕的理由。</p><p id="df9e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然而，出于安全原因这样做也同样可怕。为什么？嗯，你听说过一些像sys.objects和sys.columns这样的系统表吗？</p><pre class="jy jz ka kb fq lw lx ly lz aw ma dt"><span id="f6d8" class="mb kf hu lx b fv mc md l me mf">SELECT <br/>  t.name, c.name <br/>FROM <br/>  sys.objects t <br/>  INNER JOIN sys.columns c on t.object_id = c.object_id<br/>    on t.object_id = c.object_id</span></pre><p id="b639" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">想要进入您的系统的黑客可以很容易地编写类似上面的查询，暴露您的“安全”命名约定。</p><figure class="jy jz ka kb fq iu fe ff paragraph-image"><div class="fe ff mg"><img src="../Images/65a8b13e39690acb798355ec09dd697f.png" data-original-src="https://miro.medium.com/v2/resize:fit:326/format:webp/0*o5zksEPUihx-7oVo.png"/></div></figure><p id="08f6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">默默无闻的安全感是行不通的。如果您有不常用的表名，这完全没问题，但是不要把它作为唯一的预防措施。</p><h1 id="a98f" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">3.“注入是开发人员/DBA/其他人的问题”</h1><p id="7669" class="pw-post-body-paragraph iy iz hu ja b jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv hn dt translated">你完全正确。SQL注入是一个应该由开发者/DBA/其他人来解决的问题。</p><p id="0ff6" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">但这也是一个受益于多层安全的问题，这意味着这也是你的问题要解决。</p><p id="39ff" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jx" href="https://bertwagner.com/2017/08/29/warning-are-your-queries-vulnerable-to-sql-injection/" rel="noopener ugc nofollow" target="_blank">防</a> <a class="ae jx" href="https://bertwagner.com/2017/09/05/how-to-safely-parameterize-table-names/" rel="noopener ugc nofollow" target="_blank"> sql注入</a> <a class="ae jx" href="https://bertwagner.com/2017/09/12/how-unicode-homoglyphs-can-thwart-your-database-security/" rel="noopener ugc nofollow" target="_blank">硬</a>。</p><p id="1163" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">开发人员应该验证、净化、参数化等。数据库管理员应该参数化、净化、限制访问等..</p><p id="c05f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">应用程序和数据库中的多层安全是自信地防止注入攻击的唯一方法。</p><h1 id="5f83" class="ke kf hu bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">4.“我是大池塘里的一条小鱼——没有人会故意攻击我”</h1><p id="4753" class="pw-post-body-paragraph iy iz hu ja b jb lc jd je jf ld jh ji jj le jl jm jn lf jp jq jr lg jt ju jv hn dt translated">所以你经营一个利基业务，制造和销售定制的花园侏儒。</p><p id="936e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">你只有几十/几百个客户，所以谁会费心去偷SQL注入的数据呢？</p><p id="fbaa" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">嗯，大多数SQL注入攻击都可以通过像<a class="ae jx" href="http://sqlmap.org/" rel="noopener ugc nofollow" target="_blank"> sqlmap </a>这样的工具完全自动化。有人可能不太关心你的业务，以至于手工制作了一些SQL注入代码，但这不会阻止他们通过自动化手段窃取你手工制作的garden gnome客户数据。</p><p id="5fb5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">没有一个应用程序，无论大小，能够免受自动化SQL注入工具的攻击。</p><p id="5794" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jw">有兴趣了解有关SQL注入病毒攻击的更多信息，包括如何防范它们？</em> <a class="ae jx" href="https://groupby.org" rel="noopener ugc nofollow" target="_blank"> <em class="jw">参加我在2018年3月16日星期五东部时间上午9点举行的免费在线GroupBy大会</em> </a> <em class="jw">。</em></p><p id="4638" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jw">感谢阅读。你可能也会喜欢在Twitter上关注我。</em> </p><figure class="jy jz ka kb fq iu"><div class="bz el l di"><div class="mh kd l"/></div></figure><figure class="jy jz ka kb fq iu"><div class="bz el l di"><div class="mh kd l"/></div></figure></div></div>    
</body>
</html>