<html>
<head>
<title>Legacy code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">遗留代码</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/legacy-code-40027792bf85?source=collection_archive---------9-----------------------#2018-03-12">https://medium.com/hackernoon/legacy-code-40027792bf85?source=collection_archive---------9-----------------------#2018-03-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="a030" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">它是什么，我们能做些什么。</h2></div><p id="23ec" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae kf" href="https://hackernoon.com/tagged/legacy-code" rel="noopener ugc nofollow" target="_blank">遗留代码</a>是大多数开发者的克星。但这是我们都必须面对的现实。</p><p id="5a41" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是你从别人那里继承来的代码，可能是从你的应用程序的老版本那里继承来的。而且通常它没有任何合适的<a class="ae kf" href="https://hackernoon.com/tagged/documentation" rel="noopener ugc nofollow" target="_blank">文档</a>，有很多气味，并且有一种“我们可能应该返工……但是它仍然工作正常”的困扰感。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kg"><img src="../Images/b3b3f2e4068bbe30342d915771ca2c45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*JyLL363-aQkoVzsq."/></div></div></figure><p id="3fb4" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我确信一些<a class="ae kf" href="https://hackernoon.com/tagged/developers" rel="noopener ugc nofollow" target="_blank">开发人员</a>会把大部分时间花在相对较新的代码库上，他们会从头开始构建代码库——他们永远不会像这样处理遗留代码。</p><blockquote class="ks kt ku"><p id="f41e" class="jj jk kv jl b jm jn iv jo jp jq iy jr kw jt ju jv kx jx jy jz ky kb kc kd ke hn dt translated">即便如此，我认为你可以从你自己那里继承遗留代码——或者更准确地说，从“5年前”——你自己那里。</p></blockquote><p id="b2e5" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我记得我使用的代码似乎是基于许多选项、参数和集合构造了一个很长的字符串。然后，它对它进行评估。</p><p id="1c0a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当我去见构建这个库的同事时，发现他们当时根本不知道在Ruby中不需要调用<em class="kv"> eval </em>就可以完成多少<a class="ae kf" href="https://hackernoon.com/tagged/metaprogramming" rel="noopener ugc nofollow" target="_blank">元编程</a>。</p><p id="90d0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">代码的其他部分是框架本身可以做的事情的简单的重新实现。“我们8年前从版本1 dot什么的开始”——我们现在是版本4.2。</p><p id="fa24" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我想时间会让一切变得陌生。</p><p id="df6c" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我应该澄清，遗留代码本身并不是坏代码。它只是太旧了，或者比它应该的要复杂一点，而作者却无处可寻。</p><p id="03e6" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我讨厌它。</p><figure class="kh ki kj kk fq kl fe ff paragraph-image"><div role="button" tabindex="0" class="km kn di ko bf kp"><div class="fe ff kz"><img src="../Images/aab196134fb1bfce4d4f4ff8faff7fe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*OBpLfN_1Qw9Mh9aw."/></div></div></figure><p id="e209" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我认为这是我们对待遗留代码最常用的方法。我们倾向于使用核武器，重写一切，诅咒那些在我们之前的人。</p><p id="bd7d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">事实证明这并不太好。</p><p id="ac91" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">缺乏预先编写的测试，缺乏对正在重写的代码的全面了解，以及我们重构操作中糟糕的结构，经常给我们留下一堆代码，这些代码在我们看来只比上一个好，因为这一次，它是由我们制作的。</p><p id="86ec" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我留下了相当混乱的代码。然后转化成它自己的遗留代码。</p><p id="bba9" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">那怎么办呢？</p><p id="9121" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">事实证明，处理遗留代码不是大扫除。更像是改善你的环境。每当你偶然发现你的能力有所提高时，你就一个接一个地升级它的一部分。</p><p id="6177" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">它为您必须对那个旧库进行的修改编写了一个测试，它在花了一段时间弄清楚之后注释了一些hackey代码，它用for或each替换了while循环。</p><p id="248d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">遗留代码从来都不是业务优先级。试图使它成为一个通常会把它变成新的，很快成为遗留代码。让我们把它考虑到我们的任务评估中，并且尽我们所能做一点点。</p><figure class="kh ki kj kk fq kl"><div class="bz el l di"><div class="la lb l"/></div></figure></div></div>    
</body>
</html>