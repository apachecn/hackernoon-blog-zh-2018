<html>
<head>
<title>Upgrade to Webpack 4 ğŸ‰</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">å‡çº§åˆ°Webpack 4ğŸ‰</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/upgrade-to-webpack-4-3ebb199aa9bf?source=collection_archive---------16-----------------------#2018-03-12">https://medium.com/hackernoon/upgrade-to-webpack-4-3ebb199aa9bf?source=collection_archive---------16-----------------------#2018-03-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/8df06c1227b1869a7d9b7f008f24c2b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pZPz5jEJwtwPiY13.png"/></div></div></figure><p id="da5f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Webpack 4  <em class="ka">(ä»£å·è¿å¥)</em>å‘å¸ƒäºä¸¤å‘¨å‰ã€‚å®ƒåŒ…å«äº†è®¸å¤šé—ªäº®çš„ç‰¹æ€§ã€‚ä¸Webpack 3ä¸åŒçš„æ˜¯ï¼ŒWebpack 4æœ‰ä¸€ç³»åˆ—å¼•äººæ³¨ç›®çš„åŠŸèƒ½ï¼Œweb pack 3å¹¶æ²¡æœ‰å¯¹å…¶å‰èº«è¿›è¡Œé‡å¤§å‡çº§ã€‚</p><p id="f4c1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">éœ€è¦æ³¨æ„çš„ä¸»è¦å˜åŒ–-</p><p id="f2fc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 1ã€‚ç¼©çŸ­æ„å»ºæ—¶é—´</strong> <br/>æ„å»ºæ—¶é—´å¤§å¹…å‡å°‘(è¶…è¿‡60%)</p><p id="d6b3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 2ã€‚é›¶é…ç½®</strong></p><p id="8690" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">æˆ‘æœ€è¿‘å°†æˆ‘çš„<a class="ae kb" href="https://github.com/flexdinesh/react-redux-boilerplate" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> React-Reduxæ ·æ¿æ–‡ä»¶</strong> </a>å‡çº§ä¸º<strong class="je hv"> Webpack 4 </strong>ã€‚ç›®å‰è¿˜æ²¡æœ‰æ˜ç¡®çš„è¿ç§»æ–‡æ¡£ï¼Œæ‰€ä»¥æˆ‘èŠ±äº†ç›¸å½“å¤šçš„æ—¶é—´å’Œç²¾åŠ›æ¥å®Œæˆå‡çº§ã€‚æˆ‘å†™ä¸‹æˆ‘æƒ³å‡ºçš„ä¸€åˆ‡ï¼Œè¿™æ ·å¯ä»¥å¸®åŠ©ä»»ä½•æƒ³å‡çº§çš„äººã€‚</p><p id="b8c1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ä»¥ä¸‹æ˜¯éœ€è¦å®Œæˆçš„é…ç½®æ›´æ”¹ã€‚</p><ul class=""><li id="35a8" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">æ–¹å¼</li><li id="65b9" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">æ’ä»¶</li><li id="5e7d" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">å±å›½</li></ul><h1 id="4ae5" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">æ–¹å¼</h1><p id="2822" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">Webpack 4æœ‰ä¸¤ç§æ¨¡å¼â€”â€”<em class="ka">å¼€å‘</em>å’Œ<em class="ka">ç”Ÿäº§</em>ã€‚</p><p id="5aea" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ä¹‹å‰ï¼Œæˆ‘ä»¬å°†æ ‡å¿—<code class="eh lt lu lv lw b">-p</code>ä¼ é€’ç»™webpackå‘½ä»¤æ¥è¿è¡Œç”Ÿäº§æ„å»ºã€‚å¯¹äºWebpack 4ï¼Œæ‚¨åº”è¯¥æ€»æ˜¯ä¼ å…¥<code class="eh lt lu lv lw b">mode</code>é€‰é¡¹ã€‚ä½ æœ‰ä¸¤ç§æ–¹æ³•é€šè¿‡modeï¼Œ</p><h1 id="d615" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">1.é€šè¿‡npmè„šæœ¬</h1><p id="5426" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">åœ¨ä½ çš„<code class="eh lt lu lv lw b">package.json</code>â€”</p><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="841a" class="mf kr hu lw b fv mg mh l mi mj">"build": "webpack --config config/webpack.dev.config.js --mode development" "build:prod": "webpack --config config/webpack.prod.config.js --mode production"</span></pre><h1 id="f1f6" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">2.ä¼ é€’é…ç½®æ–‡ä»¶</h1><p id="f73f" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">åœ¨ä½ çš„<code class="eh lt lu lv lw b">webpack.dev.config.js</code></p><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="cda2" class="mf kr hu lw b fv mg mh l mi mj">mode: 'development'</span></pre><p id="03a0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">åœ¨ä½ çš„<code class="eh lt lu lv lw b">webpack.prod.config.js</code></p><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="02b5" class="mf kr hu lw b fv mg mh l mi mj">mode: 'production'</span></pre><h1 id="625a" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">æ’ä»¶</h1><p id="b0cf" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">ä»¥ä¸‹æ’ä»¶å·²ä»Webpack 4ä¸­åˆ é™¤ï¼Œè¿™äº›æ’ä»¶åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­å¹¿æ³›ä½¿ç”¨ã€‚</p><ul class=""><li id="8d64" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">NoEmitOnErrorsPlugin</li><li id="0f3d" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">ModuleConcatenationPlugin</li><li id="ff03" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">å‘½åæ¨¡å—æ’ä»¶</li><li id="9b54" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">CommonsChunkPlugin</li></ul><p id="4f78" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ç°åœ¨ï¼Œè¿™äº›æ’ä»¶çš„é…ç½®åº”è¯¥æ”¾åœ¨<code class="eh lt lu lv lw b">config file</code>ä¸­çš„é”®<code class="eh lt lu lv lw b">optimization</code>å†…ï¼Œå¹¶å¸¦æœ‰ç›¸åº”çš„é€‰é¡¹ã€‚</p><p id="4f6a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">è¿™ä¸ªç‰‡æ®µå¯èƒ½ä¼šç»™ä½ æ›´å¤šçš„ä¿¡æ¯</p><pre class="lx ly lz ma fq mb lw mc md aw me dt"><span id="66dc" class="mf kr hu lw b fv mg mh l mi mj">plugins: [</span><span id="7604" class="mf kr hu lw b fv mk mh l mi mj">// Not used like this anymore</span><span id="7a3c" class="mf kr hu lw b fv mk mh l mi mj">new webpack.NamedModulesPlugin(),<br/>  new webpack.NoEmitOnErrorsPlugin(),<br/>  new webpack.optimize.CommonsChunkPlugin({<br/>    name: 'vendor',<br/>      children: true,<br/>      minChunks: 2,<br/>      async: true, <br/>    }),<br/>  new webpack.optimize.ModuleConcatenationPlugin()</span><span id="c0dd" class="mf kr hu lw b fv mk mh l mi mj">],</span><span id="7b52" class="mf kr hu lw b fv mk mh l mi mj">Instead, the above plugins are used like this</span><span id="fe1d" class="mf kr hu lw b fv mk mh l mi mj">optimization: {<br/>  <br/>  namedModules: true, // NamedModulesPlugin()</span><span id="3299" class="mf kr hu lw b fv mk mh l mi mj">splitChunks: { // CommonsChunkPlugin()<br/>    name: 'vendor',<br/>    minChunks: 2<br/>  },</span><span id="05c4" class="mf kr hu lw b fv mk mh l mi mj">noEmitOnErrors: true, // NoEmitOnErrorsPlugin</span><span id="461a" class="mf kr hu lw b fv mk mh l mi mj">concatenateModules: true //ModuleConcatenationPlugin<br/>}</span></pre><h1 id="e6e6" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">å±å›½</h1><p id="97de" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨åƒ<code class="eh lt lu lv lw b">webpack-hot-middleware</code>å’Œ<code class="eh lt lu lv lw b">image-webpack-loader</code>è¿™æ ·çš„ä¾èµ–é¡¹ï¼Œè¯·ç¡®ä¿æ‚¨ä¹Ÿå‡çº§äº†å®ƒä»¬ã€‚æˆ‘åœ¨ä½¿ç”¨<code class="eh lt lu lv lw b">webpack-hot-middleware</code>æ—¶é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜ï¼Œä½†æ˜¯å½“æˆ‘æŠŠå®ƒå‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬æ—¶ï¼Œå®ƒå°±è‡ªåŠ¨è§£å†³äº†ã€‚</p><p id="c679" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¯ä»¥å‚è€ƒ<a class="ae kb" href="https://github.com/flexdinesh/react-redux-boilerplate" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> React-Reduxæ ·æ¿</strong> </a>ä¸­çš„è¿™ä¸ª<a class="ae kb" href="https://github.com/flexdinesh/react-redux-boilerplate/commit/69dc839ad84c37b170e4c3d6f1f8ecb735fc2791" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv"> commit </strong> </a>è¿›è¡Œå‚è€ƒã€‚</p><p id="7d84" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Webpack 4åœ¨å¾ˆå¤šæ–¹é¢éƒ½å¾ˆæ£’ã€‚ä½†æ˜¯ç¼ºå°‘å‡çº§æ–‡ä»¶æ˜¯ä¸€ä»¶ä»¤äººæ²®ä¸§çš„äº‹æƒ…ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬éƒ½æ˜¯äº†ä¸èµ·çš„é—®é¢˜è§£å†³è€…ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸ä»‹æ„ã€‚</p><p id="7a74" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">å¦‚æœæ‚¨è®¡åˆ’å‡çº§åˆ°Webpack 4ï¼Œä¸è¦çŠ¹è±«ï¼Œæ‚¨çš„å¼€å‘ä½“éªŒè‚¯å®šä¼šæˆå€å¢åŠ ã€‚ä¸Šå¸é€Ÿåº¦ï¼</p><p id="8b6e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ç¥æ‚¨æ„‰å¿«ï¼âœ¨</p></div><div class="ab cl ml mm hc mn" role="separator"><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq mr"/><span class="mo bw bk mp mq"/></div><div class="hn ho hp hq hr"><p id="b878" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ka">åŸè½½äº</em> <a class="ae kb" href="https://dev.to/flexdinesh/upgrade-to-webpack-4---5bc5" rel="noopener ugc nofollow" target="_blank"> <em class="ka"> dev.to </em> </a> <em class="ka">ã€‚</em></p></div></div>    
</body>
</html>