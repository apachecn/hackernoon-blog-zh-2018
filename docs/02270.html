<html>
<head>
<title>Learn to create custom CLI tool with Node and 5 sticky notes.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">学习使用节点和5个便笺创建自定义CLI工具。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/learn-to-create-custom-cli-tool-with-node-and-5-sticky-notes-c80f044c6b2a?source=collection_archive---------18-----------------------#2018-03-13">https://medium.com/hackernoon/learn-to-create-custom-cli-tool-with-node-and-5-sticky-notes-c80f044c6b2a?source=collection_archive---------18-----------------------#2018-03-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/bed03550710e8fdfca7e4f039d398234.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cj5kBLrhuiU87DRadrsttw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">It’s easy!</figcaption></figure><p id="12ff" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我正在浏览一些React文章，看到了create-react-app命令。这让我意识到我从来没有费心去检查如何创建你自己的<a class="ae ke" href="https://hackernoon.com/tagged/cli-tools" rel="noopener ugc nofollow" target="_blank"> CLI工具</a>，比如<a class="ae ke" href="https://github.com/vuejs/vue-cli/" rel="noopener ugc nofollow" target="_blank"> Vue-Cli </a>、<a class="ae ke" href="https://hackernoon.com/tagged/create-react-app" rel="noopener ugc nofollow" target="_blank"> create-react-app </a>。所以我查了一下，给自己创建一个基本的CLI工具是非常容易的。</p><p id="5d45" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">您可以在package.json中创建一个只有一个配置的最小工具，但是我想要一个基本的工具，有来自用户的输入以及多个自定义命令。所以我遇到了<a class="ae ke" href="https://github.com/SBoudrias/Inquirer.js" rel="noopener ugc nofollow" target="_blank"> inquirer-js </a>和<a class="ae ke" href="https://github.com/tj/commander.js" rel="noopener ugc nofollow" target="_blank"> commander-js </a>来做这件事。</p><p id="a119" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><strong class="ji hv">我们会创建我们的魔法命令“</strong> <a class="ae ke" href="https://en.wikipedia.org/wiki/Cthulhu" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hv">克苏鲁</strong> </a> <strong class="ji hv">”，然后我们会“唤醒”他。</strong></p><p id="d624" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">下面是询问器，它将用户的输入传递给命令。这里我在的<strong class="ji hv">【提示】</strong> <strong class="ji hv">函数中创建了查询者，用户的输入提示在<strong class="ji hv">“IP”数组</strong>中。</strong></p><div class="kf kg kh ki fq ab cb"><figure class="kj iv kk kl km kn ko paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><img src="../Images/3d52aa2664b69fcdcb828e3ee3781673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*wL1homdKcp9x3FvDdYxp_Q.jpeg"/></div></figure><figure class="kj iv kk kl km kn ko paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><img src="../Images/afa028bec8af008ae81fafb9aada612a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*B1UnfW-3dRmLoGpMI-oUVA.jpeg"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek kp di kq kr">Take input from the user</figcaption></figure></div><p id="77db" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">一旦我们知道我们要通过inquirer问用户什么问题，我们就定义我们的定制命令。在这里我们创建命令<strong class="ji hv"/>“唤醒”来唤醒我们的克苏鲁。</p><div class="kf kg kh ki fq ab cb"><figure class="kj iv ks kl km kn ko paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><img src="../Images/9138b9fca4d32564e2bd0f7f89d395b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1144/format:webp/1*b5cB-9PUVJkvN2ym4Q5ryQ.jpeg"/></div></figure><figure class="kj iv kt kl km kn ko paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><img src="../Images/7fee182e81fb58d5aaad50afe2a0f034.png" data-original-src="https://miro.medium.com/v2/resize:fit:858/format:webp/1*gFWWo8EBrFyFZ3JxqmRBtw.jpeg"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek ku di kv kr">Define your own commands</figcaption></figure></div><p id="201e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在是最后也是最重要的步骤:</p><figure class="kf kg kh ki fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kw"><img src="../Images/fcdfc74908a5ad30449e6dada25cd4d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LS9k5wDAhLXXQ5n2_KyARQ.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Convert your own commands to shell commands</figcaption></figure><p id="5f5a" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">1.我们加上<strong class="ji hv"> ' </strong> <a class="ae ke" href="https://stackoverflow.com/questions/33509816/what-exactly-does-usr-bin-env-node-do-at-the-beginning-of-node-files" rel="noopener ugc nofollow" target="_blank"> <strong class="ji hv"> #！/usr/bin/env node</strong></a><strong class="ji hv">'</strong>添加到js文件的顶部，在那里我们使用commander-js定义了我们的命令。<br/> 2。将下面一行添加到我们的package.json文件。</p><pre class="kf kg kh ki fq kx ky kz la aw lb dt"><span id="004e" class="lc ld hu ky b fv le lf l lg lh">"bin": {"cthulhu" : "path to file in point 1"}</span></pre><p id="f54f" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">3.运行以下命令来构建符号链接:</p><pre class="kf kg kh ki fq kx ky kz la aw lb dt"><span id="534e" class="lc ld hu ky b fv le lf l lg lh">yarn link / npm link</span></pre><p id="e786" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">就是这样！这就是创建你自己的可能唤醒克苏鲁的命令所需要的。来吧，试一试。如下运行您自己的命令:</p><pre class="kf kg kh ki fq kx ky kz la aw lb dt"><span id="6d76" class="lc ld hu ky b fv le lf l lg lh">cthulhu wake 1200</span></pre><p id="cd8c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae ke" href="https://github.com/vuejs/vue-cli/" rel="noopener ugc nofollow" target="_blank"> Vue-CLI </a>在这里使用相同的模式<a class="ae ke" href="https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli/bin/vue.js#L36-L48" rel="noopener ugc nofollow" target="_blank">，在这里</a>定义主<code class="eh li lj lk ky b">vue</code>命令<a class="ae ke" href="https://github.com/vuejs/vue-cli/blob/dev/packages/%40vue/cli/package.json#L6" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="6574" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">我乐于学习并寻求建设性的反馈。如果你喜欢这篇文章，请提供反馈！</p><p id="c968" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">附注:感谢雷伊·达里奥原则为我的便利贴提供背景。下一步是学会拍出更好的照片。</p><figure class="kf kg kh ki fq iv"><div class="bz el l di"><div class="ll lm l"/></div></figure></div></div>    
</body>
</html>