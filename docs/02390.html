<html>
<head>
<title>On Git commit messages and issue trackers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于Git提交消息和问题跟踪器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/on-git-commit-messages-and-issue-trackers-f700f3cbb5a7?source=collection_archive---------9-----------------------#2018-03-16">https://medium.com/hackernoon/on-git-commit-messages-and-issue-trackers-f700f3cbb5a7?source=collection_archive---------9-----------------------#2018-03-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="45e6" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">重新思考我们的提交消息结构。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/a41401ec134025d37f5d81e8ee3dd333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*b8s7HvWe6TbB1BONAZ0eFQ.png"/></div></div></figure><p id="a135" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">Git是最常用的<a class="ae kr" href="https://en.wikipedia.org/wiki/Version_control" rel="noopener ugc nofollow" target="_blank">版本控制系统</a>，用于主要基于文本文件的项目，如源代码等。</p><p id="434d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你在一家公司工作，在一个团队中工作或者独自工作，你可能也在使用一个问题/项目追踪器，比如JIRA或者GitHub、GitLab和Bitbucket中的那些。</p><p id="0a10" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这些软件的优点是我们可以创建“问题”或“标签”，每一个都跟踪我们软件中单个特性或错误修正的<a class="ae kr" href="https://hackernoon.com/tagged/development" rel="noopener ugc nofollow" target="_blank">开发</a>。<br/>他们的工作方式是为新创建的标签创建并分配一个ID——可以是数字，也可以包含一个简短的项目标识符，如<em class="ks">ALX-1231</em>——这样你就可以在聊天、群组、<strong class="jx hv">提交</strong>等中轻松引用每个标签。</p><h2 id="21bf" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">提交，提交，提交</h2><p id="63e5" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">如果我们至少使用过一次Git，我们就会知道标准的提交消息结构是:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="c857" class="kt ku hu lu b fv ly lz l ma mb">Commit summary description; corrected my horrible bug</span><span id="2956" class="kt ku hu lu b fv mc lz l ma mb">Long description (sometimes called "body"), with things like:<br/> * bulleted list of changes;<br/> * other change;<br/> * chirp chirp</span></pre><p id="2c0d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">注意摘要和主体之间的新行:Git并不强制执行它，但是如果我们想要指定主体，我们需要<strong class="jx hv">来插入它，否则提交将不会以正确的方式被解析。</strong></p><p id="54f0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">许多团队有一种默认的方法来引用用跟踪软件创建的票据，将问题ID放在提交消息本身中。</p><p id="fb1c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我看到比较多的标准是这样的:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="37ef" class="kt ku hu lu b fv ly lz l ma mb">ALX-21313 Done that fancy change; now we have cats in the UI</span></pre><p id="b6b1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">看起来不错，可能你正在你的开发工作流程中使用它。但是我想说说为什么我觉得这个结构不是最好用的。</p><h2 id="444d" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated"><strong class="ak"> 1。在我们的提交消息中使用问题ID作为一等公民并不是最好的做法。</strong></h2><p id="edff" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">我们有Git，然后我们有一个单独的系统来管理问题。在未来的某一天，后者可能会停止工作，被抛弃，它的数据库可能会因为一个错误而被删除，或者其他任何事情。在那一刻，我们将意识到我们的Git消息将有一个一致的部分，没有更多的意义。<strong class="jx hv">问题跟踪器不是Git回购的一部分。</strong></p><h2 id="9ff1" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated"><strong class="ak"> 2。问题ID浪费了宝贵的空间，而这些空间可以用来解释我们在提交中做了什么。</strong></h2><p id="4f13" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">提交摘要应少于50个字符。为问题ID附加6/7个字符意味着我们将有6/7——但可能更多——更少的字符用于描述所做的更改。</p><p id="f8bc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">是的:我们可以将全文写入描述中，但或许我们可以使用这7个字符来适应摘要中的内容<strong class="jx hv">，然后</strong>在描述中写入问题ID(在文章末尾剧透我的解决方案)。</p><p id="7140" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">除此之外，根据我的经验，我发现在“真正的”提交消息之前使用IDs的开发人员倾向于在摘要中写些什么，因为他们在心理上倾向于这样一个事实，即谁将阅读消息，将检查票证本身以获得更多的细节。这将需要他的时间；原本用于生产的时间。这还没有提到问题管理器本身暂时或无限期不可访问的可能性。</p><h2 id="7abe" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">3.提交后，链接问题的性质及其状态尚不清楚。</h2><p id="bfa2" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">一个问题可以有不同的类型。可以是一个bug，一个新特性等等。</p><p id="1601" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果我们只是把它的ID放在消息的前面，那么检查我们项目日志的人不会知道这个提交是修复、关闭还是仅仅引用那个特定的标签。要获得更多信息，他必须再次去找问题经理，打破其工作流程。</p><h2 id="85b1" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">4.很多问题呢？一点问题都没有吗？</h2><p id="6803" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">假设我们的提交修复了三个标签，因为它们非常相似(有时QA可能会创建不同的问题，而不知道它们是由代码中的同一个bug引起的)。</p><p id="2036" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们会有这样的东西</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="0399" class="kt ku hu lu b fv ly lz l ma mb">ALX-12323 ALX-12324 ALX-12325 Something fixed finally</span></pre><p id="929d" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">是不是很丑？</p><p id="5ef3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">而相反的呢？当我们正在做一个微妙的改变，比如纠正评论中的一个错别字。我们不能仅仅因为纠正了一个无关紧要的评论中的一个词就开罚单(我们可以，但我认为这有点偏执)。</p><p id="3c0e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">因此，我们将有一个没有初始提交的提交消息，导致与其他提交消息非常不一致。</p><h2 id="e84e" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">我建议的方法</h2><p id="d929" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">如果我用前面的观点说服了你，最常用的格式并不那么有用和完美，现在我将解释我最喜欢的Git消息方法。</p><p id="f070" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们要做的第一件事是<strong class="jx hv">概要地解释代码的变化</strong>。不要看问题/票！看看你们的变化，简单描述一下我们整体的变化。</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="0d91" class="kt ku hu lu b fv ly lz l ma mb">Renamed MyUglyTweet to MyBeautifulTweet</span></pre><p id="89e6" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果我们在这个提交中做了很多更改，描述这些更改的主要目的，然后我们将在<strong class="jx hv">提交主体</strong>中继续解释(如果需要的话):</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="c7a8" class="kt ku hu lu b fv ly lz l ma mb">Added little birbs to the homescreen</span><span id="5737" class="kt ku hu lu b fv mc lz l ma mb"> * Updated BIRDS_NUMBER constant;<br/> * created the interface Chirp and implemented in ChirpImpl;</span></pre><p id="fcba" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">"好的，亚历克斯，但是我们应该什么时候把我们的问题id？"<br/>一旦我们完成了对我们所做的每一个修改的总结，让我们决定把我们的票标识符放在哪里。</p><p id="1e84" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果我们的提交只包含关于一个票证的更改，我会遵循下面的路径:如果摘要中有足够的空间，我会在问题前面附加一个动词，描述它是如何相关的。例如:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="7ebb" class="kt ku hu lu b fv ly lz l ma mb">Added little birbs to the homescreen; closes ALX-1434</span></pre><p id="7454" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们可以使用closes、closed、close，只要这个动词确定了我们在票据上做了什么。对于特性票，我使用close，但对于bug票，我通常使用“修复”或“已修复”。</p><blockquote class="md me mf"><p id="184b" class="jv jw ks jx b jy jz iv ka kb kc iy kd mg kf kg kh mh kj kk kl mi kn ko kp kq hn dt translated">对于这些动词，或者<em class="hu">关键词</em>，我们可以在这里检查<a class="ae kr" href="https://help.github.com/articles/closing-issues-using-keywords/" rel="noopener ugc nofollow" target="_blank">https://help . GitHub . com/articles/closing-issues-using-keywords/，</a>因为在提交中指定这些可以帮助一些问题跟踪器(比如GitHub one)在功能分支与我们的主开发分支合并时自动关闭我们的票证。</p></blockquote><p id="ce34" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果摘要中没有剩余空间，我们可以将票证放在描述中:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="8800" class="kt ku hu lu b fv ly lz l ma mb">Added little birbs to the homescreen, bla bla bla boring</span><span id="b14b" class="kt ku hu lu b fv mc lz l ma mb">Closes ALX-1434.</span></pre><p id="f805" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">或者，如果我们有一个变更的列表(但是我们的提交只关闭了一个票据)，我们可以将问题放在一个单独的列表项中:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="6c29" class="kt ku hu lu b fv ly lz l ma mb">Added little birbs to the homescreen, bla bla bla boring</span><span id="6c47" class="kt ku hu lu b fv mc lz l ma mb"> * Created new classes;<br/> * injected cream in the blender;<br/> * closes ALX-1434</span></pre><p id="848b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果我们通过提交关闭了更多的问题，我们将尝试为每个关闭的问题提供一个列表元素:</p><pre class="jk jl jm jn fq lt lu lv lw aw lx dt"><span id="1521" class="kt ku hu lu b fv ly lz l ma mb">Refactored code bla bla bla bla here's no space to write anything</span><span id="6c2d" class="kt ku hu lu b fv mc lz l ma mb"> * Extracted interface from the Qwack class (closes ALX-1323);<br/> * cut wings to Para.kt :bird: (fixes ALX-1324);<br/> * this other change doesn't close anything :pensive:</span></pre><p id="622f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我认为这种方法非常简单，但是非常有效，可以在提交中包含我们的票据，而不会牺牲编写提交消息的重要性，该消息可以在浏览器上不打开问题跟踪器的情况下阅读(通过适当的集成，我们可以在执行某些操作时自动移动票据，但是我将把这个问题留给另一篇文章)。</p><p id="f4d8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果您喜欢阅读这篇文章，请随意点击👏按钮，你想要多少次！</p><h2 id="9de0" class="kt ku hu bd kv kw kx ky kz la lb lc ld ke le lf lg ki lh li lj km lk ll lm ln dt translated">额外章节:你知道你可以在提交信息中使用表情符号吗？😁</h2><p id="4ba5" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">也许你已经注意到，我在上一个提交消息的例子中使用了<code class="eh mj mk ml lu b">:bird:</code>和<code class="eh mj mk ml lu b">:pensive:</code>。这是一个由两个冒号(标点符号，而不是肠部分……)包围的单词，它将从许多Git服务转换为真正的表情符号！GitHub、Bitbucket和GitLab都支持这个功能。</p><p id="1819" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">所有带有相关代码的表情符号都在像<a class="ae kr" href="https://emoji.muan.co/" rel="noopener ugc nofollow" target="_blank">https://emoji.muan.co/</a>这样的网站上。</p><p id="7fc1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">Git提交不需要很无聊，但是记住:负责任地在你的描述中使用你的表情符号，或者只有当你真的<strong class="jx hv">确定你有足够的空间时才在你的总结中使用表情符号，更重要的是<strong class="jx hv">不要使用表情符号来解释事情</strong>、<strong class="jx hv">、</strong>，因为阅读提交消息的人可能正在使用终端！😉</strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mm"><img src="../Images/23b4133f53365d64f0c793728e2617da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*GzJEaVXqoc0GQeEa.jpg"/></div></div><figcaption class="mn mo fg fe ff mp mq bd b be z ek">Sorry for the long post, here’s a pic of a <strong class="bd mr">birb</strong>. Photo by <a class="ae kr" href="https://pixabay.com/en/users/cornelinux-85977/" rel="noopener ugc nofollow" target="_blank">cornelinux</a> via Pixabay.</figcaption></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ms mt l"/></div></figure></div></div>    
</body>
</html>