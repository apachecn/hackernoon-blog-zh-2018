<html>
<head>
<title>Parallelizing Builds In Travis CI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Travis CIä¸­å¹¶è¡Œæ„å»º</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/parallelizing-builds-in-travis-ci-9d913e5722eb?source=collection_archive---------8-----------------------#2018-03-18">https://medium.com/hackernoon/parallelizing-builds-in-travis-ci-9d913e5722eb?source=collection_archive---------8-----------------------#2018-03-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/e5310599053ad296980931f66931fb35.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZXxePtCOrJmCcJ54UGTOxQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Ember JS + Python</figcaption></figure><p id="e75d" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">ä¸€ç‚¹èƒŒæ™¯:åœ¨è¿‡å»çš„å‡ ä¸ªæœˆé‡Œï¼Œæˆ‘ä¸€ç›´åœ¨å¼€æºç»„ç»‡<a class="ae ke" href="https://github.com/fossasia" rel="noopener ugc nofollow" target="_blank"> FOSSASIA </a>ä¸­åšè´¡çŒ®ï¼Œåœ¨é‚£é‡Œæˆ‘ä»äº‹ä¸€ä¸ªåä¸º<a class="ae ke" href="https://github.com/fossasia/badgeyay" rel="noopener ugc nofollow" target="_blank"> BadgeYaY </a>çš„é¡¹ç›®ã€‚è¿™æ˜¯ä¸€ä¸ªå¾½ç« ç”Ÿæˆå™¨ï¼Œå…·æœ‰ç®€å•çš„webç”¨æˆ·ç•Œé¢ï¼Œå¯ä»¥æ·»åŠ æ•°æ®å¹¶ç”ŸæˆPDFæ ¼å¼çš„å¯æ‰“å°å¾½ç« ã€‚</p><p id="469e" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae ke" href="https://github.com/fossasia/badgeyay" rel="noopener ugc nofollow" target="_blank"> Badgeyay </a>é¡¹ç›®ç°åœ¨åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒEmber JSçš„å‰ç«¯å’Œç”¨Pythonç¼–ç¨‹çš„REST-APIçš„åç«¯ã€‚ç°åœ¨ï¼Œä¸€ä¸ªå…·æœ‰æŒ‘æˆ˜æ€§çš„å·¥ä½œæ˜¯ï¼Œå®ƒåº”è¯¥æ”¯æŒéè€¦åˆæ¶æ„ã€‚å› æ­¤ï¼Œå®ƒåº”è¯¥åˆ©ç”¨<strong class="ji hv">éš”ç¦»çš„</strong>å¹¶è¡Œæ„å»ºï¼Œåœ¨éš”ç¦»çš„å®ä¾‹ä¸Šè¿è¡Œå‰ç«¯å’Œåç«¯æµ‹è¯•ï¼Œå³ä¸¤ç§ä¸åŒè¯­è¨€çš„æµ‹è¯•ã€‚</p><p id="46c3" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">åœ¨è¿™ç¯‡åšå®¢ä¸­ï¼Œæˆ‘å°†è®¨è®ºåœ¨æˆ‘çš„<a class="ae ke" href="https://github.com/fossasia/badgeyay/pull/512" rel="noopener ugc nofollow" target="_blank"> Pullè¯·æ±‚ä¸­ï¼Œæˆ‘å¦‚ä½•é…ç½®Travis CIåœ¨<a class="ae ke" href="https://github.com/fossasia/badgeyay" rel="noopener ugc nofollow" target="_blank"> Badgeyay </a>çš„éš”ç¦»å¹¶è¡Œæ„å»ºä¸­å¹¶è¡Œè¿è¡Œæµ‹è¯•ã€‚</a></p><p id="6e53" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">é¦–å…ˆï¼Œè®©æˆ‘ä»¬äº†è§£ä»€ä¹ˆæ˜¯<a class="ae ke" href="https://docs.travis-ci.com/user/speeding-up-the-build/" rel="noopener ugc nofollow" target="_blank">å¹¶è¡ŒTravis CI </a>æ„å»ºï¼Œä»¥åŠæˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦å®ƒã€‚ç„¶åæˆ‘ä»¬å°†ç»§ç»­é…ç½®travis.ymlæ–‡ä»¶æ¥å¹¶è¡Œè¿è¡Œæµ‹è¯•ã€‚è®©æˆ‘ä»¬å¼€å§‹ï¼Œä¸€æ­¥ä¸€æ­¥äº†è§£ã€‚</p><p id="34de" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">ä¸ºä»€ä¹ˆå¹¶è¡ŒTravis CIæ„å»ºï¼Ÿ</p><p id="446c" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">é›†æˆæµ‹è¯•å¥—ä»¶å€¾å‘äºé€šè¿‡åŒ…å«å‰ç«¯å’Œåç«¯çš„æ•´ä¸ªå †æ ˆæ¥æµ‹è¯•æ›´å¤æ‚çš„æƒ…å†µï¼Œå®ƒä»¬åŒæ ·å€¾å‘äºæˆä¸ºæœ€æ…¢çš„éƒ¨åˆ†ï¼Œéœ€è¦ä¸åŒçš„æ—¶é—´æ¥è¿è¡Œï¼Œæœ‰æ—¶ç”šè‡³é•¿è¾¾30åˆ†é’Ÿã€‚ä¸ºäº†åŠ é€Ÿè¿™æ ·çš„æµ‹è¯•å¥—ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨Travis build matrixç‰¹æ€§å°†å®ƒåˆ†æˆå‡ ä¸ªéƒ¨åˆ†ã€‚Traviså°†æ ¹æ®ç¯å¢ƒå˜é‡å†³å®š<a class="ae ke" href="https://docs.travis-ci.com/user/build-stages/matrix-expansion/" rel="noopener ugc nofollow" target="_blank">æ„å»ºçŸ©é˜µ</a>ï¼Œå¹¶å®‰æ’è¿è¡Œä¸¤ä¸ªæ„å»ºã€‚</p><p id="6bca" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">ç°åœ¨æˆ‘ä»¬çš„ç›®æ ‡å¾ˆæ˜ç¡®ï¼Œæˆ‘ä»¬å¿…é¡»é…ç½®travis.ymlæ¥æ„å»ºparallel-yã€‚æˆ‘ä»¬çš„é¡¹ç›®éœ€è¦ä¸¤ä¸ªæ„å»ºåŒ…ï¼ŒPythonå’Œnode_jsï¼Œè¿è¡Œè¿™ä¸¤ä¸ªæ„å»ºåŒ…çš„æ„å»ºä½œä¸šå°†ä¼šå¤§å¤§åŠ å¿«é€Ÿåº¦ã€‚ç°åœ¨ä¼¼ä¹å¯ä»¥ä½¿ç”¨<a class="ae ke" href="https://docs.travis-ci.com/user/customizing-the-build/" rel="noopener ugc nofollow" target="_blank"> <em class="kf">çŸ©é˜µ:include </em> </a>ç‰¹æ€§åœ¨ä¸€ä¸ª. travis.ymlæ–‡ä»¶ä¸­è¿è¡Œå¤šç§è¯­è¨€ã€‚</p><p id="d9fd" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">ä¸‹é¢æ˜¯<a class="ae ke" href="https://github.com/fossasia/badgeyay" rel="noopener ugc nofollow" target="_blank"> Badgeyay </a>é¡¹ç›®çš„<a class="ae ke" href="https://github.com/fossasia/badgeyay/blob/development/.travis.yml" rel="noopener ugc nofollow" target="_blank"> travis.yml </a>æ–‡ä»¶çš„ä»£ç ç‰‡æ®µï¼Œä»¥ä¾¿ä»¥å¹¶è¡Œæ–¹å¼è¿è¡Œæ„å»ºä»»åŠ¡ã€‚</p><pre class="kg kh ki kj fq kk kl km kn aw ko dt"><span id="4ff9" class="kp kq hu kl b fv kr ks l kt ku">sudo: required<br/>dist: trusty</span><span id="7be8" class="kp kq hu kl b fv kv ks l kt ku"># check different combinations of build flags which is able to divide builds into â€œjobsâ€.<br/>matrix:</span><span id="26f2" class="kp kq hu kl b fv kv ks l kt ku"># Helps to run different languages in one .travis.yml file<br/> include:</span><span id="8bf2" class="kp kq hu kl b fv kv ks l kt ku"># First Job in Python language.<br/> â€” language: python3</span><span id="fd7b" class="kp kq hu kl b fv kv ks l kt ku">apt:<br/> packages:<br/> â€” python-dev</span><span id="f71b" class="kp kq hu kl b fv kv ks l kt ku">python:<br/> â€” 3.5<br/> cache:<br/> directories:<br/> â€” $HOME/backend/.pip-cache/<br/> <br/> before_install:<br/> â€” sudo apt-get -qq update<br/> â€” sudo apt-get -y install python3-pip<br/> â€” sudo apt-get install python-virtualenv</span><span id="8528" class="kp kq hu kl b fv kv ks l kt ku">install:<br/> â€” virtualenv -p python3 ../flask_env<br/> â€” source ../flask_env/bin/activate<br/> â€” pip3 install -r backend/requirements/test.txt â€” cache-dir</span><span id="4922" class="kp kq hu kl b fv kv ks l kt ku">before_script:<br/> â€” export DISPLAY=:99.0<br/> â€” sh -e /etc/init.d/xvfb start<br/> â€” sleep 3</span><span id="3216" class="kp kq hu kl b fv kv ks l kt ku">script:<br/> â€” python backend/app/main.py &gt;&gt; log.txt 2&gt;&amp;1 &amp;<br/> â€” python backend/app/main.py &gt; /dev/null &amp;<br/> â€” py.test â€” cov ../ ./backend/app/tests/test_api.py</span><span id="d720" class="kp kq hu kl b fv kv ks l kt ku">after_success:<br/> â€” bash &lt;(curl -s <a class="ae ke" href="https://codecov.io/bash)" rel="noopener ugc nofollow" target="_blank">https://codecov.io/bash)</a></span><span id="4869" class="kp kq hu kl b fv kv ks l kt ku"># Second Job in node js language.<br/> â€” language: node_js<br/> node_js:<br/> â€” â€œ6â€</span><span id="76ad" class="kp kq hu kl b fv kv ks l kt ku">addons:<br/> chrome: stable</span><span id="ccf6" class="kp kq hu kl b fv kv ks l kt ku">cache:<br/> directories:<br/> â€” $HOME/frontend/.npm</span><span id="a6b0" class="kp kq hu kl b fv kv ks l kt ku">env:<br/> global:<br/> # See <a class="ae ke" href="https://git.io/vdao3" rel="noopener ugc nofollow" target="_blank">https://git.io/vdao3</a> for details.<br/> â€” JOBS=1</span><span id="66dd" class="kp kq hu kl b fv kv ks l kt ku">before_install:<br/> â€” cd frontend<br/> â€” npm install<br/> â€” npm install -g ember-cli<br/> â€” npm i eslint-plugin-ember@latest â€” save-dev<br/> â€” npm config set spin false</span><span id="8542" class="kp kq hu kl b fv kv ks l kt ku">script:<br/> â€” npm run lint:js<br/> â€” npm test</span></pre><p id="a244" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬å·²ç»æ·»åŠ äº†travis.ymlå¹¶å°†å…¶æ¨é€åˆ°é¡¹ç›®å­˜å‚¨åº“ã€‚ä¸‹é¢æ˜¯å¹¶è¡Œæ„å»ºä½œä¸šåä¼ é€’Travis CIçš„å±å¹•æˆªå›¾ã€‚</p><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kw"><img src="../Images/b511fd1490fe6d71d874f15383a52709.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eEut_O0hqh1MFiStP66nYQ.png"/></div></div></figure><p id="89d9" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">è¯¥å·¥ä½œçš„ç›¸å…³æ‹‰åŠ¨éœ€æ±‚ä¸ºhttps://github.com/fossasia/badgeyay/pull/512<a class="ae ke" href="https://github.com/fossasia/badgeyay/pull/512" rel="noopener ugc nofollow" target="_blank"/></p><p id="8908" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">è‡³æ­¤ï¼Œæˆ‘å·²ç»ç»“æŸäº†å…³äºåœ¨Travis CIä¸­å¹¶è¡ŒåŒ–æ„å»ºçš„è®¨è®ºã€‚æˆ‘å†™è¿™ç¯‡æ–‡ç« æ˜¯ä¸ºäº†è§£å†³BadgeYaYé¡¹ç›®ä¸­çš„è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œå¯ä»¥è€ƒè™‘çœ‹çœ‹æˆ‘åœ¨GitHubä¸Šçš„å…¶ä»–ä½œå“ğŸ™‚ã€‚</p><p id="9cb1" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">æ¥æº:<a class="ae ke" href="https://docs.travis-ci.com/user/customizing-the-build/" rel="noopener ugc nofollow" target="_blank"> Travis CIæ–‡æ¡£</a></p><p id="abeb" class="pw-post-body-paragraph jg jh hu ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">PS:éå¸¸æƒ³è¦å»ºè®¾æ€§çš„æ‰¹è¯„ã€‚ğŸ™‚</p></div></div>    
</body>
</html>