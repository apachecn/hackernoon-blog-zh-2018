<html>
<head>
<title>🎁 Releasing “Supervisely Person” dataset for teaching machines to segment humans</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">🎁发布“超级监管人”数据集，用于指导机器分割人类</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/releasing-supervisely-person-dataset-for-teaching-machines-to-segment-humans-1f1fc1f28469?source=collection_archive---------3-----------------------#2018-03-21">https://medium.com/hackernoon/releasing-supervisely-person-dataset-for-teaching-machines-to-segment-humans-1f1fc1f28469?source=collection_archive---------3-----------------------#2018-03-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="9f9c" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">你好，机器学习社区！</p><p id="b001" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们很自豪地宣布<a class="ae jq" href="http://supervise.ly" rel="noopener ugc nofollow" target="_blank">监管</a>人数据集<em class="jr">。</em>出于学术目的，它是公开的和免费的。</p><blockquote class="js"><p id="951c" class="jt ju hu bd jv jw jx jy jz ka kb jp ek translated">要让人工智能免费，我们不仅需要开源，还需要强大的开放数据运动。</p><p id="eb52" class="jt ju hu bd jv jw jx jy jz ka kb jp ek translated">— <a class="kc kd gr" href="https://medium.com/u/592ce2a67248?source=post_page-----1f1fc1f28469--------------------------------" rel="noopener" target="_blank">吴恩达</a></p></blockquote><p id="07bc" class="pw-post-body-paragraph is it hu iu b iv ke ix iy iz kf jb jc jd kg jf jg jh kh jj jk jl ki jn jo jp hn dt translated">我们绝对同意他的观点。让我们扩展这个想法。有很多关于深度神经网络的语义切分任务的研究。但在大多数情况下，收集数据比开发和应用算法来运行数据要困难和昂贵得多。</p><p id="5d90" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">这就是为什么我们还需要专门设计的平台来涵盖从开发训练数据集到训练和部署神经网络的整个ML工作流程。</p><figure class="kk kl km kn fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff kj"><img src="../Images/6a592fd29be81803533b51f26d26be84.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UicBY4HeqWEl4l70fTtc6w.png"/></div></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Few examples from “Supervisely Person Dataset”</figcaption></figure><p id="d032" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们相信，我们的工作将帮助开发人员、研究人员和企业，不仅被视为又一个公共数据集，而且被视为一套创新的方法和工具，用于更快地创建大型训练数据集。</p><p id="3284" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">接下来，我们将介绍如何从头开始构建这个数据集的所有方面。在我们继续之前，让我给你看一些有趣的事实:</p><ul class=""><li id="cbbd" class="kz la hu iu b iv iw iz ja jd lb jh lc jl ld jp le lf lg lh dt translated">数据集由带有<strong class="iu hv"> 6884 </strong>高质量注释人员实例的<strong class="iu hv"> 5711 </strong>图像组成。</li><li id="db41" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">以下所有步骤都是在没有任何编码的监督下完成的</li><li id="92c3" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">更重要的是，这些步骤是由我们内部的注释者执行的，根本没有机器学习(ML)的专业知识。数据科学家只是控制和管理这个过程。</li><li id="9f12" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">注释团队由两名成员组成，整个过程只用了4天。</li></ul><p id="4bbd" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">Supervisely是包含数据科学智能的机器学习平台。它允许数据科学家专注于真正的创新，而将日常工作留给其他人(是的，训练众所周知的神经网络架构也是一项日常工作)。</p><h2 id="0191" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated">要解决的问题</h2><p id="d4c0" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">在许多现实世界的应用中，人物分割是分析图像中的人物的关键任务:动作识别、自动驾驶汽车、视频监控、移动应用等等。</p><p id="4882" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们在DeepSystems对这一领域进行了内部研究，我们意识到这项任务缺乏数据。你可以问我们:像COCO、Pascal、mapi pile等公共数据集呢？为了回答这个问题，我最好给你看几个例子:</p><figure class="kk kl km kn fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff mn"><img src="../Images/58a17b21b395a9139fa24d874ed8c79c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3pni76CDQK1RZqiw."/></div></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Few examples of human annotation from COCO dataset</figcaption></figure><p id="4afb" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">大多数公共数据集中的人体分割质量不能满足我们的要求，我们必须创建自己的带有高质量标注的数据集。下面我将向你展示我们是如何做到的。</p><h2 id="9967" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">步骤0:上传并准备公共数据集，作为训练初始NN的起点</strong></h2><p id="6c88" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">将公共数据集上传到系统:PascalVoc，mapi pile。我们的“导入”模块支持大多数公共数据集，并将它们转换为基于json的统一格式，称为Supervisely格式:)</p><p id="9787" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">然后，我们执行DTL(“数据转换语言”)查询来完成一些事情:合并数据集-&gt;跳过没有人对象的图像-&gt;从图像中裁剪每个人-&gt;按宽度和高度过滤他们-&gt;分割成训练/测试集。</p><figure class="kk kl km kn fq ko"><div class="bz el l di"><div class="mo mp l"/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Raw numbers after we merge, crop and filter public datasets</figcaption></figure><p id="555f" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">似乎有很多公开可用的数据，但我们之前提到过，有一些隐藏的问题:低质量的注释，低分辨率等等。</p><p id="18d6" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">因此，我们构建了第一个训练数据集。</p><h2 id="5dbd" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">第一步:训练NN </strong></h2><p id="e23f" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">我们将培训稍微定制UNet一样的架构。</p><figure class="kk kl km kn fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff mq"><img src="../Images/9dfde4b822b706d55a59b32275642f17.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_XPUdMsSrtz-K9cgAicAMA.png"/></div></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">Unet_v2 architecture</figcaption></figure><p id="3dc4" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">loss = BinaryCrossEntropy + (1 —骰子)。</p><p id="3345" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">这个网络训练速度很快，非常准确，易于实现和定制。它允许我们做很多实验。管理上可以分布在集群中的多个节点上。</p><p id="a747" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">因此，我们可以同时训练几个神经网络。此外，所有nn都支持我们平台中的多GPU培训。输入分辨率为256*256的每个训练实验花费的时间不超过15分钟。</p><figure class="kk kl km kn fq ko fe ff paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><div class="fe ff mr"><img src="../Images/54d03bca2734ff287e33ad2d6a4a1e93.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qMUdkZf5cPFy5MHyybqTOQ.png"/></div></div></figure><h2 id="ab76" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">第二步:准备数据进行标注</strong></h2><p id="f990" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">我们没有未标记图像的集合，所以我们决定从网上下载。我们实现了一个服务(<a class="ae jq" href="https://github.com/DeepSystems/pexels_downloader" rel="noopener ugc nofollow" target="_blank"> github </a>)，可以从很棒的照片库Pexels下载数据(谢谢你们做了非常酷的工作)。</p><p id="8bc1" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">因此，我们下载了大约15k张带有与我们的任务相关的标签的图像，上传到Supervisely并通过DTL查询执行调整大小操作，因为它们具有超高的分辨率。</p><h2 id="d8fc" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">步骤3:将神经网络应用于未标记的图像</strong></h2><p id="c725" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">使用的架构不支持实例分段。我们故意不使用Mask-RCNN，因为对象边缘附近的分割质量较低。</p><p id="16da" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">这就是为什么我们决定制定一个两步方案:应用fast-RCNN(基于NasNet)来检测图像上的所有人，然后对每个人的包围盒应用分割网络来分割主导对象。这种方法允许我们模拟实例分割和准确分割对象边缘。</p><figure class="kk kl km kn fq ko"><div class="bz el l di"><div class="ms mp l"/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">3-min video of applying model and manual correction of segmentation</figcaption></figure><p id="b0ec" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们试验了不同的分辨率:传递给NN的分辨率越高，它产生的结果越好。我们不关心总的推理时间，因为超级支持分布在多台机器上的推理。对于自动预注释的任务来说，这已经足够了。</p><h2 id="3aec" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">步骤4:手动验证和校正</strong></h2><p id="0f27" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">所有推理结果都实时显示在仪表板中。我们的操作者预览所有的结果，并用几个标签标记图像:坏的预测、正确的预测、好的预测。这个过程很快，因为他们需要很少的键盘快捷键“下一个图像”和“给图像分配标签”。</p><div class="kk kl km kn fq ab cb"><figure class="mt ko mu mv mw mx my paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/18a940da33f0d8f557e2f4be985cf4cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:658/0*8MXMstG_UIw6BZsP."/></div></figure><figure class="mt ko mz mv mw mx my paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/6dc521b4d29d8515708735f3c4c9e745.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/0*2mrDiUUBfAiKriwO."/></div></figure><figure class="mt ko na mv mw mx my paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/38429016a5c9a820045d67582bf66335.png" data-original-src="https://miro.medium.com/v2/resize:fit:532/0*FC-JwsalJ5ZovMfn."/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek nb di nc nd">How we tag images: <strong class="bd ne">left</strong> — bad prediction, <strong class="bd ne">medium </strong>— prediction that needed light manual correction, <strong class="bd ne">right</strong> — good prediction.</figcaption></figure></div><p id="4c31" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">被标记为“坏预测”的图像被跳过。进一步的工作继续与我们需要纠正的图像。</p><figure class="kk kl km kn fq ko"><div class="bz el l di"><div class="nf mp l"/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek">How to correct Neural Network predictions</figcaption></figure><p id="6a2e" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">手动校正比从头开始注释需要的时间少得多。</p><h2 id="0e5f" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">步骤5:将结果添加到训练数据集中，并转到步骤1 </strong></h2><p id="6c02" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">仅此而已。</p><h2 id="7bff" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated"><strong class="ak">一些提示:</strong></h2><ul class=""><li id="1298" class="kz la hu iu b iv mi iz mj jd ng jh nh jl ni jp le lf lg lh dt translated">当我们应用只在公共数据上训练的神经网络时，“合适的”图像(标记为“良好预测”和“预测正确”)的百分比约为20%。</li><li id="2421" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">在树快速迭代之后，这个数字增加到70%。</li><li id="6fb4" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">我们总共做了6次迭代，最终的神经网络变得相当精确:-)。</li><li id="b985" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">在训练之前，我们在物体边缘添加了小条带来平滑锯齿状边缘，并执行了一些增强:翻转、随机裁剪、随机角度旋转和颜色变换。</li></ul><p id="c507" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">如你所见，这种方法适用于许多计算机视觉任务，即使你需要在图像上标注几个对象类。</p><h2 id="d45f" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated">奖金</h2><p id="d169" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">这个数据集帮助我们改进人工智能支持的注释工具——定制它以分割人类。在我们最新的版本中，我们增加了在系统内部为这个工具训练神经网络的能力。下面是基于不可知类的工具和它的定制版本的比较。它是可用的，您可以在您的数据上尝试它。</p><figure class="kk kl km kn fq ko"><div class="bz el l di"><div class="nf mp l"/></div></figure><h2 id="3714" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated">如何访问数据集</h2><p id="8e72" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">注册Supervisely，进入“导入”选项卡-&gt;“数据集库”。点击“监管人”数据集，写下新项目的名称。然后点击“三点”按钮--&gt;“下载为JSON”--&gt;“开始”按钮。仅此而已。总下载时间可能需要15分钟(约7 GB)。</p><div class="kk kl km kn fq ab cb"><figure class="mt ko nj mv mw mx my paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/bf22bc26d5b0cd6164a1972077e54063.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*0PeXPOw0J0IediNVF5mjiw.png"/></div></figure><figure class="mt ko nj mv mw mx my paragraph-image"><div role="button" tabindex="0" class="kp kq di kr bf ks"><img src="../Images/0e656e800b2d90e73185f3a5daab2c38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*zigxvcOZ4RLhLocx6lUYEQ.png"/></div><figcaption class="kv kw fg fe ff kx ky bd b be z ek nk di nl nd">How to download</figcaption></figure></div><h2 id="b4a8" class="ln lo hu bd lp lq lr ls lt lu lv lw lx jd ly lz ma jh mb mc md jl me mf mg mh dt translated">结论</h2><p id="441d" class="pw-post-body-paragraph is it hu iu b iv mi ix iy iz mj jb jc jd mk jf jg jh ml jj jk jl mm jn jo jp hn dt translated">看着没有任何ML背景的人如何经历所有这些步骤是非常有趣的。我们作为<a class="ae jq" href="https://deepsystems.ai/" rel="noopener ugc nofollow" target="_blank">深度学习专家</a>节省了大量时间，我们的标注团队在标注速度和质量方面变得更加高效。</p><p id="f8ef" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">我们希望，<a class="ae jq" href="https://supervise.ly/" rel="noopener ugc nofollow" target="_blank">supervisory</a>平台将帮助每个深度学习团队更快、更容易地制作AI产品。</p><p id="766d" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">让我列出我们在这项工作中使用的最有价值的监督功能:</p><ul class=""><li id="1412" class="kz la hu iu b iv iw iz ja jd lb jh lc jl ld jp le lf lg lh dt translated">“导入”模块上传所有公共数据集</li><li id="4887" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">用于操作、合并和扩充数据集的“数据转换语言”</li><li id="e196" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">使用更快的“神经网络”模块-RCNN和UnetV2</li><li id="013e" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">“统计”模块自动从我们拥有的数据中获得有用的见解</li><li id="6155" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">“注释工具”就像训练数据的Photoshop</li><li id="61ac" class="kz la hu iu b iv li iz lj jd lk jh ll jl lm jp le lf lg lh dt translated">“协作”功能允许将工人组合到注释团队，给他们分配任务并控制整个过程。</li></ul><p id="a4db" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">有什么问题尽管问！谢谢大家！</p></div><div class="ab cl nm nn hc no" role="separator"><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr ns"/><span class="np bw bk nq nr"/></div><div class="hn ho hp hq hr"><p id="907b" class="pw-post-body-paragraph is it hu iu b iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp hn dt translated">如果你觉得这篇文章很有趣，那么让我们也来帮助别人吧。如果你给它一些，更多的人会看到它👏。</p></div></div>    
</body>
</html>