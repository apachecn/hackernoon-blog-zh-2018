<html>
<head>
<title>Decouple Deployment from Release</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从发布中分离部署</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/decouple-deployment-from-release-b4b9182b6a46?source=collection_archive---------14-----------------------#2018-03-27">https://medium.com/hackernoon/decouple-deployment-from-release-b4b9182b6a46?source=collection_archive---------14-----------------------#2018-03-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/a332ade20392376214241764c6752c8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zLhO6EJaSuln5cOB_T3M6g.jpeg"/></div></div></figure><p id="cd41" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在许多组织中，发布和部署同时发生。也就是说，向用户群发布新特性是通过将应用程序部署到服务器来触发的。这样做只是让部署变得可怕和发布变得危险的一个好方法。</p><p id="7379" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们明确这两个过程:</p><p id="2046" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">部署:</strong>将代码放入特定环境(本例中为生产环境)的过程。<br/> <strong class="je hv">发布:</strong>通知并允许客户使用你的应用程序的新特性的过程。</p><p id="b91d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请注意，前者是完全由技术团队处理的<strong class="je hv">技术</strong>流程，而后者是<strong class="je hv">业务</strong>决策。</p><p id="1493" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在发布所包含的特性之前将代码部署到生产环境中有很多好处。首先，它允许您在生产环境中对新特性进行冒烟测试，而没有与新特性发布相关的负载。刚刚发布了你最新最棒的特性，这可不是出错的好时机。</p><p id="acc0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此外，它允许您<strong class="je hv">黑暗中启动</strong>新功能。在这种情况下，该功能在类似生产的负载下完全有效，而客户看不到。例如，在脸书将消息发送到他们的网络平台之前，他们已经黑掉了这个功能，并且有计划地让成千上万的用户在用户不知道的情况下互相发送消息。这使得工程师可以从真实的生产环境中从真实的用户那里获得真实的数据，而不需要任何人知道。</p><p id="beb8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有效地<a class="ae ka" href="https://hackernoon.com/tagged/decouple" rel="noopener ugc nofollow" target="_blank">将</a>代码库中的特性与面向用户的产品中的特性解耦的一种方法是使用<strong class="je hv">特性切换</strong>。这些是一个抽象概念，允许应用程序知道哪些特性应该可用，也许更令人兴奋的是，<strong class="je hv">谁应该可用。</strong></p><p id="06fa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当然有可能有简单的开/关风格的功能切换，但你也可以有1%的功能切换，向1%的用户显示该功能，或者可能是针对18岁以下用户的功能切换。这些决定可以而且应该在业务层面上做出，并尽可能减少技术干预<strong class="je hv">。</strong></p><p id="a27e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">特性切换确实有很好的技术用途，因为当您的服务负载过重或者发现了严重的bug时，它们允许您禁用某些特性。</p><p id="dabf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，也可能是最重要的，部署和发布的分离允许您更频繁地进行部署。代码的部署应该是一件低风险的日常事务，达到这一点的唯一方法是尽可能经常地做，最好是每次代码改变时都做。</p><p id="4062" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一旦部署成为您日常工作的一个几乎令人厌烦的结果，并且您的所有工作都在各种特性切换之后，您就减轻了对长期特性分支的需求，并且可以开始实践<strong class="je hv">基于主干的开发，这是未来文章的主题…</strong></p><p id="722c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你喜欢这篇文章，请记得给它一些掌声，以确保更多的人阅读它！</p><p id="c59b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="kb"> Steven Poulton是一名居住在英国曼彻斯特的web开发人员和技术架构师。在业余时间，他喜欢制作独立音乐，制作独立游戏，和他的独立猫玩耍。</em></p><figure class="kc kd ke kf fq iv"><div class="bz el l di"><div class="kg kh l"/></div></figure></div></div>    
</body>
</html>