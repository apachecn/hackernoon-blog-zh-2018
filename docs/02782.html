<html>
<head>
<title>Will Serverless Computing Kill Docker Containers?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器计算会杀死Docker容器吗？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/will-serverless-computing-kill-docker-containers-222671bffdc4?source=collection_archive---------9-----------------------#2018-03-28">https://medium.com/hackernoon/will-serverless-computing-kill-docker-containers-222671bffdc4?source=collection_archive---------9-----------------------#2018-03-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/5e4462cf332cb889d5fdeb53b848e024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WLiQD0TTwn5bp0LQ.jpg"/></div></div></figure><p id="6dfa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在科技界，<a class="ae ka" href="https://www.themartec.com/insidelook/serverless-tech" rel="noopener ugc nofollow" target="_blank">无服务器计算</a>是当下的热门话题。事实上，如果你进行谷歌搜索，<a class="ae ka" href="https://trends.google.com/trends/explore?gprop=news&amp;q=%2Fm%2F0bkxj,%2Fm%2F0wkcjgj" rel="noopener ugc nofollow" target="_blank">，你会遇到很多关于它的聊天(明显多于Docker容器)</a>。</p><p id="dcff" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但这到底是怎么回事？围绕无服务器计算的讨论合理吗？</p><p id="3839" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在我们回答这些问题之前，让我们首先正确定义什么是无服务器计算和Docker容器。</p><p id="9f30" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不管名称暗示什么，无服务器计算实际上并不是无服务器的。Docker容器实际上不包含任何东西。听起来很奇怪，对吧？让我们把它进一步分解。</p><h1 id="142c" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是无服务器计算？</h1><p id="d7e1" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">据<a class="ae ka" href="http://searchitoperations.techtarget.com/definition/serverless-computing" rel="noopener ugc nofollow" target="_blank"> TechTarget </a>报道，无服务器计算可以被描述为一种事件驱动的应用程序设计和部署范例，其中计算资源作为可扩展的云服务提供。</p><p id="6656" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这与传统的应用程序部署有很大的不同，在传统的应用程序部署中，服务器的计算资源是经常性的固定成本。这意味着无论服务器实际执行了多少工作，您都必须付费。</p><p id="47d8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当您选择无服务器时，您只需为您在云上使用的内容付费，并且您不会被收取任何与闲置或停机相关的费用。它基本上像一个功能即服务(FaaS)平台一样运行，使组织能够更好地管理他们的预算，这一成本构成是其最大的卖点。</p><p id="2436" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然而，虽然您只为使用的东西付费，但是您仍然使用服务器来部署和运行您的应用程序。</p><p id="360b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">定价取决于以下参数:</p><ul class=""><li id="123c" class="le lf hu je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">脚本持续时间</li><li id="965e" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">请求数量</li><li id="6c34" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">该功能所需的内存</li></ul><p id="618b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">无服务器计算的总拥有成本(TCO)类似于虚拟机(VM)的总拥有成本，但是，对于VM，企业需要在发出功能请求之前保持其运行，这在容量未被使用时造成了浪费。</p><p id="fe08" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以这种方法最终会比无服务器计算花费更多。无服务器模式消除了这个问题，因为它可以根据请求立即扩展。因此，一旦用函数配置了请求，就大功告成了。</p><p id="7178" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">自2000年代中期出现按需计算解决方案(如Google App Engine和Zimki)以来，无服务器服务就一直存在。然而，直到亚马逊在2014年推出AWS Lambda，无服务器计算才成为主流。</p><p id="c80d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">自那以后，竞争对手纷纷推出自己的无服务器产品，如谷歌的云功能和Azure功能。</p><p id="2f9c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在采用方面，<a class="ae ka" href="https://newrelic.com/serverless-dynamic-cloud-survey?content=eBook" rel="noopener ugc nofollow" target="_blank"> New Relic的研究</a>表明，无服务器计算的采用率正在上升，70%的企业现在将很大一部分工作负载迁移到公共云，39%的企业使用无服务器计算。</p><p id="42ac" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">据Airtasker 的高级软件工程师<a class="ae ka" href="https://www.linkedin.com/mynetwork/heathrow-redirect/?isSendInvite=true" rel="noopener ugc nofollow" target="_blank">绍拉布·巴蒂亚(Saurabh Bhatia)称，“无服务器技术允许我们构建事件驱动的代码片段，这些代码片段是完全解耦的，可以在AWS Lambda基础设施上的核心系统之外运行。”</a></p><p id="4a64" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">他进一步指出，他们在Airtasker使用无服务器技术作为“一种基于事件的数据传输机制，连接各种系统。我们已经使用它进行了大规模的提取、转换、加载(ETL)迁移，在不到四个小时的时间内将超过2亿条通知从PostgreSQL传输到Elasticsearch。”</p><h1 id="5d57" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是码头集装箱？</h1><p id="0056" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://www.docker.com/what-container" rel="noopener ugc nofollow" target="_blank"> Docker </a>将容器描述为一种将软件打包成标准化单元用于开发、运输和部署的方法。此外，容器映像是一个独立的、轻量级的、可执行的软件包，其中包含运行它所需的一切。</p><p id="d0ed" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这意味着容器映像将配备以下组件:</p><ul class=""><li id="986d" class="le lf hu je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">密码</li><li id="94f9" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">运行时间</li><li id="40ca" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">设置</li><li id="037b" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">系统工具</li><li id="2fb1" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">系统库</li></ul><p id="ed3d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Docker容器可用于基于Windows和Linux的应用程序，无论环境如何，容器化的软件都将以相同的方式运行。当您使用容器时，您可以通过分离开发和登台环境来减少在同一基础设施上运行不同软件的团队之间的冲突。</p><p id="91e3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://containerjournal.com/2017/03/23/docker-4-milestones-docker-history/" rel="noopener ugc nofollow" target="_blank"> Docker只有五年的历史</a>自2013年3月作为开源软件首次发布以来，它已经变得越来越强大。在亚马逊第二年推出的EC2容器服务的支持下，大型企业对Docker的采用正在上升，根据<a class="ae ka" href="https://newrelic.com/serverless-dynamic-cloud-survey?content=eBook" rel="noopener ugc nofollow" target="_blank"> New Relic </a>的说法，40%的企业在使用容器，34%的企业在使用容器编排(这使得Docker几乎与无服务器计算不相上下)。</p><p id="0862" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是容器技术的概念比无服务器计算出现的时间要长得多。我们今天拥有的Docker技术也是基于过去的容器技术标准，而过去的容器技术标准已经被忽略了。</p><h1 id="d589" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">有哪些相似之处？</h1><p id="6f4d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">虽然很多人经常谈论无服务器计算和Docker，但这两者几乎没有共同点。这是因为这两种技术不是同一种东西，它们服务于不同的目的。</p><p id="2a3e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，让我们回顾一些常见的好处:</p><ul class=""><li id="58de" class="le lf hu je b jf jg jj jk jn lg jr lh jv li jz lj lk ll lm dt translated">最小开销</li><li id="8c0a" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">高性能</li><li id="fd8b" class="le lf hu je b jf ln jj lo jn lp jr lq jv lr jz lj lk ll lm dt translated">需要最少的基础设施供应</li></ul><p id="22dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">上面的列表是人们争论AWS Lambda和Docker的好处的主要原因。然而，很难比较这两者，因为它们本质上解决不同的问题。</p><p id="7bbe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">例如，无服务器更适合新的应用程序，因为很难编写无服务器功能集来重写或重构应用程序。像AWS Lambda这样的无服务器计算解决方案也对函数的运行时间、大小和内存使用有内置的限制。</p><p id="0fe5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">几乎不可能使用大多数无服务器功能的监控工具，因为无法访问功能容器的容器管理系统。这将限制您进行性能分析，并使调试成为一项相当原始的工作。</p><p id="1898" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">无服务器计算还要求你保持功能小，以防止它们占用太多的系统资源。这种方法对于防止相对少数的高需求用户使系统过载并将其他人拒之门外是必要的。</p><p id="d847" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当性能很重要时，由于速度和响应时间经常不均衡，无服务器是不够的。这种方法也有一个本地支持的编程语言的有限列表。虽然在基本层面上，它不一定是无服务器计算的固有特性，但它仍然反映了系统的实际限制。</p><p id="4b33" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一方面，Docker基于容器的应用程序可能非常复杂、庞大，并且能够容器化现有的应用程序，尽管您仍然需要进行一些重大的重构(但不像在无服务器计算平台上那样)。</p><p id="9373" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">基于容器的部署还带来了对单个容器、整个系统和虚拟化基础架构进行完全控制的额外好处。这使您能够更好地分配和管理资源、设置策略，并增强对安全性的控制。</p><p id="b48b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">完全控制Docker容器环境还可以让您深入了解容器内部和外部的情况。这使得调试和分析变得无缝，因为您可以访问各种资源以及在所有级别进行深入的性能监控。</p><p id="d14f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这意味着您有能力分析每个问题，并在逐个微服务的基础上进行调整，以更好地满足您系统的独特性能要求。由于整个系统都可以监控，因此在各个层面实施全面分析也很容易。</p><p id="f1d4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">无服务器与Docker之争的起源可以追溯到Amazon Lambda的推出。这一事件本质上使“无服务器”一词变得非常突出，但每项技术的流行都可以直接归因于每个单独的企业用例。随着无服务器计算的采用加速，围绕它是否会扼杀Docker容器的问题开始出现。</p><h1 id="5d98" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">那么Serveless会杀Docker吗？</h1><p id="2723" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">实际上，无服务器计算和Docker在部署到一起工作时都工作得最好。</p><p id="d81b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于企业或互联网环境中的大型复杂应用程序和应用程序套件，基于容器的应用程序与用于管理和部署容器的全功能系统相结合是最佳选择。</p><p id="c5be" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于可以由外部服务访问或在后台运行的单个任务，无服务器计算是正确的选择。它们可以很好地协同工作，因为可以建立基于Docker的容器系统，将这些任务转发给无服务器应用程序，以避免占用主程序的资源。</p><p id="2a43" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://www.linkedin.com/in/lgbennett/" rel="noopener ugc nofollow" target="_blank">Telstra的通用核心工程总监Luke Bennett </a>也认为我们并不是在寻求单一的解决方案:“我们意识到供应商锁定，目前无服务器产品固有的缺乏跨云平台的可移植性。对于像Telstra这样的企业来说，在中短期内，无服务器不会取代容器；随着云提供商之间的无服务器功能更加标准化，我们将看到更广泛的采用。”</p><p id="557d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">他补充说,“运行时间短或即时功能的小型企业和初创企业将在建立其应用和生态系统的同时，从无服务器中受益。无服务器和容器是互补的。无服务器从编程模型中抽象出了容器的复杂性，然而，没有物理机器、虚拟机和容器，无服务器就无法存在，它构成了供开发人员使用的更广泛的技术工具包的一部分。随着我们转向状态感知和长期运行的容器堆栈，我们将看到两者共存，各有所长。”</p><p id="ee3e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://www.themartec.com/insidelook/microservices-containers-change-cloud" rel="noopener ugc nofollow" target="_blank">标志性建筑</a>的开发主管奥利·布伦南(Ollie Brennan)进一步支持这种方法，他表示，“我们已经经历了几次技术迭代，才达到我们想要的目标。我认为对我来说最大的收获是没有Docker，微服务就是一个白日梦。没有它也是可能的，但除非你能提供集装箱服务，否则成本很快就会变得难以控制。”</p><p id="dfe6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">无服务器计算将杀死Docker容器的想法似乎完全没有根据。虽然在虚拟世界中可能会有许多争论，但基于容器的无服务器计算将是未来。</p><h2 id="53eb" class="ls kc hu bd kd lt lu lv kh lw lx ly kl jn lz ma kp jr mb mc kt jv md me kx mf dt translated">了解澳大利亚顶尖公司在科技领域的最新见解👉<a class="ae ka" href="http://www.themartec.com/signup" rel="noopener ugc nofollow" target="_blank">集市</a></h2></div></div>    
</body>
</html>