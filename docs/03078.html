<html>
<head>
<title>I Just Wrote a Stellar Smart Contract Pt. 2: Let’s Dig a Little Deeper</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我刚刚写了一个恒星智能合同Pt。2:让我们再深入一点</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/i-just-wrote-a-stellar-smart-contract-pt-2-lets-dive-a-little-deeper-a8dae19b9d0a?source=collection_archive---------2-----------------------#2018-04-08">https://medium.com/hackernoon/i-just-wrote-a-stellar-smart-contract-pt-2-lets-dive-a-little-deeper-a8dae19b9d0a?source=collection_archive---------2-----------------------#2018-04-08</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/18de52a0533a58277f4d6face2f26ca7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*EW8Jtzs1rGklEqWrOBT2AQ.jpeg"/></div></figure><p id="a48a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">一个多月前，我写了这个多部分系列的第1部分，详细描述了我进入恒星智能合约(SSC)世界的旅程。</p><p id="159a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">从那以后，我收到了一些美妙的<a class="ae jw" href="https://hackernoon.com/tagged/feedback" rel="noopener ugc nofollow" target="_blank">反馈</a>，赞美、怀疑、担忧等等。</p><p id="04bb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这些担心很多都是有根据的，今天，有了完全自由的时间表，一杯热咖啡，一台充满电的电脑，我坐下来，期待着建立我在pt中描述的基础。1.</p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="kb kc l"/></div></figure></div><div class="ab cl kd ke hc kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hn ho hp hq hr"><h1 id="afd5" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">概念</h1><p id="6bb8" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">我将首先定义几个基本概念，以便我们都在同一页上。如果您已经熟悉SSC的基本构建模块，请随意跳过这一部分。</p><h2 id="8f58" class="ln kl hu bd km lo lp lq kq lr ls lt ku jj lu lv ky jn lw lx lc jr ly lz lg ma dt translated">序列号:</h2><p id="0c6b" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">每个账户都有一个<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/transactions.html#sequence-number" rel="noopener ugc nofollow" target="_blank">序列号</a>，用于定义该账户在恒星<a class="ae jw" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a>内的交易顺序。每当一个账户建立一笔交易时，它就给那笔交易一个序列号。这个数字必须严格递增—如果帐户A的序列号为1，则帐户A的唯一有效交易是序列号为2的交易。</p><h2 id="29b8" class="ln kl hu bd km lo lp lq kq lr ls lt ku jj lu lv ky jn lw lx lc jr ly lz lg ma dt translated">操作:</h2><p id="2782" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">在恒星网络中定义了11个(即将成为12个)<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/list-of-operations.html" rel="noopener ugc nofollow" target="_blank">运算</a>。一个操作被定义为:<em class="mb">一个单独的命令，使分类帐发生变异。</em>最常见的操作是<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/list-of-operations.html#payment" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">支付</strong> </a>和<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/list-of-operations.html#create-account" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">创建账户</strong> </a> <strong class="ja hv"> </strong>还有许多其他有用的操作，如<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/list-of-operations.html#set-options" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">设置选项</strong> </a> <strong class="ja hv"> </strong>允许您更改账户的各种设置。</p><h2 id="ff4f" class="ln kl hu bd km lo lp lq kq lr ls lt ku jj lu lv ky jn lw lx lc jr ly lz lg ma dt translated">阈值:</h2><p id="241f" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">每个操作都有一个相关的<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/multi-sig.html#thresholds" rel="noopener ugc nofollow" target="_blank">阈值</a> —低、中、高。这定义了执行操作所需的签名权重。</p><h2 id="c65a" class="ln kl hu bd km lo lp lq kq lr ls lt ku jj lu lv ky jn lw lx lc jr ly lz lg ma dt translated">签名人:</h2><p id="0741" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">在Stellar中，每个帐户都有一个签名者列表，每个签名者都有一个相关的权重。为了使操作有效，添加到事务中的所有签名者的权重必须大于或等于阈值权重。例如，如果阈值设置为2，并且帐户上的每个签名者的权重为1，则我们需要至少2个这样的签名才能使该事务有效。</p><p id="b027" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">签名者可以轻松地添加和删除，允许创建n-of-m <a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/multi-sig.html" rel="noopener ugc nofollow" target="_blank">多重签名账户</a>。</p><p id="60c1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">有三种不同类型的签名者可以添加到帐户中——帐户id(公钥)、<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/multi-sig.html#pre-authorized-transaction" rel="noopener ugc nofollow" target="_blank">预授权交易</a>和<a class="ae jw" href="https://www.stellar.org/developers/guides/concepts/multi-sig.html" rel="noopener ugc nofollow" target="_blank">哈希(X) </a>。在本文中，我们将忽略Hash(X)</p></div><div class="ab cl kd ke hc kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hn ho hp hq hr"><h1 id="3efc" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">向我们的工具箱添加新工具</h1><blockquote class="mc"><p id="73cb" class="md me hu bd mf mg mh mi mj mk ml jv ek translated">技术什么都不是。重要的是你对人们有信心，他们基本上是善良和聪明的，如果你给他们工具，他们会用它们做很棒的事情。—史蒂夫·乔布斯</p></blockquote><p id="2e97" class="pw-post-body-paragraph iy iz hu ja b jb mm jd je jf mn jh ji jj mo jl jm jn mp jp jq jr mq jt ju jv hn dt translated">所以，是的，本着史蒂夫·乔布斯和创新的精神，让我们大胆尝试，开始使用Stellar的一些鲜为人知的功能。</p><h2 id="154c" class="ln kl hu bd km lo lp lq kq lr ls lt ku jj lu lv ky jn lw lx lc jr ly lz lg ma dt translated">预授权交易:</h2><p id="4d8d" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">预授权交易就像它听起来的那样——它是一个已经被构造和签名的交易，允许该交易的持有者在他/她感觉到的任何时候将其发布到网络(但是，不要忘记序列号必须仍然有效)。酷吗？没有吗？</p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="mr kc l"/></div></figure><p id="63c7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">越来越好了。</p><p id="5720" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">此预授权交易可以作为签名人添加到帐户中。如果给这个签名赋予了正确的权重，这允许您在没有任何其他签名的情况下广播一个事务。这里有一个例子:</p><pre class="jx jy jz ka fq ms mt mu mv aw mw dt"><span id="c02b" class="ln kl hu mt b fv mx my l mz na"><strong class="mt hv">Account A</strong><br/><em class="mb">   balance:</em> <em class="mb">9</em><br/><em class="mb">   sequence #:</em> <em class="mb">3</em><br/><em class="mb">   low threshold:</em> <em class="mb">1</em><br/><em class="mb">   med threshold:</em> <em class="mb">1</em><br/>   <em class="mb">high threshold:</em> <em class="mb">1</em></span><span id="9b94" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv">TX A:</strong><br/><em class="mb">Sequence #5</em><br/><em class="mb">Pay B 5 XLM<br/>(NO SIGNATURE NEEDED)</em></span><span id="2251" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv">TX B:</strong><br/><em class="mb">Sequence #4</em><br/><em class="mb">Set Options:</em><br/>    <em class="mb">Signer:</em> HASH of TX A<br/>    <em class="mb">Signer_weight:</em> 1</span><span id="973f" class="ln kl hu mt b fv nb my l mz na">Now:<br/>1) Account A submits transaction B<br/>2) Account A, or anyone with transaction A, can submit transaction A without needing an additional signature</span></pre><p id="cebf" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="mb">注</em>:交易B提交后，将作为签名人从账户a中删除。</p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="nc kc l"/></div></figure><p id="0afa" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">还不酷吗？</p><p id="a794" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">别担心，这个工具的用处很快就会显而易见:)</p></div><div class="ab cl kd ke hc kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hn ho hp hq hr"><h1 id="c5d3" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">改进了我之前的例子</h1><p id="4b50" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">让我们将这些知识应用到上次中<a class="ae jw" rel="noopener" href="/@robdurst/i-just-wrote-a-stellar-smart-contract-7f54a391f5e1">的例子中。作为一个快速提醒，下面是我希望解决的<strong class="ja hv">问题</strong>的概述:</a></p><pre class="jx jy jz ka fq ms mt mu mv aw mw dt"><span id="c2e8" class="ln kl hu mt b fv mx my l mz na">Consider the user A who seeks to pay B,C,D for a service. If the service succeeds, B,C, and D are paid. If the service fails, only B and C are paid. B is a trusted party, capable of determining whether the service succeeds or fails.</span></pre><p id="0705" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这是上次的解决方案:</p><pre class="jx jy jz ka fq ms mt mu mv aw mw dt"><span id="285f" class="ln kl hu mt b fv mx my l mz na"><strong class="mt hv">Account A</strong><br/>   balance:    9 XLM<br/>   sequence #: 3</span><span id="25a0" class="ln kl hu mt b fv nb my l mz na">A constructs two transactions:</span><span id="cc42" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX A:<br/></em></strong>Sequence #4 <em class="mb">                              <br/></em>Pay B 3 XLM<br/>pay C 3 XLM<br/>Pay D 3 XLM</span><span id="fd1b" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX B:<br/></em></strong>Sequence #4<br/>Pay B 3 XLM<br/>pay C 3 XLM</span><span id="1d4c" class="ln kl hu mt b fv nb my l mz na">A signs both these transactions and gives them to B. Once the service is finished, B submits <strong class="mt hv">TX A</strong> or <strong class="mt hv">TX B</strong> depending on the success of the service.</span></pre><p id="49de" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然而，请注意我在前面的例子中没有提到的一个主要缺陷(感谢Alexander的评论):</p><blockquote class="nd ne nf"><p id="4a04" class="iy iz mb ja b jb jc jd je jf jg jh ji ng jk jl jm nh jo jp jq ni js jt ju jv hn dt translated">Alice[上例中的A]可以发出另一个增加序列号的事务</p></blockquote><p id="beed" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">不幸的是，她可以。</p><p id="7dd3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">那么，我们怎样才能<em class="mb">锁定</em>这些资金，并防止爱丽丝花掉她<em class="mb">留出来</em>用来支付B、C和/或D的钱呢？</p><p id="4213" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为此，我们将使用我们的新工具:<em class="mb">预授权交易</em>。</p><p id="2067" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">让我们直接开始吧。</p><h1 id="cee6" class="kk kl hu bd km kn nj kp kq kr nk kt ku kv nl kx ky kz nm lb lc ld nn lf lg lh dt translated">设置:</h1><pre class="jx jy jz ka fq ms mt mu mv aw mw dt"><span id="c9ca" class="ln kl hu mt b fv mx my l mz na">A creates an account E with her 9 XLM and sets all thresholds to 1.</span><span id="3016" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv">Account E</strong><br/>   balance: 9 XLM<br/>   sequence #: 1<br/>   low threshold: 1<br/>   med threshold: 1<br/>   high threshold: 1</span><span id="ff42" class="ln kl hu mt b fv nb my l mz na">B constructs two transactions, just like A did last time, except this time B will set the sequence number to be sequence number+2:</span><span id="0c93" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX A:<br/></em></strong>Sequence #3 <em class="mb">                              <br/></em>Pay B 3 XLM<br/>pay C 3 XLM<br/>Pay D 3 XLM</span><span id="dbb1" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX B:<br/></em></strong>Sequence #3<br/>Pay B 3 XLM<br/>pay C 3 XLM</span><span id="a00e" class="ln kl hu mt b fv nb my l mz na">A will construct a third transaction with the hashes of the transactions given to her by B:</span><span id="5e2a" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX SETUP:<br/></em></strong>Sequence #2<br/>Master Key weight: 0<br/>Add <strong class="mt hv">TX A HASH</strong> as a signer w/ weight: 1<br/>Add <strong class="mt hv">TX B HASH</strong> as a signer w/ weight: 1</span><span id="6929" class="ln kl hu mt b fv nb my l mz na">A signs <strong class="mt hv">TX SETUP </strong>with Master Key E and submits it to the network.</span></pre><p id="d9c1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">哇，哇，哇，刚刚发生了什么？！？！</p><p id="4ea3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们现在的设置基本上和以前一样，但是这一次，9个XLM被锁定了——A无法访问她的资金。更重要的是，因为A不能访问账户E，所以保证<strong class="ja hv"> TX A </strong>和<strong class="ja hv"> TX B </strong>都是有效的，直到其中一个被花掉。另外，由于B构建了两个事务，并且只将散列发送给A，因此只有B有权提交最终的事务。</p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="no kc l"/></div></figure><p id="e366" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">根据pt上的一条评论。1(感谢哈维):</p><blockquote class="nd ne nf"><p id="987d" class="iy iz mb ja b jb jc jd je jf jg jh ji ng jk jl jm nh jo jp jq ni js jt ju jv hn dt translated">如果您对Bob何时可以发送事务A和事务B(例如，30天后，房子应该建好)的那些操作实施时间限制，这将会很有趣。</p></blockquote><p id="a216" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">a可以构造第三个交易，<strong class="ja hv"> TX C </strong>，如果B在某个特定日期之前没有提交任何一个交易，这将退还她9 XLM。以下是经过编辑的设置:</p><pre class="jx jy jz ka fq ms mt mu mv aw mw dt"><span id="9198" class="ln kl hu mt b fv mx my l mz na">A creates an account E with her 9 XLM and sets all thresholds to 1.</span><span id="e01f" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv">Account E</strong><br/>   balance: 9 XLM<br/>   sequence #: 1<br/>   low threshold: 1<br/>   med threshold: 1<br/>   high threshold: 1</span><span id="bf09" class="ln kl hu mt b fv nb my l mz na">B constructs two transactions, just like A did the last time, except this time B will set the sequence number to be sequence number+2:</span><span id="2dac" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX A:<br/></em></strong>Sequence #3 <em class="mb">                              <br/></em>Pay B 3 XLM<br/>pay C 3 XLM<br/>Pay D 3 XLM</span><span id="1d41" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX B:<br/></em></strong>Sequence #3<br/>Pay B 3 XLM<br/>pay C 3 XLM</span><span id="4d6a" class="ln kl hu mt b fv nb my l mz na">A will construct a third, refund, transaction that is only valid after X days:</span><span id="2733" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX C:<br/></em></strong>Sequence #3<br/>Pay A 9 XLM<br/><a class="ae jw" href="http://TX B: Sequence #3 Pay B 3 XLM pay C 3 XLM" rel="noopener ugc nofollow" target="_blank">Time bound</a>: X days</span><span id="fa88" class="ln kl hu mt b fv nb my l mz na">A will construct a fourth transaction with the hashes of the transactions given to her from B and from her own refund transaction:</span><span id="8330" class="ln kl hu mt b fv nb my l mz na"><strong class="mt hv"><em class="mb">TX SETUP:<br/></em></strong>Sequence #2<br/>Master Key weight: 0<br/>Add <strong class="mt hv">TX A HASH</strong> as a signer w/ weight: 1<br/>Add <strong class="mt hv">TX B HASH</strong> as a signer w/ weight: 1<br/>Add <strong class="mt hv">TX C HASH </strong>as a signer w/ weight: 1</span><span id="c3cf" class="ln kl hu mt b fv nb my l mz na">A signs <strong class="mt hv">TX SETUP </strong>with Master Key E and submits it to the network.</span></pre></div><div class="ab cl kd ke hc kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hn ho hp hq hr"><h1 id="9ab0" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">结论</h1><p id="000d" class="pw-post-body-paragraph iy iz hu ja b jb li jd je jf lj jh ji jj lk jl jm jn ll jp jq jr lm jt ju jv hn dt translated">那么信任在哪里呢？</p><ul class=""><li id="f00b" class="np nq hu ja b jb jc jf jg jj nr jn ns jr nt jv nu nv nw nx dt translated">我们必须相信B会做出正确的判断</li></ul><p id="2fb2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">是的，大概就是这样…</p><p id="0882" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">考虑以太坊，NEO，EOS等的替代品。在某些时候，您需要将信任引入到系统中——必须有人对服务是否已经完成做出最终判断。</p><p id="9f03" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">因此，对于像这样简单的二元操作，我们基于可观察的(但不一定是可编程观察的)结果来分配支付，我们可以使用恒星智能合约。</p><p id="d8db" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以嘣！你现在有了一个相当复杂的智能契约，可以用JavaScript、Go、C#、Ruby、Python、Scala、Swift和(即将推出的)Rust实现，可以部署到一个可负担的0.00001 XLM/操作。</p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="ny kc l"/></div></figure></div><div class="ab cl kd ke hc kf" role="separator"><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki kj"/><span class="kg bw bk kh ki"/></div><div class="hn ho hp hq hr"><p id="1452" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">代码:<a class="ae jw" href="https://github.com/robertDurst/stellar-examples-in-js/blob/master/preAuthTx.js" rel="noopener ugc nofollow" target="_blank">这里的</a>是用JavaScript编写的添加预授权交易作为签名人的基本例子。</p><p id="7c77" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="mb">免责声明:虽然我是Stellar.org的现任雇员，但这些观点仅代表我个人，并不代表SDF的观点。也就是说，这些结论是我在空闲时间做实验时得出的，是基于真实代码而不是个人偏见。</em></p><p id="beba" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="mb">免责声明继续:虽然我袖手旁观我的话，我是一个新手智能合同程序员，我的假设可能是不正确的。如果是这样，请在下面评论——我一直在寻求反馈。</em></p><figure class="jx jy jz ka fq iv"><div class="bz el l di"><div class="nz kc l"/></div></figure></div></div>    
</body>
</html>