<html>
<head>
<title>Functional Programming: Alternatives to the IF #Functional #JavaScript</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">函数式编程:IF #Functional #JavaScript的替代方案</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/functional-programming-alternatives-to-the-if-functional-javascript-8804905db43e?source=collection_archive---------7-----------------------#2018-04-09">https://medium.com/hackernoon/functional-programming-alternatives-to-the-if-functional-javascript-8804905db43e?source=collection_archive---------7-----------------------#2018-04-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="cdb7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有几次我被问到“在函数式编程中，你会怎么做X？”我绝对喜欢这类问题。</p><p id="c4a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我尽我所能回答每个问题，但我认为有许多问题足够有趣，值得他们自己的文章。</p><p id="9abe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，在这篇文章中，我想展示如何以一种更实用的方式重新创建这个命令式函数。</p><p id="2df5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个函数有一个没有<code class="eh jp jq jr js b">else</code>的<code class="eh jp jq jr js b">if</code>语句。因此，虽然一个<code class="eh jp jq jr js b">ternary</code>操作符可以工作，但并不理想。</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="c0b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，我们只需要在有“值”时运行“调度”,否则我们什么也不做。</p><p id="5426" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一种选择是使用短路操作器:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="3214" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">短路和三进制，这两种方法都可以解决这个问题，但是让我们再看几个。</p><h1 id="6c1a" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">解决方案A: ifVal辅助函数</h1><p id="6af1" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">为了用一种更实用的方式来做这件事，我将创建一个助手函数。我会先写这个旧学校的帮助者，然后一点一点地把它浓缩，这样每个人都能容易地理解它。</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="8098" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以修改我们的<code class="eh jp jq jr js b">someAction</code>函数，使用<code class="eh jp jq jr js b">ifVal</code>代替传统的<code class="eh jp jq jr js b">if</code>块。</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="76dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一个简单快捷的twitter截图对比:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><h2 id="14da" class="ld kb hu bd kc le lf lg kg lh li lj kk jc lk ll ko jg lm ln ks jk lo lp kw lq dt translated">进一步阅读</h2><p id="a8cb" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">看看Ramda的<a class="ae lr" href="http://ramdajs.com/docs/#when" rel="noopener ugc nofollow" target="_blank">当</a>、<a class="ae lr" href="http://ramdajs.com/docs/#unless" rel="noopener ugc nofollow" target="_blank">除非</a>和<a class="ae lr" href="http://ramdajs.com/docs/#ifElse" rel="noopener ugc nofollow" target="_blank"> ifelse </a>其他有用的类似功能。</p><h1 id="3d9b" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">解决方案B:函子</h1><p id="4ade" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">我们也可以使用<strong class="it hv">或者键入</strong>。Maybe类型由一个保存值的<code class="eh jp jq jr js b">Just</code>类型或一个确切表示值的<code class="eh jp jq jr js b">Nothing</code>类型组成。</p><p id="d4d7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于这个例子，我将使用来自<a class="ae lr" href="https://sanctuary.js.org/" rel="noopener ugc nofollow" target="_blank"> Sanctuary </a>库的Maybe类型。</p><p id="021b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它看起来有点像这样:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="26df" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">也许类型非常简单，我之所以想用它是因为<code class="eh jp jq jr js b">map</code>和<code class="eh jp jq jr js b">Maybe</code>配合得非常好，它被赋予了一个特殊的名字，一个<strong class="it hv">仿函数</strong>。</p><p id="51da" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一些库，如<a class="ae lr" href="https://github.com/ramda/ramda-fantasy" rel="noopener ugc nofollow" target="_blank"> ramda-fantasy </a>有流畅的语法，但是本文使用的是Sanctuary。不过，很高兴知道这两者是等价的。</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="2cc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">示例:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="1d28" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有加在一起的<code class="eh jp jq jr js b">doSomething</code>也许会是这个样子:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="8c0e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们有三个函数，<code class="eh jp jq jr js b">getItem</code>、<code class="eh jp jq jr js b">toMaybe</code>和<code class="eh jp jq jr js b">map</code>，它们可以组合成一个新的函数。我们可以将值传递给这个新函数，它将首先流入<code class="eh jp jq jr js b">getItem</code>，然后是<code class="eh jp jq jr js b">toMaybe</code>，最后这个值将流入我们的<code class="eh jp jq jr js b">map</code>。</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><p id="27bb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后一张完美的推特图片:</p><figure class="jt ju jv jw fq jx"><div class="bz el l di"><div class="jy jz l"/></div></figure><h1 id="ed9c" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">结束</h1><p id="2cab" class="pw-post-body-paragraph ir is hu it b iu ky iw ix iy kz ja jb jc la je jf jg lb ji jj jk lc jm jn jo hn dt translated">我希望你喜欢这个小小的功能之旅。如果你这样做了，如果你迷路了，如果你有任何问题，或者如果你想要更多像这样的文章，请在评论中告诉我。如果你真的想激励我，请在这里关注我或<a class="ae lr" href="https://twitter.com/joelnet" rel="noopener ugc nofollow" target="_blank"> Twitter </a>如果你<strong class="it hv">喜欢</strong>这篇文章，请四处传阅！</p><p id="3a45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">干杯！</p><p id="3a62" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">附:这篇文章最初是<a class="ae lr" href="https://dev.to/joelnet/functional-programming-how-would-you-if-no-else-javascript-59ai" rel="noopener ugc nofollow" target="_blank">发布在dev.to </a>上的。</p></div></div>    
</body>
</html>