<html>
<head>
<title>Social Networks Powered by Stream’s API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">由Stream的API支持的社交网络</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/social-networks-powered-by-streams-api-51b5b60ea2b?source=collection_archive---------26-----------------------#2018-04-11">https://medium.com/hackernoon/social-networks-powered-by-streams-api-51b5b60ea2b?source=collection_archive---------26-----------------------#2018-04-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d54a7530c161a7c2b3d776198be52ebc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BucPMRHiU--Ov9WfsEu_-g.png"/></div></div></figure><blockquote class="jc jd je"><p id="f489" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">披露:<a class="ae ke" href="https://goo.gl/LxzcfX" rel="noopener ugc nofollow" target="_blank"> Stream </a>，可扩展提要的API，之前赞助过Hacker Noon。</p></blockquote><p id="d64c" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为像Stream这样的公司工作最令人兴奋的部分之一是看到我们的客户用我们的<a class="ae ke" href="https://hackernoon.com/tagged/api" rel="noopener ugc nofollow" target="_blank"> API </a>构建了什么。许多公司带着同样的问题来找我们，如可扩展性、成本、时间限制等。事实上，之所以创建Stream，是因为我们的CEO在之前的公司面临许多相同的问题。这篇文章讲述了三个不同的公司使用Stream构建feed技术的故事。</p><h1 id="a3a4" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">产品搜索</h1><figure class="lh li lj lk fq iv fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/0a657e8306262d7a7b727d14daf46f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*t0T5oLUeQ64hxz8iKLgiWw.png"/></div></figure><blockquote class="ll"><p id="1c6d" class="lm ln hu bd lo lp lq lr ls lt lu kd ek translated"><em class="lv">“Stream API就是这么工作的——我们很感激我们根本不用担心它。对我们来说，添加新的通知很简单，而且它可以随我们一起扩展。这让我们有时间专注于其他优先事项。”— </em> <a class="lw lx gr" href="https://medium.com/u/ac19e2880d0c?source=post_page-----51b5b60ea2b--------------------------------" rel="noopener" target="_blank"> Andreas Klinger </a> <em class="lv">，产品搜寻部首席技术官</em></p></blockquote><p id="7014" class="pw-post-body-paragraph jf jg hu ji b jj ly jl jm jn lz jp jq kf ma jt ju kg mb jx jy kh mc kb kc kd hn dt translated"><a class="ae ke" href="https://hackernoon.com/tagged/product-hunt" rel="noopener ugc nofollow" target="_blank">产品搜索</a>允许用户分享和研究最新的移动应用、网站、硬件项目和技术创新。每天，该平台允许其社区成员提交、浏览、投票和评论产品。在过去几年中，Product Hunt的用户、文章和参与度呈指数级增长，已经成为产品和创业领域的一个巨大影响者。</p><p id="f286" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Product Hunt为其用户社区带来的一个特点是有机会<strong class="ji hv">找到他们的新宠</strong>并与其他志同道合的用户讨论和分析。</p><p id="8cbb" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Product Hunt为其用户创建了一个自定义通知和活动提要。起初，这种解决方案已经足够，但是随着社区的发展，<strong class="ji hv">自制的解决方案不再能够扩展</strong>，开发人员也无法做出必要的改变。他们注意到他们在繁琐的修复上花费了更多的时间，并且由于自制解决方案的不灵活性而经常遇到问题。</p><p id="56f0" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Product Hunt实现了Stream的API，让他们的开发者有机会创建一个定制的、可扩展的、可靠的feed。如今，Product Hunt的团队获得了深入的分析，这是他们的内部解决方案所不具备的。他们印象特别深刻的是，他们可以快速生成一个通知和活动流，其UI与他们已经拥有的UI相似。有了Stream API，他们添加和更改通知的速度是以前的两倍。最后，他们不再担心订阅源或通知被破坏、扩展能力或任何其他常见的后端问题。因此，他们现在可以专注于增强他们的通知，并构建使产品搜索如此独特和受欢迎的组件。</p><h1 id="d1e5" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">草图制作</h1><blockquote class="ll"><p id="bc5e" class="lm ln hu bd lo lp md me mf mg mh kd ek translated"><em class="lv">“从发布更新到评论等等，Stream为我们提供了最灵活和可扩展的解决方案来显示我们用户的所有活动。Stream团队使实施我们的新闻订阅解决方案成为一种协作体验，并最终成为我们的正确决策。”——保罗·强伯斯，Sketchfab的艺术家布道者。</em></p></blockquote><p id="a6d7" class="pw-post-body-paragraph jf jg hu ji b jj ly jl jm jn lz jp jq kf ma jt ju kg mb jx jy kh mc kb kc kd hn dt translated"><a class="ae ke" href="https://sketchfab.com/" rel="noopener ugc nofollow" target="_blank"> Sketchfab的</a>社区由艺术家、设计师、建筑师、爱好者、工程师、品牌、博物馆、游戏工作室、学校等组成。一些最有才华的3D艺术家在Sketchfab的平台上展示他们的作品。</p><p id="e1f9" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Sketchfab的快速增长促使他们研究饲料解决方案。从构思开始，他们就依赖于定制的提要，这导致了几个问题。他们别无选择，只能维护自己的基础设施，以支持他们最初的解决方案(即PostgreSQL数据库和Redis缓存)。以前的实现还依赖于在PostgreSQL表中存储用户活动，随着活动的增长，扫描和检索与唯一用户相关的活动需要花费越来越多的时间。<strong class="ji hv">他们知道他们的内部解决方案不会无限扩展，添加和维护更多基础设施来解决问题不是他们想要探索的选项</strong>。</p><p id="bae5" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Sketchfab听说过Stream，因为他们是TechStars的毕业生。他们尝试了交互式<a class="ae ke" href="https://getstream.io/get_started/" rel="noopener ugc nofollow" target="_blank"> API教程</a>，并对Stream的API的易用性印象深刻。在最终决定与Stream合作之前，他们进行了研究。他们考虑的主要替代方案是在Stream的开源Stream-Framework之上构建一个内部解决方案。<strong class="ji hv"> Stream对聚合、通知源和排名的内置支持是他们选择托管解决方案的主要原因。</strong>另一个好处是API提供的稳定性能和可靠性。Stream的托管平台基于Go和高度优化的feed存储基础设施。在构建内部解决方案时，很难达到这样的性能和可靠性水平。他们决定使用Stream的API的最后一个原因是定价。Sketchfab的团队意识到，托管和维护他们自己的Cassandra集群、工人实例、任务代理、实时基础设施和API工人根本不划算。</p><p id="a183" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">这一合作的最终结果是Sketchfab上的新提要:</p><figure class="lh li lj lk fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/834708d905a5f182875cb67d7019b88c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7aCYumM9UB9Z49QJ."/></div></div></figure><p id="1412" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">除了新闻提要之外，他们的通知提要也是由Stream支持的。</p><figure class="lh li lj lk fq iv fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/7a67917141ac185f82172c4a025fefe2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1236/format:webp/1*wsD4_ua_wquav6U_Cjz8LQ.png"/></div></figure><p id="4560" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">在性能方面，Sketchfab使用EU-西部的Stream区域。这就在他们自己的数据中心旁边，所以性能非常高。下面是Stream切换到Go之前和之后的读取性能图:</p><h1 id="e5ca" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">Dubsmash</h1><blockquote class="ll"><p id="be81" class="lm ln hu bd lo lp md me mf mg mh kd ek translated"><em class="lv">“构建feed技术是一项巨大的挑战。我们犯了一个错误，试图自己建造它…我们只是卡住了。从特性的角度来看，我们无法构建像Stream所能提供的那样健壮的东西。我只是惊讶于某些功能，比如排名，是如何工作的。Stream也很容易实现，他们的团队对Slack的响应也很快！”—</em><a class="lw lx gr" href="https://medium.com/u/808221e7725d?source=post_page-----51b5b60ea2b--------------------------------" rel="noopener" target="_blank">dubmash的首席技术官蒂姆·施派特</a></p></blockquote><p id="eddb" class="pw-post-body-paragraph jf jg hu ji b jj ly jl jm jn lz jp jq kf ma jt ju kg mb jx jy kh mc kb kc kd hn dt translated"><a class="ae ke" href="https://dubsmash.com/" rel="noopener ugc nofollow" target="_blank">dubssmash</a>是一个全球娱乐平台，允许用户与他们喜欢的内容进行互动。他们的团队正在建立互动视频引用数据库，允许世界各地的用户分享、对口型和迷因流行文化内容。随着全球超过2亿用户每秒钟与35个视频进行互动，Dubsmash正在打造未来的娱乐产品——一种消费者主动参与而非被动消费的产品。</p><figure class="lh li lj lk fq iv fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/6b1f88e7eda72d859878b75c720ebd85.png" data-original-src="https://miro.medium.com/v2/resize:fit:664/format:webp/1*W5CauCesNx38fvrYYEBV6A.png"/></div></figure><p id="9e31" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Dubsmash一直热衷于使用现有的解决方案，而不是“重新发明轮子”，因为他们是一个运行非常迅速的小团队。然而，他们最初认为他们可以构建一个内部的feed解决方案，该解决方案将具有他们需要的所有特性和功能，并且价格低于他们在市场上看到的价格。他们很快发现构建流和源的复杂性是巨大的。虽然他们能够轻松构建一个简单的按时间顺序排列的提要，但在尝试添加诸如排名和个性化等功能时，他们遇到了许多困难。在开发上花费了许多周和宝贵的资源后，他们意识到继续在内部构建不会为他们提供最好和最可持续的结果。</p><p id="6e14" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Dubsmash熟悉Stream已经两年多了。他们有使用原始开源流框架的经验，并且已经通过了<a class="ae ke" href="https://getstream.io/try-the-api/" rel="noopener ugc nofollow" target="_blank">试用API </a>教程。他们还对<a class="ae ke" href="https://getstream.io/blog/" rel="noopener ugc nofollow" target="_blank">流博客</a>和<a class="ae ke" href="https://getstream.io/docs/" rel="noopener ugc nofollow" target="_blank">文档页面</a>进行了广泛的研究。当他们接触到流时，<strong class="ji hv">他们需要一个功能丰富的解决方案，能够根据他们的预期增长进行扩展，同时能够快速轻松地集成</strong>。Dubsmash对Stream易于使用的<a class="ae ke" href="https://getstream.io/docs/#custom_ranking" rel="noopener ugc nofollow" target="_blank">排名特性</a>以及API可以覆盖许多用例的事实印象尤为深刻。Dubsmash并排使用了几种排名方法。他们的admin中的提要是严格按照时间存储的，向用户显示的提要考虑了流行度和时间衰减。内部构建需要几周的开发时间，而用API实现需要一天半。有了Stream，他们只是“不需要为此担心！”</p><figure class="lh li lj lk fq iv"><div class="bz el l di"><div class="ml mm l"/></div></figure></div></div>    
</body>
</html>