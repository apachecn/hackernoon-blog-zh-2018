<html>
<head>
<title>What if your e2e tests generated your user documentation?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如果您的e2e测试生成了您的用户文档会怎么样？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/what-if-your-e2e-tests-generated-your-user-documentation-baefe3ebaee9?source=collection_archive---------20-----------------------#2018-04-23">https://medium.com/hackernoon/what-if-your-e2e-tests-generated-your-user-documentation-baefe3ebaee9?source=collection_archive---------20-----------------------#2018-04-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ee35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">访问https://www.mikenikles.com的<a class="ae jp" href="https://www.mikenikles.com" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a><strong class="it hv">获取我的最新博文。</strong></p><p id="147a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和我一起裸露一会儿，而我散发一些光💡在那上面。</p><p id="e764" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为公平地说，软件开发人员理解编写测试的重要性；近年来，我确实看到了这方面的巨大进步👍。<br/>公平地说，最新的文档在许多层面上都非常有帮助:开发人员提升得更快，非开发人员同事更好地理解系统，最重要的是，面向用户的文档(如果写得好并被用户阅读)提高了用户满意度。</p><h2 id="a6c6" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk dt translated">编写测试</h2><p id="32de" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hn dt translated">引用吉列尔莫·劳赫的话:</p><figure class="kq kr ks kt fq ku"><div class="bz el l di"><div class="kv kw l"/></div></figure><p id="410f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">坦白地说，这在过去非常耗时。时代已经变了，像cypress . io(<a class="ae jp" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank">https://www.cypress.io/</a>)这样的工具并没有过度承诺“<em class="kx">对任何在浏览器中运行的东西进行快速、简单和可靠的测试。</em></p><p id="f13e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇博文中，我将重点介绍Cypress.io的视频记录以及如何利用它。想了解更多，推荐<a class="ae jp" href="https://docs.cypress.io/guides/guides/screenshots-and-videos.html#Videos" rel="noopener ugc nofollow" target="_blank">https://docs . cypress . io/guides/guides/screen-and-Videos . html # Videos</a>。</p><h2 id="1edb" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk dt translated">编写文档</h2><p id="36c1" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hn dt translated">知道了如何编写集成/端到端测试，让我们把注意力集中在目前仍然相当黑暗的领域(基于我的经验):文档。</p><p id="1735" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为开发人员，我们中的许多人喜欢构建功能、解决问题、部署代码，这样的例子不胜枚举。我很少看到“写文档”被列在拉式请求模板的任务列表中，更不用说当同事被要求写文档时脸上的兴奋了😜。</p><p id="8760" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，这是因为它很耗时，比e2e测试更耗时，很快就会变得陈旧，对读者来说毫无用处或令人困惑。</p><p id="76f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="kx">(如果你确实想撰写和发表文档，值得研究一下</em><a class="ae jp" href="https://docusaurus.io/" rel="noopener ugc nofollow" target="_blank"><em class="kx">https://docusaurus.io/</em></a><em class="kx">)。</em></p><p id="460e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么，如果文档可以自动生成并与源代码保持同步，那么web应用程序中的用户界面将与文档中呈现的内容100%相同——永远如此😮！</p><h2 id="4732" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk dt translated">让测试生成文档</h2><p id="44ae" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hn dt translated">我最近开始花一些空闲时间为https://github.com/withspectrum/spectrum做贡献，努力回报我真正相信的一个项目，以及我向朋友和同龄人推荐的一个产品，以便在许多网络社区中与志同道合的人联系。</p><p id="ea7c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Spectrum使用Cypress.io进行端到端测试。在撰写本文时，存在104个测试，大约在15分钟内完成。现在，还记得我上面提到Cypress.io的视频录制功能吗？这在Spectrum的代码中启用，在我运行测试后，我有了一个视频文件，我可以观看、暂停和继续，以获得Spectrum功能的高级概述。</p><figure class="kq kr ks kt fq ku"><div class="bz el l di"><div class="ky kw l"/></div></figure><p id="5ab5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我作为软件开发人员的职业生涯中，我第一次对跳入现有的代码库感到兴奋！</p><h2 id="5ff4" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk dt translated">下一步:生成用户文档</h2><p id="4300" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hn dt translated">到目前为止，我们已经:</p><ul class=""><li id="e0e6" class="kz la hu it b iu iv iy iz jc lb jg lc jk ld jo le lf lg lh dt translated">产品特性的端到端测试(愉快的经历和错误的案例)</li><li id="7273" class="kz la hu it b iu li iy lj jc lk jg ll jk lm jo le lf lg lh dt translated">一段15分钟的视频，直观展示如何使用产品功能</li></ul><p id="17fb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">那么为了生成用户文档，我们下一步需要什么呢？</p><p id="0af3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">较短的视频，理想情况下每个产品功能一个视频。在Spectrum的例子中:展示如何注册账户的视频或解释如何加入社区的视频。<br/>解决方案可能是:测试代码可以使用<code class="eh ln lo lp lq b">describe('', () =&gt; {})</code>或<code class="eh ln lo lp lq b">it('', () =&gt; {})</code>块的命名约定来指示哪些测试应该独立运行，从而创建单独的视频。类似于<code class="eh ln lo lp lq b">it('DOC: Register for an account', () =&gt; {})</code>的东西。然后，一个脚本运行<code class="eh ln lo lp lq b">DOC:</code>测试，并将生成的视频复制到一个<code class="eh ln lo lp lq b">./docs/videos</code>文件夹中，在那里可以在web应用程序的内嵌帮助功能中引用它们。</strong></p><p id="788f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">将视频裁剪成对用户重要的内容<br/></strong>cypress . io生成的一个视频截图是这样的:</p><figure class="kq kr ks kt fq ku fe ff paragraph-image"><div role="button" tabindex="0" class="ls lt di lu bf lv"><div class="fe ff lr"><img src="../Images/68d81529b21c5f0ac495c5dc73f89e13.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eoCFIuqiIGVc0W82oYTLsQ.png"/></div></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Screenshot of a video generated by Cypress.io e2e tests</figcaption></figure><p id="a37c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于最终用户文档，我们需要的是web应用程序本身，即标有绿色矩形的部分。作为视频，左侧描述的步骤按顺序执行，在右侧显示web应用程序。<br/>捕获绿色部分的解决方案是在Cypress.io中设置一个标志，或者找到一种以编程方式裁剪视频的方法。</p><p id="a26d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">将视频显示为内嵌帮助<br/> </strong>这部分可以通过添加一个内嵌帮助指示器来实现(通常是一个简单的？)在用户没有与之互动的产品功能旁边。一点击那个？，生成的视频就如何使用该功能播放。</p><h2 id="6998" class="jq jr hu bd js jt ju jv jw jx jy jz ka jc kb kc kd jg ke kf kg jk kh ki kj kk dt translated">结论</h2><p id="e005" class="pw-post-body-paragraph ir is hu it b iu kl iw ix iy km ja jb jc kn je jf jg ko ji jj jk kp jm jn jo hn dt translated">凭借Cypress.io的视频录制功能、一个web应用内联帮助系统和一点胶水代码，我看到了一个未来，web开发人员将专注于编写健壮、经过良好测试的代码，并或多或少地免费获得一口大小的最终用户视频文档。</p><p id="6a61" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">几个星期以来，我一直在考虑这个想法。如果任何人有一些想法，请不要犹豫，伸出手来。</p></div></div>    
</body>
</html>