<html>
<head>
<title>Gulp tasks for CSS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">吞咽CSS的任务</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/starter-project-9961ecf28a41?source=collection_archive---------29-----------------------#2018-04-24">https://medium.com/hackernoon/starter-project-9961ecf28a41?source=collection_archive---------29-----------------------#2018-04-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/7ce93b2d8f78d0f9000c3e2c37203dc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j_9iPQ7KcpU_fr43q1qLIQ.png"/></div></div></figure><p id="b53d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这篇文章是关于<a class="ae ka" href="https://starter.silvestarbistrovic.from.hr/" rel="noopener ugc nofollow" target="_blank"> Starter项目</a>的系列文章的一部分，这次我将解释所有关于CSS的Gulp任务。</p><h1 id="b6cd" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">设置</h1><p id="c968" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Starter Project的想法是为所有Gulp任务创建一个单独的配置文件。如果你打开<code class="eh le lf lg lh b"><a class="ae ka" href="https://github.com/maliMirkec/starter-project/blob/master/config.json" rel="noopener ugc nofollow" target="_blank">config.json</a></code>文件，你可以看到一个CSS部分。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div class="fe ff li"><img src="../Images/d190c29464b1cd416050d4c4d376cb0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*tPq9EWepnNg_8lNa.png"/></div></figure><p id="3f65" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第一个选项是<code class="eh le lf lg lh b">run</code>。如果设置为true，将执行CSS吞咽任务。CSS还有另外三个强制选项:</p><ul class=""><li id="e3f9" class="ln lo hu je b jf jg jj jk jn lp jr lq jv lr jz ls lt lu lv dt translated"><code class="eh le lf lg lh b">src</code> -一个带有Sass文件的文件夹路径，</li><li id="e2c5" class="ln lo hu je b jf lw jj lx jn ly jr lz jv ma jz ls lt lu lv dt translated"><code class="eh le lf lg lh b">dest</code> -保存编译后的CSS文件的文件夹路径，以及</li><li id="8dd9" class="ln lo hu je b jf lw jj lx jn ly jr lz jv ma jz ls lt lu lv dt translated"><code class="eh le lf lg lh b">clean</code> -执行吞咽之前将被清理的文件夹的路径(几乎总是与<code class="eh le lf lg lh b">dest</code>选项相同)。</li></ul><p id="c9e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mb">所有路径前都有全局</em> <code class="eh le lf lg lh b"><em class="mb">root</em></code> <em class="mb">路径。</em></p><p id="1ea7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">其他选项有<a class="ae ka" href="https://www.npmjs.com/package/gulp-cssimport" rel="noopener ugc nofollow" target="_blank">吞咽-cssimport </a>、<a class="ae ka" href="https://www.npmjs.com/package/gulp-autoprefixer" rel="noopener ugc nofollow" target="_blank">吞咽-自动修复</a>、<a class="ae ka" href="https://www.npmjs.com/package/gulp-rename" rel="noopener ugc nofollow" target="_blank">吞咽-重命名</a>和<a class="ae ka" href="https://www.npmjs.com/package/gulp-sourcemaps" rel="noopener ugc nofollow" target="_blank">吞咽-源映射</a>。</p><h1 id="271c" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">厚颜无耻</h1><p id="5d4d" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Starter项目使用<a class="ae ka" href="https://sass-lang.com/" rel="noopener ugc nofollow" target="_blank"> Sass </a>作为CSS的预处理器。正如其官网所说，萨斯是“拥有超能力的CSS。”相当多的开发人员是这个健壮程序的支持者和用户。它有一些有用的特性，比如变量、函数和混合。</p><blockquote class="mc md me"><p id="6679" class="jc jd mb je b jf jg jh ji jj jk jl jm mf jo jp jq mg js jt ju mh jw jx jy jz hn dt translated"><em class="hu">拥有超能力的CSS。</em></p></blockquote><p id="0f5c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Starter项目使用<a class="ae ka" href="https://www.npmjs.com/package/gulp-sass" rel="noopener ugc nofollow" target="_blank"> gulp-sass </a>插件将sass编译成CSS。</p><h1 id="c883" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">进口</h1><p id="68dc" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://www.npmjs.com/package/gulp-cssimport" rel="noopener ugc nofollow" target="_blank"> gulp-cssimport </a>是一个插件，允许通过将内容包含到CSS文件中来导入链接文件。这意味着你不能使用原生CSS <code class="eh le lf lg lh b">@import</code>实现，但是在大多数情况下这被认为是一个不好的实践。</p><p id="7f6e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要使用这个插件，在Sass文件中添加<code class="eh le lf lg lh b">@import</code>语句。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="a64c" class="mm kc hu lh b fv mn mo l mp mq">// Plugins<br/>@import ‘normalize’;<br/>@import ‘modularscale’;<br/>@import ‘mq’;</span><span id="b416" class="mm kc hu lh b fv mr mo l mp mq">// Configuration<br/>@import ‘variables’;<br/>@import ‘fonts’;<br/>@import ‘locks’;<br/>@import ‘helpers’;<br/>@import ‘typography’;<br/>@import ‘theme’;</span></pre><p id="bc5a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以将<code class="eh le lf lg lh b">includePaths</code>选项添加到<code class="eh le lf lg lh b">sassConfig</code>设置中，以避免写入包含的库的完整路径。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="d1d6" class="mm kc hu lh b fv mn mo l mp mq">“sassConfig”: {<br/>    “includePaths”: [<br/>    “./node_modules/modularscale-sass/stylesheets/”,<br/>    “./node_modules/sass-mq/”,<br/>    “./node_modules/normalize.css/”,<br/>    “./src/scss/”,<br/>    “./src/scss/components”<br/>  ]<br/>},</span></pre><h1 id="364e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">Sass库</h1><p id="7bc6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Starter项目导入了三个库:</p><ul class=""><li id="3a06" class="ln lo hu je b jf jg jj jk jn lp jr lq jv lr jz ls lt lu lv dt translated">Normalize.css，</li><li id="8af7" class="ln lo hu je b jf lw jj lx jn ly jr lz jv ma jz ls lt lu lv dt translated">模块化秤，以及</li><li id="e7b6" class="ln lo hu je b jf lw jj lx jn ly jr lz jv ma jz ls lt lu lv dt translated">媒体询问。</li></ul><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="21d1" class="mm kc hu lh b fv mn mo l mp mq">@import ‘normalize’;<br/>@import ‘modularscale’;<br/>@import ‘mq’;</span></pre><p id="7a11" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你的网站在不同的浏览器上看起来不一致，你可能需要使用CSS技术来重置浏览器的行为。在Starter项目中，<a class="ae ka" href="https://necolas.github.io/normalize.css/" rel="noopener ugc nofollow" target="_blank"> Normalize.css </a>用于此任务。</p><blockquote class="mc md me"><p id="e63b" class="jc jd mb je b jf jg jh ji jj jk jl jm mf jo jp jq mg js jt ju mh jw jx jy jz hn dt translated"><em class="hu"> Normalize.css让浏览器渲染所有元素更加一致，符合现代标准。它只针对需要规范化的样式。</em></p><p id="9dc5" class="jc jd mb je b jf jg jh ji jj jk jl jm mf jo jp jq mg js jt ju mh jw jx jy jz hn dt translated">尼古拉斯·加拉格尔</p></blockquote><p id="42b8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="http://www.modularscale.com/" rel="noopener ugc nofollow" target="_blank">模块化比例</a>有助于字体大小的一致性。<a class="ae ka" href="https://www.npmjs.com/package/modularscale-sass" rel="noopener ugc nofollow" target="_blank"> modularscale-sass </a>是一个数值列表，用于确定字体大小并在设计中营造和谐感。</p><p id="0d8e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://www.npmjs.com/package/sass-mq" rel="noopener ugc nofollow" target="_blank"> sass-mq </a>是一个Sass mixin，它帮助开发人员以优雅的方式编写媒体查询。</p><h1 id="bbec" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">自动修复</h1><p id="1563" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Starter Project使用<a class="ae ka" href="https://www.npmjs.com/package/gulp-autoprefixer" rel="noopener ugc nofollow" target="_blank"> gulp-autoprefixer </a>插件为CSS文件添加供应商前缀。这个插件很方便，因为开发者不必手动添加这些前缀。在<code class="eh le lf lg lh b">config.json</code>中，您可以将<a class="ae ka" href="https://www.silvestarbistrovic.from.hr/articles/starter-project-gulp-tasks-for-css/(https://github.com/postcss/autoprefixer#options)" rel="noopener ugc nofollow" target="_blank">自动修复选项</a>添加到<code class="eh le lf lg lh b">autoprefixedConfig</code>设置中。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="bd10" class="mm kc hu lh b fv mn mo l mp mq">“autoprefixedConfig”: {<br/>  “browsers”: [“last 5 versions”],<br/>  “cascade”: false<br/>},</span></pre><h1 id="78ba" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">源地图</h1><p id="6fbf" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">源代码映射允许开发人员查看压缩资产的源代码。在Starter项目中，<a class="ae ka" href="https://www.npmjs.com/package/gulp-sourcemaps" rel="noopener ugc nofollow" target="_blank"> gulp-sourcemaps </a>插件用于为CSS和JavaScript文件创建源地图。如果您的环境不需要源地图，您可以通过将<code class="eh le lf lg lh b">sourcemapsConfig</code>中的<code class="eh le lf lg lh b">run</code>选项设置为<code class="eh le lf lg lh b">false</code>来禁用它。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="b356" class="mm kc hu lh b fv mn mo l mp mq">“sourcemapsConfig”: {<br/>  “run”: true<br/>}</span></pre><h1 id="ef77" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使变小</h1><p id="023e" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://www.npmjs.com/package/gulp-clean-css" rel="noopener ugc nofollow" target="_blank"> gulp-clean-css </a>是一个gulp插件，充当<a class="ae ka" href="https://github.com/jakubpawlowicz/clean-css" rel="noopener ugc nofollow" target="_blank"> clean-css </a>的包装器。在Starter项目中，这个插件用于CSS缩小。为了减少与文件名的混淆，<code class="eh le lf lg lh b">gulp-rename</code>插件用于通过给文件名添加前缀或后缀来重命名缩小的资产。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="0ebd" class="mm kc hu lh b fv mn mo l mp mq">“renameConfig”: {<br/>  “suffix”: “.min”<br/>}</span></pre><h1 id="d790" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">林挺</h1><blockquote class="mc md me"><p id="bce6" class="jc jd mb je b jf jg jh ji jj jk jl jm mf jo jp jq mg js jt ju mh jw jx jy jz hn dt translated">林挺是运行一个程序的过程，该程序将分析代码中潜在的错误。</p><p id="1596" class="jc jd mb je b jf jg jh ji jj jk jl jm mf jo jp jq mg js jt ju mh jw jx jy jz hn dt translated"><em class="hu">来源:</em> <a class="ae ka" href="https://stackoverflow.com/a/8503586" rel="noopener ugc nofollow" target="_blank"> <em class="hu">堆栈溢出</em> </a></p></blockquote><p id="0bff" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Starter项目中，<a class="ae ka" href="https://www.npmjs.com/package/gulp-stylelint" rel="noopener ugc nofollow" target="_blank"> gulp-stylelint </a>插件用于lint CSS文件。您可以在<code class="eh le lf lg lh b">config.json</code>文件中配置插件。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="92b4" class="mm kc hu lh b fv mn mo l mp mq">“styleLintConfig”: {<br/>  “reporters”: [{<br/>    “formatter”: “string”,<br/>  “console”: true<br/>  }]<br/>},</span></pre><p id="c97b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">默认设置将控制台中的错误输出为字符串。在此查看所有可用设置<a class="ae ka" href="https://www.npmjs.com/package/gulp-stylelint#options" rel="noopener ugc nofollow" target="_blank">。</a></p><p id="7061" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Stylelint选项存储在<code class="eh le lf lg lh b">.stylelintrc</code>文件中。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="63d0" class="mm kc hu lh b fv mn mo l mp mq">{<br/>  “plugins”: [<br/>    “stylelint-scss”,<br/>    “stylelint-order”<br/>  ],<br/>  “extends”: “stylelint-config-sass-guidelines”<br/>}</span></pre><p id="7026" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Stylelint也有它的插件。在Starter项目中，使用了<a class="ae ka" href="https://www.npmjs.com/package/stylelint-scss" rel="noopener ugc nofollow" target="_blank"> stylelint-scss </a>和<a class="ae ka" href="https://www.npmjs.com/package/stylelint-order" rel="noopener ugc nofollow" target="_blank"> stylelint-order </a>插件。此外，还有用于扩展默认Stylelint设置的<a class="ae ka" href="https://github.com/bjankord/stylelint-config-sass-guidelines" rel="noopener ugc nofollow" target="_blank"> Stylelint Sass指南</a>。在官网了解更多关于Stylelint <a class="ae ka" href="https://stylelint.io/" rel="noopener ugc nofollow" target="_blank">的信息。</a></p><h1 id="9525" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">奖金</h1><p id="5ab0" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">对于所有VS代码用户，这里是如何在编辑器中使用Stylelint的技巧。首先，为VS代码安装<a class="ae ka" href="https://marketplace.visualstudio.com/items?itemName=mrmlnc.vscode-stylefmt" rel="noopener ugc nofollow" target="_blank"> stylefmt </a>和<a class="ae ka" href="https://marketplace.visualstudio.com/items?itemName=emeraldwalk.RunOnSave" rel="noopener ugc nofollow" target="_blank"> Run On Save </a>扩展。然后按<code class="eh le lf lg lh b">cmd + shift + p</code>调用命令面板，输入<code class="eh le lf lg lh b">open workspace settings</code>。</p><figure class="lj lk ll lm fq iv fe ff paragraph-image"><div class="fe ff li"><img src="../Images/6016e59c3ee41fb41f4b33325aab21d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*G-g2fPAoF4UaNbrl.png"/></div></figure><p id="4a9e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">打开工作空间设置时，添加这些设置。</p><pre class="lj lk ll lm fq mi lh mj mk aw ml dt"><span id="f3a1" class="mm kc hu lh b fv mn mo l mp mq">{<br/>  “emeraldwalk.runonsave”: {<br/>    “commands”: [{<br/>      “match”: “\\.scss?$”,<br/>      “cmd”: “cd ${workspaceRoot} &amp;&amp; stylefmt -c .stylelintrc ${file}”<br/>    }]<br/>  }<br/>}</span></pre><p id="3b00" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当您保存<code class="eh le lf lg lh b">.scss</code>文件时，这应该会运行stylelint。如果不起作用，<a class="ae ka" href="mailto:%20admin@silvestarbistrovic.from.hr?Subject=VSCode" rel="noopener ugc nofollow" target="_blank">联系我</a>寻求帮助。</p><h1 id="c5b0" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论</h1><p id="6aa6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">在之前的文章中，我试图解释这个项目的想法。这篇文章将帮助你理解如何使用Gulp来优化、lint和交付最好的CSS输出。</p><p id="6c56" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">启动项目被认为是一个样板文件，包含产生最佳结果的最新最佳实践。如果你对这个项目如何变得更好更有趣有任何想法或建议，请<a class="ae ka" href="mailto:%20admin@silvestarbistrovic.from.hr?Subject=Starter" rel="noopener ugc nofollow" target="_blank">联系我</a>，打开<a class="ae ka" href="https://github.com/maliMirkec/starter-project/issues/new" rel="noopener ugc nofollow" target="_blank">一个问题</a>，或者在<a class="ae ka" href="https://github.com/maliMirkec/starter-project" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上创建<a class="ae ka" href="https://github.com/maliMirkec/starter-project/compare" rel="noopener ugc nofollow" target="_blank">一个拉取请求</a>。</p><p id="a8c0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请分享！🙏</p></div><div class="ab cl ms mt hc mu" role="separator"><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx my"/><span class="mv bw bk mw mx"/></div><div class="hn ho hp hq hr"><p id="ed52" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mb">最初发布于</em><a class="ae ka" href="https://www.silvestarbistrovic.from.hr/articles/starter-project-gulp-tasks-for-css/" rel="noopener ugc nofollow" target="_blank"><em class="mb">www . silvestarbitrovic . from . HR</em></a><em class="mb">。</em></p></div></div>    
</body>
</html>