<html>
<head>
<title>Docker Data Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker数据容器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/docker-data-containers-cb250048d162?source=collection_archive---------2-----------------------#2018-04-28">https://medium.com/hackernoon/docker-data-containers-cb250048d162?source=collection_archive---------2-----------------------#2018-04-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/0b1cfe79bed1c68befa59d471cfc225c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AUiK5PwnsPG_xaT9jcVoSA.jpeg"/></div></div></figure><p id="8f36" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Docker容器中管理数据的方法不止一种。向数据容器问好。</p><p id="78d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">简单地说，数据容器的工作就是存储/管理数据。</p><p id="7fde" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">与其他容器类似，它们由主机系统管理。然而，当您执行<code class="eh ka kb kc kd b">docker ps</code>命令时，它们不会出现。</p><p id="c792" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了创建数据容器，我们首先创建一个具有众所周知的名称的容器，以供将来参考。我们使用<em class="ke"> busybox </em>作为基础，因为它体积小，重量轻，以防我们想要探索和移动容器到另一个主机。</p><p id="c7be" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在创建容器时，我们还提供了一个volume <code class="eh ka kb kc kd b">-v</code> <em class="ke"> </em>选项来定义其他容器将在哪里读/写数据。</p><pre class="kf kg kh ki fq kj kd kk kl aw km dt"><span id="26c9" class="kn ko hu kd b fv kp kq l kr ks">$ docker create -v /config --name dataContainer busybox</span></pre><p id="2a35" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">容器就位后，我们现在可以将文件从本地客户机目录复制到容器中。</p><p id="e011" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用命令<code class="eh ka kb kc kd b">docker cp</code>将文件复制到一个容器中。以下命令将把<em class="ke"> config.conf </em>文件复制到<em class="ke"> dataContainer </em>的<em class="ke"> config </em>目录中。</p><pre class="kf kg kh ki fq kj kd kk kl aw km dt"><span id="9edf" class="kn ko hu kd b fv kp kq l kr ks">$ docker cp config.conf dataContainer:/config/</span></pre><p id="2783" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们的数据容器有了我们的配置，我们可以在启动需要配置文件的依赖容器时引用容器。</p><p id="40b0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用神奇的<code class="eh ka kb kc kd b">--volumes-from &lt;container&gt;</code>选项，我们可以使用正在启动的容器中其他容器的挂载卷。在这种情况下，我们将启动一个引用我们的数据容器的Ubuntu容器。当我们列出配置目录时，它将显示附加容器中的文件。</p><pre class="kf kg kh ki fq kj kd kk kl aw km dt"><span id="6027" class="kn ko hu kd b fv kp kq l kr ks">$ docker run --volumes-from dataContainer ubuntu ls/config</span></pre><p id="9f05" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果一个<em class="ke"> /config </em>目录已经存在，那么volumes-from将覆盖并成为所使用的目录。您可以将多个卷映射到一个容器。</p></div><div class="ab cl kt ku hc kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hn ho hp hq hr"><h1 id="3ba6" class="la ko hu bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw dt translated"><strong class="ak">进出口集装箱数据</strong></h1><p id="7f96" class="pw-post-body-paragraph jc jd hu je b jf lx jh ji jj ly jl jm jn lz jp jq jr ma jt ju jv mb jx jy jz hn dt translated">可以从容器中导入和导出数据，使用<code class="eh ka kb kc kd b">docker export</code> <strong class="je hv"> <em class="ke"> </em> </strong>命令。</p><p id="35ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们可以简单地通过将数据容器导出到一个. tar文件来将它移动到另一台机器上。</p><pre class="kf kg kh ki fq kj kd kk kl aw km dt"><span id="8524" class="kn ko hu kd b fv kp kq l kr ks">$ docker export dataContainer &gt; dataContainer.tar</span></pre><p id="0301" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">同样，我们可以将数据容器重新导入Docker。</p><pre class="kf kg kh ki fq kj kd kk kl aw km dt"><span id="a7a4" class="kn ko hu kd b fv kp kq l kr ks">$ docker import dataContainer.tar</span></pre></div></div>    
</body>
</html>