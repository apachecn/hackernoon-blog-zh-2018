<html>
<head>
<title>Tutorial for Artists on how to use a Neural Network — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">艺术家如何使用神经网络教程-第二部分</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/tutorial-for-artists-on-how-to-use-a-neural-network-part-2-4e94e1d2cbe9?source=collection_archive---------34-----------------------#2018-04-30">https://medium.com/hackernoon/tutorial-for-artists-on-how-to-use-a-neural-network-part-2-4e94e1d2cbe9?source=collection_archive---------34-----------------------#2018-04-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/124482210f72d773aba3c927ecfdfd6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HJnGDnhdgDOf9RWfMNhVAA.jpeg"/></div></div></figure><p id="a348" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ka">原载于2018年4月30日</em><a class="ae kb" href="https://www.jackalope.tech/how-artists-can-set-up-their-own-neural-network-part-2-neural-network-install/" rel="noopener ugc nofollow" target="_blank"><em class="ka">www . jackalope . tech</em></a><em class="ka">。</em></p><p id="d8a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">好了，我们已经在上周<a class="ae kb" href="https://www.jackalope.tech/how-artists-can-set-up-their-own-neural-network-part-1-installation/" rel="noopener ugc nofollow" target="_blank">安装了Ubuntu分区</a>，现在我们要安装神经网络深度风格。这可能是最困难的地方。我将为你提供解决这些问题的工具。</p><h1 id="d87e" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">什么是CLI？</h1><p id="f4bd" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">当你使用互联网浏览器或Photoshop等程序时，你使用的是图形用户界面。<strong class="je hv"> GUI </strong>。在GUI之前有CLI。命令行界面。GUI允许你使用按钮来控制程序。命令行界面允许您使用书面命令来控制它。当你让Siri带你去朋友家时，你就在使用现代版的CLI。不过Siri要复杂得多。它可以听你的声音并把它翻译成文字。它可以要求澄清，或者智能地对你实际想要的做出假设。CLI要简单得多。在你如何给它下命令时，它是非常字面上的和严格的。在某种程度上，使用CLI很像使用编程语言。不要害怕！这也很像让Siri为你做一些事情。其实也没那么难。</p><p id="a66a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">CLI的一大优势是您可以创建“批处理脚本”。批处理脚本是使用编程模式自动完成一系列乏味工作的地方。我将在第3部分中更多地讨论批处理脚本，但是现在您需要知道的是，您在Linux中编写脚本的语言的名称叫做Bash。</p><p id="32a5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有些人花了一生的时间来掌握Bash。不过，使用神经网络deepstyle并不需要了解太多。您需要做的是使用Bash来安装神经网络。我会为你解释这个过程中的每一步。</p><p id="0055" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你觉得可以，我强烈推荐Codecademy上的这个互动教程。其实挺好玩的！您可以使用Bash来编辑或写诗。但是这不是必须的。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/b12bfa15ec6111395a4ecdcb5055ae32.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*g9MMtPKvDWhlFtKQ.png"/></div></div></figure><p id="5e57" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要访问CLI程序，您需要打开终端。你可以通过点击开始/程序按钮，然后输入“终端”来完成。它将搜索默认的终端应用程序。然后只需按回车键就可以了！</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/e74c585bd58e238acafce665840bc79b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*dnLGT7zyNo7g9EWJ.png"/></div></div></figure><p id="82ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有时在这些教程中，你会看到我使用一个奇怪的终端，看起来像一个旧的电脑屏幕。它被称为CRT: <a class="ae kb" href="https://github.com/Swordfish90/cool-retro-term" rel="noopener ugc nofollow" target="_blank">酷复古终端</a>我决定使用它，因为我想在教程中寻找一些酷的东西，但如上图所示的默认终端是你真正需要的，它们的功能基本相同。</p><h1 id="0ca2" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">大局</h1><p id="953f" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">这是我们将要做的事情的大概情况。</p><ol class=""><li id="ad57" class="lj lk hu je b jf jg jj jk jn ll jr lm jv ln jz lo lp lq lr dt translated">安装深层神经网络的依赖项。</li><li id="dc04" class="lj lk hu je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">安装深度型神经网络</li><li id="26ea" class="lj lk hu je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">安装CUDA启用GPU处理。</li></ol><h1 id="e2c3" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">这意味着什么:</h1><p id="be5d" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">依赖项是程序员用来帮助构建他们自己的代码的代码片段。好的代码就像乐高积木。你可以把它们扣进扣出。<br/>你可以把依赖想象成标准化的汽车零件。如果我想制造一辆汽车，我不会自己制造轮胎或螺栓，甚至从零开始制造发动机。编程就是站在巨人的背上。</p><p id="6ac1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们将下载的主要依赖项是Torch7和loadcaffe。他们也有自己的依赖。火炬7需要LuaJIT和LuaRocks。Loadcaffe将需要Google协议缓冲区。你真的不需要知道这些东西是什么，就像你不需要知道火花塞如何安装它一样。从广义上讲，Torch7是一个框架，人们可以在这个框架上建立自己的神经网络。Loadcaffe是Torch7中caffe框架的实现。Caffe是UC Berkley做的一个神经网络框架，用来做图像分类和分割。</p><p id="49e4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，CUDA是Nvidia的一个框架，允许程序员使用GPU来做CPU类型的工作。当GPU必须同时处理大量数据时，它们非常适合进行计算。没有CUDA，你的计算机将只能使用CPU来处理神经网络。这将限制你所能制作的图像的大小，并且需要更长的时间来处理。</p><p id="6fc5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这里重要的一点是，有很多人在一起工作，使这一切成为可能！</p><h1 id="de5a" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">如何获得帮助</h1><p id="fd31" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">没有人能单独做这件事。编程中最重要的技能之一是能够寻求帮助。事情正在变得越来越技术性，所以你需要工具来解决问题。</p><h1 id="b4f9" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">您可以获得帮助的方式:</h1><ol class=""><li id="7bac" class="lj lk hu je b jf la jj lb jn lx jr ly jv lz jz lo lp lq lr dt translated">你可以在我的facebook页面上给我发信息或者给我发电子邮件。</li><li id="03c8" class="lj lk hu je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">你可以<a class="ae kb" href="https://github.com/jcjohnson/neural-style/issues/new" rel="noopener ugc nofollow" target="_blank">发布一个问题到深度风格的Github页面</a>。Github是一个人们分享和协作代码的网站。<a class="ae kb" href="https://cs.stanford.edu/people/jcjohns/" rel="noopener ugc nofollow" target="_blank">贾斯廷·约翰逊</a>构建了我们将使用的深度风格的实现。</li><li id="a600" class="lj lk hu je b jf ls jj lt jn lu jr lv jv lw jz lo lp lq lr dt translated">最后，如果你需要帮助，你可以检查堆栈交换。Stack Exchange是一个供人们提问的网站。有两个栈交换你会特别想检查一下:<a class="ae kb" href="https://askubuntu.com/" rel="noopener ugc nofollow" target="_blank"> AskUbuntu </a>如果问题与Ubuntu有关，或者<a class="ae kb" href="https://stackoverflow.com/" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>是针对一般编程问题的。</li></ol><p id="5858" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">重要信息:</strong> <br/>我不想只告诉你在哪里可以得到帮助。我想帮助你知道如何最好地要求它。编程是一种技术，但也是一种文化建构。这些不是你在互联网上向其发送问题的机器人。他们是一群人，这意味着你要尊重他们。编程社区有他们自己的文化规范和期望。如果你做好准备，你会得到更多的帮助。</p><p id="9110" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你不必太担心给我发信息，我会让人们这样做，这样我就可以看看我可以用什么方法来改进这些教程。我要说的是，我仍处于开发之旅的早期，我当然不是机器学习开发人员，但我会尽我所能提供帮助。🙂</p><p id="cbab" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当你在StackExchange上发布问题时，重要的是你的问题要简明扼要。需要是一个具体的问题。一个好问题是“我需要多大的六角扳手来更换我的自行车轮子？”。一个糟糕的问题应该是“救命！？？？我该怎么办？这是不是坏了？”<a class="ae kb" href="https://stackoverflow.com/help/how-to-ask" rel="noopener ugc nofollow" target="_blank">这里有一个很好的指南</a>，它会更详细。</p><p id="1b5b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以在Github页面上发布更多自由形式的问题，但是您也想尝试提供尽可能多的信息。准备好提供一个详细的对话，关于你已经尝试了什么，你是如何尝试的等等。发布你的终端结果截图真的很有帮助。</p><p id="e3a4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我还认为，一般来说，在你请求帮助的一开始就让人们知道你的背景是一个好主意，比如你是一名艺术家等等。这很重要，因为这会让人们知道你对他们可能需要用到的术语的熟悉程度，但这也意味着你是一个想要学习的人。程序员热爱编程。这让他们兴奋！他们想与他人分享这份爱。然而编程并不容易。程序员知道这一点，所以他们喜欢有人愿意尝试和学习新事物。不要羞愧！我们都是从同一个地方开始的，我们之所以能有今天，都是因为那些走在我们前面的人。</p><h1 id="c0fb" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">安装时间</h1><h1 id="b031" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">安装火炬7</h1><p id="1fe9" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">打开终端，准确键入以下内容:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="a7fd" class="mf kd hu mb b fv mg mh l mi mj">cd ~/</span></pre><p id="25b3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">CD代表“更改目录”。~/代表“根文件夹”。那是你的计算机的记忆系统的最高等级的文件夹。</p><p id="c549" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下一种类型:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="e921" class="mf kd hu mb b fv mg mh l mi mj">curl -s https://raw.githubusercontent.com/torch/ezinstall/master/install-deps | bash</span></pre><p id="6c40" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，CLI将尝试使用“curl”命令来获取安装文件。Curl是一个从url获取文件的程序。是“查看网址”的简称。卷曲。:/你的电脑可能默认不会有curl。CLI将提示您是否要安装它。说是，然后让它做它的事情。</p><p id="4a3c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您必须安装curl，请尝试再次运行该命令，然后实际运行curl进程等。</p><p id="24ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">完成后，键入以下内容:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="0c10" class="mf kd hu mb b fv mg mh l mi mj">git clone https://github.com/torch/distro.git ~/torch --recursive</span></pre><p id="f6c0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可能还需要安装git。就像之前的curl一样，安装git，然后当它完成后，从上面重新运行命令。Git是程序员在项目上合作的一个好方法。使用这种深度风格的神经网络，你并不需要真正了解它，但如果你很好奇，我强烈推荐Codecademy上的这个简短的互动课程。类似于前面提到的<a class="ae kb" href="https://www.codecademy.com/learn/learn-the-command-line" rel="noopener ugc nofollow" target="_blank"> CLI教程</a>，它真的很酷，实际上是教你git的概念，使用自然语言的东西，比如诗歌和散文编辑，而不是代码。</p><p id="f4e0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将从互联网上下载最新的火炬发行版。完成后，键入以下内容:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="3ff5" class="mf kd hu mb b fv mg mh l mi mj">cd ~/torch; ./install.sh</span></pre><p id="d6d4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这会将您的目录更改为torch目录，然后打开一个有人制作的Bash脚本文件来帮助安装这些文件，现在它们已经在您的计算机上了。</p><p id="1851" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">希望目前没有问题。</p><h1 id="fc4e" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">安装loadcaffe</h1><p id="dff6" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">好的，首先是安装loadcaffe依赖项</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="8074" class="mf kd hu mb b fv mg mh l mi mj">sudo apt-get install libprotobuf-dev protobuf-compiler</span></pre><p id="0ebb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在你只需要安装loadcaffe</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="3994" class="mf kd hu mb b fv mg mh l mi mj">luarocks install loadcaffe</span></pre><p id="9386" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">转眼间。现在是DeepStyle的时间了。</p><h1 id="986e" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">安装DeepStyle</h1><p id="5643" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">好了，现在是时候做真正的交易了！</p><p id="54cb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="c3ca" class="mf kd hu mb b fv mg mh l mi mj">cd ~/</span></pre><p id="5a7a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第二:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="21df" class="mf kd hu mb b fv mg mh l mi mj">git clone <a class="ae kb" href="https://github.com/jcjohnson/neural-style.git" rel="noopener ugc nofollow" target="_blank">https://github.com/jcjohnson/neural-style.git</a></span></pre><p id="67cf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第三:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="77c0" class="mf kd hu mb b fv mg mh l mi mj">cd neural-style</span></pre><p id="e5cf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第四:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="ae1f" class="mf kd hu mb b fv mg mh l mi mj">sh models/download_models.sh</span></pre><p id="092a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将下载学习模型。它使用Bash脚本来完成这项工作。</p><p id="8274" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在测试！</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="9763" class="mf kd hu mb b fv mg mh l mi mj">th neural_style.lua -gpu -1 -print_iter 1</span></pre><p id="1839" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果它工作正常，您将会看到如下输出:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="a72c" class="mf kd hu mb b fv mg mh l mi mj">[libprotobuf WARNING google/protobuf/io/coded_stream.cc:505] Reading dangerously large protocol message.  If the message turns out to be larger than 1073741824 bytes, parsing will be halted for security reasons.  To increase the limit (or to disable these warnings), see CodedInputStream::SetTotalBytesLimit() in google/protobuf/io/coded_stream.h.<br/>[libprotobuf WARNING google/protobuf/io/coded_stream.cc:78] The total number of bytes read was 574671192<br/>Successfully loaded models/VGG_ILSVRC_19_layers.caffemodel<br/>conv1_1: 64 3 3 3<br/>conv1_2: 64 64 3 3<br/>conv2_1: 128 64 3 3<br/>conv2_2: 128 128 3 3<br/>conv3_1: 256 128 3 3<br/>conv3_2: 256 256 3 3<br/>conv3_3: 256 256 3 3<br/>conv3_4: 256 256 3 3<br/>conv4_1: 512 256 3 3<br/>conv4_2: 512 512 3 3<br/>conv4_3: 512 512 3 3<br/>conv4_4: 512 512 3 3<br/>conv5_1: 512 512 3 3<br/>conv5_2: 512 512 3 3<br/>conv5_3: 512 512 3 3<br/>conv5_4: 512 512 3 3<br/>fc6: 1 1 25088 4096<br/>fc7: 1 1 4096 4096<br/>fc8: 1 1 4096 1000<br/>WARNING: Skipping content loss	<br/>Iteration 1 / 1000	<br/>  Content 1 loss: 2091178.593750	<br/>  Style 1 loss: 30021.292114	<br/>  Style 2 loss: 700349.560547	<br/>  Style 3 loss: 153033.203125	<br/>  Style 4 loss: 12404635.156250	<br/>  Style 5 loss: 656.860304	<br/>  Total loss: 15379874.666090	<br/>Iteration 2 / 1000	<br/>  Content 1 loss: 2091177.343750	<br/>  Style 1 loss: 30021.292114	<br/>  Style 2 loss: 700349.560547	<br/>  Style 3 loss: 153033.203125	<br/>  Style 4 loss: 12404633.593750	<br/>  Style 5 loss: 656.860304	<br/>  Total loss: 15379871.853590</span></pre><p id="17a7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">呜！</p><p id="da38" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是你还没有完成！现在你必须安装CUDA。就像我之前说的，如果你不安装CUDA，那么你只能使用你的CPU，这将需要很长时间。</p><h1 id="c1a0" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">安装CUDA</h1><p id="c5c1" class="pw-post-body-paragraph jc jd hu je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">要安装CUDA，你需要下载正确的安装程序。如果你遵循了第一个教程，那么你可能安装了Ubuntu 16。这意味着你需要CUDA 8。你可以在这里找到<a class="ae kb" href="https://developer.nvidia.com/cuda-80-ga2-download-archive" rel="noopener ugc nofollow" target="_blank"/>。</p><p id="0fe2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在选择安装程序时，您会希望使用这些选项:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/6df7ae22f646bb69cea180706cc166af.png" data-original-src="https://miro.medium.com/v2/resize:fit:970/format:webp/0*vz4h9V-ha-9GX2Tz.png"/></div></figure><p id="eb0b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下载并运行这两个安装程序。重启机器。打开CLI终端并运行</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="2485" class="mf kd hu mb b fv mg mh l mi mj">nvidia-smi;</span></pre><p id="043a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那就是检查以确保所有的东西都安装正确。它应该是这样的:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="e76a" class="mf kd hu mb b fv mg mh l mi mj">Sun Sep  6 14:02:59 2015       <br/>+------------------------------------------------------+                       <br/>| NVIDIA-SMI 346.96     Driver Version: 346.96         |                       <br/>|-------------------------------+----------------------+----------------------+<br/>| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |<br/>| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |<br/>|===============================+======================+======================|<br/>|   0  GeForce GTX TIT...  Off  | 0000:01:00.0      On |                  N/A |<br/>| 22%   49C    P8    18W / 250W |   1091MiB / 12287MiB |      3%      Default |<br/>+-------------------------------+----------------------+----------------------+<br/>|   1  GeForce GTX TIT...  Off  | 0000:04:00.0     Off |                  N/A |<br/>| 29%   44C    P8    27W / 189W |     15MiB /  6143MiB |      0%      Default |<br/>+-------------------------------+----------------------+----------------------+<br/>|   2  GeForce GTX TIT...  Off  | 0000:05:00.0     Off |                  N/A |<br/>| 30%   45C    P8    33W / 189W |     15MiB /  6143MiB |      0%      Default |<br/>+-------------------------------+----------------------+----------------------+<br/>                                                                               <br/>+-----------------------------------------------------------------------------+<br/>| Processes:                                                       GPU Memory |<br/>|  GPU       PID  Type  Process name                               Usage      |<br/>|=============================================================================|<br/>|    0      1277    G   /usr/bin/X                                     631MiB |<br/>|    0      2290    G   compiz                                         256MiB |<br/>|    0      2489    G   ...s-passed-by-fd --v8-snapshot-passed-by-fd   174MiB |<br/>+-----------------------------------------------------------------------------+</span></pre><p id="245a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在您将为torch安装CUDA后端。</p><p id="8bb6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行以下命令:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="88d9" class="mf kd hu mb b fv mg mh l mi mj">luarocks install cutorch</span></pre><p id="1804" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后是这个:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="b208" class="mf kd hu mb b fv mg mh l mi mj">luarocks install cunn</span></pre><p id="a4bd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行以下命令来检查安装是否有效:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="81d9" class="mf kd hu mb b fv mg mh l mi mj">th -e "require 'cutorch'; require 'cunn'; print(cutorch)"</span></pre><p id="1adb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后您会看到类似这样的输出:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="97cc" class="mf kd hu mb b fv mg mh l mi mj">{<br/>  getStream : function: 0x40d40ce8<br/>  getDeviceCount : function: 0x40d413d8<br/>  setHeapTracking : function: 0x40d41a78<br/>  setRNGState : function: 0x40d41a00<br/>  getBlasHandle : function: 0x40d40ae0<br/>  reserveBlasHandles : function: 0x40d40980<br/>  setDefaultStream : function: 0x40d40f08<br/>  getMemoryUsage : function: 0x40d41480<br/>  getNumStreams : function: 0x40d40c48<br/>  manualSeed : function: 0x40d41960<br/>  synchronize : function: 0x40d40ee0<br/>  reserveStreams : function: 0x40d40bf8<br/>  getDevice : function: 0x40d415b8<br/>  seed : function: 0x40d414d0<br/>  deviceReset : function: 0x40d41608<br/>  streamWaitFor : function: 0x40d40a00<br/>  withDevice : function: 0x40d41630<br/>  initialSeed : function: 0x40d41938<br/>  CudaHostAllocator : torch.Allocator<br/>  test : function: 0x40ce5368<br/>  getState : function: 0x40d41a50<br/>  streamBarrier : function: 0x40d40b58<br/>  setStream : function: 0x40d40c98<br/>  streamBarrierMultiDevice : function: 0x40d41538<br/>  streamWaitForMultiDevice : function: 0x40d40b08<br/>  createCudaHostTensor : function: 0x40d41670<br/>  setBlasHandle : function: 0x40d40a90<br/>  streamSynchronize : function: 0x40d41590<br/>  seedAll : function: 0x40d414f8<br/>  setDevice : function: 0x40d414a8<br/>  getNumBlasHandles : function: 0x40d409d8<br/>  getDeviceProperties : function: 0x40d41430<br/>  getRNGState : function: 0x40d419d8<br/>  manualSeedAll : function: 0x40d419b0<br/>  _state : userdata: 0x022fe750<br/>}</span></pre><p id="e053" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后你可以使用GPU来运行神经网络！</p><p id="a189" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用以下命令检查它:</p><pre class="lf lg lh li fq ma mb mc md aw me dt"><span id="9670" class="mf kd hu mb b fv mg mh l mi mj">th neural_style.lua -gpu 0 -print_iter 1</span></pre><p id="ac32" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果那不起作用，那么…出了点问题。不要害怕！记住我上面写的关于寻求帮助的教训。向人们伸出援手！</p><p id="e41a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">上周是<a class="ae kb" href="https://www.jackalope.tech/how-artists-can-set-up-their-own-neural-network-part-1-installation/" rel="noopener ugc nofollow" target="_blank">如何安装Ubuntu </a>。下周将讨论如何运行bash脚本来使用DeepStyle。在那之后的一周，我将回顾我用Photoshop拍摄程序创建的图像并绘制新画的实际过程。</p><p id="abfa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我也有几篇想写的衍生文章，讲述了这个过程中更具体的方面，还有一些更远的衍生文章，讲述了这项技术对整个艺术的意义。如果你对文章有任何问题或要求，请告诉我！还有别忘了<a class="ae kb" href="https://mailchi.mp/f75162f1141a/design-x-code_newsletter" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv">订阅时事通讯！</strong> </a></p></div></div>    
</body>
</html>