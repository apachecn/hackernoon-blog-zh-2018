<html>
<head>
<title>From TypeORM to LoopBack: A Retrospective</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从类型到回路:一个回顾</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/from-typeorm-to-loopback-a-retrospective-188ea18527a2?source=collection_archive---------0-----------------------#2018-05-04">https://medium.com/hackernoon/from-typeorm-to-loopback-a-retrospective-188ea18527a2?source=collection_archive---------0-----------------------#2018-05-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/c1c2a3e0f514c4eb439ec7553b89d7e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8PTG9_9_rm9Qw21N-aOooA@2x.jpeg"/></div></div></figure><p id="07f4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">社区对<a class="ae ka" href="https://medium.freecodecamp.org/a-comparison-of-the-top-orms-for-2018-19c4feeaa5f" rel="noopener ugc nofollow" target="_blank"> <em class="kb">的支持非常大，2018年你应该使用哪种JavaScript ORM？</em> </a> <em class="kb"> </em>该分析是在实施一个即将发布产品的项目之前进行的。受益于经验，项目转向更喜欢<a class="ae ka" href="http://loopback.io/doc/en/lb3/index.html" rel="noopener ugc nofollow" target="_blank"> LoopBack 3.0 </a>。本文解释了这种变化的动机。</p><p id="5040" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ORM分析将LoopBack确定为首选，但是<a class="ae ka" href="https://github.com/typeorm/typeorm" rel="noopener ugc nofollow" target="_blank">类型的ORM </a>紧随其后。该团队选择使用TypeORM，因为我们的项目是用Angular编写的，我们希望利用同构类型脚本。</p><p id="9d9b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用TypeORM时，开发遇到了许多问题。有些在GitHub上有记录。有些<a class="ae ka" href="https://github.com/typeorm/typeorm/issues/900#issuecomment-377059814" rel="noopener ugc nofollow" target="_blank">甚至被关闭</a>。虽然TypeORM团队反应非常迅速，非常有帮助，但设置的困难是早期的危险信号，对早期指标的预测将我们的项目时间表置于危险之中。</p><p id="2983" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过对其中一些问题的试探，我们发现TypeORM文档并不像最初看起来的那样强大。TypeORM团队通过对GitHub的响应在一定程度上弥补了这一点，但<a class="ae ka" href="http://loopback.io/doc/en/lb3/index.html" rel="noopener ugc nofollow" target="_blank"> LoopBack 3.0 </a>的全面文档开始看起来相对更好。</p><p id="e3c6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">那些小问题虽然不方便，但还可以忍受。两个主要问题是向环回转变的核心:</p><ol class=""><li id="1126" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated"><a class="ae ka" href="https://github.com/typeorm/typeorm/pull/1143#issuecomment-355102915" rel="noopener ugc nofollow" target="_blank"> TypeORM与Angular CLI </a>不兼容。</li><li id="1f4e" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">Angular Universal并不容易扩展成一个统一的API和渲染服务器。因此，我们分离了API服务器。然而，TypeORM意味着客户端消费，所以我们不能使用TypeORM实现核心支持的同构类型。</li></ol><p id="38b1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这两个问题都是决定性的。Angular CLI是Angular开发的最佳实践工具。这对于角度通用应用的快速和经过测试的开发尤为关键。</p><p id="e6f5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">诚然，LoopBack 3.0不支持同构类型，但上面的问题2首先消除了使用TypeORM的关键动机。</p><p id="7c25" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">LoopBack保留了许多优点，这些优点使它成为了一种很好的资源:</p><ol class=""><li id="90b0" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">LoopBack会自动构建您的API。这是核心功能，不是扩展。</li><li id="b25e" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">LoopBack自动创建一个Swagger文件，该文件又可以自动生成<a class="ae ka" href="https://github.com/nrekretep/pikturr" rel="noopener ugc nofollow" target="_blank">一个ERD </a>。</li><li id="bf64" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">LoopBack 3.0是一个文档完善、经过生产测试的工具，围绕一个熟悉的、可扩展的Express模式构建。</li></ol><p id="346f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然LoopBack 3.0没有同构类型，但它利用了标准化的JSON模型定义，这些定义可以很容易地反映在UI中。我们能够利用数据库中的一致实体，通过服务器，进入UI，尽管我们必须复制一些定义。</p><p id="bdf8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">环回并不完美。期望的特征包括:</p><ol class=""><li id="a9b9" class="kc kd hu je b jf jg jj jk jn ke jr kf jv kg jz kh ki kj kk dt translated">真正的同构类型，不需要复制代码。</li><li id="1a19" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">更好地支持数据库关联。</li><li id="f1d2" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">更好地支持数据库代码配置，包括<code class="eh kq kr ks kt b">CREATE DATABASE</code></li><li id="4306" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">现代JavaScript支持包括<code class="eh kq kr ks kt b">async/await</code>等等。</li><li id="35e8" class="kc kd hu je b jf kl jj km jn kn jr ko jv kp jz kh ki kj kk dt translated">类型脚本支持</li></ol><p id="dfad" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="http://loopback.io/doc/en/lb4/index.html" rel="noopener ugc nofollow" target="_blank">回环4 </a>正在积极开发中，正在寻找贡献者。它已经支持上面提到的一些特性。它还没有准备好生产，但我希望你能和我一起支持这个项目，作为这个领域的一个创新。</p></div></div>    
</body>
</html>