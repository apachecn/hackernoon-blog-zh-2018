<html>
<head>
<title>10-minute color preview input field</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">10分钟彩色预览输入栏</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/10-minute-color-preview-input-field-b21d06bda031?source=collection_archive---------14-----------------------#2018-05-05">https://medium.com/hackernoon/10-minute-color-preview-input-field-b21d06bda031?source=collection_archive---------14-----------------------#2018-05-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="5870" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虽然<code class="eh jp jq jr js b">type="color"</code>并不是大多数web开发人员在日常设计中需要的东西，但它是一种随处可见的输入控件，而且对它的支持<a class="ae jt" href="https://www.caniuse.com/#feat=input-color" rel="noopener ugc nofollow" target="_blank">还没有在主流浏览器和平台上得到认可。</a></p><p id="fac3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有了一点额外的时间，我决定尝试一个可以用来输入颜色的自定义输入组件。它不像Chrome或Firefox实现的那样花哨，但它是一个非常简单的组件，可以让你以任何格式(十六进制、rgb()、rgba()、透明或命名颜色——甚至渐变)输入颜色，并向你显示该颜色的预览。</p><figure class="jv jw jx jy fq jz fe ff paragraph-image"><div role="button" tabindex="0" class="ka kb di kc bf kd"><div class="fe ff ju"><img src="../Images/4fe035e3a1133e41a408e6f98590545b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*D7fnVkFyFv0BBsE49675lw.jpeg"/></div></div><figcaption class="kg kh fg fe ff ki kj bd b be z ek">Photo by <a class="ae jt" href="https://unsplash.com/photos/5IHz5WhosQE?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Chris Lawton</a> on <a class="ae jt" href="https://unsplash.com/search/photos/color?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="c438" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">HTML:定义组件结构</h2><p id="b37b" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">对于组件结构，我们想要非常简单的东西。我对这个问题的看法如下:</p><ul class=""><li id="9af0" class="lk ll hu it b iu iv iy iz jc lm jg ln jk lo jo lp lq lr ls dt translated">一个外部<code class="eh jp jq jr js b">&lt;div&gt;</code>容器，将所有东西放在一起。</li><li id="45b8" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">内部的两个<code class="eh jp jq jr js b">&lt;div&gt;</code>容器利用FlexBox创建一个可用的布局。</li><li id="bdc8" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">第一个容器中的一个<code class="eh jp jq jr js b">&lt;input&gt;</code>元素，用户可以在其中输入一些文本。</li><li id="6a04" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">一个彩色的<code class="eh jp jq jr js b">&lt;div&gt;</code>元素，将预览用户输入的颜色。</li></ul><h2 id="98c4" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">CSS:让一切变得美好</h2><p id="3b33" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">在我的实现中，我使用了大约30行CSS。我的代码所做的事情基本如下:</p><ul class=""><li id="6c10" class="lk ll hu it b iu iv iy iz jc lm jg ln jk lo jo lp lq lr ls dt translated">使用FlexBox设置组件的布局。两个内部<code class="eh jp jq jr js b">&lt;div&gt;</code>容器的比例为19比1。</li><li id="9e04" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">对<code class="eh jp jq jr js b">&lt;input&gt;</code>元素应用一些基本样式，使默认元素看起来更漂亮一些。</li><li id="567a" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">给预览<code class="eh jp jq jr js b">&lt;div&gt;</code>元素一些基本样式，使它看起来像一个颜色预览元素。</li></ul><h2 id="79b0" class="kk kl hu bd km kn ko kp kq kr ks kt ku jc kv kw kx jg ky kz la jk lb lc ld le dt translated">JavaScript:动态组件创建和事件</h2><p id="fb0f" class="pw-post-body-paragraph ir is hu it b iu lf iw ix iy lg ja jb jc lh je jf jg li ji jj jk lj jm jn jo hn dt translated">最后一部分是利用Javascript来实现我们的想法。我选择将我的组件模块化，这样我可以使用一个函数将页面中的任何<code class="eh jp jq jr js b">&lt;div&gt;</code>元素转换成我刚刚创建的组件。前面提到的函数在大约15行JavaScript代码中执行以下操作:</p><ul class=""><li id="0412" class="lk ll hu it b iu iv iy iz jc lm jg ln jk lo jo lp lq lr ls dt translated">将适当的类添加到<code class="eh jp jq jr js b">&lt;div&gt;</code>容器中。</li><li id="b4d1" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">用适当的HTML代码填充容器。</li><li id="d813" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">更新其中的元素，使其具有适当的<code class="eh jp jq jr js b">id</code>。</li><li id="ca22" class="lk ll hu it b iu lt iy lu jc lv jg lw jk lx jo lp lq lr ls dt translated">为<code class="eh jp jq jr js b">&lt;input&gt;</code>字段上的输入事件添加一个事件监听器，以使预览<code class="eh jp jq jr js b">&lt;div&gt;</code>元素响应输入更改。</li></ul><p id="fecf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就这些了。该组件如下所示:</p><figure class="jv jw jx jy fq jz fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/44fa62d5195b8eeb445397da78f4c3f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:964/format:webp/1*D_DPWFypiEEwavL2aUcrfg.png"/></div><figcaption class="kg kh fg fe ff ki kj bd b be z ek">Our color picker component</figcaption></figure><p id="f654" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是它支持的一些值格式(基本上是CSS中任何有效的<code class="eh jp jq jr js b">background</code>值):</p><figure class="jv jw jx jy fq jz fe ff paragraph-image"><div class="fe ff lz"><img src="../Images/b7cac2b81e2e502bd848695b1f0bd016.png" data-original-src="https://miro.medium.com/v2/resize:fit:966/format:webp/1*ceZJMhuq_OsbbxWStN2RfQ.png"/></div><figcaption class="kg kh fg fe ff ki kj bd b be z ek">Supported value formats for the color picker component</figcaption></figure><p id="9cd7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">组件的完整代码可以在<a class="ae jt" href="https://github.com/Chalarangelo/simple-color-picker" rel="noopener ugc nofollow" target="_blank">这里</a>找到，如果你喜欢的话，还有一个<a class="ae jt" href="https://codepen.io/chalarangelo/pen/BxwLmL" rel="noopener ugc nofollow" target="_blank"> Codepen演示</a>。我还发现，该组件与Bootstrap(可能还有其他CSS框架)兼容，并且在CSS中没有任何变化的情况下看起来相当不错，所以您可以将它添加到任何和所有项目中。</p></div><div class="ab cl ma mb hc mc" role="separator"><span class="md bw bk me mf mg"/><span class="md bw bk me mf mg"/><span class="md bw bk me mf"/></div><div class="hn ho hp hq hr"><p id="191a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mh">感谢阅读！如果你喜欢这篇文章，给它一个掌声或50分钟——这完全取决于你！</em></p></div></div>    
</body>
</html>