<html>
<head>
<title>A Complete Beginners Guide to Installing a Bitcoin Full Node on Linux (2018 Edition)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Linux上安装比特币全节点的完全初学者指南(2018版)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-complete-beginners-guide-to-installing-a-bitcoin-full-node-on-linux-2018-edition-cb8e384479ea?source=collection_archive---------0-----------------------#2018-05-06">https://medium.com/hackernoon/a-complete-beginners-guide-to-installing-a-bitcoin-full-node-on-linux-2018-edition-cb8e384479ea?source=collection_archive---------0-----------------------#2018-05-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="a555" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">如何在没有任何Linux经验的情况下，在全新安装的Kubuntu 18.04上编译比特币全节点？</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/db0f74c10c443a11b9ec14c318c5fb9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PMTiLtVBkpDo_bjr7KSQvg.png"/></div></div></figure><h1 id="0ace" class="jv jw hu bd jx jy jz ka kb kc kd ke kf ja kg jb kh jd ki je kj jg kk jh kl km dt translated">介绍</h1><p id="c766" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">我最近安装了一个新的SSD，这样我就不用在我的笔记本电脑上修剪了，我想我应该试着创建一个教程。</p><p id="c12f" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">没用过Linux？不知道“李子”是什么意思？<em class="lo">完美。</em>这是给你的。我要你学Linux，我要比特币激励你转行。这既是一本“傻瓜Linux”指南，也是一本设置比特币节点的指南。</p><p id="9bd1" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">如果你已经略知一二，想跳过所有没用的<em class="lo">词:</em></p><p id="945e" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b">Just copy and paste the commands at the bottom of this article.</code></p><p id="fce7" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">大多数教程只是给你一些步骤，虽然有些实际上非常擅长于阐述一些细节，但这一个是<a class="ae lt" href="https://www.google.com/search?q=figuratively" rel="noopener ugc nofollow" target="_blank"> <em class="lo">字面上的</em> </a>将向你提供你可能有的所有问题，直到每个命令做什么。我假设你唯一的预备知识是能够<a class="ae lt" href="http://www.lmfgtfy.com" rel="noopener ugc nofollow" target="_blank">弄清楚</a>如何下载&amp;挂载下面的<a class="ae lt" href="https://en.wikipedia.org/wiki/ISO_image" rel="noopener ugc nofollow" target="_blank"> ISO镜像</a> I链接，<a class="ae lt" href="https://www.google.com/search?q=how+to+boot+to+usb" rel="noopener ugc nofollow" target="_blank">引导它</a>，并遵循默认安装说明。除了加密我的整个驱动器和导入我的桌面首选项和主题之外，我不会对默认安装配置进行任何重大更改。我们希望避免复杂化，这就是为什么我不会先安装任何其他东西，只是比特币和屏幕捕捉软件，所以任何<a class="ae lt" href="https://www.google.com/search?q=dependency+linux" rel="noopener ugc nofollow" target="_blank">依赖</a>的问题，我们都应该有。如果你遇到任何其他问题，在某个地方感到困惑，或者认为我应该包括一些东西，只要在下面评论或者在Twitter上联系我，我会尽力帮助或者修改这篇文章。</p><p id="3d4b" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">本教程的部分灵感来自<a class="ae lt" href="https://hackernoon.com/harnessing-lightning-for-instant-bitcoin-transacting-a-tutorial-3b9dcdc00552" rel="noopener ugc nofollow" target="_blank"> Grubles闪电网络教程</a>。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="7592" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">第一部分—设置</h1><p id="e7d9" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated"><em class="lo">如果你已经在Linux上，完全跳过这一节。</em></p><h2 id="078a" class="mg jw hu bd jx mh mi mj kb mk ml mm kf kw mn mo kh la mp mq kj le mr ms kl mt dt translated">下载Kubuntu ISO映像</h2><p id="859d" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated"><a class="ae lt" href="https://en.wikipedia.org/wiki/Kubuntu" rel="noopener ugc nofollow" target="_blank"> Kubuntu </a>是<a class="ae lt" href="https://en.wikipedia.org/wiki/Ubuntu_(operating_system)" rel="noopener ugc nofollow" target="_blank"> Ubuntu </a>，<em class="lo">但是</em> <a class="ae lt" href="https://en.wikipedia.org/wiki/KDE_Plasma_5" rel="noopener ugc nofollow" target="_blank"> <em class="lo">闪亮</em> </a> <em class="lo">。</em>最新的<a class="ae lt" href="https://en.wikipedia.org/wiki/Long-term_support" rel="noopener ugc nofollow" target="_blank"> LTS </a>版本是<a class="ae lt" href="https://kubuntu.org/getkubuntu/" rel="noopener ugc nofollow" target="_blank"> 18.04 </a>。</p><h2 id="3115" class="mg jw hu bd jx mh mi mj kb mk ml mm kf kw mn mo kh la mp mq kj le mr ms kl mt dt translated">将ISO映像安装到USB或CD</h2><p id="9c29" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">关注Ubuntu的官方教程<a class="ae lt" href="https://tutorials.ubuntu.com/tutorial/tutorial-create-a-usb-stick-on-windows" rel="noopener ugc nofollow" target="_blank"> Windows </a>或<a class="ae lt" href="https://tutorials.ubuntu.com/tutorial/tutorial-create-a-usb-stick-on-macos" rel="noopener ugc nofollow" target="_blank"> macOS </a>。</p><h2 id="3447" class="mg jw hu bd jx mh mi mj kb mk ml mm kf kw mn mo kh la mp mq kj le mr ms kl mt dt translated">安装操作系统</h2><p id="993b" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">您将设置计算机名称、用户和密码。我这个教程的用户名会是<strong class="kp hv"> satoshi </strong>，电脑名会是<strong class="kp hv"> nakamoto </strong>。</p><h2 id="5d6e" class="mg jw hu bd jx mh mi mj kb mk ml mm kf kw mn mo kh la mp mq kj le mr ms kl mt dt translated">登录</h2><p id="2820" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">安装并成功登录后，<em class="lo"> </em>你的桌面应该看起来像下面的截图。您可以随意体验，慢慢习惯，但是在某个时候，您需要导航到应用程序启动器并运行终端<em class="lo"> (Konsole) </em>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mu"><img src="../Images/1ce5fa70b870a138112e9fdea31b856e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tz0YMULFrgAr7Ff8OvFAMQ.png"/></div></div></figure><p id="6ad8" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">我们将在本教程的大部分时间里在这个窗口中工作，直到我们结束，但我将打开文件管理器，称为Dolphin，并导入我的主题和桌面首选项。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mu"><img src="../Images/a6a9c26cf47ebdd67a091da4b435078f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JCIsqEKN2hoKMPJxjDvMLA.png"/></div></div></figure><p id="da52" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">在我们向终端输入任何内容之前，让我们看一下我们已经看到的内容。在终端窗口的顶部写着“Konsole”。这只是特定于该桌面环境的软件的名称。有时你会看到它被称为终端，命令行，或只是外壳。</p><p id="5291" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi</strong></code>是用户名。<code class="eh lp lq lr ls b"><strong class="kp hv">nakamoto</strong></code>是计算机的<a class="ae lt" href="https://en.wikipedia.org/wiki/Hostname" rel="noopener ugc nofollow" target="_blank">主机名</a>，它会显示在您可能连接的任何网络上。您的将是您在安装过程中选择的任何内容。</p><p id="94b5" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">在<code class="eh lp lq lr ls b"><strong class="kp hv">:</strong></code>和<code class="eh lp lq lr ls b"><strong class="kp hv">$</strong></code>之间，你会看到一个<code class="eh lp lq lr ls b"><strong class="kp hv">~</strong></code>。这是你的<strong class="kp hv"> /home/ &lt;用户名&gt; </strong>目录的缩写。<strong class="kp hv"> /home/ &lt;用户名&gt; </strong>就像Windows中的“我的文档”。</p><p id="7ab2" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">这两个意思是一样的，但是当你在那里的时候，你总是会看到<code class="eh lp lq lr ls b"><strong class="kp hv">~</strong></code>:</p><p id="0b2c" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:~$</strong></code></p><p id="c154" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:/home/satoshi$</strong></code></p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="e064" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">第二部分—先决条件和依赖关系</h1><p id="16ec" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">如果你已经在Linux上，浏览这一部分的命令。对于那些不需要解释的人，我甚至将它们都浓缩在本文的底部。</p><p id="1d97" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">我们在终端中要做的第一件事是检查更新。键入以下内容并按enter <em class="lo">(在此过程中，系统会提示您键入“y”表示是，并输入您的密码)</em>:</p><p id="17fe" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:~$</strong> sudo apt-get update</code></p><p id="3352" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><a class="ae lt" href="https://en.wikipedia.org/wiki/Sudo" rel="noopener ugc nofollow" target="_blank"> <strong class="kp hv"> sudo </strong> </a>有时被称为“超级用户do”。这有点像在Windows中使用“以管理员身份运行”，但更好。这在整个教程中都是必要的，因为后面的命令会尝试做一些需要超级用户权限的事情。</p><p id="b7e9" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><a class="ae lt" href="https://en.wikipedia.org/wiki/APT_(Debian)" rel="noopener ugc nofollow" target="_blank"> <strong class="kp hv"> apt-get </strong> </a>允许您与可用的软件库连接，以便您可以直接从终端下载软件。</p><p id="3edf" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> update </strong>是使用<strong class="kp hv"> apt-get </strong>必须遵循的几个命令之一，它将检查您已经安装的任何软件包的更新并安装它们。</p><p id="a8fc" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">接下来我们将安装<a class="ae lt" href="https://git-scm.com" rel="noopener ugc nofollow" target="_blank"> Git </a>。它是广泛使用的开源软件，用于处理其他开源项目。我们将使用Git访问比特币储存库并下载其代码。</p><p id="2b38" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:~$</strong> sudo apt-get install git</code></p><p id="72da" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">安装</strong>应该是不言自明的，就像<strong class="kp hv">更新</strong>一样，但是是在你第一次安装一个特定的包的时候。它需要一个包名。</p><p id="fb9b" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> git </strong>是git包的名称，并且被<a class="ae lt" href="https://en.wikipedia.org/wiki/APT_(Debian)#Sources" rel="noopener ugc nofollow" target="_blank">源列表</a>识别为<strong class="kp hv"> apt-get </strong>命令所引用的。安装后，它也将作为一个命令。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mv mw l"/></div></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="1b38" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在，我们将在主目录中创建一个文件夹，然后转到该目录，这样我们就可以将需要的文件复制到其中。我们<em class="lo">可以</em>将它克隆到任何我们想要的文件夹中，这只是我选择在主文件夹中创建的路径。</p><p id="3505" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">首先，输入下面一行:</p><p id="ae8d" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:~$</strong> mkdir -p bitcoin-source &amp;&amp; cd bitcoin-source</code></p><p id="0d9f" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在看起来应该是这样的:</p><p id="349f" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">satoshi@nakamoto:/home/satoshi/bitcoin-source$</strong></code></p><p id="3934" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> mkdir </strong>制作目录。这就像右击桌面或窗口并选择“新建&gt;文件夹”。</p><p id="10c7" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> -p </strong>是一面旗帜。标志是<a class="ae lt" href="https://en.wikipedia.org/wiki/Command-line_interface#Command-line_option" rel="noopener ugc nofollow" target="_blank">命令行选项</a>，将以<code class="eh lp lq lr ls b"><strong class="kp hv">—</strong></code> <strong class="kp hv"> </strong>开头。每个命令<em class="lo">(像</em><strong class="kp hv"><em class="lo">mkdir</em></strong><em class="lo">)</em>都有自己的一套选项，所以<strong class="kp hv"> -p </strong>可能会为另一个命令做些别的事情。在这种情况下，<strong class="kp hv"> -p </strong>会覆盖您在尝试创建目录时可能会遇到的一些错误，并且实际上首先会做您可能希望<strong class="kp hv"> mkdir </strong>做的事情。如果你想创建目录<strong class="kp hv"> /test1/abc123/haha </strong>，而没有<strong class="kp hv"> -p </strong>，它认为你只是想要<strong class="kp hv"> /haha </strong>，你会得到<a class="ae lt" href="https://stackoverflow.com/questions/22737933/mkdirs-p-option" rel="noopener ugc nofollow" target="_blank">一个错误</a>，说<strong class="kp hv"> /test1 </strong>和<strong class="kp hv"> /abc123 </strong>不存在。使用<strong class="kp hv"> -p </strong>可以忽略这些错误，同时创建“不存在”的两个父目录。</p><p id="dd3c" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">比特币来源</strong>只是我们将要创建的目录/文件夹名。</p><p id="17c8" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> &amp; &amp; </strong>允许您在同一行上执行另一个命令，但只有在第一个命令没有出错的情况下才会执行第二个命令。</p><p id="5861" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> cd </strong>会将当前目录更改为您指定的目录。在这种情况下，它将更改为我们刚刚创建的<strong class="kp hv">/比特币来源</strong>目录。</p><p id="0010" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">然后输入:</p><p id="133d" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> git clone <a class="ae lt" href="https://github.com/bitcoin/bitcoin.git" rel="noopener ugc nofollow" target="_blank">https://github.com/bitcoin/bitcoin.git</a></code></p><p id="8195" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">当你输入命令时，git clone 会将比特币储存库从Github.com复制到你所在的目录中。由于我们在<strong class="kp hv"> ~/bitcoin-source </strong>中，这将创建目录<strong class="kp hv">~/bitcoin-source/bitcoin</strong>并将所有必要的文件放在那里。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="6205" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您可以通过使用<code class="eh lp lq lr ls b">ls</code>命令来检查文件是否已安装，或者您可以在文件管理器中浏览到该目录。</p><p id="1767" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> ls bitcoin</code></p><p id="e809" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">ls 将输出你当前所在目录中所有非隐藏文件夹。</p><p id="fa7a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> ls比特币</strong>会在你所在的目录下寻找一个<strong class="kp hv">/比特币</strong>文件夹，然后输出该目录下所有非隐藏文件夹。</p><p id="18c8" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> ls -a </strong>将输出所有文件夹，包括隐藏文件夹(如果有的话)。隐藏文件夹以一个<code class="eh lp lq lr ls b"><strong class="kp hv">.</strong></code>开头，看起来像这样:/home/satoshi <strong class="kp hv"> /.abc123 </strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff my"><img src="../Images/9c68df46ee1237b1ff1cd4565e40c430.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*squeX8avhhC49vHADjqaLA.png"/></div></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">Navigate to this folder and stay here, you’ll see files get created later when we run some other commands.</figcaption></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="0a78" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在我们需要安装一些<a class="ae lt" href="https://en.wikipedia.org/wiki/Library_(computing)" rel="noopener ugc nofollow" target="_blank">库</a>，以及<a class="ae lt" href="https://en.wikipedia.org/wiki/Berkeley_DB" rel="noopener ugc nofollow" target="_blank">伯克利数据库</a>。安装库时，有时可以在一个命令中列出多个库，并用一个空格分隔它们。在本教程中，我根据Github for Ubuntu上的<a class="ae lt" href="https://github.com/bitcoin/bitcoin/blob/master/doc/build-unix.md" rel="noopener ugc nofollow" target="_blank">构建文档</a>将它们分成不同的组，因为我以前尝试过将它们组合在一起，但出现了错误:</p><p id="41f0" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">图书馆:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="6fb3" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> sudo apt-get install build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils python3</span><span id="60b0" class="mg jw hu ls b fv nl ni l nj nk"><strong class="ls hv">$</strong> <!-- -->sudo apt-get install libboost-all-dev</span></pre><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">Videos I took longer than 60’s are getting cut by the host site, not much of an issue here though.</figcaption></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="9b35" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">这将下载并验证伯克利数据库是合法的:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="a30b" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> wget <a class="ae lt" href="http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz" rel="noopener ugc nofollow" target="_blank">http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz</a><br/><strong class="ls hv">$</strong> echo '12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef  db-4.8.30.NC.tar.gz' | sha256sum -c</span></pre><p id="fefa" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">输入echo命令后，您应该得到以下响应:</p><p id="0ad0" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b">db-4.8.30.NC.tar.gz: O`K</code></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">I cut the video during the download here, it took about 6 minutes for me.</figcaption></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="dbbd" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">以下命令将提取(<code class="eh lp lq lr ls b">tar -xvf</code>)我们刚刚下载并检查的Berkley数据库，然后构建并安装它。它还将设置一个路径快捷方式，因此在引用依赖项时只需要键入<code class="eh lp lq lr ls b">BDB_PREFIX</code>。通常，当输入一个命令时，如果你已经到了路径的一半，你只需要引用剩下的路径，但是当你编译时，你想要确保引用完整的路径:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="4cce" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> tar -xvf db-4.8.30.NC.tar.gz<br/><strong class="ls hv">$</strong> cd db-4.8.30.NC/build_unix<br/><strong class="ls hv">$</strong> mkdir -p build<br/><strong class="ls hv">$</strong> BDB_PREFIX=$(pwd)/build<br/><strong class="ls hv">$</strong> ../dist/configure --disable-shared --enable-cxx --with-pic --prefix=$BDB_PREFIX<br/><strong class="ls hv">$</strong> sudo make install<br/><strong class="ls hv">$</strong> cd ../..</span></pre><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">The database took about 2 minutes during <strong class="ak">sudo make install</strong>. I cut that out.</figcaption></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="c629" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">更多库:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="e9f7" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> sudo apt-get install libminiupnpc-dev<br/><strong class="ls hv">$</strong> sudo apt-get install libzmq3-dev<br/><strong class="ls hv">$</strong> sudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools libprotobuf-dev protobuf-compiler<br/><strong class="ls hv">$</strong> sudo apt-get install libqrencode-dev</span></pre><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div></figure><p id="69d9" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">先决条件到此结束，现在开始实际安装比特币。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="3c41" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">第三部分—编译比特币核心0.16.3</h1><p id="e3b5" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated"><em class="lo">(这本来是为0.16.0写的，但是在0.16.3检测到了一个关键性的bug并打了补丁。否则应该没有安装的复杂性。)</em></p><p id="3db1" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">我们仍然在<strong class="kp hv">/home/Satoshi/bit coin-source</strong>中，所以让我们进入<strong class="kp hv"> /bitcoin </strong>目录，编译并安装:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="9271" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> cd bitcoin<br/><strong class="ls hv">$</strong> git checkout tags/v0.16.3<br/><strong class="ls hv">$</strong> ./autogen.sh<br/><strong class="ls hv">$</strong> ./configure CPPFLAGS="-I${BDB_PREFIX}/include/ -O2" LDFLAGS="-L${BDB_PREFIX}/lib/" --with-gui</span><span id="56f5" class="mg jw hu ls b fv nl ni l nj nk"><strong class="ls hv">$</strong> make<br/><strong class="ls hv">$</strong> sudo make install</span></pre><p id="e37e" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> git checkout tags/v0.16.3 </strong>将引用git历史中的特定“提交”。“分支”会随着更新的发生而改变，因此引用分支可能会使该命令在将来不起作用。</p><p id="c52c" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">。/autgen.sh </strong>将简单地为安装准备编译文件。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mx mw l"/></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">The video cut short before the <strong class="ak">make </strong>&amp; <strong class="ak">sudo make install</strong> commands, but it<strong class="ak"> </strong>took about 25 minutes to complete.</figcaption></figure><p id="4da8" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">一旦完成，你就安装了比特币核心。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="2ec9" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">第四部分—配置并熟悉您的新节点</h1><p id="21d4" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">运行软件不需要这一部分的大部分内容。在未来，你可能只是在后台运行它，让它顺其自然。同样，这只是为了帮助您了解幕后发生的事情，而不仅仅是相信后台进程能够工作。</p><p id="78d5" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">我要你做的第一件事是在我们第一次运行比特币之前设置几个窗口。我们将首先运行名为<strong class="kp hv"> bitcoin-qt </strong>、<strong class="kp hv">和</strong>的GUI版本，然后退出并运行名为<strong class="kp hv"> bitcoind </strong>的非GUI版本，然后返回到<strong class="kp hv"> bitcoin-qt、</strong>，中间有一些步骤和配置，这样您就可以了解实际情况，并在需要时轻松启动和停止软件。</p><p id="4d92" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">关闭所有打开的窗口，打开两个全新的终端窗口和文件管理器。在文件管理器中导航到<strong class="kp hv"> /home/satoshi/。你只需点击侧边栏上的<strong class="kp hv">主页</strong>。然后从顶部的菜单栏中选择<strong class="kp hv">控制</strong>并勾选<strong class="kp hv">隐藏文件</strong>的复选框。在其中一个终端窗口中，输入以下内容:</strong></p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="a202" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$ </strong>mkdir ~/.bitcoin<strong class="ls hv"><br/>$</strong> <!-- -->cd ~/.bitcoin</span></pre><p id="87b7" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">你现在应该会看到一个名为<strong class="kp hv">的文件夹。比特币</strong>也出现在文件管理器中。导航到那个文件夹，我们现在在终端和文件管理器中都冗余地在这个目录中，但是有一个原因。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nm mw l"/></div></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="2f7e" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在我们将创建一个名为<strong class="kp hv"> debug.log </strong>的文件。当你第一次启动比特币时，这个隐藏的文件夹和debug.log文件都是自动创建的，但你马上就会明白我为什么要提前这么做:</p><p id="f99d" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> touch ~/.bitcoin/debug.log</code></p><p id="d127" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在我们将<strong class="kp hv">尾</strong>到<strong class="kp hv"> debug.log </strong>文件。当程序记录它的操作时，日志文件会不断更新新的信息行。<strong class="kp hv"> tail </strong>命令显示该文件中最近的条目，但只显示一次。使用<strong class="kp hv"> -f </strong>标志将会给你一个持续运行的更新流。当您输入以下命令时，您将什么也看不到，因为比特币还没有运行，但我们现在就让它这样:</p><p id="1d62" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> tail -f ~/.bitcoin/debug.log</code></p><p id="1955" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">在我们打开的<em class="lo">其他</em>终端窗口中，通过输入以下内容运行比特币:</p><p id="2cbb" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> bitcoin-qt</code></p><p id="ca9e" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您将看到加载图像，然后是显示同步状态消息的GUI。如果我们没有创造出那个<strong class="kp hv">。比特币</strong>文件夹你还可以看到设置屏幕，在这里你可以选择你想要存储区块链数据和其他文件的位置。默认位置是我们刚刚创建的文件夹<strong class="kp hv"> <em class="lo"> (/home/satoshi/)。比特币)</em> </strong>所以它不会问，只是假设。</p><p id="468d" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您将开始在您跟踪了<strong class="kp hv"> debug.log </strong>文件的终端中看到活动。以上所有内容在您的屏幕上应该是这样的:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nm mw l"/></div><figcaption class="mz na fg fe ff nb nc bd b be z ek">I had to record over the recording here to block out my IP address, so you’ll see another taskbar pop up.</figcaption></figure><p id="6aa4" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">你可以想看多久就看多久，因为这将需要很长时间来同步，但在某个时候，在终端窗口中输入<strong class="kp hv">比特币-qt </strong> on，按<strong class="kp hv"> CONTROL+C </strong>。您将看到GUI关闭，日志文件也将停止。您可以阅读日志中的退出消息，并且可以向上滚动阅读发生的所有不同事件。现在它已经停止了，在你运行<strong class="kp hv"> bitcoin-qt </strong>的同一个终端中，键入以下内容:</p><p id="cf4a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> bitcoind</code></p><p id="010b" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您应该会再次看到日志尾部，但是这次您不会看到GUI。比特币在后台运行。再次按下<strong class="kp hv"> CONTROL+C </strong>，让它停止。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="eaf7" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">我们现在需要创建一个配置文件，所以在文件浏览器中创建一个名为bitcoin.conf的文件。打开它，键入以下内容并保存文件:</p><p id="f026" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b">debug=net</code></p><p id="3e0b" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">默认情况下，日志文件中并不包含所有的调试信息。设置为<code class="eh lp lq lr ls b"><strong class="kp hv">1</strong></code>将包括所有的信息，但是有太多的信息太快了。所有可以设置的选项有:net、tor、mempool、http、bench、zmq、db、rpc、estimatefee、addrman、selectcoins、reindex、cmpctblock、rand、prune、proxy、mempoolrej、libevent、coindb、qt、leveldb。</p><p id="f89f" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">免责声明:不要无限期地将debug设置为1，否则您的日志文件将变得比整个区块链还要大，并会填满您的硬盘。</strong></p><p id="cb45" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">这也是你可以选择将你的节点设置为<strong class="kp hv">的地方，在区块链运行的时候进行修剪</strong>。目前，整个区块链的大小约为160 GB。如果你没有足够的存储空间，你可以在此时将数据减少到5 GB以下。我不建议这样做，除非你<em class="lo">需要</em>这样做，但这是你将在它自己的行中输入的内容，以将其降低到10 GB:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="b6e3" class="mg jw hu ls b fv nh ni l nj nk">debug=net<br/><strong class="ls hv">prune=10000</strong></span></pre><p id="9f75" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您的配置文件可以设置许多选项，它们的顺序并不重要，因此，如果您假设要将节点内存池限制为100 MB的事务量，它也可能是这样的:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="69bc" class="mg jw hu ls b fv nh ni l nj nk">maxmempool=100<br/>prune=10000<br/>debug=net</span></pre><p id="e96a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">或者像这样，如果您想<em class="lo">(并且应该)</em>强制您的节点检查每个签名的有效性。<strong class="kp hv"> full </strong>节点是已经完全验证了整个区块链的节点，因此配置文件中的“假定有效”设置是必要的。将它设置为<strong class="kp hv"> 0 </strong>告诉你的节点<strong class="kp hv">不要</strong>做任何假设。如果没有此设置，您的节点将跳过验证旧的区块链数据:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="17f4" class="mg jw hu ls b fv nh ni l nj nk">prune=10000<br/>debug=net<br/><strong class="ls hv">assumevalid=0</strong></span></pre><p id="5c2e" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在只需保存bitcoin.conf文件，将<strong class="kp hv"> debug </strong>设置为<strong class="kp hv"> net </strong>，如果需要的话进行修剪，同时将<strong class="kp hv"> assumevalid </strong>设置为<strong class="kp hv"> 0 </strong>。</p><p id="18da" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">最初，当我为教程记录这些内容时，我犯了一些错误，并将debug设置为1，但是步骤是相同的:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nn mw l"/></div></figure></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><p id="096a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">打开第三个终端<em class="lo">并输入以下内容:</em></p><p id="68ce" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$</strong> tail -f ~/.bitcoin/debug.log | grep "UpdateTip:"</code></p><p id="a738" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">同样，因为它是一个尾巴，你将什么也看不到，直到你重新运行<strong class="kp hv"> bitcoin-qt </strong>或<strong class="kp hv"> bitcoind。</strong></p><p id="1e3a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv"> grep </strong>是一个具有一些功能的命令，但是在这个上下文中，它将从第一个命令中获取输出，并对其进行过滤，以便只显示包含引号内文本的行。<strong class="kp hv">更新提示:</strong>是仅在添加新块时出现的特定措辞。<code class="eh lp lq lr ls b">|</code>通常被称为“管道”，它真正的意思是“获取第一个命令的输出，并通过第二个命令发送出去”。你会听到人们说“把它送给<strong class="kp hv"> grep </strong>”或“把它送给<strong class="kp hv"> more </strong>”之类的话，这就是他们的意思。</p><p id="3691" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">在另一个终端中，输入以下内容:</p><p id="c29c" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><code class="eh lp lq lr ls b"><strong class="kp hv">$ </strong>tail -f ~/.bitcoin/debug.log | grep -v "UpdateTip:\|Requesting block\|sending getdata\|recieved block\|received: block"</code></p><p id="71da" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">这是同一个命令，但是带有<strong class="kp hv"> -v </strong>标志，并且将执行与前一个命令相反的操作，过滤掉任何带有我们指定的文本的行。</p><p id="5bfc" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">更新提示:</strong>首先包含在内，因为我们已经将该特定信息放入不同的窗口。接下来你会看到两个符号<code class="eh lp lq lr ls b"><strong class="kp hv">\|</strong></code>，它们告诉<strong class="kp hv"> grep </strong>命令“过滤掉x <strong class="kp hv">和</strong> y <strong class="kp hv">和</strong> z <strong class="kp hv">和</strong> …”</p><p id="b9a8" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在，我们已经有效地将单个日志文件拆分为两个输出，这样我们可以更准确地观察发生了什么，并过滤掉一些我选择的冗余信息，这样您就可以获得较慢的滚动输出。这样，您可以直接跟踪第二个tail命令传入的数据块，而不会将其他信息挤出去。您可以随意试验您想要包含和排除的内容，直到您能够熟练地使用该命令。</p><p id="f2f0" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在你有两个终端，尾部命令为“waiting ”,继续运行<strong class="kp hv"> bitcoin-qt </strong>,这一次让它运行，这样它实际上开始同步进程:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="no mw l"/></div></figure><p id="07fd" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">就是这样！就让它同步吧。根据您的硬件/带宽，这可能需要几个小时到几周的时间<em class="lo">(不太可能)。</em></p><p id="9adc" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">当它最终同步时，块将开始平均每大约10分钟进入一次，并且debug.log文件将开始显示更多的活动，包括直到IBD <em class="lo">(初始块下载)</em>期之后才开始的事务中继信息。</p></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="f0ab" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">第0部分—对于那些只需要命令的人:</h1><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="5025" class="mg jw hu ls b fv nh ni l nj nk">sudo apt-get update;<br/>sudo apt-get install git;<br/>mkdir -p bitcoin-source &amp;&amp; cd bitcoin-source<br/>git clone <a class="ae lt" href="https://github.com/bitcoin/bitcoin.git" rel="noopener ugc nofollow" target="_blank">https://github.com/bitcoin/bitcoin.git</a>;<br/>sudo apt-get install build-essential libtool autotools-dev automake pkg-config libssl-dev libevent-dev bsdmainutils python3;<br/>sudo apt-get install libboost-all-dev;<br/>wget <a class="ae lt" href="http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz" rel="noopener ugc nofollow" target="_blank">http://download.oracle.com/berkeley-db/db-4.8.30.NC.tar.gz</a>;<br/>echo '12edc0df75bf9abd7f82f821795bcee50f42cb2e5f76a6a281b85732798364ef  db-4.8.30.NC.tar.gz' | sha256sum -c;<br/>tar -xvf db-4.8.30.NC.tar.gz;<br/>cd db-4.8.30.NC/build_unix;<br/>mkdir -p build;<br/>BDB_PREFIX=$(pwd)/build;<br/>../dist/configure --disable-shared --enable-cxx --with-pic --prefix=$BDB_PREFIX;<br/>sudo make install;<br/>cd ../..;<br/>sudo apt-get install libminiupnpc-dev;<br/>sudo apt-get install libzmq3-dev;<br/>sudo apt-get install libqt5gui5 libqt5core5a libqt5dbus5 qttools5-dev qttools5-dev-tools libprotobuf-dev protobuf-compiler;<br/>sudo apt-get install libqrencode-dev;<br/>cd bitcoin;<br/>git checkout tags/v0.16.3;<br/>./autogen.sh;<br/>./configure CPPFLAGS="-I${BDB_PREFIX}/include/ -O2" LDFLAGS="-L${BDB_PREFIX}/lib/" --with-gui;<br/>make;<br/>sudo make install;</span><span id="e451" class="mg jw hu ls b fv nl ni l nj nk">bitcoin-qt</span></pre></div><div class="ab cl lu lv hc lw" role="separator"><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz ma"/><span class="lx bw bk ly lz"/></div><div class="hn ho hp hq hr"><h1 id="3235" class="jv jw hu bd jx jy mb ka kb kc mc ke kf ja md jb kh jd me je kj jg mf jh kl km dt translated">更新:从0.16.0升级到0.16.3</h1><p id="3af3" class="pw-post-body-paragraph kn ko hu kp b kq kr iv ks kt ku iy kv kw kx ky kz la lb lc ld le lf lg lh li hn dt translated">如果你通过本教程安装了比特币，下面将解释如何升级到0.16.3。如果你想从头开始安装0.16.3，请从头开始遵循上面的教程，不要担心这些步骤，如下所示:</p><ul class=""><li id="6297" class="np nq hu kp b kq lj kt lk kw nr la ns le nt li nu nv nw nx dt translated">确保比特币核心不再运行</li><li id="335f" class="np nq hu kp b kq ny kt nz kw oa la ob le oc li nu nv nw nx dt translated">重命名安装文件夹</li><li id="23a6" class="np nq hu kp b kq ny kt nz kw oa la ob le oc li nu nv nw nx dt translated">下载并安装新客户端</li></ul><p id="f099" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">有一些具体的细节你也需要注意，但除此之外就很简单了。首先…</p><p id="8f6b" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated"><strong class="kp hv">请勿删除:</strong> /home/【用户】/。比特币</p><p id="ef57" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">让我们弄清楚这一点，以防你在回顾这篇文章时需要复习。</p><p id="ed88" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">有两个目录:</p><ul class=""><li id="73e6" class="np nq hu kp b kq lj kt lk kw nr la ns le nt li nu nv nw nx dt translated"><strong class="kp hv">/首页/[用户]/。比特币</strong>——这是你的主目录中的隐藏文件夹<em class="lo">(b之前的句点)</em>，其中<strong class="kp hv">保存你的钱包</strong>和配置文件，以及你想要<strong class="kp hv">保存的其他数据</strong>。</li><li id="ed21" class="np nq hu kp b kq ny kt nz kw oa la ob le oc li nu nv nw nx dt translated"><strong class="kp hv">/home/[user]/bit coin-source/bit coin</strong>—这是安装0.16.0的普通文件夹。<strong class="kp hv">这是我们想重命名为</strong>的版本，这样我们可以在它的位置安装0.16.3。</li></ul><p id="9c89" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">您可以在文件管理器中执行此操作:</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff od"><img src="../Images/ee3b9ae2d5095395718b124018b08c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:884/format:webp/1*c3GwVtbA9QAzWfC0WwXx0w.png"/></div></figure><p id="b37a" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">或者你可以在shell中运行下面的命令，我还是建议这样做，因为我们需要重新下载比特币二进制文件。<strong class="kp hv">不要新建一个名为“比特币”</strong>的文件夹，这将通过克隆命令自动完成:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="660d" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> cd ~/bitcoin-source<br/><strong class="ls hv">$</strong> mv bitcoin bitcoin-old-16.0<br/><strong class="ls hv">$</strong> git clone <a class="ae lt" href="https://github.com/bitcoin/bitcoin.git" rel="noopener ugc nofollow" target="_blank">https://github.com/bitcoin/bitcoin.git</a></span></pre><p id="af5d" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">接下来我们将重新创建一个前缀<em class="lo">(目录快捷方式)</em>，它是我们在原始教程中设置的。这与<em class="lo">和</em>不一样，但为了简单起见，我们将这样做。请注意，这个前缀只是临时的，如果您在此之后关闭shell，您将不得不再次执行这个步骤:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="6aa8" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> cd ~/bitcoin-source/db-4.8.30.NC/build_unix<br/><strong class="ls hv">$</strong> BDB_PREFIX=$(pwd)/build</span></pre><p id="b5d4" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">现在我们将像往常一样从第三部分开始:</p><pre class="jk jl jm jn fq nd ls ne nf aw ng dt"><span id="5e65" class="mg jw hu ls b fv nh ni l nj nk"><strong class="ls hv">$</strong> cd ~/bitcoin-source/bitcoin<br/><strong class="ls hv">$</strong> git checkout tags/<strong class="ls hv">v0.16.3</strong><br/><strong class="ls hv">$</strong> ./autogen.sh<br/><strong class="ls hv">$</strong> ./configure CPPFLAGS="-I${BDB_PREFIX}/include/ -O2" LDFLAGS="-L${BDB_PREFIX}/lib/" --with-gui</span><span id="0930" class="mg jw hu ls b fv nl ni l nj nk"><strong class="ls hv">$</strong> make<br/><strong class="ls hv">$</strong> sudo make install</span></pre><p id="c297" class="pw-post-body-paragraph kn ko hu kp b kq lj iv ks kt lk iy kv kw ll ky kz la lm lc ld le ln lg lh li hn dt translated">那应该是你需要做的全部。如果您有任何问题，请在Twitter或Reddit上联系我。</p><div class="oe of fm fo og oh"><a href="https://twitter.com/StopAndDecrypt" rel="noopener  ugc nofollow" target="_blank"><div class="oi ab ej"><div class="oj ab ok cl cj ol"><h2 class="bd hv fv z el om eo ep on er et ht dt translated">🅂🅃🄾🄿 (@StopAndDecrypt) |推特</h2><div class="oo l"><h3 class="bd b fv z el om eo ep on er et ek translated">来自🅂🅃🄾🄿的最新消息(@StopAndDecrypt)。全栈社会工程师:10% FUD，20%迷因，15%集中…</h3></div><div class="op l"><p class="bd b gc z el om eo ep on er et ek translated">twitter.com</p></div></div><div class="oq l"><div class="or l os ot ou oq ov jt oh"/></div></div></a></div></div></div>    
</body>
</html>