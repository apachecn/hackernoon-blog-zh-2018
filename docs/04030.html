<html>
<head>
<title>I ❤ Ramda — Partial Application with a Special Placeholder</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">一、❤·拉姆达——带有特殊占位符的部分应用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/i-ramda-partial-application-with-curry-e95100f7c7b1?source=collection_archive---------6-----------------------#2018-05-11">https://medium.com/hackernoon/i-ramda-partial-application-with-curry-e95100f7c7b1?source=collection_archive---------6-----------------------#2018-05-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/87a401c095c74e440ca342654da87d4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yX4b7ZIRa7b1PBp3mdTHdg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://pixabay.com/en/puzzle-last-part-joining-together-3223941/" rel="noopener ugc nofollow" target="_blank">puzzle-last-part-joining-together</a> by <a class="ae jg" href="https://pixabay.com/en/users/Alexas_Fotos-686414/" rel="noopener ugc nofollow" target="_blank">Alexas_Fotos</a></figcaption></figure><h1 id="5f2e" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">❤·拉姆达简介</h1><p id="e2d4" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">I ❤拉姆达系列将略有不同，其他你可能已经看到了。本系列没有使用典型的<code class="eh ld le lf lg b">foo</code>、<code class="eh ld le lf lg b">bar</code>、<code class="eh ld le lf lg b">baz</code>示例，也没有使用演示独立函数的文章，而是旨在展示Ramda.js的实际应用</p><h1 id="b7b2" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">带有特殊占位符的部分应用程序</h1><p id="f763" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">如果你用过<code class="eh ld le lf lg b">bind</code>，你可能已经熟悉了局部应用的概念。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/dea9bacdb6f5bfa6a4e28c60ffffc124.png" data-original-src="https://miro.medium.com/v2/resize:fit:1096/format:webp/0*4eLXMu0HW_XbrG-9.png"/></div></figure><p id="fbcb" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">使用<code class="eh ld le lf lg b">bind</code>，我们能够将值<code class="eh ld le lf lg b">2</code>部分应用于函数<code class="eh ld le lf lg b">multiply</code>中的参数<code class="eh ld le lf lg b">a</code>，以创建一个全新的函数<code class="eh ld le lf lg b">double</code>。</p><p id="6929" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">上面的解决方案(使用<code class="eh ld le lf lg b">bind</code>)工作得很好，即使我们必须调用<code class="eh ld le lf lg b">bind</code>并传入上下文(在本例中是<code class="eh ld le lf lg b">null</code>)。</p><h1 id="75a3" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">咖喱的局部应用</h1><p id="7bb1" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">处理部分应用程序的Ramda方法是调用<code class="eh ld le lf lg b">multiply</code>函数。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/8c79bdcd679631fda37b6494f4342df2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/format:webp/0*UDuCBu60FffkVmkX.png"/></div></figure><p id="4d6f" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">好的，现在代码是… <em class="ls">不同的</em>，但是你不兴奋，我明白。但是坚持住，因为🧙魔术即将开始。</p><h1 id="ada9" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">bind不足之处</h1><p id="7c1d" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">让我们考虑这个例子，看看第9行和第10行…</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/a628be93db227969f9b12aee28d66ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1032/format:webp/0*Us4BBT9QWKyBFhsi.png"/></div></figure><p id="d275" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">所有对<code class="eh ld le lf lg b">readFile</code>的调用都将是<code class="eh ld le lf lg b">utf8</code>，现在我想到了，它们都将使用相同的<code class="eh ld le lf lg b">output</code>函数。</p><p id="7c7e" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">对于这个例子，不能使用bind，因为<code class="eh ld le lf lg b">bind</code>只会从左到右应用参数。必须创建一个全新的功能。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/9ddc425084c67f09e83712ce2ad3f94f.png" data-original-src="https://miro.medium.com/v2/resize:fit:826/format:webp/0*O0h2Rj9Gp_5keQSa.png"/></div></figure><h1 id="9200" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">特殊占位符</h1><p id="bd69" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">Ramda有一个他们称之为特殊占位符的东西，用于部分应用参数，而不管位置如何。</p><p id="c6e3" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">要使用这个特殊的占位符，必须首先简化函数。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lv"><img src="../Images/a13a70a5bf7832dce0e7718ffbbe6053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/0*voc-L82Pr-zKnn3T.png"/></div></figure><p id="c074" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">既然<code class="eh ld le lf lg b">fs.readFile</code>已经被简化为<code class="eh ld le lf lg b">readFile</code>，我们可以使用Ramda的特殊占位符(<code class="eh ld le lf lg b">__</code>)作为文件名参数，并将<code class="eh ld le lf lg b">utf8</code>和<code class="eh ld le lf lg b">output</code>部分应用到<code class="eh ld le lf lg b">readFile</code>。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/5243817042d4a01e71a6ee79826b4d5e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1140/format:webp/0*JgK8_qyaQyh30uUR.png"/></div></figure><p id="21bb" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">😍如果此时你不兴奋，去看医生吧，因为你内心已经死了。</p><p id="a5d8" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">让我们通过一些重构来结束这个例子。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lx"><img src="../Images/3eef24ddeea528df154b36ef3b4ec879.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/0*bkL1DfrFASlufIrB.png"/></div></figure><p id="31f1" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">也可以这样使用，因为现在我们有了更多的选择！</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff ly"><img src="../Images/520297085e3281ddcb5055e488b3e421.png" data-original-src="https://miro.medium.com/v2/resize:fit:810/format:webp/0*XEWy1oPp25ovhUwu.png"/></div></figure><h1 id="dabd" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">家庭作业</h1><p id="1071" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">最好的学习方法是<em class="ls">做</em>😉。所以在这个练习中，试着在函数<code class="eh ld le lf lg b">fetch</code>的基础上创建两个新函数<code class="eh ld le lf lg b">fetchGet</code>和<code class="eh ld le lf lg b">fetchPost</code>。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/bd0e41c24fb7b476a954b6db71944780.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*0CLRQ8AKYEspVYoo.png"/></div></div></figure><p id="f742" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">如果需要帮助，在评论区发帖提问，我会尽力回答每一个问题！</p><h1 id="d5b8" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">我们还能做什么？</h1><p id="1d74" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">这是我正在做的一个项目的简化片段。首先，我将剔除<code class="eh ld le lf lg b">tokenContract</code>，这样您也可以运行这个示例。</p><p id="c83a" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">同样，不要对这部分代码做过多解读，这只是设置。但是请注意下面如何使用<code class="eh ld le lf lg b">curry</code>函数。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff ma"><img src="../Images/b889b53fca8abc492a4827c9b94d920d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/0*p-BzVBJqAIOib77T.png"/></div></figure><p id="4930" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">现在是肉🍖</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mb"><img src="../Images/2148781d54a79df0188f3704e322975a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*-YehbnOiOXlKmzoh.png"/></div></div></figure><p id="f5a5" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">Curry和部分应用程序允许我们在<code class="eh ld le lf lg b">then</code>中去掉函数的两端<code class="eh ld le lf lg b">i =&gt;</code>和<code class="eh ld le lf lg b">, i</code>。这是一种你会经常看到的模式。从<code class="eh ld le lf lg b">then</code>函数提供的单个参数(在本例中是<code class="eh ld le lf lg b">i</code>)将成为在<code class="eh ld le lf lg b">tokenContract.getTokenAtIndex</code>中调用的函数的最终参数。</p><p id="5647" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">进一步研究:省略结尾的<code class="eh ld le lf lg b">i</code>的过程称为无点或默认编程，自变量<code class="eh ld le lf lg b">i</code>为“点”。</p><p id="e7c6" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">因为我知道我正在做的工作总是为<code class="eh ld le lf lg b">account</code>而做，所以我可以将<code class="eh ld le lf lg b">account</code>值应用于两个函数。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff mc"><img src="../Images/a6743e3e520bb0bfb6569e09e47fb6fc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/0*7A6EZQBW711RA6qI.png"/></div></figure><h1 id="4f78" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">额外学分</h1><p id="5fb3" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">函数组合将在以后的文章中讨论，但是现在我想把它作为额外的学分留给你去研究和修改:</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff md"><img src="../Images/913c72ecd0867552d740c54ade75f413.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/0*x_sJaWe6CuupXxv0.png"/></div></figure><h1 id="475b" class="jh ji hu bd jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dt translated">摘要</h1><p id="a4e2" class="pw-post-body-paragraph kf kg hu kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc hn dt translated">本文简要介绍了部分应用程序、Currying，甚至函数组合。前往<a class="ae jg" href="http://ramdajs.com/" rel="noopener ugc nofollow" target="_blank"> Ramda </a>了解更多信息。在评论里提问，每一个问题我都会回复！</p><p id="4aac" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">如果你觉得这很有趣，我有更多关于<a class="ae jg" href="https://medium.com/@joelthoms/latest" rel="noopener">媒体</a>和<a class="ae jg" href="https://dev.to/joelnet" rel="noopener ugc nofollow" target="_blank">发展到</a>的文章。</p><p id="3f20" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">在<a class="ae jg" href="https://twitter.com/joelnet" rel="noopener ugc nofollow" target="_blank"> Twitter </a>、<a class="ae jg" href="https://medium.com/@joelthoms/latest" rel="noopener"> Medium </a>、<a class="ae jg" href="https://dev.to/joelnet" rel="noopener ugc nofollow" target="_blank"> dev.to </a>和<a class="ae jg" href="https://steemit.com/@joelnet" rel="noopener ugc nofollow" target="_blank"> steemit </a>或<a class="ae jg" href="http://joel.net/" rel="noopener ugc nofollow" target="_blank">joel.net</a>订阅，以获得未来文章的通知。</p><p id="3b15" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated">干杯！</p><p id="95b0" class="pw-post-body-paragraph kf kg hu kh b ki lm kk kl km ln ko kp kq lo ks kt ku lp kw kx ky lq la lb lc hn dt translated"><a class="ae jg" href="https://github.com/joelnet/articles/blob/master/2008-05-09---i-heart-ramda--partial_application_with_curry/Partial_Application_with_Curry.md" rel="noopener ugc nofollow" target="_blank">最初发布于github </a></p></div></div>    
</body>
</html>