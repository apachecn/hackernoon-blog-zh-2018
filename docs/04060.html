<html>
<head>
<title>Color it with GRADIENTS — iOS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用渐变给它上色——iOS</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/color-it-with-gradients-ios-a4b374c3c79f?source=collection_archive---------2-----------------------#2018-05-13">https://medium.com/hackernoon/color-it-with-gradients-ios-a4b374c3c79f?source=collection_archive---------2-----------------------#2018-05-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="60a1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">保持冷静，打造你自己的颜色🍭</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/c31fc9262e6a5b0b05d37f25f667b79a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8k9MuLjQV1t3DMez_0cKUQ.jpeg"/></div></div></figure><p id="b79f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我使用iOS已经很长时间了，相信我，一个应用要被更多的用户接受，就必须要有一个好看的视觉界面。好的设计、颜色、概念在构建一个伟大的UI时都很重要。</p><p id="d237" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">渐变是给颜色增添活力的因素之一。素色还是渐变色？让我们看看哪个更吸引眼球..</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff kb"><img src="../Images/911ee0324759ca952f6ad40d444b9a4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NK1V_Y3Z10IO5KRjKET43w.png"/></div></div></figure><p id="51e9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然是第二个。不是吗？混合两种颜色比单一颜色更吸引人。</p><p id="3cad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本文中，我们将讨论如何在我们自己的应用程序中实现这一点。相信我，这看起来很简单。“更多的颜色而不是单一的颜色”。那么，让我们开始吧。</p><h1 id="7c9c" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">我们需要知道的事情</h1><p id="774c" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore" rel="noopener ugc nofollow" target="_blank">核心动画框架</a> —渲染、合成和动画化视觉元素。</p><p id="0025" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">iOS中的每个视图都有一个关联层，用于处理视图的所有绘图和动画。视图的层可以使用它的<code class="eh lg lh li lj b"><a class="ae lf" href="https://developer.apple.com/documentation/uikit/uiview/1622436-layer" rel="noopener ugc nofollow" target="_blank">layer</a></code>属性来访问，这个属性是<code class="eh lg lh li lj b">CALayer</code>的一个对象。</p><p id="bdd5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/calayer" rel="noopener ugc nofollow" target="_blank"> CALayer </a> —管理基于图像的内容并允许您在该内容上执行动画的对象。</p><blockquote class="lk ll lm"><p id="9d24" class="ir is ln it b iu iv iw ix iy iz ja jb lo jd je jf lp jh ji jj lq jl jm jn jo hn dt translated">图层的主要工作是管理您提供的可视内容，但是图层本身具有可以设置的可视属性，例如背景颜色、边框和阴影。</p></blockquote><p id="83e4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer" rel="noopener ugc nofollow" target="_blank"> CAGradientLayer </a> —在背景色上绘制颜色渐变的图层，填充图层的形状(包括圆角)。</p><blockquote class="lk ll lm"><p id="3705" class="ir is ln it b iu iv iw ix iy iz ja jb lo jd je jf lp jh ji jj lq jl jm jn jo hn dt translated">您可以使用渐变图层来创建包含任意数量颜色的颜色渐变。默认情况下，颜色会均匀分布在整个层中，但是您可以选择指定位置，以便通过渐变来控制颜色位置。</p></blockquote><p id="fb40" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们看看<code class="eh lg lh li lj b">CAGradientLayer</code>能给我们提供什么。</p><ol class=""><li id="645a" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><code class="eh lg lh li lj b"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer/1462403-colors" rel="noopener ugc nofollow" target="_blank">colors</a></code> —我们需要制作渐变的颜色。它是一个<code class="eh lg lh li lj b">CGColorRef</code>对象的数组，也就是说，你必须提供<code class="eh lg lh li lj b">CGColor</code>，而不仅仅是<code class="eh lg lh li lj b">UIColor</code>的一个对象。<strong class="it hv">示例</strong> : <code class="eh lg lh li lj b">[UIColor.red.cgColor, UIColor.blue.cgColor]</code></li><li id="5bf8" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><code class="eh lg lh li lj b"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer/1462408-startpoint" rel="noopener ugc nofollow" target="_blank">startPoint</a></code> —渐变的起点。</li><li id="b3f5" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><code class="eh lg lh li lj b"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer/1462412-endpoint" rel="noopener ugc nofollow" target="_blank">endPoint</a></code> —渐变的终点。</li><li id="56aa" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><code class="eh lg lh li lj b"><a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer/1462410-locations" rel="noopener ugc nofollow" target="_blank">locations</a></code>—<code class="eh lg lh li lj b">NSNumber</code>对象的可选阵列，定义每个渐变停止点的位置。</li></ol><p id="d86b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里查阅完整的文档<a class="ae lf" href="https://developer.apple.com/documentation/quartzcore/cagradientlayer" rel="noopener ugc nofollow" target="_blank">。</a></p><h1 id="3509" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">编码它</h1><p id="ef1b" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">好了，现在我们知道了梯度所需要的一切，让它工作只是时间问题。</p><p id="a2fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们先来看看如何获得一个可以在视图的<code class="eh lg lh li lj b">layer</code>上使用的渐变。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="89b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">伟大的..！！！我们现在有一个梯度。但是，等等..！！！为什么它不起作用🤔？刷新刷新刷新！！！不要..还是不行🤯。</p><p id="96b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">啊啊..！！！我们忘了一件小事。仅仅有梯度是不够的。我们还必须将它应用到我们想要的视图中。我们真是太傻了🤦‍♀️.好吧，这就是我们如何将渐变应用到我们的视图中。</p><pre class="jq jr js jt fq mh lj mi mj aw mk dt"><span id="2941" class="ml kd hu lj b fv mm mn l mo mp">view.layer.addSublayer(gradientLayer)</span></pre><p id="1645" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，视图可以是任何元素，可以是<code class="eh lg lh li lj b">UIView</code>、<code class="eh lg lh li lj b">UIButton</code>、<code class="eh lg lh li lj b">UILabel</code>等。你可以用同样的方法对它们中的每一个应用渐变。对一个<code class="eh lg lh li lj b">UICollectionViewCell</code>应用渐变就像对其他元素应用渐变一样简单。将<code class="eh lg lh li lj b">CAGradientLayer</code>作为<code class="eh lg lh li lj b">sub-layer</code>添加到视图层。就这么简单。不是吗？</p><p id="0fdc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样。这就是我们想要在屏幕上得到的好看的渐变。</p><p id="6caa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">行..！！！现在我们知道如何让它工作，我有一个问题。这纯粹是UI的事情吧？。我们能不在<code class="eh lg lh li lj b">Storyboard</code>本身🧐得到它吗？虽然没有那么多代码，但是为什么每次我需要渐变的时候都要写呢？为什么不改变故事板的<code class="eh lg lh li lj b">attribute inspector </code>本身的一些属性呢🤔？如果我们也能做到，那就太容易了。</p><p id="24d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">看来我们的要求越来越高了。😉LOL。我知道这种痛苦。改变<code class="eh lg lh li lj b">storyboard</code>本身的属性比通过代码做同样的事情更令人满意。我们走吧..🙂</p><h1 id="e66d" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">把它放在故事板里..！！！✌️</h1><p id="ffbb" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated"><code class="eh lg lh li lj b">@IBDesignable</code>和<code class="eh lg lh li lj b">@IBInspectable</code>是我们可以用来达到这个目的的。</p><p id="82d3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用<code class="eh lg lh li lj b">IBInspectable</code>和<code class="eh lg lh li lj b">IBDesignable</code>，可以构建一个自定义界面来配置您的自定义控件，并在设计您的项目时实时呈现它们。</p><p id="03b2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里了解更多信息<a class="ae lf" href="http://nshipster.com/ibinspectable-ibdesignable/" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="mf mg l"/></div></figure><p id="d75a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在故事板的<code class="eh lg lh li lj b">Class Inspector</code>中将视图的自定义类设置为<code class="eh lg lh li lj b">DesignableView</code>。这是它将如何出现在故事板的<code class="eh lg lh li lj b">Attributes Inspector</code>中。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mq"><img src="../Images/ca7af5f0fe64837cfb75d59aec64a784.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gUgjcE3w8DSDR0PvouvQ4Q.png"/></div></div></figure><p id="57ea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于一个优秀的UI来说，看到它的样子是必须的。一遍又一遍地编码同样的东西来获得完美的外观是非常累人和繁重的。这是故事板最大的优点之一，实际上这就是故事板的用途。<strong class="it hv">观感</strong>最终的结果会是什么。</p><p id="2f07" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样。编码一次，在任何地方使用。没有额外的代码，什么都没有。添加您想要在渐变中显示的任意数量的颜色。来吧，试试看。🤠</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="mr mg l"/></div></figure><h1 id="2ea9" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">示例项目</h1><p id="1750" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">您可以从<a class="ae lf" href="https://github.com/pgpt10/GradientSample" rel="noopener ugc nofollow" target="_blank">这里</a>下载示例项目。</p><h1 id="f78b" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">促销</h1><p id="5c62" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">别忘了阅读我的其他文章:</p><ol class=""><li id="b604" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><a class="ae lf" href="https://hackernoon.com/everything-about-codable-in-swift-4-97d0e18a2999" rel="noopener ugc nofollow" target="_blank">Swift 4中关于Codable的一切</a></li><li id="e286" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><a class="ae lf" href="https://medium.freecodecamp.org/ios-10-notifications-inshorts-all-in-one-ad727e03983a" rel="noopener ugc nofollow" target="_blank">你一直想知道的关于iOS中通知的一切</a></li><li id="a50d" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><a class="ae lf" href="https://hackernoon.com/drag-it-drop-it-in-collection-table-ios-11-6bd28795b313" rel="noopener ugc nofollow" target="_blank">iOS 11编码:如何将&amp;拖放到集合&amp;表中</a></li><li id="b8a5" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><a class="ae lf" href="https://hackernoon.com/app-extensions-and-today-extensions-widget-in-ios-10-e2d9fd9957a8" rel="noopener ugc nofollow" target="_blank">关于iOS 10中的今日扩展(Widget)你需要知道的一切</a></li><li id="7841" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><a class="ae lf" href="https://hackernoon.com/uicollectionviewcell-selection-made-easy-41dae148379d" rel="noopener ugc nofollow" target="_blank"> UICollectionViewCell选择变得简单..！！</a></li></ol><p id="2fef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你有任何疑问，请随时发表评论。</p></div></div>    
</body>
</html>