<html>
<head>
<title>React — redux for lazy developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React —为懒惰的开发人员提供redux</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/react-redux-for-lazy-developers-b551f16a456f?source=collection_archive---------2-----------------------#2018-05-14">https://medium.com/hackernoon/react-redux-for-lazy-developers-b551f16a456f?source=collection_archive---------2-----------------------#2018-05-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="9d19" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每次使用<a class="ae jp" href="https://reactjs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> react </strong> </a> app中的<a class="ae jp" href="https://redux.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> redux </strong> </a>时，我们都要花费大量的时间来制作<a class="ae jp" href="https://github.com/reduxjs/redux/blob/master/docs/basics/Actions.md" rel="noopener ugc nofollow" target="_blank">动作类型、</a>、<a class="ae jp" href="https://github.com/reduxjs/redux/blob/master/docs/basics/Reducers.md" rel="noopener ugc nofollow" target="_blank">redux</a>……事实上大多数动作都是为了使用<a class="ae jp" href="https://github.com/reduxjs/redux/blob/master/docs/basics/Store.md" rel="noopener ugc nofollow" target="_blank"> redux store </a>而进行的CRUD。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/111d6b2a7732597d490b877bd58603f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*I5HVygds8IhYHqgpwyK1XA.jpeg"/></div></figure><p id="467c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们想象有人为我们制造它…</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="56a5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要制作任何react应用程序，我们应该使用<a class="ae jp" href="https://github.com/facebook/create-react-app" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">create-react-app</strong></a>创建一个空项目，或者用<a class="ae jp" href="https://babeljs.io/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> babel </strong> </a>配置<a class="ae jp" href="https://webpack.js.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> webpack </strong> </a>。</p><div class="kf kg fm fo kh ki"><a rel="noopener follow" target="_blank" href="/@evheniybystrov/react-app-from-scratch-d694300d1631"><div class="kj ab ej"><div class="kk ab kl cl cj km"><h2 class="bd hv fv z el kn eo ep ko er et ht dt translated">从头开始反应应用程序</h2><div class="kp l"><h3 class="bd b fv z el kn eo ep ko er et ek translated">这是教程的第一部分，我将展示如何从头开始创建react应用程序。</h3></div><div class="kq l"><p class="bd b gc z el kn eo ep ko er et ek translated">medium.com</p></div></div><div class="kr l"><div class="ks l kt ku kv kr kw jw ki"/></div></div></a></div><p id="ae89" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通常我使用webpack为自己的项目定制配置。但是这次我将使用create-react-app。如果你没有(我希望你在你的电脑上安装了<a class="ae jp" href="https://nodejs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> node.js </strong> </a>和<a class="ae jp" href="https://www.npmjs.com/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> npm </strong> </a>)你可以运行下一个命令:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="c439" class="lc ld hu ky b fv le lf l lg lh">npm i -g create-react-app</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff li"><img src="../Images/173e38247cf9a66f8f78de568d9d9ebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UgHgiMT9Bhf3HA6_Pnod_A.png"/></div></div></figure><p id="2519" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它会把这个包作为全局包安装，这样你就可以在任何地方运行它。</p><p id="3fa8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们运行create-react-app为我们的项目创建一个新目录，并创建react app:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="10bf" class="lc ld hu ky b fv le lf l lg lh">create-react-app react-redux-example</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/141642ca660bbb465edb3dbc7bca152e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yA9oPTbk38OKrqlVbi1a5g.png"/></div></div></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/c6f57e1542e94949c8bd413a8fd05bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2WFfRtOAoEFmlYVEq8Xoqw.png"/></div></div></figure></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="dd15" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">小通知…</p><p id="7659" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要使用任何node.js项目，您需要检查<a class="ae jp" href="https://docs.npmjs.com/misc/scripts" rel="noopener ugc nofollow" target="_blank"> package.json脚本部分</a>。例如，你可以找到<strong class="it hv">开始</strong>或<strong class="it hv">测试</strong>命令。要运行它，您可以使用<strong class="it hv"> npm运行启动/ npm运行测试</strong>命令或快捷方式(对于预定义命令)<strong class="it hv"> npm启动</strong> / <strong class="it hv"> npm测试</strong>。</p><p id="1272" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一种方法是用<a class="ae jp" href="https://yarnpkg.com/lang/en/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">纱</strong> </a>。作为脸书react生态系统的一部分，别忘了安装它(<strong class="it hv"> npm i -g yarn </strong>)。对于纱线，您可以运行相同的命令:<strong class="it hv">纱线开始</strong> / <strong class="it hv">纱线测试</strong>。</p><p id="465c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，我们太懒了，所以我们只能安装另一个包— <a class="ae jp" href="https://www.npmjs.com/package/ntl" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> ntl </strong> </a>:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="b5d2" class="lc ld hu ky b fv le lf l lg lh">npm i -g ntl</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/ded4df2ef00b80abaaaf9febd5a3476e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6iumZoeYE6tK32oAa6g3eg.png"/></div></div></figure><p id="dcc1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">之后就不需要去研究每个package.json了，只需要在node.js项目的一个目录下运行<strong class="it hv"> ntl </strong>命令就可以看到所有命令了。</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="7fe5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">回到我们的应用程序…</p><p id="317e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们创建了一个新的react项目。让我们检查一下:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="7b0a" class="lc ld hu ky b fv le lf l lg lh">cd react-redux-example</span></pre><p id="9a47" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要查看所有预定义的命令，请运行ntl:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="7699" class="lc ld hu ky b fv le lf l lg lh">ntl</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/cae65f7cb5b6cb849111d12134a653c4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ylLDMWitHkvU8FoFWZnroQ.png"/></div></div></figure><p id="d6bd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们看到开始、构建、测试、弹出命令:</p><ul class=""><li id="0ed0" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated"><strong class="it hv">启动</strong> —启动我们的应用程序，</li><li id="ebe6" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><strong class="it hv">构建</strong> —构建静态文件(js，css…)以将其部署在服务器上，</li><li id="5d1f" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><strong class="it hv">测试</strong> —运行我们的应用程序的测试，</li><li id="a62b" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><strong class="it hv">弹出</strong> —创建webpack配置(运行弹出命令后，您需要自己管理webpack)。</li></ul><p id="3657" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以运行我们的应用程序了。</p><p id="acc7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">运行<strong class="it hv"> ntl </strong>然后选择<strong class="it hv"> start </strong>命令并按回车键或通过运行<strong class="it hv">NPM start</strong>(<strong class="it hv">yarn start</strong>)命令手动完成(但不是我们的方式)。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/021bb789d98ddcb80a0cf88e9afdb157.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sXLRbTVEjR2BoPD-szJaCQ.png"/></div></div></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/bb742c53f155267929a66b1b94779c04.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XRSQ-4EMencx1cdERIhXCg.png"/></div></div></figure><p id="04ca" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如我们所见，它在端口3000上工作。如果我们在浏览器中打开它(<a class="ae jp" href="http://localhost:3000/" rel="noopener ugc nofollow" target="_blank"> http://localhost:3000/ </a>)，我们会看到我们的应用程序:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/aa744f48a9acc8a3b638e8bb8e10e1fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*doHxnldF5AFltQNP6nHDZQ.png"/></div></div></figure><p id="d6d3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如我们从页面信息中看到的，要更新我们的应用程序，我们应该更改<strong class="it hv"> src/App.js </strong>文件。</p><p id="c318" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，我们应该研究我们的应用程序结构，并添加redux。</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="44d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要查看我们的应用程序的树形结构，请运行下一个命令(不带node_modules):</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="310c" class="lc ld hu ky b fv le lf l lg lh">tree -I "node_modules"</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/729a45a2747acaa8e1554f111d159c79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z8B7jEJHDXaFOplFC03xlQ.png"/></div></div></figure><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="ec5e" class="lc ld hu ky b fv le lf l lg lh">.<br/>├── README.md<br/>├── package.json<br/>├── public<br/>│   ├── favicon.ico<br/>│   ├── index.html<br/>│   └── manifest.json<br/>├── src<br/>│   ├── App.css<br/>│   ├── App.js<br/>│   ├── App.test.js<br/>│   ├── index.css<br/>│   ├── index.js<br/>│   ├── logo.svg<br/>│   └── registerServiceWorker.js<br/>└── yarn.lock</span></pre><p id="1190" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我们准备创建一个表单示例。</p><p id="e3f4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们的目标:</p><ul class=""><li id="f57d" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated">通过扩展React创建有状态组件。成分</li><li id="8845" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">看看什么是受控组件</li><li id="3112" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">了解什么是状态以及如何管理它</li><li id="66fb" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">拆分我们的组件:获得无状态组件和智能容器</li><li id="04b8" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">查看什么是特设的，并检查其他工具的工作状态(重组)</li></ul><p id="4cb8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以让我们创建一个新的目录<strong class="it hv"> src/form </strong>并用我们的表单创建<strong class="it hv"> index.js </strong>文件。</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="6c2e" class="lc ld hu ky b fv le lf l lg lh">mkdir src/form<br/>touch src/form/index.js</span></pre><p id="91f8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在真实的app中，你会使用<a class="ae jp" href="https://eslint.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> eslint </strong> </a>，最好的配置是<a class="ae jp" href="https://github.com/airbnb/javascript/tree/master/packages/eslint-config-airbnb" rel="noopener ugc nofollow" target="_blank"> airbnb eslint config </a>。对于所有的规则范围，你应该将代码分割成<strong class="it hv"> js/jsx </strong>文件。所有JSX代码你都应该保存在<strong class="it hv"> *里。jsx </strong>文件。查看项目结构后，您将知道每个文件的作用。</p><p id="1588" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是使用<strong class="it hv"> create-react-app </strong>作为我们的小型懒惰示例，我们可以在<strong class="it hv"> *中编写所有代码。js </strong>文件。</p><p id="0f1a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们的简单形式将是这样的:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="635a" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">class </strong>App <strong class="ky hv">extends </strong>Component {<br/>    render() {<br/>        <strong class="ky hv">return </strong>(<br/>            &lt;form&gt;<br/>                &lt;h1&gt;Our form example&lt;/h1&gt;<br/>                &lt;div&gt;<br/>                    &lt;textarea /&gt;<br/>                &lt;/div&gt;<br/>                &lt;div&gt;<br/>                    &lt;input type="submit" value="Submit" /&gt;<br/>                &lt;/div&gt;<br/>            &lt;/form&gt;<br/>        );<br/>    }<br/>}<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff md"><img src="../Images/b720f1c6e605dfe4fc98a1258e13f88d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YjQLCD5AMHxHAPPJA_9EdA.png"/></div></div></figure><p id="4f45" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们需要更新<strong class="it hv"> src/App.js </strong>来添加我们的表单:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="e99a" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><strong class="ky hv">import </strong>logo <strong class="ky hv">from </strong>'./logo.svg';<br/><strong class="ky hv">import </strong>'./App.css';<br/><strong class="ky hv"><em class="me">import Form from './form';</em><br/></strong><br/><strong class="ky hv">class </strong>App <strong class="ky hv">extends </strong>Component {<br/>  render() {<br/>    <strong class="ky hv">return </strong>(<br/>      &lt;div className="App"&gt;<br/>        &lt;header className="App-header"&gt;<br/>          &lt;img src={logo} className="App-logo" alt="logo" /&gt;<br/>          &lt;h1 className="App-title"&gt;Welcome to React&lt;/h1&gt;<br/>        &lt;/header&gt;<br/>        <strong class="ky hv">&lt;Form /&gt;</strong><br/>      &lt;/div&gt;<br/>    );<br/>  }<br/>}<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><p id="dec5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并运行<strong class="it hv">开始</strong>命令:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/df47693529b55711817088bfc21daaff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TUWztghf4MZBaGIXaGTBXA.png"/></div></div></figure><p id="eea2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们只有一个文本区域输入字段和提交按钮。</p><p id="de16" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以输入任何文本并点击提交。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/25b396a08e7dc62c6c26761ea7bd72cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nhnbZVp1_J15qz8By1RaeQ.png"/></div></div></figure><p id="03fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是我们怎样才能得到输入的文本呢？现在我们有了不受控制的textarea组件。要获取输入的文本，我们可以使用<a class="ae jp" href="https://reactjs.org/docs/refs-and-the-dom.html" rel="noopener ugc nofollow" target="_blank"> react ref链接</a>，但这不是react方式。要像专业人士一样使用react，我们需要使用state。</p><p id="8976" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们更新我们的组件，使其更加智能:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="c263" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">class </strong>App <strong class="ky hv">extends </strong>Component {<br/>    constructor(props) {<br/>        <strong class="ky hv">super</strong>(props);<br/>        <strong class="ky hv">this</strong>.state = {<br/>            text: '',<br/>        };<br/>    }<br/><br/>    onTextChange = (event) =&gt; {<br/>      <strong class="ky hv">this</strong>.setState({ text: event.target.value });<br/>    };<br/><br/>    render() {<br/>        <strong class="ky hv">return </strong>(<br/>            &lt;form&gt;<br/>                &lt;h1&gt;Our form example&lt;/h1&gt;<br/>                &lt;div&gt;<br/>                    &lt;textarea onChange={<strong class="ky hv">this</strong>.onTextChange}&gt;<br/>                        {<strong class="ky hv">this</strong>.state.text}<br/>                    &lt;/textarea&gt;<br/>                &lt;/div&gt;<br/>                &lt;div&gt;<br/>                    &lt;input type="submit" value="Submit" /&gt;<br/>                &lt;/div&gt;<br/>            &lt;/form&gt;<br/>        );<br/>    }<br/>}<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><p id="89be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以得到输入的值，但是提交按钮呢？我们应该处理输入的值:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="af3e" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">class </strong>App <strong class="ky hv">extends </strong>Component {<br/>    constructor(props) {<br/>        <strong class="ky hv">super</strong>(props);<br/>        <strong class="ky hv">this</strong>.state = {<br/>            text: '',<br/>        };<br/>    }<br/><br/>    onTextChange = (event) =&gt; {<br/>      <strong class="ky hv">this</strong>.setState({ text: event.target.value });<br/>    };<br/><br/>    onFormSubmit = (event) =&gt; {<br/>        event.preventDefault();<br/>        alert(<strong class="ky hv">this</strong>.state.text);<br/>    };<br/><br/>    render() {<br/>        <strong class="ky hv">return </strong>(<br/>            &lt;form onSubmit={<strong class="ky hv">this</strong>.onFormSubmit}&gt;<br/>                &lt;h1&gt;Our form example&lt;/h1&gt;<br/>                &lt;div&gt;<br/>                    &lt;textarea onChange={<strong class="ky hv">this</strong>.onTextChange}&gt;<br/>                        {<strong class="ky hv">this</strong>.state.text}<br/>                    &lt;/textarea&gt;<br/>                &lt;/div&gt;<br/>                &lt;div&gt;<br/>                    &lt;input type="submit" value="Submit" /&gt;<br/>                &lt;/div&gt;<br/>            &lt;/form&gt;<br/>        );<br/>    }<br/>}<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><p id="6b22" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我添加了表单提交处理程序。如果我们输入一些测试文本并按submit，我们会看到一个带有输入文本的警告:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/04974d838c99049965827c0db459db70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rwPxaDnK93QfEaeaOjE8uA.png"/></div></div></figure><p id="eec0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在真正的应用程序中，你可以用ajax请求来代替alert。</p><p id="4eaf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我们看到了什么是受控和不受控的组件——在我们的例子中是textarea。我们看到什么是智能组件或容器。</p><p id="1225" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在真实的生产应用程序中，如果你想成为一名专业人员，你需要将逻辑分解为单个责任组件。在我们的例子中，它将我们的大智能组件分割成无状态组件(或者某些文档中的愚蠢组件)和容器。</p><p id="b332" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们得到至少两个文件，每个文件都有自己的职责:无状态组件只是一个视图层，容器负责状态。</p><p id="ec38" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们创建<strong class="it hv">表单组件</strong>、<strong class="it hv">表单容器</strong>并将其集成到我们的表单中:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="73f1" class="lc ld hu ky b fv le lf l lg lh">touch src/form/formComponent<br/>touch src/form/formContainer</span></pre><p id="a6ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们的准则是:</p><h2 id="4e2b" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">表单组件:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="d082" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">class </strong>FormComponent <strong class="ky hv">extends </strong>Component {<br/>    render() {<br/>        <strong class="ky hv">return </strong>(<br/>            &lt;form onSubmit={<strong class="ky hv">this</strong>.props.onFormSubmit}&gt;<br/>                &lt;h1&gt;Our form example&lt;/h1&gt;<br/>                &lt;div&gt;<br/>                    &lt;textarea onChange={<strong class="ky hv">this</strong>.props.onTextChange}&gt;<br/>                        {<strong class="ky hv">this</strong>.props.text}<br/>                    &lt;/textarea&gt;<br/>                &lt;/div&gt;<br/>                &lt;div&gt;<br/>                    &lt;input type="submit" value="Submit" /&gt;<br/>                &lt;/div&gt;<br/>            &lt;/form&gt;<br/>        );<br/>    }<br/>}<br/><br/><strong class="ky hv">export default </strong>FormComponent;</span></pre><h2 id="ad7e" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">表单容器:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="6e02" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">const </strong>FormContainer = FormComponent =&gt; {<br/>    <strong class="ky hv">return class </strong>App <strong class="ky hv">extends </strong>Component {<br/>        constructor(props) {<br/>            <strong class="ky hv">super</strong>(props);<br/>            <strong class="ky hv">this</strong>.state = {<br/>                text: '',<br/>            };<br/>        }<br/><br/>        onTextChange = (event) =&gt; {<br/>            <strong class="ky hv">this</strong>.setState({ text: event.target.value });<br/>        };<br/><br/>        onFormSubmit = (event) =&gt; {<br/>            event.preventDefault();<br/>            alert(<strong class="ky hv">this</strong>.state.text);<br/>        };<br/><br/>        render() {<br/>            <strong class="ky hv">return </strong>(<br/>                &lt;FormComponent<br/>                    text={<strong class="ky hv">this</strong>.state.text}<br/>                    onTextChange={<strong class="ky hv">this</strong>.onTextChange}<br/>                    onFormSubmit={<strong class="ky hv">this</strong>.onFormSubmit}<br/>                /&gt;<br/>            );<br/>        }<br/>    }<br/>};<br/><br/><strong class="ky hv">export default </strong>FormContainer;</span></pre><h2 id="9e5d" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">我们的形式:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="6fb7" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React, { Component } <strong class="ky hv">from </strong>'react';<br/><strong class="ky hv">import </strong>FormContainer <strong class="ky hv">from </strong>'./formContainer';<br/><strong class="ky hv">import </strong>FormComponent <strong class="ky hv">from </strong>'./formComponent';<br/><br/><strong class="ky hv">const </strong>Form = FormContainer(FormComponent);<br/><br/><strong class="ky hv">class </strong>App <strong class="ky hv">extends </strong>Component {<br/>    render() {<br/>        <strong class="ky hv">return </strong>(<br/>            &lt;Form /&gt;<br/>        );<br/>    }<br/>}<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><p id="6293" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们看到一些有趣的案例:</p><ul class=""><li id="9697" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated">我们只是拆分代码，对于无状态表单组件，我们将状态和处理程序作为属性。FormContainer不呈现jsx代码。它只是将状态和处理程序放入表单组件。</li><li id="cd9a" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">FormContainer不是react组件。这是高阶组件(HOC) —包装函数。我们将component作为一个参数放入函数，它返回react component。</li></ul><p id="783a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">对于react开发来说，HOC是一种有趣的模式。你可以用完全函数化的方式编写你的应用程序。</p><p id="963d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">想象一下，您的react组件可以只是一个JS函数:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="5b64" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">props =&gt; jsx</strong></span></pre><p id="ec5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">别忘了这个箭头功能。</p><p id="87f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们更新我们的表单组件并使其正常工作:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="693d" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">const </strong>FormComponent = props =&gt; (<br/>    &lt;form onSubmit={props.onFormSubmit}&gt;<br/>        &lt;h1&gt;Our form example&lt;/h1&gt;<br/>        &lt;div&gt;<br/>            &lt;textarea onChange={props.onTextChange}&gt;<br/>                {props.text}<br/>            &lt;/textarea&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>            &lt;input type="submit" value="Submit" /&gt;<br/>        &lt;/div&gt;<br/>    &lt;/form&gt;<br/>);<br/><br/><strong class="ky hv">export default </strong>FormComponent;</span></pre><p id="6de1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们有一个函数。它得到道具并返回JSX代码。代码更少，声明性更强。</p><p id="b6a1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是我们的集装箱呢？应该还是一个班吧？使用redux，它可以完全正常工作。Redux是全局状态的存储。在某些情况下，您将使用本地状态并创建一个类。但是说到声明性代码，不要忘了我们太懒了，不想自己写所有的代码。我们的集装箱是特设的，有许多生产就绪的集装箱。</p><p id="9ca8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最有趣的库是<a class="ae jp" href="https://github.com/acdlite/recompose" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">改编</strong> </a>。打开<a class="ae jp" href="https://github.com/acdlite/recompose/blob/master/docs/API.md" rel="noopener ugc nofollow" target="_blank">文档</a>可以找到很多例子。</p><p id="037a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来，我想展示如何让我们的容器更实用。</p><p id="a067" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是首先我们应该安装它:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="0a02" class="lc ld hu ky b fv le lf l lg lh">npm i -S recompose</span></pre><p id="12ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="c12b" class="lc ld hu ky b fv le lf l lg lh">yarn add recompose</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/140348127a026776c66819e3c1f931a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BHsoB5UDwS305TTbZT2MlA.png"/></div></div></figure><p id="8996" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我们换好容器之后。我们将使用<code class="eh my mz na ky b">withStateHandlers()</code></p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="2f9a" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ withStateHandlers } <strong class="ky hv">from </strong>'recompose';<br/><br/><strong class="ky hv">const </strong>FormContainer = withStateHandlers(<br/>    ({ text = '' }) =&gt; ({ text }),<br/>    {<br/>        onTextChange: () =&gt; event =&gt; ({<br/>            text: event.target.value,<br/>        }),<br/>        onFormSubmit: ({ text }) =&gt; (event) =&gt; {<br/>            event.preventDefault();<br/>            alert(text);<br/>        },<br/>    },<br/>);<br/><br/><strong class="ky hv">export default </strong>FormContainer;</span></pre><p id="dcc7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，代码更少，声明性更强。在我们的例子中，它是功能性的。我们甚至不需要导入react，因为它只是JS代码。</p><p id="2bef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果我们运行我们的应用程序，我们会看到相同的结果:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/1959d92335cb90b03387f340a1151999.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XZY1HlSFmfnX-qTSIiIrsg.png"/></div></div></figure><p id="a228" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，我们只是使用ready recompose HOC来处理本地状态，而不是手动创建。</p><p id="6248" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们完成了这一部分的目标:我们看到了受控和非受控组件、无状态(功能性)和智能(有状态)组件——容器。我们创建了自己的HOC，并找到了其他开发者创建的许多现成的HOC，让我们的开发更快，让我们的懒惰生活更轻松:)</p><p id="de59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下一步是添加redux…</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="f6d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要在我们的应用程序中添加redux作为任何其他依赖项，我们应该首先安装它。在我们的例子中，我们需要redux和<a class="ae jp" href="https://github.com/reduxjs/react-redux" rel="noopener ugc nofollow" target="_blank"> react-redux </a>与react一起使用。</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="e428" class="lc ld hu ky b fv le lf l lg lh">yarn add redux react-redux</span></pre><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff ln"><img src="../Images/cbe68ef80b58ff7644eb679d48df3c5b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YqUxBqfcPBhfw9nkkkzEkw.png"/></div></div></figure><p id="290a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还有一件事——redux-logger:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="f227" class="lc ld hu ky b fv le lf l lg lh">yarn add redux-logger</span></pre><p id="7d98" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这对调试很有用。</p><p id="f772" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们创建我们的商店:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="dead" class="lc ld hu ky b fv le lf l lg lh">touch src/store.js</span></pre><p id="066a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用下一个代码:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="884e" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ createStore, applyMiddleware } <strong class="ky hv">from </strong>'redux';<br/><strong class="ky hv">import </strong>logger <strong class="ky hv">from </strong>'redux-logger';<br/><br/><strong class="ky hv">import </strong>reducers <strong class="ky hv">from </strong>'./reducers';<br/><br/><strong class="ky hv">const </strong>store = createStore(<br/>    reducers,<br/>    applyMiddleware(logger)<br/>);<br/><br/><strong class="ky hv">export default </strong>store;</span></pre><p id="4352" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和还原剂:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="d88b" class="lc ld hu ky b fv le lf l lg lh">touch src/reducers.js</span></pre><p id="248f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，它是空的，但是我们稍后将为表单组件添加reducer:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="cf39" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ combineReducers } <strong class="ky hv">from </strong>'redux';<br/><br/><strong class="ky hv">export default </strong>combineReducers({});</span></pre><p id="edc7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下一步是为应用程序创建提供程序— <strong class="it hv"> src/index.js </strong>:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="2a3d" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React <strong class="ky hv">from </strong>'react';<br/><strong class="ky hv">import </strong>ReactDOM <strong class="ky hv">from </strong>'react-dom';<br/><strong class="ky hv">import </strong>{ Provider } <strong class="ky hv">from </strong>'react-redux';<br/><strong class="ky hv">import </strong>'./index.css';<br/><strong class="ky hv">import </strong>App <strong class="ky hv">from </strong>'./App';<br/><strong class="ky hv">import </strong>store <strong class="ky hv">from </strong>'./store';<br/><strong class="ky hv">import </strong>registerServiceWorker <strong class="ky hv">from </strong>'./registerServiceWorker';<br/><br/>ReactDOM.render(<br/>    <strong class="ky hv">&lt;Provider store={store}&gt;<br/>        &lt;App /&gt;<br/>    &lt;/Provider&gt;,</strong><br/>    document.getElementById('root')<br/>);<br/>registerServiceWorker();</span></pre><p id="e744" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它使应用程序中的所有容器组件都可以使用存储，而无需显式传递它。在渲染根组件时，只需使用一次。</p><p id="a358" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们需要创建<strong class="it hv">动作类型</strong>、<strong class="it hv">动作创建者、</strong>和<strong class="it hv">缩减者</strong>。</p><p id="8c1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是在我们思考我们的行动之前:</p><ul class=""><li id="a88b" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated">我们需要改变文本</li><li id="3396" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated">提交我们的表格。</li></ul><h2 id="e82d" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">动作类型:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="641a" class="lc ld hu ky b fv le lf l lg lh">touch src/form/types.js</span></pre><p id="981d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用下一个代码:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="b05a" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">export const </strong>FORM_TEXT = '@@form/TEXT';<br/><strong class="ky hv">export const </strong>FORM_SUBMIT = '@@form/SUBMIT';</span></pre><p id="5706" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在真正的生产应用程序中，你可以创建许多类型/动作，每次你都会有一个命名问题。所以如果你不想有冲突问题，你需要给你的类型添加后缀。我使用@@moduleName/TYPE符号。在我们的表单模块中，我使用了<strong class="it hv">@ @表单/类型</strong>，例如:<strong class="it hv">@ @表单/文本</strong>或<strong class="it hv">@ @表单/提交</strong>。</p><h2 id="7e73" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">动作创建者:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="48ed" class="lc ld hu ky b fv le lf l lg lh">touch src/form/actions.js</span></pre><p id="12a3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">带代码:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="ef14" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ FORM_TEXT, FORM_SUBMIT } <strong class="ky hv">from </strong>'./types';<br/><br/><strong class="ky hv">export const </strong>textAction = text =&gt; ({<br/>    type: FORM_TEXT,<br/>    text,<br/>});<br/><br/><strong class="ky hv">export const </strong>submitAction = () =&gt; ({<br/>    type: FORM_SUBMIT,<br/>});</span></pre><h2 id="02f2" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">和减速器:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="c9d8" class="lc ld hu ky b fv le lf l lg lh">touch src/form/reducer.js</span></pre><p id="f611" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">带代码:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="6050" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ FORM_TEXT } <strong class="ky hv">from </strong>'./types';<br/><br/><strong class="ky hv">const </strong>defaultState = {<br/>    text: '',<br/>};<br/><br/><strong class="ky hv">export default </strong>(state = defaultState, action) =&gt; {<br/>    <strong class="ky hv">switch </strong>(action.type) {<br/>        <strong class="ky hv">case </strong>FORM_TEXT:<br/>            <strong class="ky hv">return </strong>{ ...state, ...action };<br/>        <strong class="ky hv">default</strong>:<br/>            <strong class="ky hv">return </strong>state;<br/>    }<br/>};</span></pre><p id="73e0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不要忘记将这个缩减器添加到全局缩减器中(在下一篇文章中，我将展示如何使用代码分割和缩减器注入)。</p><h2 id="8207" class="lc ld hu bd mf mg mh mi mj mk ml mm mn jc mo mp mq jg mr ms mt jk mu mv mw mx dt translated">src/reducers.js:</h2><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="3d65" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ combineReducers } <strong class="ky hv">from </strong>'redux';<br/><br/><strong class="ky hv">import </strong>form <strong class="ky hv">from </strong>'./form/reducer';<br/><br/><strong class="ky hv">export default </strong>combineReducers({ form });</span></pre><p id="423e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下一步是更改表单容器:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="9411" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ connect } <strong class="ky hv">from </strong>'react-redux';<br/><strong class="ky hv">import </strong>{ textAction, submitAction } <strong class="ky hv">from </strong>'./actions';<br/><br/><strong class="ky hv">const </strong>mapStateToProps = state =&gt; state.form;<br/><strong class="ky hv">const </strong>mapDispatchToProps = { textAction, submitAction };<br/><br/><strong class="ky hv">export default </strong>connect(mapStateToProps, mapDispatchToProps);</span></pre><p id="8476" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://redux.js.org/basics/usage-with-react" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> Connect </strong> </a>是一个特设的，创建来连接存储到组件。它获取参数(mapStateToProps和mapDispatchToProps)并返回HOC。</p><ul class=""><li id="c8dc" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo lt lu lv lw dt translated"><strong class="it hv"> mapStateToProps </strong>是一个选择器，它从存储中过滤数据。</li><li id="66b9" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo lt lu lv lw dt translated"><strong class="it hv"> mapDispatchToProps </strong>为操作创建调度程序。使用调度程序，您可以更改状态。</li></ul><p id="e956" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">表单组件的一个小变化:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="91dd" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">const </strong>FormComponent = props =&gt; (<br/>    &lt;form onSubmit={(event) =&gt; {<br/>        event.preventDefault();<br/>        props.submitAction();<br/>        alert(props.text);<br/>    }}&gt;<br/>        &lt;h1&gt;Our form example&lt;/h1&gt;<br/>        &lt;div&gt;<br/>            &lt;textarea<br/>                onChange={event =&gt; props.textAction(event.target.value)}<br/>                value={props.text}<br/>            /&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>            &lt;input type="submit" value="Submit" /&gt;<br/>        &lt;/div&gt;<br/>    &lt;/form&gt;<br/>);<br/><br/><strong class="ky hv">export default </strong>FormComponent;</span></pre><p id="cbcb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">代码没有前面的例子那么好，但是这里我们有一个全局状态，它仍然可以工作。</p><p id="5d11" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我们结束了。让我们启动应用程序，看看结果:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/78432bf2484751f333c725e41ce0156b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XsXHTe_ImOkrKZwFnpL_Uw.png"/></div></div></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/ab539fef3b756c667237185e1a2a51a3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Y4sAAcl9ZdJ7fugKFYP5Q.png"/></div></div></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/630e93887f4c81f18afa37ede32c9ae6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bh7q_CSUcuOGzCy59a77VQ.png"/></div></div></figure><p id="4a6e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并提交:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/3cdae23dcaee9ce3eea0728a40fb7f8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NKvxRyGNnQqgZbZSmTywKw.png"/></div></div></figure><p id="d59e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样的结果。</p><p id="52e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如你所看到的，我们没有为表单提交动作设计reducer。因为表单提交通常是通过发送ajax请求或产生其他副作用来完成的。而且是另一篇文章的有趣点(<strong class="it hv"> redux thunk </strong>，<strong class="it hv"> redux-saga </strong>，<strong class="it hv"> redux-promise </strong>，<strong class="it hv">redux-observable</strong>……)。</p><p id="e896" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们看到的所有控制台文本都要感谢<strong class="it hv"> redux-logger </strong>。</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="3755" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">每次使用redux，我们都需要反复做同样的事情:创建<strong class="it hv">动作类型</strong>、<strong class="it hv">动作创建者</strong>、<strong class="it hv">缩减者</strong>，甚至<strong class="it hv">容器</strong>。想象一下如果有人为我们制造它。</p><p id="7281" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">试试我的小项目:<a class="ae jp" href="https://github.com/evheniy/redux-lazy" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv"> redux-lazy </strong> </a>。</p><p id="fff9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装它:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="33b1" class="lc ld hu ky b fv le lf l lg lh">yarn add redux-lazy</span></pre><p id="f059" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">接下来创建<strong class="it hv"> rl.js </strong>文件:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="e7e0" class="lc ld hu ky b fv le lf l lg lh">touch src/form/rl.js</span></pre><p id="4e26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用下一个代码:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="a39b" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>RL <strong class="ky hv">from </strong>'redux-lazy';<br/><br/><strong class="ky hv">const </strong>rl = <strong class="ky hv">new </strong>RL('form');<br/>rl.addAction('text', { text: '' });<br/>rl.addAction('submit', {});<br/><br/><strong class="ky hv">const </strong>result = rl.flush();<br/><br/><strong class="ky hv">export default </strong>result;</span></pre><p id="d008" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在我们可以从容器中删除<strong class="it hv"> types.js </strong>、<strong class="it hv"> actions.js </strong>、<strong class="it hv"> reducer.js </strong>和<strong class="it hv">。我们有盒子里的所有东西。</strong></p><p id="c220" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更新<strong class="it hv"> src/index.js </strong></p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="aa0c" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">import </strong>FormComponent <strong class="ky hv">from </strong>'./formComponent';<br/><strong class="ky hv">import </strong>rl <strong class="ky hv">from </strong>'./rl';<br/><br/><strong class="ky hv">const </strong>Form = rl.Container(FormComponent);<br/><br/><strong class="ky hv">const </strong>App = () =&gt; &lt;Form /&gt;;<br/><br/><strong class="ky hv">export default </strong>App;</span></pre><p id="542c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们制作功能组件，并从redux-lazy获得容器。</p><p id="400c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> src/reducers.js </strong></p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="0667" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>{ combineReducers } <strong class="ky hv">from </strong>'redux';<br/><br/><strong class="ky hv">import </strong>rl <strong class="ky hv">from </strong>'./form/rl';<br/><br/><strong class="ky hv">export default </strong>combineReducers({ [rl.nameSpace]: rl.reducer });</span></pre><p id="5ec8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里我们从redux-lazy获得名称空间和reducer。</p><p id="e4c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和组件中的小更新:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="d3e5" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">import </strong>React <strong class="ky hv">from </strong>'react';<br/><br/><strong class="ky hv">const </strong>FormComponent = props =&gt; (<br/>    &lt;form onSubmit={(event) =&gt; {<br/>        event.preventDefault();<br/>        props.submitAction();<br/>        alert(props.text);<br/>    }}&gt;<br/>        &lt;h1&gt;Our form example&lt;/h1&gt;<br/>        &lt;div&gt;<br/>            &lt;textarea<br/>                onChange={event =&gt; props.textAction(<strong class="ky hv">{ text: event.target.value }</strong>)}<br/>                value={props.text}<br/>            /&gt;<br/>        &lt;/div&gt;<br/>        &lt;div&gt;<br/>            &lt;input type="submit" value="Submit" /&gt;<br/>        &lt;/div&gt;<br/>    &lt;/form&gt;<br/>);<br/><br/><strong class="ky hv">export default </strong>FormComponent;</span></pre><p id="8ae3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">和结果:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="fe ff mc"><img src="../Images/a7769bfa7e562bbded6f1fcbb1c1739c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1lQTnc3v36d0wUH9hteSTw.png"/></div></div></figure><p id="770c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以从redux-lazy得到很多东西:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="73ab" class="lc ld hu ky b fv le lf l lg lh"><strong class="ky hv">const </strong>{<br/>    nameSpace,<br/>    types,<br/>    actions,<br/>    defaultState,<br/>    reducer,<br/>    mapStateToProps,<br/>    mapDispatchToProps,<br/>    Container,<br/>} = rl.flush();</span></pre><p id="96d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以重复一下:</p><ol class=""><li id="ee97" class="lo lp hu it b iu iv iy iz jc lq jg lr jk ls jo nb lu lv lw dt translated">创建redux-lazy对象:<strong class="it hv">const RL = new RL(' form ')；</strong></li><li id="706d" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo nb lu lv lw dt translated">添加动作:<strong class="it hv"> rl.addAction('text '，{ text:' ' })；</strong></li><li id="58bb" class="lo lp hu it b iu lx iy ly jc lz jg ma jk mb jo nb lu lv lw dt translated"><strong class="it hv">同花顺</strong>代码。</li></ol><p id="552a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅此而已。</p><p id="1654" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我认为它对任何(不仅仅是懒惰的)react/redux开发者都是有用的。</p></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><p id="3cf0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了让它有可能在你的电脑上运行，我创建了一个github库 。</p><p id="4ad2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">要在本地运行它，只需执行以下步骤:</p><pre class="jr js jt ju fq kx ky kz la aw lb dt"><span id="2db1" class="lc ld hu ky b fv le lf l lg lh">git clone <a class="ae jp" href="https://github.com/evheniy/react-redux-example.git" rel="noopener ugc nofollow" target="_blank">https://github.com/evheniy/react-redux-example.git</a><br/>cd react-redux-example<br/>yarn<br/>ntl</span></pre></div><div class="ab cl jy jz hc ka" role="separator"><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd ke"/><span class="kb bw bk kc kd"/></div><div class="hn ho hp hq hr"><div class="jr js jt ju fq ki"><a rel="noopener follow" target="_blank" href="/@evheniybystrov/react-redux-for-lazy-developers-part-2-d0c60123592f"><div class="kj ab ej"><div class="kk ab kl cl cj km"><h2 class="bd hv fv z el kn eo ep ko er et ht dt translated">React —为懒惰的开发人员提供redux。第二部分</h2><div class="kp l"><h3 class="bd b fv z el kn eo ep ko er et ek translated">在本文中，我将继续讨论使用redux-lazy创建react redux应用程序。</h3></div><div class="kq l"><p class="bd b gc z el kn eo ep ko er et ek translated">medium.com</p></div></div><div class="kr l"><div class="nc l kt ku kv kr kw jw ki"/></div></div></a></div><div class="kf kg fm fo kh ki"><a href="https://hackernoon.com/react-redux-for-lazy-developers-part-3-319b639a22c3" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab ej"><div class="kk ab kl cl cj km"><h2 class="bd hv fv z el kn eo ep ko er et ht dt translated">React —为懒惰的开发人员提供redux。第三部分</h2><div class="kp l"><h3 class="bd b fv z el kn eo ep ko er et ek translated">这是关于创建react redux应用程序系列的最后一部分。</h3></div><div class="kq l"><p class="bd b gc z el kn eo ep ko er et ek translated">hackernoon.com</p></div></div><div class="kr l"><div class="nd l kt ku kv kr kw jw ki"/></div></div></a></div><p id="6495" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本文中，我们发现了如何使用<strong class="it hv"> create-react-app </strong>轻松创建react app，我们看到了什么是<strong class="it hv">无状态</strong> / <strong class="it hv">有状态</strong>组件，我们可以在其中存储我们的状态，以及如何以<strong class="it hv"/><strong class="it hv">功能方式</strong>轻松使用react。关于这方面的更多内容，你可以在我之前的文章中读到:</p><div class="kf kg fm fo kh ki"><a href="https://blog.cloudboost.io/react-functional-way-c533fceda2ce" rel="noopener  ugc nofollow" target="_blank"><div class="kj ab ej"><div class="kk ab kl cl cj km"><h2 class="bd hv fv z el kn eo ep ko er et ht dt translated">反应:功能方式</h2><div class="kp l"><h3 class="bd b fv z el kn eo ep ko er et ek translated">正如您可能知道的，使用react可以使用函数或类——使用无状态和有状态组件。在…</h3></div><div class="kq l"><p class="bd b gc z el kn eo ep ko er et ek translated">blog.cloudboost.io</p></div></div><div class="kr l"><div class="ne l kt ku kv kr kw jw ki"/></div></div></a></div></div></div>    
</body>
</html>