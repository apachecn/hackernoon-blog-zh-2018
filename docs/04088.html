<html>
<head>
<title>How to Git Stash Your Work — the Correct Way</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何藏起你的工作——正确的方法</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-git-stash-your-work-the-correct-way-199af0b99cc9?source=collection_archive---------15-----------------------#2018-05-14">https://medium.com/hackernoon/how-to-git-stash-your-work-the-correct-way-199af0b99cc9?source=collection_archive---------15-----------------------#2018-05-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="9e8a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">想象一下，你正在做一个项目的一部分，它开始变得混乱。有一个紧急的bug需要您立即关注。是时候<strong class="it hv">保存</strong>你的更改并切换分支了。问题是，你不想做半途而废的工作。解决方法是<code class="eh jp jq jr js b">git stash</code>。</p><blockquote class="jt ju jv"><p id="714b" class="ir is jw it b iu iv iw ix iy iz ja jb jx jd je jf jy jh ji jj jz jl jm jn jo hn dt translated"><em class="hu">如果你需要快速切换上下文并处理其他事情，但是你正在修改代码，还没有准备好提交，那么存储是很方便的。由</em> <a class="ae ka" href="https://www.atlassian.com/git/tutorials/saving-changes/git-stash" rel="noopener ugc nofollow" target="_blank"> <em class="hu">位桶</em> </a></p></blockquote><h1 id="b3d8" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">隐藏</h1><p id="5e2b" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">假设您目前有一些局部修改。运行<code class="eh jp jq jr js b"><a class="ae ka" href="https://kolosek.com/git-commands-tutorial-part2/" rel="noopener ugc nofollow" target="_blank">git status</a></code>，检查您的当前状态:</p><pre class="le lf lg lh fq li js lj lk aw ll dt"><span id="4211" class="lm kc hu js b fv ln lo l lp lq">$ git status<br/># On branch master<br/># Changes to be committed:<br/>#   (use "git reset HEAD &lt;file&gt;..." to unstage)<br/>#      modified: index.html<br/># Changes not staged for commit:<br/>#   (use "git add &lt;file&gt;..." to update what will be committed<br/>#      modified: assets/stylesheets/styles.css</span></pre><p id="d492" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你需要解决那个紧急的问题。首先，您想要保存未完成的工作变更而不提交它们。这就是<code class="eh jp jq jr js b">git stash</code>成为救世主的原因:</p><pre class="le lf lg lh fq li js lj lk aw ll dt"><span id="0799" class="lm kc hu js b fv ln lo l lp lq">$ git stash<br/>Saved working directory and index state WIP on master:<br/>  bb06da6 Modified the index page<br/>HEAD is now at bb06da6 Modified the index page<br/>(To restore them type "git stash apply")</span></pre><p id="9e94" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您的<strong class="it hv">工作目录</strong>现在是干净的，所有未提交的本地更改都已保存！此时，您可以自由地进行新的更改，<a class="ae ka" href="https://kolosek.com/git-merge/" rel="noopener ugc nofollow" target="_blank">创建新的提交</a>，<a class="ae ka" href="https://kolosek.com/git-branches/" rel="noopener ugc nofollow" target="_blank">切换分支</a>，并执行任何其他Git操作。</p><blockquote class="jt ju jv"><p id="2011" class="ir is jw it b iu iv iw ix iy iz ja jb jx jd je jf jy jh ji jj jz jl jm jn jo hn dt translated"><em class="hu">默认情况下，栈被标识为“WIP”——正在进行的工作，位于创建它们的分支和提交之上。</em></p></blockquote><h1 id="0852" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">重新使用你的存货</h1><p id="db0e" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">Git stash是一个临时仓库。当您准备好从您离开的地方继续时，您可以轻松地恢复保存的状态:<code class="eh jp jq jr js b">git stash pop</code>。</p><p id="ea13" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">弹出您的存储库会从您的存储库中移除更改，并重新应用上次保存的状态。如果你想把修改保存在存储库中，你可以使用<code class="eh jp jq jr js b">git stash apply</code>来代替。</p><h1 id="2669" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">其他提示和技巧</h1><p id="7679" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc lb je jf jg lc ji jj jk ld jm jn jo hn dt translated">你还可以用藏毒做一些其他的事情。我们来看看吧！</p><ul class=""><li id="2202" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><strong class="it hv">保存藏匿点</strong> <br/>保存一个带有<strong class="it hv">消息的藏匿点</strong> : <code class="eh jp jq jr js b">$ git stash save &lt;message&gt;</code>。</li></ul><blockquote class="jt ju jv"><p id="2fbb" class="ir is jw it b iu iv iw ix iy iz ja jb jx jd je jf jy jh ji jj jz jl jm jn jo hn dt translated">尝试在你的风格中添加<a class="ae ka" href="https://kolosek.com/css-line-height/" rel="noopener ugc nofollow" target="_blank"><em class="hu">CSS-line high</em></a><em class="hu">并加上漂亮的注释。</em></p></blockquote><ul class=""><li id="5837" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><strong class="it hv">隐藏未跟踪文件</strong> <br/>这是保存<strong class="it hv">未跟踪文件</strong> : <code class="eh jp jq jr js b">$ git stash -u</code>或<code class="eh jp jq jr js b">$ git stash --include-untracked</code>的唯一方法</li><li id="e207" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><strong class="it hv">列出多个stashes </strong> <br/>当你<code class="eh jp jq jr js b">git stash</code>或者<code class="eh jp jq jr js b">git stash save</code>的时候，Git会创建一个带有名称的Git commit对象，然后保存到你的repo中。您可以随时查看自己制作的的<strong class="it hv">清单！<code class="eh jp jq jr js b">$ git stash list</code>。</strong></li></ul><pre class="le lf lg lh fq li js lj lk aw ll dt"><span id="0534" class="lm kc hu js b fv ln lo l lp lq">$ git stash list<br/><a class="ae ka" href="https://kolosek.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>{0}: On master: Modified the index page<br/><a class="ae ka" href="https://kolosek.com/cdn-cgi/l/email-protection" rel="noopener ugc nofollow" target="_blank">[email protected]</a>{1}: WIP on master: bb06da6 Initial Commit</span></pre><ul class=""><li id="8113" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><strong class="it hv">部分隐藏</strong> <br/>您可以选择<strong class="it hv">隐藏</strong>单个文件、文件集合或文件内的单个更改:<code class="eh jp jq jr js b">$ git stash -p</code>或<code class="eh jp jq jr js b">$ git stash --patch</code>。</li></ul><blockquote class="jt ju jv"><p id="f5cc" class="ir is jw it b iu iv iw ix iy iz ja jb jx jd je jf jy jh ji jj jz jl jm jn jo hn dt translated"><a class="ae ka" href="https://kolosek.com/rails-rspec-setup/" rel="noopener ugc nofollow" target="_blank"> <em class="hu"> RSpec测试</em> </a> <em class="hu">在Ruby on Rails项目中是必不可少的，但是它们可能并不总是完整的。只隐藏准备好的部分！</em></p></blockquote><ul class=""><li id="3fcf" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><strong class="it hv">查看隐藏差异</strong> <br/>查看隐藏有两种方式:查看一个隐藏的<strong class="it hv">完全差异</strong>—<code class="eh jp jq jr js b">$ git stash show -p</code>或仅查看<strong class="it hv">最新隐藏</strong>—<code class="eh jp jq jr js b">$ git stash show</code>。</li></ul><pre class="le lf lg lh fq li js lj lk aw ll dt"><span id="3c2a" class="lm kc hu js b fv ln lo l lp lq">$ git stash show<br/>index.html | 1 +<br/>style.css | 2 ++<br/>2 files changed, 3 insertions(+)</span></pre><ul class=""><li id="c2b0" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><strong class="it hv">从隐藏的</strong> <br/>创建一个<strong class="it hv">新的分支</strong>来应用你隐藏的更改，然后将你隐藏的更改弹出到它上面:<code class="eh jp jq jr js b">$ git stash branch &lt;branch_name&gt; &lt;stash_id&gt;</code>。</li></ul><blockquote class="jt ju jv"><p id="b208" class="ir is jw it b iu iv iw ix iy iz ja jb jx jd je jf jy jh ji jj jz jl jm jn jo hn dt translated">这是另一种在继续进行项目前节省开支的方法。</p></blockquote><ul class=""><li id="fa36" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated">取出你的藏物小心使用，它可能很难恢复。唯一的恢复方法是，如果你在删除存储后没有关闭终端。<br/>如果你不再需要某个<strong class="it hv">特定的隐藏</strong>，你可以用<code class="eh jp jq jr js b">$ git stash drop &lt;stash_id&gt;</code>删除它。或者你可以<strong class="it hv">用<code class="eh jp jq jr js b">$ git stash clear</code>从回购中删除你所有的</strong>库存。</li></ul><p id="0fc8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望这篇文章能帮助你更好地理解stashing是如何工作的。一定要测试出来！</p></div><div class="ab cl mf mg hc mh" role="separator"><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk ml"/><span class="mi bw bk mj mk"/></div><div class="hn ho hp hq hr"><p id="a0d1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jw">原载于2018年5月14日</em><a class="ae ka" href="https://kolosek.com/git-stash/?utm_source=me" rel="noopener ugc nofollow" target="_blank"><em class="jw">kolosek.com</em></a><em class="jw">。</em></p></div></div>    
</body>
</html>