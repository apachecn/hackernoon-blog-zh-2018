<html>
<head>
<title>Blockchain Privacy-Enhancing Technology Series — Stealth Address (I)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">区块链隐私增强技术系列—隐形地址(一)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/blockchain-privacy-enhancing-technology-series-stealth-address-i-c8a3eb4e4e43?source=collection_archive---------14-----------------------#2018-05-15">https://medium.com/hackernoon/blockchain-privacy-enhancing-technology-series-stealth-address-i-c8a3eb4e4e43?source=collection_archive---------14-----------------------#2018-05-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/df77dc940acc68c629c01397872f6d3b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*voCrAgZU5dDljrvkJ2OzBw.png"/></div></div></figure><div class=""/><p id="98e5" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">今天的许多区块链，包括比特币和以太坊，都是开放的公共账本，因为参与没有限制，所有交易细节都可以在区块链上看到。在公共分类账中，交易实体只能通过它们的区块链地址来识别，这些地址是从相应的公钥中导出的。公共分类账一般被认为是“伪匿名的”，这意味着一个地址与一个人相关联，但该人不为公众所知。然而，通过分析交易图并结合其他信息，可以揭示区块链地址背后的真实身份，正如最近的研究所示。出于各种原因，包括但不限于管理执法相关问题和隐藏敏感的公司特定信息，个人和公司更喜欢将隐私增强功能添加到区块链交易中。</p><p id="e2a9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">隐形地址密钥管理机制</strong></p><p id="dd14" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">秘密地址是一种隐私增强技术，用于保护加密货币接收者的隐私。秘密地址要求发送方为代表接收方的每笔交易创建随机的一次性地址，以便对同一收款方的不同付款不可链接。</p><figure class="kb kc kd ke fq hw fe ff paragraph-image"><div class="fe ff ka"><img src="../Images/f75f07c57b15ec9da16686ee9ebef56c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1090/0*0rxBWaRdASNQpx9c."/></div></figure><h2 id="fdc3" class="kf kg if bd kh ki kj kk kl km kn ko kp jn kq kr ks jr kt ku kv jv kw kx ky kz dt translated"><strong class="ak">基本隐形地址协议(BSAP) </strong></h2><p id="b447" class="pw-post-body-paragraph jc jd if je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">最基本的隐形地址方案最早是由一个名为“字节币”的比特币论坛成员在2011年开发的，它依赖于椭圆曲线Diffie-Hellman (ECDH)协议，工作原理如下:</p><ul class=""><li id="b3de" class="lf lg if je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">发送方和接收方分别有私钥/公钥对(<strong class="je ig"> a </strong>、<strong class="je ig"> A </strong>、<strong class="je ig"> b </strong>、<strong class="je ig"> B </strong>)，其中<strong class="je ig"> A = a G </strong>和<strong class="je ig"> B = b G </strong>和<strong class="je ig"> G </strong>是一个椭圆曲线群的基点。</li><li id="5fef" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方和接收方都可以使用ECDH来计算共享秘密<strong class="je ig">c</strong>:<strong class="je ig">c = H(A B G)= H(A B)= H(B A)</strong>，其中<strong class="je ig"> H( ) </strong>是一个加密哈希函数。</li><li id="a126" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送者简单地使用<strong class="je ig"> c G </strong>作为发送付款的短暂目的地地址。</li><li id="b14e" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">接收者主动监控区块链，并检查是否有交易被发送到声称的目的地址<strong class="je ig"> c G </strong>。如果有，可以使用相应的私钥<strong class="je ig"> c </strong>进行支付。</li></ul><p id="5521" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">BSAP的设计有两个主要问题:I)短暂的目的地址在两个通信实体之间是固定的。因此，这些实体之间的交易可以很容易地联系起来；ii)发送方和接收方都可以计算私钥<strong class="je ig"> c </strong>。因此，如果收款人没有及时消费付款，汇款人可以改变主意，把钱拿回来。</p><h2 id="9e9b" class="kf kg if bd kh ki kj kk kl km kn ko kp jn kq kr ks jr kt ku kv jv kw kx ky kz dt translated"><strong class="ak">改进的隐形地址协议(ISAP) </strong></h2><p id="54d3" class="pw-post-body-paragraph jc jd if je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">为了解决BSAP的设计缺陷，尼古拉斯·范·萨伯哈根(Nicolas van Saberhagen)在2013年的CryptoNote白皮书中详细介绍了一个名为ISAP的改进方案，后来彼得·托德(Peter Todd)在2014年的比特币协议中对该方案进行了修改。ISAP是BSAP的扩展，它应用如下所述的附加密钥派生技术:</p><ul class=""><li id="b4cc" class="lf lg if je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">接收方有一个私钥/公钥对(<strong class="je ig"> b </strong>，<strong class="je ig"> B </strong>)，其中<strong class="je ig"> B = b G </strong>，<strong class="je ig"> G </strong>是一个椭圆曲线组的基点。</li><li id="c194" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方生成一个临时密钥对(<strong class="je ig"> r </strong>，<strong class="je ig"> R </strong>)，其中<strong class="je ig"> R = r G </strong>并与事务一起传输。</li><li id="8f12" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方和接收方都可以使用ECDH来计算共享秘密<strong class="je ig">c</strong>:<strong class="je ig">c = H(R B G)= H(R B)= H(B R)</strong>，其中<strong class="je ig"> H( ) </strong>是一个加密哈希函数。</li><li id="0aa9" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送者使用<strong class="je ig"> c G + B </strong>作为发送付款的临时目的地地址。</li><li id="9c44" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">接收方主动监控区块链，并检查是否有交易被发送到声称的目的地址<strong class="je ig"> c G + B </strong>。如果是，则可以使用相应的私钥<strong class="je ig"> c + b </strong>进行支付。注意，短暂私钥<strong class="je ig"> c + b </strong>只能由接收者计算。</li></ul><p id="5c2c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然ISAP修复了BSAP的上述设计缺陷，但是区块链节点仍然需要使用其私有支出密钥<strong class="je ig"> b </strong>来主动扫描区块链以寻找声称的目的地地址<strong class="je ig"> c G + B </strong>，这与安全存储私有密钥的常见做法相反。私人支出密钥的持续使用大大增加了它被泄露的风险。</p><h2 id="143e" class="kf kg if bd kh ki kj kk kl km kn ko kp jn kq kr ks jr kt ku kv jv kw kx ky kz dt translated"><strong class="ak">双密钥隐形地址协议(DKSAP) </strong></h2><p id="2218" class="pw-post-body-paragraph jc jd if je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">为了消除ISAP的私人支出密钥过度使用限制，一个名为rynomster/sdcoin的开发人员在2014年为<strong class="je ig"> ShadowSend </strong>创建了一个双密钥增强功能DKSAP，这是一个高效、分散的匿名钱包解决方案。从那时起，DKSAP已经在许多加密货币系统中实现，包括<strong class="je ig"> Monero </strong>、<strong class="je ig"> Samourai Wallet </strong>和<strong class="je ig"> TokenPay </strong>，仅举几例。该协议利用两对加密密钥，即“扫描密钥”对和“花费密钥”对，并计算每笔交易的一次性支付地址，如下所述:</p><ul class=""><li id="0ddb" class="lf lg if je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">接收方有两个私钥/公钥对(<strong class="je ig"> s，S </strong>和(<strong class="je ig"> b </strong>，<strong class="je ig"> B </strong>)，其中<strong class="je ig"> S = s G </strong>和<strong class="je ig"> B = b G </strong>分别是“扫描公钥”和“花费公钥”。这里<strong class="je ig"> G </strong>是椭圆曲线群的基点。</li><li id="ade0" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方生成一个临时密钥对(<strong class="je ig"> r </strong>，<strong class="je ig"> R </strong>)，其中<strong class="je ig"> R = r G </strong>并与事务一起传输。</li><li id="7b64" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方和接收方都可以使用ECDH来计算共享秘密<strong class="je ig">c</strong>:<strong class="je ig">c = H(R S G)= H(R S)= H(S R)</strong>，其中<strong class="je ig"> H( ) </strong>是一个加密哈希函数。</li><li id="8b53" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">发送方使用<strong class="je ig"> c G + B </strong>作为发送付款的临时目的地地址。</li><li id="370a" class="lf lg if je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">接收方主动监控区块链，并检查是否有交易被发送到声称的目的地址<strong class="je ig"> c G + B </strong>。根据钱包是否加密，接收方可以通过两种不同的方式计算出同一个目的地址，即<strong class="je ig"> c G + B = (c + b) G. </strong>如果匹配，就可以使用对应的私钥<strong class="je ig"> c + b </strong>进行支付。注意，短暂私钥<strong class="je ig"> c + b </strong>只能由接收者计算。</li></ul><p id="9196" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在DKSAP中，如果系统中存在审计者或代理服务器，接收者可以与审计者/代理服务器共享“扫描私钥”<strong class="je ig"> s </strong>和“花费公钥”<strong class="je ig"> B </strong>，以便那些实体可以代表接收者扫描区块链交易。然而，他们不能计算出短暂的私有密钥c + b并支付费用。</p><h1 id="1c4b" class="lt kg if bd kh lu lv lw kl lx ly lz kp ma mb mc ks md me mf kv mg mh mi ky mj dt translated"><strong class="ak">基于区块链的物联网系统面临的挑战</strong></h1><p id="dab1" class="pw-post-body-paragraph jc jd if je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">DKSAP为交易接收者提供了强大的匿名性，并使他们能够在实践中接收不可链接的支付。然而，这种方法确实需要区块链节点不断地计算声称的目的地地址，并在区块链中找到相应的匹配。虽然这一过程适用于成熟的计算机，但它给资源受限的物联网设备带来了新的挑战。所以问题是“<strong class="je ig"> <em class="mk">我们是否可以通过做出某些权衡来使DKSAP适应基于区块链的物联网系统？</em> </strong>“此外，由于存在短暂密钥，使用秘密地址的交易很容易被识别，这导致隐私的一些损失。因此，另一个问题是“<strong class="je ig"> <em class="mk">”当使用秘密地址时，我们能减轻由于短暂密钥的存在而造成的隐私损失吗？</em> </strong>“要了解IoTeX如何应对这些挑战，请关注我们下一篇关于隐形地址和基于物联网的系统的博文！</p><h1 id="534a" class="lt kg if bd kh lu lv lw kl lx ly lz kp ma mb mc ks md me mf kv mg mh mi ky mj dt translated">关于IoTeX</h1><p id="0081" class="pw-post-body-paragraph jc jd if je b jf la jh ji jj lb jl jm jn lc jp jq jr ld jt ju jv le jx jy jz hn dt translated">IoTeX是物联网(IoT)的自动扩展和以隐私为中心的区块链基础设施。IoTeX的全球团队由密码学、分布式系统和机器学习领域的博士、顶级工程师和经验丰富的生态系统构建者组成。IoTeX正在开发几项内部创新，以推动区块链3.0的前沿，包括用于异构计算的区块链-区块链架构、闪电般快速的Roll-DPoS共识机制和轻量级隐私保护技术，以将自主设备协调带给大众。</p><figure class="kb kc kd ke fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ml"><img src="../Images/67ee3732cdf6df83b7d710be9786c309.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ugoVo3DVLVaBKC_-kMjufw.png"/></div></div></figure><p id="c427" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">网址:<a class="ae mm" href="https://iotex.io/" rel="noopener ugc nofollow" target="_blank">https://iotex.io/</a><br/>推特:<a class="ae mm" href="https://twitter.com/iotex_io" rel="noopener ugc nofollow" target="_blank">https://twitter.com/iotex_io</a><br/>电报公告频道:<a class="ae mm" href="https://t.me/iotexchannel" rel="noopener ugc nofollow" target="_blank">https://t.me/iotexchannel</a><br/>电报组:<a class="ae mm" href="https://t.me/IoTeXGroup" rel="noopener ugc nofollow" target="_blank">https://t.me/IoTeXGroup</a><br/>中:<a class="ae mm" rel="noopener" href="/@iotex">https://medium.com/@iotex</a><br/>Reddit:<a class="ae mm" href="https://www.reddit.com/r/IoTeX/" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/r/IoTeX/</a></p></div></div>    
</body>
</html>