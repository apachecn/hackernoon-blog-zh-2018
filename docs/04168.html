<html>
<head>
<title>Selectively Add &amp; Remove Gradient — UICollectionViewCell</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">选择性添加和移除渐变— UICollectionViewCell</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/selectively-add-remove-gradient-uicollectionviewcell-7e8f5464926a?source=collection_archive---------14-----------------------#2018-05-16">https://medium.com/hackernoon/selectively-add-remove-gradient-uicollectionviewcell-7e8f5464926a?source=collection_archive---------14-----------------------#2018-05-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="90f1" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">细节不是细节。他们设计了这个图案。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/535f0d005a2b6215cb23e8f5f3ea4680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*g0b4p3wgEsyipK03FerDdw.jpeg"/></div></div></figure><p id="8027" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">玩<strong class="jx hv">收藏视图</strong>是如此有趣和具有挑战性。我遇到的一件事是在集合视图中使用渐变。</p><p id="b0c8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">给<code class="eh kr ks kt ku b"><a class="ae kv" href="https://developer.apple.com/documentation/uikit/uicollectionview" rel="noopener ugc nofollow" target="_blank">UICollectionView</a></code>或<code class="eh kr ks kt ku b"><a class="ae kv" href="https://developer.apple.com/documentation/uikit/uicollectionviewcell" rel="noopener ugc nofollow" target="_blank">UICollectionViewCell</a></code>添加渐变就像给任何其他视图添加渐变一样简单。我们在<a class="ae kv" href="https://hackernoon.com/color-it-with-gradients-ios-a4b374c3c79f" rel="noopener ugc nofollow" target="_blank">之前的文章</a>中对此进行了详细的讨论。</p><p id="5223" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">另一个挑战是，如果我们需要在选择时给一个<code class="eh kr ks kt ku b">UICollectionViewCell</code>添加渐变，并在取消选择<code class="eh kr ks kt ku b">UICollectionViewCell</code>时移除渐变，该怎么办。</p><p id="ca35" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">你觉得这有挑战性吗？让我们一步一步地看看如何实现这一点。</p><h1 id="40f7" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">先决条件</h1><p id="854a" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">在我们开始编码之前，让我们看看我们已经有什么，🧐，以及我们如何使用它来解决我们的问题陈述。</p><ol class=""><li id="652c" class="lt lu hu jx b jy jz kb kc ke lv ki lw km lx kq ly lz ma mb dt translated"><strong class="jx hv">给视图添加渐变</strong>——在<a class="ae kv" href="https://hackernoon.com/color-it-with-gradients-ios-a4b374c3c79f" rel="noopener ugc nofollow" target="_blank">之前的文章</a>中，我们详细讨论了如何实现这一点。</li><li id="aab0" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated"><strong class="jx hv">改变</strong> <code class="eh kr ks kt ku b"><strong class="jx hv">UICollectionViewCell’s</strong></code> <strong class="jx hv">属性基于其选择状态</strong> — <a class="ae kv" href="https://hackernoon.com/uicollectionviewcell-selection-made-easy-41dae148379d" rel="noopener ugc nofollow" target="_blank">这里</a>我们已经讨论过<strong class="jx hv"> <em class="mh">被选择</em> </strong>是如何处理的。</li></ol><p id="bbce" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">结合以上两点，现在我们只剩下“当单元格被选中时添加渐变，当它被取消选中时移除渐变”。我们已经成功了一半，只需要把我们的知识用在正确的地方。🎯</p><p id="8608" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">现在我们知道了实际需要做什么，让我们从一些编码开始。</p><h1 id="4e86" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">让我们编码吧..</h1><p id="7594" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">我们的自定义<code class="eh kr ks kt ku b">UICollectionViewCell</code>，应该实现2件事，</p><ol class=""><li id="323d" class="lt lu hu jx b jy jz kb kc ke lv ki lw km lx kq ly lz ma mb dt translated">我们要在每个单元格上应用的<strong class="jx hv"> <em class="mh">渐变</em> </strong></li><li id="09e5" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated">覆盖<strong class="jx hv"> <em class="mh">是选择</em> </strong>来处理选择状态的改变，即</li></ol><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mi mj l"/></div></figure><p id="a497" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">就是这样。这是我们唯一需要的代码。</p><h1 id="e65a" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">示例项目</h1><p id="1750" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">你可以从<a class="ae kv" href="https://github.com/pgpt10/CollectionViewGradientSample" rel="noopener ugc nofollow" target="_blank">这里</a>下载示例项目。</p><h1 id="f78b" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">促销</h1><p id="5c62" class="pw-post-body-paragraph jv jw hu jx b jy lo iv ka kb lp iy kd ke lq kg kh ki lr kk kl km ls ko kp kq hn dt translated">别忘了阅读我的其他文章:</p><ol class=""><li id="b604" class="lt lu hu jx b jy jz kb kc ke lv ki lw km lx kq ly lz ma mb dt translated"><a class="ae kv" href="https://hackernoon.com/everything-about-codable-in-swift-4-97d0e18a2999" rel="noopener ugc nofollow" target="_blank">Swift 4中关于Codable的一切</a></li><li id="d86a" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated"><a class="ae kv" href="https://medium.freecodecamp.org/ios-10-notifications-inshorts-all-in-one-ad727e03983a" rel="noopener ugc nofollow" target="_blank">你一直想知道的关于iOS通知的一切</a></li><li id="a50d" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated"><a class="ae kv" href="https://hackernoon.com/drag-it-drop-it-in-collection-table-ios-11-6bd28795b313" rel="noopener ugc nofollow" target="_blank">iOS 11编码:如何将&amp;拖放到收藏&amp;表</a></li><li id="b8a5" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated"><a class="ae kv" href="https://hackernoon.com/app-extensions-and-today-extensions-widget-in-ios-10-e2d9fd9957a8" rel="noopener ugc nofollow" target="_blank">关于iOS 10中的今日扩展(Widget)你需要知道的一切</a></li><li id="7841" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated"><a class="ae kv" href="https://hackernoon.com/uicollectionviewcell-selection-made-easy-41dae148379d" rel="noopener ugc nofollow" target="_blank"> UICollectionViewCell选择变得简单..！！</a></li></ol><p id="2fef" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你有任何疑问，请随时发表评论。</p></div></div>    
</body>
</html>