<html>
<head>
<title>Build a floating hearts effect in Swift</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Swiftä¸­å»ºç«‹ä¸€ä¸ªæµ®åŠ¨çš„å¿ƒæ•ˆæœ</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/build-a-floating-hearts-effect-in-swift-b760fdee6fe9?source=collection_archive---------9-----------------------#2018-05-24">https://medium.com/hackernoon/build-a-floating-hearts-effect-in-swift-b760fdee6fe9?source=collection_archive---------9-----------------------#2018-05-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/></div><div class="ab cl ir is hc it" role="separator"><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw ix"/><span class="iu bw bk iv iw"/></div><div class="hn ho hp hq hr"><blockquote class="iy iz ja"><p id="9e4a" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">éµå¾ªæœ¬æ•™ç¨‹éœ€è¦å¯¹Swiftå’ŒNode.jsæœ‰åŸºæœ¬çš„äº†è§£ã€‚</p></blockquote><p id="68ea" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å¦‚æœä½ æ˜¯Periscopeã€Instagramå’Œè„¸ä¹¦ç­‰åº”ç”¨ç¨‹åºçš„ç”¨æˆ·ï¼Œé‚£ä¹ˆä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ä»–ä»¬çš„ç›´æ’­æµä¸­æœ‰ä¸€ä¸ªåŠŸèƒ½ï¼Œæ¯å½“æœ‰äººå–œæ¬¢ç›´æ’­å†…å®¹æ—¶ï¼Œâ€œå–œæ¬¢â€å°±ä¼šæµ®åœ¨ä½ çš„å±å¹•ä¸Šã€‚æœ¬æ–‡å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨Swiftå’ŒPusheråœ¨æ‚¨çš„iOSåº”ç”¨ç¨‹åºä¸Šå®ç°å®æ—¶æµ®åŠ¨å¿ƒå½¢åŠŸèƒ½ã€‚</p><p id="b590" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ä¸‹é¢æ˜¯æˆ‘ä»¬åœ¨æœ¬æ•™ç¨‹ä¸­ä½¿ç”¨Swiftå’ŒPusherå°†å®ç°çš„å†…å®¹çš„å±å¹•è®°å½•ã€‚</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff kd"><img src="../Images/6da560524fe9069ed75052bc2140077a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*cB9sGLREEJOZCBf_.gif"/></div></div></figure><p id="eec7" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ä»å½•éŸ³ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°å½“ç‚¹å‡»å–œæ¬¢æŒ‰é’®æ—¶ï¼Œå–œæ¬¢ä¼šæµ®åˆ°é¡¶éƒ¨ï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿä¼šå¤åˆ¶åˆ°å¦ä¸€ä¸ªè§‚çœ‹æ­£åœ¨æ’­æ”¾çš„è§†é¢‘çš„è®¾å¤‡ä¸Šã€‚</p><p id="0818" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨ï¼Œè®©æˆ‘ä»¬å¼€å§‹æ—…ç¨‹ã€‚</p><h1 id="4b15" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">è¦æ±‚</h1><p id="1381" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">æŒ‰ç…§æœ¬æ•™ç¨‹ï¼Œä½ éœ€è¦ä»¥ä¸‹ä¸œè¥¿:</p><ul class=""><li id="9842" class="ls lt hu je b jf jg jj jk ka lu kb lv kc lw jz lx ly lz ma dt translated">äº†è§£Swiftå’ŒXcodeæ•…äº‹æ¿ã€‚</li><li id="5099" class="ls lt hu je b jf mb jj mc ka md kb me kc mf jz lx ly lz ma dt translated">Xcodeå®‰è£…åœ¨æ‚¨çš„æœºå™¨ä¸Šã€‚</li><li id="2600" class="ls lt hu je b jf mb jj mc ka md kb me kc mf jz lx ly lz ma dt translated">æ¨é€åº”ç”¨ç¨‹åºâ€”æ‚¨å¯ä»¥åœ¨æ­¤åˆ›å»ºä¸€ä¸ªå…è´¹çš„æ¨é€è´¦æˆ·<a class="ae mg" href="https://pusher.com" rel="noopener ugc nofollow" target="_blank">ã€‚</a></li><li id="40aa" class="ls lt hu je b jf mb jj mc ka md kb me kc mf jz lx ly lz ma dt translated">Node.jså’ŒNPMå®‰è£…åœ¨ä½ çš„æœºå™¨ä¸Šã€‚</li><li id="db24" class="ls lt hu je b jf mb jj mc ka md kb me kc mf jz lx ly lz ma dt translated">å®‰è£…åœ¨æœºå™¨ä¸Šçš„Cocoapodsä½¿ç”¨Rubyé€šè¿‡è¿è¡Œ:<code class="eh mh mi mj mk b">gem install cocoapods</code>æ¥å®‰è£…å®ƒã€‚</li></ul><p id="3923" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å¸Œæœ›ä½ å·²ç»æ£€æŸ¥äº†æ‰€æœ‰çš„éœ€æ±‚ã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚</p><h1 id="c8c1" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">åœ¨Xcodeä¸­åˆ›å»ºæµ®åŠ¨å¿ƒå½¢åº”ç”¨ç¨‹åº</h1><p id="7f9f" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">å¯åŠ¨Xcodeï¼Œåœ¨é‚£é‡Œåˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚æˆ‘ä»¬æ‰“ç®—æŠŠè¿™ä¸ªåº”ç”¨å«åš<strong class="je hv"> streamlove </strong>(æ˜¯çš„ï¼Œæˆ‘ä»¬çŸ¥é“å®ƒå¾ˆè¹©è„š)ã€‚å®Œæˆåˆå§‹è®¾ç½®åï¼Œå…³é—­Xcodeå¹¶å¯åŠ¨ç»ˆç«¯ã€‚<code class="eh mh mi mj mk b">cd</code>åˆ°ä½ çš„åº”ç”¨ç¨‹åºçš„æ ¹ç›®å½•å¹¶è¿è¡Œ<code class="eh mh mi mj mk b">pod init</code>ã€‚è¿™å°†åœ¨æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª<code class="eh mh mi mj mk b">Podfile</code>ã€‚åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­æ‰“å¼€å®ƒï¼Œå¹¶ç”¨ä»¥ä¸‹ä»£ç æ›¿æ¢å…¶ä¸­çš„ä»£ç :</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="b056" class="mp kq hu mk b fv mq mr l ms mt">platform :ios, '9.0'<br/>    target 'streamlove' do<br/>      use_frameworks!<br/>      pod 'PusherSwift', '~&gt; 4.0'<br/>      pod 'Alamofire', '~&gt; 4.4'<br/>    end</span></pre><p id="334f" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ä¹‹åä¿å­˜å¹¶å…³é—­æ–‡ä»¶ï¼Œè¿è¡Œ<code class="eh mh mi mj mk b">pod install</code>å‘½ä»¤ã€‚è¿™å°†å¼€å§‹å®‰è£…æˆ‘ä»¬æ­£åœ¨åˆ›å»ºçš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–é¡¹ã€‚ç°åœ¨åœ¨Xcodeä¸­æ‰“å¼€<code class="eh mh mi mj mk b">streamlove.xcworkspace</code>æ–‡ä»¶ã€‚</p><p id="ea46" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æˆ‘ä»¬éœ€è¦åšçš„ä¸‹ä¸€ä»¶äº‹æ˜¯è®¾è®¡æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ•…äº‹æ¿ã€‚æ‰“å¼€<code class="eh mh mi mj mk b">Main.storyboard</code>æ–‡ä»¶ã€‚æˆ‘ä»¬å°†æ·»åŠ ä¸€äº›æ¨¡æ‹Ÿè§†å›¾ï¼Œå› ä¸ºæˆ‘ä»¬çœŸçš„ä¸æƒ³åœ¨å®ƒä»¬ä¸Šé¢å®ç°ä»»ä½•ä¸œè¥¿ï¼Œå®ƒä»¬åªæ˜¯ä¸ºäº†ç¾è§‚ã€‚æˆ‘ä»¬ä¸»è¦å…³æ³¨çš„æ˜¯æŒ‰é’®å’ŒèƒŒæ™¯è§†é¢‘ã€‚åœ¨è®¾è®¡å¥½æˆ‘ä»¬çš„æ•…äº‹æ¿ä¹‹åï¼Œè¿™æ˜¯æˆ‘ä»¬å¸Œæœ›å¾—åˆ°çš„:</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mu"><img src="../Images/2eb80a5c1448c22ec259d16b23e97b48.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Q0kSGjqLghpV3Epy.png"/></div></div></figure><p id="6a01" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">åœ¨è¿™ä¸ªæ•…äº‹æ¿ä¸­ï¼Œæˆ‘ä»¬åœ¨å±å¹•çš„å³ä¸‹è§’æœ‰ä¸€ä¸ªæŒ‰é’®ï¼Œè¿™ä¸ªæŒ‰é’®åœ¨<code class="eh mh mi mj mk b">ViewController</code>ä¸­æœ‰ä¸€ä¸ª<code class="eh mh mi mj mk b">@IBAction</code>ï¼Œæ‰€ä»¥ä½ éœ€è¦<code class="eh mh mi mj mk b">ctrl+drag</code>æ¥å»ºç«‹æŒ‰é’®å’Œ<code class="eh mh mi mj mk b">ViewController</code>ä¹‹é—´çš„è¿æ¥ã€‚</p><p id="32e2" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">è¿™åº”è¯¥ä¼šå°†<code class="eh mh mi mj mk b">@IBAction</code>æ·»åŠ åˆ°<code class="eh mh mi mj mk b">ViewController</code>ä¸­ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="9ab0" class="mp kq hu mk b fv mq mr l ms mt">@IBAction func hearted(_ sender: Any) {<br/>        // This function will be fired every time the button is tapped!<br/>    }</span></pre><h1 id="55b0" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">ä½¿ç”¨Swiftåœ¨iOSä¸­åˆ›å»ºèƒŒæ™¯å¾ªç¯è§†é¢‘</h1><p id="6de6" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†åˆ›å»ºæ¨¡æ‹Ÿå®æ—¶æµçš„è§†é¢‘èƒŒæ™¯(å› ä¸ºåˆ›å»ºå®é™…çš„å®æ—¶æµè¶…å‡ºäº†æœ¬æ–‡çš„èŒƒå›´)ã€‚æ‰“å¼€<code class="eh mh mi mj mk b">ViewController</code>æ–‡ä»¶å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="8de2" class="mp kq hu mk b fv mq mr l ms mt">import UIKit<br/>    import PusherSwift<br/>    import Alamofire</span><span id="c650" class="mp kq hu mk b fv mv mr l ms mt">    class ViewController: VideoSplashViewController {</span><span id="0d24" class="mp kq hu mk b fv mv mr l ms mt">        override func viewDidLoad() {<br/>            super.viewDidLoad()<br/>            loadVideoStreamSample()<br/>        }</span><span id="5424" class="mp kq hu mk b fv mv mr l ms mt">        private func loadVideoStreamSample() {<br/>            let url = NSURL.fileURL(withPath: Bundle.main.path(forResource: "video", ofType: "mp4")!)<br/>            self.videoFrame = view.frame<br/>            self.fillMode = .resizeAspectFill<br/>            self.alwaysRepeat = true<br/>            self.sound = true<br/>            self.startTime = 0.0<br/>            self.duration = 10.0<br/>            self.alpha = 0.7<br/>            self.backgroundColor = UIColor.black<br/>            self.contentURL = url<br/>            self.restartForeground = true<br/>        }</span><span id="8300" class="mp kq hu mk b fv mv mr l ms mt">        override var prefersStatusBarHidden: Bool {<br/>            return true<br/>        }  </span><span id="0a31" class="mp kq hu mk b fv mv mr l ms mt">        @IBAction func hearted(_ sender: Any) {<br/>            // This function will be called everytime the button is tapped!<br/>        }<br/>    }</span></pre><p id="b455" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">åœ¨ç¬¬ä¸€è¡Œï¼Œæˆ‘ä»¬å·²ç»å¯¼å…¥äº†æˆ‘ä»¬éœ€è¦çš„åº“ï¼Œä½†æ˜¯å¤§éƒ¨åˆ†æ˜¯åœ¨æ•™ç¨‹çš„åé¢ã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠæ³¨æ„åŠ›é›†ä¸­åœ¨å…¶ä»–äººèº«ä¸Šã€‚<code class="eh mh mi mj mk b">ViewController</code>æ‰©å±•äº†ä¸€ä¸ªæˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºçš„<code class="eh mh mi mj mk b">VideoSplashViewController</code>ã€‚åœ¨<code class="eh mh mi mj mk b">viewDidLoad</code>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ªæ–¹æ³•<code class="eh mh mi mj mk b">loadVideoStreamSample</code>ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šæ˜¯åŠ è½½ä¸€ä¸ªè§†é¢‘å¹¶ä¸ºè§†é¢‘è®¾ç½®ä¸€äº›å‚æ•°ã€‚è¿™äº›å‚æ•°å°†åœ¨<code class="eh mh mi mj mk b">VideoSplashViewController</code>ä¸­å®ç°ã€‚</p><p id="4c4f" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨å¯¹äº<code class="eh mh mi mj mk b">VideoSplashViewController</code>ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Github ä¸Šçš„<a class="ae mg" href="https://github.com/svtek/VideoSplashKit/" rel="noopener ugc nofollow" target="_blank">Swiftåº“ã€‚ç„¶è€Œï¼Œç”±äºè¯¥åº“ä¸æ”¯æŒSwift 3ï¼Œæˆ‘ä»¬å°†æŒ‘é€‰å‡ºæˆ‘ä»¬éœ€è¦çš„æ–‡ä»¶ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæ”¯æŒSwift 3ã€‚ç¬¬ä¸€ä¸ªæ˜¯</a><a class="ae mg" href="https://github.com/svtek/VideoSplashKit/blob/master/VideoSplashKit/Source/VideoSplashViewController.swift" rel="noopener ugc nofollow" target="_blank">videossplashviewcontroller</a>ã€‚åˆ›å»ºä¸€ä¸ªæ‰©å±•<code class="eh mh mi mj mk b">UIViewController</code>çš„æ–°æ–‡ä»¶<code class="eh mh mi mj mk b">VideoSplashViewController</code>ï¼Œå¹¶åœ¨å…¶ä¸­ç²˜è´´ä»¥ä¸‹å†…å®¹:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="05cf" class="mp kq hu mk b fv mq mr l ms mt">import UIKit<br/>    import MediaPlayer<br/>    import AVKit</span><span id="23a4" class="mp kq hu mk b fv mv mr l ms mt">    public enum ScalingMode {<br/>        case resize<br/>        case resizeAspect<br/>        case resizeAspectFill<br/>    }</span><span id="b680" class="mp kq hu mk b fv mv mr l ms mt">    public class VideoSplashViewController: UIViewController {</span><span id="b110" class="mp kq hu mk b fv mv mr l ms mt">        private let moviePlayer = AVPlayerViewController()<br/>        private var moviePlayerSoundLevel: Float = 1.0</span><span id="c92a" class="mp kq hu mk b fv mv mr l ms mt">        public var videoFrame: CGRect = CGRect()<br/>        public var startTime: CGFloat = 0.0<br/>        public var duration: CGFloat = 0.0<br/>        public var backgroundColor = UIColor.black { didSet { view.backgroundColor = backgroundColor } }<br/>        public var contentURL: URL = URL(fileURLWithPath: "") { didSet { setMoviePlayer(url: contentURL) } }<br/>        public var sound: Bool = true { didSet { moviePlayerSoundLevel = sound ? 1 : 0 } }<br/>        public var alpha: CGFloat = 1 { didSet { moviePlayer.view.alpha = alpha } }</span><span id="8c86" class="mp kq hu mk b fv mv mr l ms mt">        public var alwaysRepeat: Bool = true {</span><span id="d84d" class="mp kq hu mk b fv mv mr l ms mt">            didSet {</span><span id="5b69" class="mp kq hu mk b fv mv mr l ms mt">                if alwaysRepeat {<br/>                    NotificationCenter.default.addObserver(forName:.AVPlayerItemDidPlayToEndTime, object:nil, queue:nil) { [weak self] (notification) in<br/>                        self?.playerItemDidReachEnd()<br/>                    }<br/>                    return<br/>                }</span><span id="82ea" class="mp kq hu mk b fv mv mr l ms mt">                if !alwaysRepeat {<br/>                    NotificationCenter.default.removeObserver(self, name:.AVPlayerItemDidPlayToEndTime, object: nil)<br/>                }<br/>            }<br/>        }</span><span id="e9b7" class="mp kq hu mk b fv mv mr l ms mt">        public var fillMode: ScalingMode = .resizeAspectFill {<br/>            didSet {<br/>                switch fillMode {<br/>                case .resize:<br/>                    moviePlayer.videoGravity = AVLayerVideoGravityResize<br/>                case .resizeAspect:<br/>                    moviePlayer.videoGravity = AVLayerVideoGravityResizeAspect<br/>                case .resizeAspectFill:<br/>                    moviePlayer.videoGravity = AVLayerVideoGravityResizeAspectFill<br/>                }<br/>            }<br/>        }</span><span id="6469" class="mp kq hu mk b fv mv mr l ms mt">        public var restartForeground: Bool = false {<br/>            didSet {<br/>                if restartForeground {<br/>                    NotificationCenter.default.addObserver(forName:.UIApplicationWillEnterForeground, object:nil, queue:nil) { [weak self] (notification) in<br/>                        self?.playerItemDidReachEnd()<br/>                    }<br/>                }<br/>            }<br/>        }</span><span id="9fa2" class="mp kq hu mk b fv mv mr l ms mt">        override public func viewDidAppear(_ animated: Bool) {<br/>            super.viewDidAppear(animated)<br/>            moviePlayer.view.frame = videoFrame<br/>            moviePlayer.view.backgroundColor = self.backgroundColor;<br/>            moviePlayer.showsPlaybackControls = false<br/>            moviePlayer.view.isUserInteractionEnabled = false<br/>            view.addSubview(moviePlayer.view)<br/>            view.sendSubview(toBack: moviePlayer.view)<br/>        }</span><span id="235b" class="mp kq hu mk b fv mv mr l ms mt">        private func setMoviePlayer(url: URL){<br/>            let videoCutter = VideoCutter()<br/>            videoCutter.cropVideoWithUrl(videoUrl: url, startTime: startTime, duration: duration) { [weak self] (videoPath, error) -&gt; Void in<br/>                guard let path = videoPath, let strongSelf = self else { return }<br/>                strongSelf.moviePlayer.player = AVPlayer(url: path)<br/>                strongSelf.moviePlayer.player?.addObserver(strongSelf, forKeyPath: "status", options: .new, context: nil)<br/>                strongSelf.moviePlayer.player?.play()<br/>                strongSelf.moviePlayer.player?.volume = strongSelf.moviePlayerSoundLevel<br/>            }<br/>        }</span><span id="1ff4" class="mp kq hu mk b fv mv mr l ms mt">        public override func observeValue(forKeyPath keyPath: String?, of object: Any?, change: [NSKeyValueChangeKey : Any]?, context: UnsafeMutableRawPointer?) {</span><span id="c89a" class="mp kq hu mk b fv mv mr l ms mt">            guard let player = object as? AVPlayer else {<br/>                super.observeValue(forKeyPath: keyPath, of: object, change: change, context: context)<br/>                return<br/>            }</span><span id="1e31" class="mp kq hu mk b fv mv mr l ms mt">            if player.status == .readyToPlay {<br/>                movieReadyToPlay()<br/>            }<br/>        }</span><span id="5512" class="mp kq hu mk b fv mv mr l ms mt">        deinit{<br/>            moviePlayer.player?.removeObserver(self, forKeyPath: "status")<br/>            NotificationCenter.default.removeObserver(self)<br/>        }</span><span id="0b3a" class="mp kq hu mk b fv mv mr l ms mt">        // Override in subclass<br/>        public func movieReadyToPlay() { }</span><span id="b7c8" class="mp kq hu mk b fv mv mr l ms mt">        func playerItemDidReachEnd() {<br/>            moviePlayer.player?.seek(to: kCMTimeZero)<br/>            moviePlayer.player?.play()<br/>        }</span><span id="189c" class="mp kq hu mk b fv mv mr l ms mt">        func playVideo() {<br/>            moviePlayer.player?.play()<br/>        }</span><span id="c997" class="mp kq hu mk b fv mv mr l ms mt">        func pauseVideo() {<br/>            moviePlayer.player?.pause()<br/>        }<br/>    }</span></pre><p id="3b54" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨åˆ›å»ºå¦ä¸€ä¸ªåä¸º<code class="eh mh mi mj mk b">VideoCutter</code>çš„æ–‡ä»¶ï¼Œå®ƒæ‰©å±•äº†<code class="eh mh mi mj mk b">NSObject</code>å¹¶ç²˜è´´ä»¥ä¸‹å†…å®¹:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="14b8" class="mp kq hu mk b fv mq mr l ms mt">import UIKit<br/>    import AVFoundation</span><span id="3236" class="mp kq hu mk b fv mv mr l ms mt">    extension String {<br/>        var convert: NSString { return (self as NSString) }<br/>    }</span><span id="8f23" class="mp kq hu mk b fv mv mr l ms mt">    public class VideoCutter: NSObject {</span><span id="0c0f" class="mp kq hu mk b fv mv mr l ms mt">        /**<br/>         Block based method for crop video url</span><span id="f99b" class="mp kq hu mk b fv mv mr l ms mt">         @param videoUrl Video url<br/>         @param startTime The starting point of the video segments<br/>         @param duration Total time, video length</span><span id="1dff" class="mp kq hu mk b fv mv mr l ms mt">         */<br/>        public func cropVideoWithUrl(videoUrl url: URL, startTime: CGFloat, duration: CGFloat, completion: ((_ videoPath:URL?, _ error: NSError?) -&gt; Void)?) {</span><span id="996d" class="mp kq hu mk b fv mv mr l ms mt">            DispatchQueue.global().async {</span><span id="78c3" class="mp kq hu mk b fv mv mr l ms mt">                let asset = AVURLAsset(url: url, options: nil)<br/>                var outputPath = NSHomeDirectory()<br/>                let documentPaths = NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, true)<br/>                if (documentPaths.count &gt; 0) {<br/>                    outputPath = documentPaths.first!<br/>                }<br/>                let fileManager = FileManager.default</span><span id="bb27" class="mp kq hu mk b fv mv mr l ms mt">                guard let exportSession = AVAssetExportSession(asset: asset, presetName: "AVAssetExportPresetHighestQuality") else { return }<br/>                let outputFilePath = outputPath.convert.appendingPathComponent("output.mp4")</span><span id="c107" class="mp kq hu mk b fv mv mr l ms mt">                if fileManager.fileExists(atPath: outputFilePath) {<br/>                    do {<br/>                        try fileManager.removeItem(atPath: outputFilePath)<br/>                    } catch let error {<br/>                        print(error)<br/>                    }<br/>                }</span><span id="f4bd" class="mp kq hu mk b fv mv mr l ms mt">                do {<br/>                    try fileManager.createDirectory(atPath:outputPath, withIntermediateDirectories: true, attributes: nil) }<br/>                catch let error {<br/>                    print(error)<br/>                }</span><span id="b7d9" class="mp kq hu mk b fv mv mr l ms mt">                let start = CMTimeMakeWithSeconds(Float64(startTime), 600)<br/>                let duration = CMTimeMakeWithSeconds(Float64(duration), 600)<br/>                let range = CMTimeRangeMake(start, duration)<br/>                let outputURL = URL(fileURLWithPath: outputFilePath)<br/>                exportSession.outputURL = outputURL<br/>                exportSession.timeRange = range<br/>                exportSession.shouldOptimizeForNetworkUse = true<br/>                exportSession.outputFileType = AVFileTypeMPEG4<br/>                exportSession.exportAsynchronously(completionHandler: {<br/>                    switch exportSession.status {<br/>                    case .completed:<br/>                        DispatchQueue.main.async { completion?(exportSession.outputURL, nil) }<br/>                    default:<br/>                        DispatchQueue.main.async { completion?(nil, nil) }<br/>                    }<br/>                })<br/>            }<br/>        }<br/>    }</span></pre><p id="7ba8" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">åœ¨ä¸Šé¢æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„æ–‡ä»¶ä¸­ï¼Œå®ƒåŸºæœ¬ä¸Šå¯ä»¥å¸®åŠ©ä½ ç®¡ç†è§†é¢‘èƒŒæ™¯ï¼Œå¹¶å°†ä½ é€‰æ‹©çš„è§†é¢‘è®¾ç½®ä¸ºèƒŒæ™¯è§†é¢‘ï¼Œå¹¶æ°¸è¿œå¾ªç¯æ’­æ”¾ã€‚è¿™å¯¹äºåº”ç”¨ç¨‹åºç™»å½•é¡µé¢ä¹Ÿå¾ˆæœ‰ç”¨ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬åªæ˜¯æŠŠå®ƒç”¨äºä¸€ä¸ªè™šæ„çš„è§†é¢‘æµã€‚</p><blockquote class="iy iz ja"><p id="b910" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="hu">ğŸ’¡</em> </p></blockquote><p id="08b5" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨ï¼Œæˆ‘ä»¬éœ€è¦åšçš„æœ€åä¸€ä»¶äº‹æ˜¯å‘æˆ‘ä»¬çš„å·¥ä½œåŒºæ·»åŠ ä¸€ä¸ªmp4æ–‡ä»¶ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ æƒ³ä½¿ç”¨çš„mp4æ–‡ä»¶ã€‚å°†è§†é¢‘æ–‡ä»¶<code class="eh mh mi mj mk b">video.mp4</code>æ”¾å…¥å·¥ä½œåŒºï¼Œå¹¶<strong class="je hv">ç¡®ä¿å…¶è¢«å¤åˆ¶</strong>å¹¶æ·»åŠ è‡³åº”ç”¨ç›®æ ‡ã€‚</p><p id="adfc" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å¦‚æœæ‚¨ç°åœ¨æ„å»ºå¹¶é¢„è§ˆæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œæ‚¨åº”è¯¥ä¼šçœ‹åˆ°è§†é¢‘åœ¨åå°å¾ªç¯æ’­æ”¾ã€‚å¤ªå¥½äº†ã€‚</p><h1 id="01f5" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">å‘iOSåº”ç”¨ç¨‹åºæ·»åŠ æµ®åŠ¨å¿ƒå½¢</h1><p id="60f8" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†èƒŒæ™¯ä¸­çš„è§†é¢‘å¾ªç¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦åšçš„æ˜¯ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ æµ®åŠ¨å¿ƒè„åŠŸèƒ½ã€‚åŸºæœ¬ä¸Šï¼Œæ¯æ¬¡æœ‰äººç‚¹å‡»å¿ƒå½¢æŒ‰é’®æ—¶ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªå¿ƒå½¢å›¾æ ‡æµ®åˆ°é¡¶éƒ¨ï¼Œç„¶åæ…¢æ…¢æ¶ˆå¤±ã€‚</p><p id="48bb" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æ‰“å¼€<code class="eh mh mi mj mk b">Main.storyboard</code>æ–‡ä»¶ï¼Œåœ¨å¿ƒè„æŒ‰é’®çš„å³ä¸‹æ–¹ï¼Œæ·»åŠ ä¸€ä¸ªæ²¡æœ‰èƒŒæ™¯çš„è§†å›¾ã€‚è¿™å°†æ˜¯æµ®åŠ¨çš„å¿ƒå°†æ—…è¡Œçš„è§†çª—ã€‚å¯ä»¥åšæˆ250x350å·¦å³çš„é•¿æ–¹å½¢ã€‚</p><p id="2a13" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Githubçš„å¦ä¸€ä¸ª<a class="ae mg" href="https://github.com/ravenshore/iOS-Floaters" rel="noopener ugc nofollow" target="_blank">åº“</a>ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ æµ®åŠ¨å¿ƒå½¢åŠŸèƒ½ã€‚æˆ‘ä»¬å®é™…éœ€è¦çš„æ–‡ä»¶æ˜¯<a class="ae mg" href="https://github.com/ravenshore/iOS-Floaters/blob/master/floaters/Floater.swift" rel="noopener ugc nofollow" target="_blank"> Floater.swift </a>æ–‡ä»¶ã€‚è¯¥åº“è¿˜æ²¡æœ‰ä»»ä½•è½¯ä»¶åŒ…ç®¡ç†å™¨æ¥å®‰è£…å®ƒï¼Œæ‰€ä»¥æˆ‘ä»¬å°†å¤åˆ¶è¯¥æ–‡ä»¶çš„å†…å®¹ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æˆ‘ä»¬å·¥ä½œåŒºçš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</p><p id="73c2" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æˆ‘ä»¬æ­£åœ¨ä½¿ç”¨Swift 3æ„å»ºï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯¹è¯¥ç±»è¿›è¡Œä¸€äº›ä¿®æ”¹ï¼Œæ‰€ä»¥å¦‚æœæ‚¨ä½¿ç”¨Swift 3ï¼Œè¯·å¤åˆ¶å¹¶ç²˜è´´ä¸‹é¢çš„ä»£ç ï¼Œå¦‚æœæ‚¨ä¸ä½¿ç”¨ï¼Œè¯·æŒ‰åŸæ ·ä½¿ç”¨ã€‚åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶<code class="eh mh mi mj mk b">Floater.swift</code>å¹¶æ‰©å±•<code class="eh mh mi mj mk b">UIView</code>å¯¹è±¡ã€‚å°†æ­¤ç²˜è´´åˆ°è¯¾ç¨‹ä¸­:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="0bdb" class="mp kq hu mk b fv mq mr l ms mt">import UIKit</span><span id="bed4" class="mp kq hu mk b fv mv mr l ms mt">    @IBDesignable public class Floater: UIView {</span><span id="6827" class="mp kq hu mk b fv mv mr l ms mt">        var image1: UIImage?<br/>        var image2: UIImage?<br/>        var image3: UIImage?<br/>        var image4: UIImage?</span><span id="8d70" class="mp kq hu mk b fv mv mr l ms mt">        var isAnimating: Bool = false<br/>        var views: [UIView]!<br/>        var duration: TimeInterval = 1.0<br/>        var duration1: TimeInterval = 2.0<br/>        var duration2: TimeInterval = 2.0<br/>        var floatieSize = CGSize(width: 50, height: 50)<br/>        var floatieDelay: Double = 10<br/>        var delay: Double = 10.0<br/>        var startingAlpha: CGFloat = 1.0<br/>        var endingAlpha: CGFloat = 0.0<br/>        var upwards: Bool = true<br/>        var remove: Bool = true</span><span id="f4dd" class="mp kq hu mk b fv mv mr l ms mt">        @IBInspectable var removeAtEnd: Bool = true {<br/>            didSet {<br/>                remove = removeAtEnd<br/>            }<br/>        }<br/>        @IBInspectable var FloatingUp: Bool = true {<br/>            didSet {<br/>                upwards = FloatingUp<br/>            }<br/>        }<br/>        @IBInspectable var alphaAtStart: CGFloat = 1.0 {<br/>            didSet {<br/>                startingAlpha = alphaAtStart<br/>            }<br/>        }<br/>        @IBInspectable var alphaAtEnd: CGFloat = 0.0 {<br/>            didSet {<br/>                endingAlpha = alphaAtEnd<br/>            }<br/>        }<br/>        @IBInspectable var rotationSpeed: Double = 10 {<br/>            didSet {<br/>                duration2 = 20 / rotationSpeed<br/>            }<br/>        }<br/>        @IBInspectable var density: Double = 10 {<br/>            didSet {<br/>                floatieDelay = 1 / density<br/>            }<br/>        }<br/>        @IBInspectable var delayedStart: Double = 10 {<br/>            didSet {<br/>                delay = delayedStart<br/>            }<br/>        }<br/>        @IBInspectable var speedY: CGFloat = 10 {<br/>            didSet {<br/>                duration = Double(10/speedY)<br/>            }<br/>        }<br/>        @IBInspectable var speedX: CGFloat = 5 {<br/>            didSet {<br/>                duration1 = Double(10/speedX)<br/>            }<br/>        }<br/>        @IBInspectable var floatieWidth: CGFloat = 50 {<br/>            didSet {<br/>                floatieSize.width = floatieWidth<br/>            }<br/>        }<br/>        @IBInspectable var floatieHeight: CGFloat = 50 {<br/>            didSet {<br/>                floatieSize.height = floatieHeight<br/>            }<br/>        }<br/>        @IBInspectable var borderColor: UIColor = UIColor.clear {<br/>            didSet {<br/>                layer.borderColor = borderColor.cgColor<br/>            }<br/>        }</span><span id="0721" class="mp kq hu mk b fv mv mr l ms mt">        @IBInspectable var borderWidth: CGFloat = 0 {<br/>            didSet {<br/>                layer.borderWidth = borderWidth<br/>            }<br/>        }</span><span id="e8c6" class="mp kq hu mk b fv mv mr l ms mt">        @IBInspectable var cornerRadius: CGFloat = 0 {<br/>            didSet {<br/>                layer.cornerRadius = cornerRadius<br/>            }<br/>        }</span><span id="e7c9" class="mp kq hu mk b fv mv mr l ms mt">        @IBInspectable var floaterImage1: UIImage? {<br/>            didSet {<br/>                image1 = floaterImage1<br/>            }<br/>        }<br/>        @IBInspectable var floaterImage2: UIImage? {<br/>            didSet {<br/>                image2 = floaterImage2<br/>            }<br/>        }<br/>        @IBInspectable var floaterImage3: UIImage? {<br/>            didSet {<br/>                image3 = floaterImage3<br/>            }<br/>        }<br/>        @IBInspectable var floaterImage4: UIImage? {<br/>            didSet {<br/>                image4 = floaterImage4<br/>            }<br/>        }</span><span id="6644" class="mp kq hu mk b fv mv mr l ms mt">        override public func awakeFromNib() {<br/>            super.awakeFromNib()<br/>        }</span><span id="6564" class="mp kq hu mk b fv mv mr l ms mt">        func startAnimation() {<br/>            print("Start Animating")<br/>            isAnimating = true<br/>            views = []<br/>            var imagesArray = [UIImage?]()<br/>            var actualImages = [UIImage]()<br/>            let frameW = self.frame.width<br/>            let frameH = self.frame.height<br/>            var startingPoint: CGFloat!<br/>            var endingPoint: CGFloat!<br/>            if upwards {<br/>                startingPoint = frameH<br/>                endingPoint = floatieHeight*2<br/>            } else {<br/>                startingPoint = 0<br/>                endingPoint = frameH - floatieHeight*2<br/>            }<br/>            imagesArray += [image1, image2, image3, image4]<br/>            if !imagesArray.isEmpty {<br/>                for i in imagesArray {<br/>                    if i != nil {<br/>                        actualImages.append(i!)<br/>                    }<br/>                }<br/>            }</span><span id="96eb" class="mp kq hu mk b fv mv mr l ms mt">            let deadlineTime = DispatchTime.now() + .seconds(Int(self.delay * Double(NSEC_PER_SEC)))</span><span id="4491" class="mp kq hu mk b fv mv mr l ms mt">            DispatchQueue.global().asyncAfter(deadline: deadlineTime, execute: {<br/>                var goToNext = true<br/>                while self.isAnimating {<br/>                    if goToNext {<br/>                        goToNext = false</span><span id="4bdf" class="mp kq hu mk b fv mv mr l ms mt">                        DispatchQueue.main.asyncAfter(deadline: .now()+0.3, execute: {<br/>                            let randomNumber = self.randomIntBetweenNumbers(firstNum:1, secondNum: 2)<br/>                            var randomRotation: CGFloat!<br/>                            if randomNumber == 1 {<br/>                                randomRotation = -1<br/>                            } else {<br/>                                randomRotation = 1<br/>                            }<br/>                            let randomX = self.randomFloatBetweenNumbers(firstNum: 0 + self.floatieSize.width/2, secondNum: self.frame.width - self.floatieSize.width/2)<br/>                            let floatieView = UIView(frame: CGRect(x: randomX, y: startingPoint, width: 50, height: 50))<br/>                            self.addSubview(floatieView)</span><span id="71a8" class="mp kq hu mk b fv mv mr l ms mt">                            let floatie = UIImageView(frame: CGRect(x: 0, y: 0, width: self.floatieSize.width, height: self.floatieSize.height))</span><span id="95ff" class="mp kq hu mk b fv mv mr l ms mt">                            if !actualImages.isEmpty {</span><span id="31ef" class="mp kq hu mk b fv mv mr l ms mt">                                let randomImageIndex = (self.randomIntBetweenNumbers(firstNum: 1, secondNum: actualImages.count) - 1 )<br/>                                floatie.image = actualImages[randomImageIndex]<br/>                                floatie.center = CGPoint(x: 0, y: 0)<br/>                                floatie.backgroundColor = UIColor.clear<br/>                                floatie.layer.zPosition = 10<br/>                                floatie.alpha = self.startingAlpha</span><span id="8072" class="mp kq hu mk b fv mv mr l ms mt">                                floatieView.addSubview(floatie)<br/>                                var xChange: CGFloat!<br/>                                if randomX &lt; self.frame.width/2 {<br/>                                    xChange = randomX + self.randomFloatBetweenNumbers(firstNum: randomX, secondNum: frameW-randomX)<br/>                                } else {<br/>                                    xChange = self.randomFloatBetweenNumbers(firstNum: self.floatieSize.width*2, secondNum: randomX)<br/>                                }<br/></span><span id="5fcc" class="mp kq hu mk b fv mv mr l ms mt">                                self.views.append(floatieView)<br/>                                UIView.animate(withDuration: self.duration, delay: 0,<br/>                                               options: [], animations: {<br/>                                                floatieView.center.y = endingPoint<br/>                                                floatie.alpha = self.endingAlpha<br/>                                                goToNext = false<br/>                                }, completion: {(value: Bool) in<br/>                                    if self.remove {<br/>                                        floatieView.removeFromSuperview()<br/>                                    }<br/>                                })<br/>                                UIView.animate(withDuration: self.duration1, delay: 0,<br/>                                               options: [.repeat, .autoreverse], animations: {<br/>                                                floatieView.center.x = xChange<br/>                                }, completion: nil)<br/>                                UIView.animate(withDuration: self.duration2, delay: 0, options: [.repeat, .autoreverse], animations: {                 floatieView.transform = CGAffineTransform(rotationAngle: CGFloat(M_PI_2)*randomRotation)<br/>                                }, completion: nil)<br/>                            }<br/>                        })<br/>                    }<br/>                }<br/>            })<br/>        }</span><span id="12ab" class="mp kq hu mk b fv mv mr l ms mt">        func stopAnimation() {<br/>            print("Stop Animating")<br/>            views = []<br/>            isAnimating = false<br/>            if !views.isEmpty {<br/>                for i in views {<br/>                    i.removeFromSuperview()<br/>                }<br/>            }<br/>        }</span><span id="7147" class="mp kq hu mk b fv mv mr l ms mt">        func randomFloatBetweenNumbers(firstNum: CGFloat, secondNum: CGFloat) -&gt; CGFloat{<br/>            return CGFloat(arc4random()) / CGFloat(UINT32_MAX) * abs(firstNum - secondNum) + min(firstNum, secondNum)<br/>        }</span><span id="be3a" class="mp kq hu mk b fv mv mr l ms mt">        func randomIntBetweenNumbers(firstNum: Int, secondNum: Int) -&gt; Int{<br/>            return firstNum + Int(arc4random_uniform(UInt32(secondNum - firstNum + 1)))<br/>        }<br/>    }</span></pre><p id="9cf5" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å½“è°ƒç”¨<code class="eh mh mi mj mk b">startAnimation</code>æ–¹æ³•æ—¶ï¼Œè¿™ä¸ªåº“ç®€å•åœ°åˆ›å»ºä¸€ä¸ªæµ®åŠ¨çš„å¿ƒï¼Œå½“è°ƒç”¨<code class="eh mh mi mj mk b">stopAnimation</code>æ–¹æ³•æ—¶ï¼Œå®ƒåœæ­¢ã€‚ç°åœ¨æ–‡ä»¶å·²ç»åˆ›å»ºå¥½äº†ï¼Œæ‰“å¼€æ‚¨çš„<code class="eh mh mi mj mk b">Main.storyboard</code>æ–‡ä»¶å¹¶å°†<code class="eh mh mi mj mk b">Floater.swift</code>è§†å›¾æ·»åŠ åˆ°æˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„æµ®åŠ¨è§†å›¾ä¸­ã€‚è¿™åº”è¯¥ä¼šåœ¨è¾¹æ ä¸­æ·»åŠ ä¸€äº›æ–°çš„é€‰é¡¹ã€‚è¿™äº›é€‰é¡¹æºäºæ·»åŠ åˆ°<code class="eh mh mi mj mk b">Floater.swift</code>ç±»çš„<code class="eh mh mi mj mk b">@IBDesignable</code>å’Œ<code class="eh mh mi mj mk b">@IBInspectable</code>ã€‚</p><blockquote class="iy iz ja"><p id="ad82" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="hu">ğŸ’¡</em><code class="eh mh mi mj mk b"><em class="hu">**IBDesignable**</em></code><em class="hu"/><strong class="je hv"><em class="hu"/></strong><em class="hu"/><code class="eh mh mi mj mk b"><em class="hu">**IBInspectable**</em></code><em class="hu"/><strong class="je hv"><em class="hu">ï¼Œä¸€ç§åˆ›å»ºè‡ªå®šä¹‰å…ƒç´ å’Œå±æ€§çš„æ–¹å¼ã€‚è¿™å¯ä»¥ç›´æ¥æ·»åŠ åˆ°iOSç•Œé¢ç”Ÿæˆå™¨ä¸­ã€‚</em></strong><em class="hu"/><a class="ae mg" rel="noopener" href="/@Anantha1992/ibdesignable-and-ibinspectable-in-swift-3-702d7dd00ca"><strong class="je hv"><em class="hu">é˜…è¯»æ›´å¤šå…³äºIBDesignableå’ŒIBInspectable</em></strong></a><strong class="je hv"><em class="hu">ã€‚</em> </strong></p></blockquote><p id="8574" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨ï¼Œåœ¨æ–°çš„é€‰é¡¹å­—æ®µä¸­ï¼Œæ·»åŠ ä»¥ä¸‹å€¼:</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mu"><img src="../Images/c6f3b08702f493abbfbb9253fd16a068.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*QLPwGbgM2dtTyasz.png"/></div></div></figure><p id="87bf" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å¯¹äºæµ®åŠ¨å›¾åƒï¼Œå°†30x30å¿ƒå½¢å›¾åƒæ·»åŠ åˆ°æ‚¨çš„å·¥ä½œåŒºï¼Œç„¶ååœ¨æµ®åŠ¨å›¾åƒéƒ¨åˆ†é€‰æ‹©å®ƒã€‚</p><p id="de12" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨æ‰“å¼€<code class="eh mh mi mj mk b">ViewController</code>å¹¶æ·»åŠ ä»¥ä¸‹æ–¹æ³•:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="b0ca" class="mp kq hu mk b fv mq mr l ms mt">@IBOutlet weak var floaterView: Floater!</span><span id="93e7" class="mp kq hu mk b fv mv mr l ms mt">    private func startEndAnimation() {<br/>        floaterView.startAnimation()<br/>        DispatchQueue.main.asyncAfter(deadline: .now() + 1, execute: {<br/>            self.floaterView.stopAnimation()<br/>        })<br/>    }</span></pre><p id="6921" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨ä»<code class="eh mh mi mj mk b">hearted</code>æ–¹æ³•ä¸­è°ƒç”¨<code class="eh mh mi mj mk b">startEndAnimation</code>ï¼Œè¿™æ ·å½“æŒ‰é’®è¢«æŒ‰ä¸‹æ—¶å®ƒå°±ä¼šè¢«è°ƒç”¨ã€‚ç¡®ä¿<code class="eh mh mi mj mk b">@IBOutlet floaterView</code>é“¾æ¥åˆ°æˆ‘ä»¬åœ¨æœ¬æ–‡å‰é¢åˆ›å»ºçš„è§†å›¾ç«¯å£ã€‚ç°åœ¨ï¼Œå½“æ‚¨æ„å»ºå’Œé¢„è§ˆæ—¶ï¼Œæ¯æ¬¡å•å‡»æŒ‰é’®æ—¶ï¼Œæ‚¨éƒ½åº”è¯¥çœ‹åˆ°å¿ƒå½¢æµ®åŠ¨ã€‚</p><h1 id="f8fa" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">ä½¿ç”¨Pusherä¸ºæˆ‘ä»¬çš„æµ®åŠ¨å¿ƒè„æ·»åŠ å®æ—¶åŠŸèƒ½</h1><p id="1760" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">ç°åœ¨æˆ‘ä»¬å·²ç»æˆåŠŸåœ°æ·»åŠ äº†æµ®åŠ¨å¿ƒè„ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯ä½¿ç”¨Pusheræ·»åŠ å®æ—¶åŠŸèƒ½ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰ï¼Œ<a class="ae mg" href="https://pusher.com" rel="noopener ugc nofollow" target="_blank">åˆ›å»ºä¸€ä¸ªæ¨é€è´¦æˆ·</a>ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„åº”ç”¨ç¨‹åºï¼Œå¹¶åœ¨éœ€è¦æ—¶å¤åˆ¶å‡­è¯ã€‚</p><p id="384e" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æ‰“å¼€<code class="eh mh mi mj mk b">ViewController</code>ï¼Œåœ¨é‚£é‡Œæ·»åŠ å¦‚ä¸‹å†…å®¹:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="2c06" class="mp kq hu mk b fv mq mr l ms mt">static let API_ENDPOINT = "http://localhost:4000";</span><span id="645a" class="mp kq hu mk b fv mv mr l ms mt">    var pusher : Pusher!</span><span id="64ac" class="mp kq hu mk b fv mv mr l ms mt">    let deviceUuid : String = UIDevice.current.identifierForVendor!.uuidString</span><span id="9b00" class="mp kq hu mk b fv mv mr l ms mt">    private func listenForNewLikes() {<br/>        pusher = Pusher(key: "PUSHER_KEY", options: PusherClientOptions(host: .cluster("PUSHER_CLUSTER")))</span><span id="fcbc" class="mp kq hu mk b fv mv mr l ms mt">        let channel = pusher.subscribe("likes")<br/>        let _ = channel.bind(eventName: "like", callback: { (data: Any?) -&gt; Void in<br/>            if let data = data as? [String: AnyObject] {<br/>                let uuid = data["uuid"] as! String</span><span id="60cd" class="mp kq hu mk b fv mv mr l ms mt">                if uuid != self.deviceUuid {<br/>                    self.startEndAnimation()<br/>                }<br/>            }<br/>        })<br/>        pusher.connect()<br/>    }</span><span id="e2ea" class="mp kq hu mk b fv mv mr l ms mt">    private func postLike() {<br/>        let params: Parameters = ["uuid": deviceUuid]</span><span id="5b41" class="mp kq hu mk b fv mv mr l ms mt">        Alamofire.request(ViewController.API_ENDPOINT + "/like", method: .post, parameters: params).validate().responseJSON { response in<br/>            switch response.result {</span><span id="a3e6" class="mp kq hu mk b fv mv mr l ms mt">            case .success:<br/>                print("Liked")<br/>            case .failure(let error):<br/>                print(error)<br/>            }<br/>        }<br/>    }</span></pre><p id="3ba8" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">é¦–å…ˆï¼Œæˆ‘ä»¬å®šä¹‰ä¸€äº›ç±»å±æ€§ï¼Œç”¨äºå­˜å‚¨APIç«¯ç‚¹åŸºæœ¬URLã€æ¨é€å™¨å®ä¾‹å’Œè®¾å¤‡UUIDã€‚åœ¨<code class="eh mh mi mj mk b">listenForNewLikes</code>ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªä¾¦å¬å™¨ï¼Œå®ƒç­‰å¾…Pusherå‘é€çš„äº‹ä»¶ï¼Œç„¶ååœ¨æ¥æ”¶åˆ°äº‹ä»¶æ—¶è§¦å‘ä¸€ä¸ªå›è°ƒã€‚æˆ‘ä»¬å°†ç”¨å®ƒæ¥è§¦å‘æµ®åŠ¨çº¢å¿ƒ<code class="eh mh mi mj mk b">startAndEndAnimation</code>æ–¹æ³•ã€‚åœ¨<code class="eh mh mi mj mk b">postLike</code>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨<code class="eh mh mi mj mk b">AlamoFire</code>æ¥è¾¾åˆ°ä¸€ä¸ªç«¯ç‚¹(æˆ‘ä»¬å°†åœ¨æ¥ä¸‹æ¥åˆ›å»ºå®ƒ)ã€‚ç«¯ç‚¹å°†æ˜¯æˆ‘ä»¬å‘Pusherå‘é€â€œlikeâ€äº‹ä»¶çš„åœ°æ–¹ï¼Œè¿™æ ·å®ƒä»¬å°±å¯ä»¥è¢«å¹¿æ’­ç»™é€šé“ä¸Šçš„å…¶ä»–ä¾¦å¬å™¨ã€‚</p><p id="8f2d" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œæ‚¨çš„<code class="eh mh mi mj mk b">ViewController</code>ç°åœ¨åº”è¯¥æ˜¯è¿™æ ·çš„:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="86f9" class="mp kq hu mk b fv mq mr l ms mt">import UIKit<br/>    import PusherSwift<br/>    import Alamofire</span><span id="5270" class="mp kq hu mk b fv mv mr l ms mt">    class ViewController: VideoSplashViewController {</span><span id="fb54" class="mp kq hu mk b fv mv mr l ms mt">        @IBOutlet weak var floaterView: Floater!</span><span id="c7a1" class="mp kq hu mk b fv mv mr l ms mt">        static let API_ENDPOINT = "http://localhost:4000";</span><span id="8b90" class="mp kq hu mk b fv mv mr l ms mt">        var pusher : Pusher!</span><span id="c9b4" class="mp kq hu mk b fv mv mr l ms mt">        let deviceUuid : String = UIDevice.current.identifierForVendor!.uuidString</span><span id="fea2" class="mp kq hu mk b fv mv mr l ms mt">        override func viewDidLoad() {<br/>            super.viewDidLoad()<br/>            loadVideoStreamSample()<br/>            listenForNewLikes()<br/>        }</span><span id="1625" class="mp kq hu mk b fv mv mr l ms mt">        @IBAction func hearted(_ sender: Any) {<br/>            postLike()<br/>            startEndAnimation()<br/>        }</span><span id="6260" class="mp kq hu mk b fv mv mr l ms mt">        private func startEndAnimation() {<br/>            floaterView.startAnimation()<br/>            DispatchQueue.main.asyncAfter(deadline: .now() + 1, execute: {<br/>                self.floaterView.stopAnimation()<br/>            })<br/>        }</span><span id="61a6" class="mp kq hu mk b fv mv mr l ms mt">        private func listenForNewLikes() {<br/>            pusher = Pusher(key: "PUSHER_KEY", options: PusherClientOptions(host: .cluster("PUSHER_CLUSTER")))</span><span id="53ee" class="mp kq hu mk b fv mv mr l ms mt">            let channel = pusher.subscribe("likes")<br/>            let _ = channel.bind(eventName: "like", callback: { (data: Any?) -&gt; Void in<br/>                if let data = data as? [String: AnyObject] {<br/>                    let uuid = data["uuid"] as! String</span><span id="ed6a" class="mp kq hu mk b fv mv mr l ms mt">                    if uuid != self.deviceUuid {<br/>                        self.startEndAnimation()<br/>                    }<br/>                }<br/>            })<br/>            pusher.connect()<br/>        }</span><span id="213d" class="mp kq hu mk b fv mv mr l ms mt">        private func postLike() {<br/>            let params: Parameters = ["uuid": deviceUuid]</span><span id="52ae" class="mp kq hu mk b fv mv mr l ms mt">            Alamofire.request(ViewController.API_ENDPOINT + "/like", method: .post, parameters: params).validate().responseJSON { response in<br/>                switch response.result {</span><span id="1de3" class="mp kq hu mk b fv mv mr l ms mt">                case .success:<br/>                    print("Liked")<br/>                case .failure(let error):<br/>                    print(error)<br/>                }<br/>            }<br/>        }</span><span id="b9a6" class="mp kq hu mk b fv mv mr l ms mt">        private func loadVideoStreamSample() {<br/>            let url = NSURL.fileURL(withPath: Bundle.main.path(forResource: "video", ofType: "mp4")!)<br/>            self.videoFrame = view.frame<br/>            self.fillMode = .resizeAspectFill<br/>            self.alwaysRepeat = true<br/>            self.sound = true<br/>            self.startTime = 0.0<br/>            self.duration = 10.0<br/>            self.alpha = 0.7<br/>            self.backgroundColor = UIColor.black<br/>            self.contentURL = url<br/>            self.restartForeground = true<br/>        }</span><span id="98b1" class="mp kq hu mk b fv mv mr l ms mt">        override var prefersStatusBarHidden: Bool {<br/>            return true<br/>        }  <br/>    }</span></pre><blockquote class="iy iz ja"><p id="f8df" class="jb jc jd je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="hu"> âš ï¸ </em> </p></blockquote><p id="4c64" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">è¿™åº”è¯¥å¯ä»¥è§£å†³Xcodeæ–¹é¢çš„é—®é¢˜ã€‚ç°åœ¨æˆ‘ä»¬éœ€è¦ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªåç«¯åº”ç”¨ç¨‹åºã€‚è¿™ä¸ªåç«¯åº”ç”¨ç¨‹åºå°†ä»åº”ç”¨ç¨‹åºæ¥æ”¶æœ‰æ•ˆè½½è·ï¼Œå¹¶å°†å…¶å‘é€åˆ°Pusherã€‚</p><h1 id="cb8d" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">ä¸ºæˆ‘ä»¬çš„å®æ—¶æµ®åŠ¨å¿ƒè„åº”ç”¨ç¨‹åºåˆ›å»ºNode.jsåç«¯</h1><p id="7958" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">ä¸ºwebåº”ç”¨ç¨‹åºåˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œç„¶ååˆ›å»ºä¸¤ä¸ªæ–°æ–‡ä»¶:</p><p id="1504" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated"><strong class="je hv"> index.js </strong>æ–‡ä»¶â€¦</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="312f" class="mp kq hu mk b fv mq mr l ms mt">let Pusher     = require('pusher');<br/>    let express    = require('express');<br/>    let app        = express();<br/>    let bodyParser = require('body-parser')<br/>    let pusher     = new Pusher(require('./config.js')['config']);</span><span id="6070" class="mp kq hu mk b fv mv mr l ms mt">    app.use(bodyParser.json());<br/>    app.use(bodyParser.urlencoded({ extended: false }));</span><span id="36d1" class="mp kq hu mk b fv mv mr l ms mt">    app.post('/like', (req, res, next) =&gt; {<br/>      let payload = {uuid: req.body.uuid}<br/>      pusher.trigger('likes', 'like', payload)<br/>      res.json({success: 200})<br/>    })</span><span id="2c0b" class="mp kq hu mk b fv mv mr l ms mt">    app.get('/', (req, res) =&gt; {<br/>      res.json("It works!");<br/>    });</span><span id="7de1" class="mp kq hu mk b fv mv mr l ms mt">    app.use((req, res, next) =&gt; {<br/>        let err = new Error('Not Found');<br/>        err.status = 404;<br/>        next(err);<br/>    });</span><span id="8538" class="mp kq hu mk b fv mv mr l ms mt">    app.listen(4000, function() {<br/>        console.log('App listening on port 4000!')<br/>    });</span></pre><p id="20d3" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated"><code class="eh mh mi mj mk b">index.js</code>æ–‡ä»¶ä¹Ÿæœ‰ä¸€ä¸ªè·¯ç”±ï¼Œå®ƒä»iOSåº”ç”¨ç¨‹åºæ¥æ”¶æ¶ˆæ¯å¹¶è§¦å‘åº”ç”¨ç¨‹åºè·å–çš„Pusheräº‹ä»¶ã€‚</p><p id="c734" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ä¸‹ä¸€ä¸ªæ–‡ä»¶æ˜¯<strong class="je hv"> packages.json </strong>ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å®šä¹‰äº†NPMä¾èµ–é¡¹:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="08ab" class="mp kq hu mk b fv mq mr l ms mt">{<br/>      "main": "index.js",<br/>      "dependencies": {<br/>        "body-parser": "^1.16.0",<br/>        "express": "^4.14.1",<br/>        "pusher": "^1.5.1"<br/>      }<br/>    }</span></pre><p id="3634" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">æœ€åï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª<strong class="je hv"> config.js </strong>ï¼Œæˆ‘ä»¬å°†åœ¨å…¶ä¸­æ”¾ç½®æˆ‘ä»¬çš„Pusheré…ç½®:</p><pre class="ke kf kg kh fq ml mk mm mn aw mo dt"><span id="2d76" class="mp kq hu mk b fv mq mr l ms mt">module.exports = {<br/>        appId: 'PUSHER_ID',<br/>        key: 'PUSHER_KEY',<br/>        secret: 'PUSHER_SECRET',<br/>        cluster: 'PUSHER_CLUSTER',<br/>    };</span></pre><p id="aee9" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">ç°åœ¨åœ¨ç›®å½•ä¸Šè¿è¡Œ<code class="eh mh mi mj mk b">npm install</code>ï¼Œç„¶ååœ¨npmå®‰è£…å®Œæˆåè¿è¡Œ<code class="eh mh mi mj mk b">node index.js</code>ã€‚ä½ åº”è¯¥çœ‹åˆ°<em class="jd"> Appç›‘å¬ç«¯å£4000ï¼</em>æ¶ˆæ¯ã€‚</p><h1 id="ee04" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">æµ‹è¯•æˆ‘ä»¬çš„æµ®åŠ¨å¿ƒè„åº”ç”¨ç¨‹åº</h1><p id="c975" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">ä¸€æ—¦æ‚¨çš„æœ¬åœ°èŠ‚ç‚¹webæœåŠ¡å™¨å¼€å§‹è¿è¡Œï¼Œæ‚¨å°†éœ€è¦è¿›è¡Œä¸€äº›æ›´æ”¹ï¼Œä»¥ä¾¿æ‚¨çš„åº”ç”¨ç¨‹åºå¯ä»¥ä¸æœ¬åœ°webæœåŠ¡å™¨é€šä¿¡ã€‚åœ¨<code class="eh mh mi mj mk b">info.plist</code>æ–‡ä»¶ä¸­ï¼Œè¿›è¡Œå¦‚ä¸‹ä¿®æ”¹:</p><figure class="ke kf kg kh fq ki fe ff paragraph-image"><div role="button" tabindex="0" class="kj kk di kl bf km"><div class="fe ff mw"><img src="../Images/ec29220f4b5059f3606a9c15324fbb3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aGsTY9smkN2x0wOY.png"/></div></div></figure><p id="35e5" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">é€šè¿‡è¿™ä¸€æ›´æ”¹ï¼Œæ‚¨å¯ä»¥æ„å»ºå¹¶è¿è¡Œæ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå®ƒå°†ç›´æ¥ä¸æ‚¨çš„æœ¬åœ°webåº”ç”¨ç¨‹åºå¯¹è¯ã€‚</p><h1 id="5e30" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">ç»“è®º</h1><p id="9f2b" class="pw-post-body-paragraph jb jc hu je b jf ln jh ji jj lo jl jm ka lp jp jq kb lq jt ju kc lr jx jy jz hn dt translated">åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿå¤åˆ¶åƒè„¸ä¹¦ã€Instagramã€Periscopeç­‰åº”ç”¨ç¨‹åºæ‰€å…·æœ‰çš„æµ®åŠ¨å¿ƒè„åŠŸèƒ½ã€‚æ‚¨å¯ä»¥ä»¥æ­¤ä¸ºåŸºç¡€ï¼Œå°†å®é™…åŠŸèƒ½æ‰©å±•åˆ°æ‚¨è‡ªå·±çš„å·¥ä½œåº”ç”¨ç¨‹åºä¸­ã€‚</p><p id="f79d" class="pw-post-body-paragraph jb jc hu je b jf jg jh ji jj jk jl jm ka jo jp jq kb js jt ju kc jw jx jy jz hn dt translated">è¿™ç¯‡æ–‡ç« æœ€åˆå‘è¡¨åœ¨<a class="ae mg" href="https://pusher.com/tutorials/floating-hearts-swift/" rel="noopener ugc nofollow" target="_blank">æ¨é€å™¨</a>ä¸Š</p></div></div>    
</body>
</html>