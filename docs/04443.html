<html>
<head>
<title>RESTful Web Services in Drupal 8 quick start guide</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Drupal 8快速入门指南中的RESTful Web服务</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/restful-web-services-in-drupal-8-quick-start-guide-354494c0fb31?source=collection_archive---------1-----------------------#2018-05-26">https://medium.com/hackernoon/restful-web-services-in-drupal-8-quick-start-guide-354494c0fb31?source=collection_archive---------1-----------------------#2018-05-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/5ea05b05568e399c27f86fdc9ee852e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*88tQ3KJWBleynFfu.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://goo.gl/64GGKj" rel="noopener ugc nofollow" target="_blank">By ADCI Solutions</a></figcaption></figure><p id="e495" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">无头Drupal 是过去几年中最激动人心的话题之一，吸引了许多人的注意力。这种现象与另一个流行术语<strong class="jj hv"> RESTful API </strong>(也被称为<strong class="jj hv"> web服务</strong>)密切相关。它为我们作为开发人员提供了广泛的新能力。我们将了解web服务的本质，它们是如何工作的，以及如何使用它们，浏览可用工具的列表。在文章的最后，我们将使用Drupal 8 Core REST API创建一个节点。因此，让我们试着处理所有这些花哨的词语，并确定它如何帮助我们使我们的网站变得更好。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><h1 id="1e09" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">什么是Web服务？</h1><h2 id="28d9" class="lk kn hu bd ko ll lm ln ks lo lp lq kw js lr ls la jw lt lu le ka lv lw li lx dt translated">关于物联网、移动应用和其他东西的一些信息</h2><p id="572e" class="pw-post-body-paragraph jh ji hu jj b jk ly jm jn jo lz jq jr js ma ju jv jw mb jy jz ka mc kc kd ke hn dt translated">假设您有两台连接到互联网的计算机，它们位于不同的大陆。为了相互交流，他们需要一种统一的语言。这是一个关键web服务是两台计算机进行交互的标准化方式。在物联网时代，任何连接到互联网的东西都可以是电脑(甚至是你的微波炉)。</p><p id="b9a2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">因此，计算机或设备可以使用相同的API(一种应用程序接口)来相互理解和交互，而无需任何人工干预。我们可以在日常生活中使用API，但并不知道这一点(例如，当我们将手机连接到电脑时)。</p><p id="72ec" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，您的移动应用程序可以与Drupal site通信来创建一个节点，或者更改和删除一个现有的节点。它是这样工作的:使用REST API，移动应用程序发出请求，Drupal站点用外部应用程序可以使用的结构化数据(例如JSON)做出响应。因此，外部应用程序可以是一个JavaScript框架，用于网站显示的前端，但所有后端逻辑仍然属于Drupal。甚至更多…</p><p id="708a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">REST只是让Web服务工作的另一种方式。还有其他格式，如XML-RPC、SOAP等。</p><p id="c481" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们来看看Drupal 8的休息能力。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><h1 id="f018" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">Drupal 8中的Web服务</h1><p id="8685" class="pw-post-body-paragraph jh ji hu jj b jk ly jm jn jo lz jq jr js ma ju jv jw mb jy jz ka mc kc kd ke hn dt translated">在Drupal 8中，Web服务是开箱即用的。这意味着您不需要下载额外的模块，所有必要的工具都已经在核心中实现，包括以下模块:</p><ul class=""><li id="500d" class="md me hu jj b jk jl jo jp js mf jw mg ka mh ke mi mj mk ml dt translated">RESTful Web服务(rest):提供RESTful API，允许您与任何内容实体(如节点、评论、用户)进行交互。取决于序列化模块。</li><li id="d3d5" class="md me hu jj b jk mm jo mn js mo jw mp ka mq ke mi mj mk ml dt translated">序列化(Serialization ):一种服务，用于将数据序列化为格式或从格式转换为格式，如JSON或XML。</li><li id="1a7d" class="md me hu jj b jk mm jo mn js mo jw mp ka mq ke mi mj mk ml dt translated">超文本应用语言(hal): HAL是一种超媒体格式，是Drupal 8核心中的主要格式。可以用JSON或XML编码。</li><li id="5f5e" class="md me hu jj b jk mm jo mn js mo jw mp ka mq ke mi mj mk ml dt translated">HTTP基本认证(basic_auth):提供基本的用户认证。</li></ul></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><h1 id="13e5" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">例子</h1><blockquote class="mr ms mt"><p id="2637" class="jh ji mu jj b jk jl jm jn jo jp jq jr mv jt ju jv mw jx jy jz mx kb kc kd ke hn dt translated"><em class="hu">最简短的回答是做事情。——欧内斯特·海明威。</em></p></blockquote><p id="749d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">首先，您需要启用上面列出的模块。借助REST模块，您可以轻松地对节点实体资源进行获取、发布、删除和修补操作。</p><p id="2317" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">关于HTTP请求方法的一些话:当你在你喜欢的web浏览器中打开一个页面时，它使用GET方法来读取一个资源，检索数据并返回给你。如果您想在服务器上创建资源，您需要使用POST。DELETE方法删除指定的资源。补丁用于更新。</p><p id="673c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这些是帮助我们与Drupal站点上的实体进行交互的基本方法。要使用它们，你需要安装一个浏览器扩展。为此，我使用了<strong class="jj hv"> Restlet客户端</strong> — DHC。我的Drupal版本是8.2.6。</p><p id="4a3c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我们试着创建一个节点。在请求体中，我们设置所创建节点的类型和标题。Content-Type头设置为application/hal+json。以下是发布到URL/实体/节点的样子:</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="977e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> Restlet客户端:</strong></p><figure class="mz na nb nc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/9c6e615ddc03cb2051a73fffe54dd9f0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Rlhs2Xtw_XxW3RQg.png"/></div></div></figure><p id="dd6f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> cURL(命令行):</strong></p><p id="f697" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">卷曲—包含\</p><p id="4a12" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">—请求发布\</p><p id="d509" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">—用户管理员:机密\</p><p id="88ac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">— header '内容类型:应用程序/hal+json' \</p><p id="4d63" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">— header 'X-CSRF令牌:<obtained from="" http:=""> ' \</obtained></p><p id="2bcb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">http://example.com/entity/node?_format=hal_json</p><p id="617c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">—data-binary ' { " _ links ":{ " type ":{ " href ":" http://Drupal 8 . dev/rest/type/node/article " } }，" title":[{"value ":"我的第一篇文章" }]，" type ":[{ " target _ id ":" article " }]} '</p><p id="3efa" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">让我注意一下关于CSRF令牌的一些事情:您可以通过对rest/session/token的get请求来获得这个令牌，并将其与您的POST请求一起发送。</p><p id="6bff" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果操作正确，您应该会看到漂亮的绿色201创建响应。</p><figure class="mz na nb nc fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff my"><img src="../Images/f6ee6b64e06c84d8bb296dc6e8aa27bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Hu3FfYhwmdIXy3UL.png"/></div></div></figure></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><h1 id="206e" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">结论</h1><p id="f917" class="pw-post-body-paragraph jh ji hu jj b jk ly jm jn jo lz jq jr js ma ju jv jw mb jy jz ka mc kc kd ke hn dt translated">现在，您应该已经了解了Drupal 8中的REST Web服务，以及如何通过REST API操作基本的Drupal实体，比如节点。这仅仅是开始。希望这些知识对你自己的进一步探索有所帮助。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="cf2d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="mu">原发布于</em><a class="ae jg" href="https://goo.gl/FQJYaQ" rel="noopener ugc nofollow" target="_blank"><em class="mu">ADCI解决方案网站</em> </a> <em class="mu">。</em></p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><p id="a573" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">作者是米哈伊尔·佐连科，ADCI解决方案公司的网络开发人员</strong></p><p id="08c8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">米哈伊尔总是在寻找新的挑战，这将使他的头脑寻找一个简单而美丽的解决方案。他带着爱和激情做所有的事情，不管是什么:编码、收集、弹吉他还是听老歌。</p></div><div class="ab cl kf kg hc kh" role="separator"><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk kl"/><span class="ki bw bk kj kk"/></div><div class="hn ho hp hq hr"><figure class="mz na nb nc fq iv fe ff paragraph-image"><div class="ab fr cl nd"><img src="../Images/73bcb62bbfda355e913e5b86e2193e46.png" data-original-src="https://miro.medium.com/v2/format:webp/1*5kC2KhUXG-R8C8-59J1RCA.png"/></div></figure><p id="3ed5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在社交网络上关注我们: <a class="ae jg" href="https://twitter.com/ADCISolutions" rel="noopener ugc nofollow" target="_blank">推特</a> | <a class="ae jg" href="https://www.facebook.com/adcisolutions/" rel="noopener ugc nofollow" target="_blank">脸书</a> | <a class="ae jg" href="https://www.linkedin.com/company/adci-solutions/" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a></p><div class="ne nf fm fo ng nh"><a href="https://hackernoon.com/migrate-api-custom-drupal-to-drupal-migration-5c3b86816ece" rel="noopener  ugc nofollow" target="_blank"><div class="ni ab ej"><div class="nj ab nk cl cj nl"><h2 class="bd hv fv z el nm eo ep nn er et ht dt translated">迁移API:自定义Drupal到Drupal的迁移</h2><div class="no l"><h3 class="bd b fv z el nm eo ep nn er et ek translated">每个开发人员迟早都会面临这个被称为“迁移”的可怕(实际上不是)过程。如果你是他们中的一员，你…</h3></div><div class="np l"><p class="bd b gc z el nm eo ep nn er et ek translated">hackernoon.com</p></div></div><div class="nq l"><div class="nr l ns nt nu nq nv ja nh"/></div></div></a></div></div></div>    
</body>
</html>