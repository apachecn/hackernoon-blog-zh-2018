<html>
<head>
<title>Are you using PropTypes in React Native?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你在React Native中使用PropTypes了吗？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/are-you-using-proptypes-in-react-native-6067e2e5b526?source=collection_archive---------5-----------------------#2018-05-29">https://medium.com/hackernoon/are-you-using-proptypes-in-react-native-6067e2e5b526?source=collection_archive---------5-----------------------#2018-05-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/dbb7e0913469f92c270cf6b074f2c7b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JUUzkhUB6k6FYj-UbfgSig.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/photos/kDDHfgS7Gjo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">chuttersnap</a> on <a class="ae jg" href="https://unsplash.com/search/photos/prop-code?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="df7d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在<a class="ae jg" href="http://adhithiravichandran.com/index.php/2018/03/17/props-and-state-in-react-native-explained-in-simple-english/" rel="noopener ugc nofollow" target="_blank">之前的文章</a>中，我们了解了<em class="kf">道具</em>和<em class="kf">状态</em>之间的区别，以及如何在React/React本地应用中使用它们。</p><p id="7f18" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在本文中，我们将深入探讨<em class="kf"> PropTypes </em>。</p><p id="12d2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当您编写大型应用程序时，数据验证起着关键的作用。React通过<em class="kf"> PropTypes </em>支持数据验证。它是React的内置类型检查器。</p><blockquote class="kg"><p id="fbba" class="kh ki hu bd kj kk kl km kn ko kp ke ek translated">可以使用PropTypes对组件中的属性进行类型检查。</p></blockquote><h1 id="0823" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">我真的需要定义PropTypes吗？</h1><p id="11c1" class="pw-post-body-paragraph jh ji hu jj b jk lo jm jn jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">您可以定义没有<em class="kf">属性类型</em>的组件。但是，如果没有<em class="kf"> PropTypes </em>或某种形式的类型检查，我们就会面临向组件传递错误数据类型的风险，这可能会导致应用程序崩溃或出现一些意外行为。</p><p id="a2d3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我强烈推荐在react本机组件中使用<em class="kf"> PropTypes </em>，以避免给用户带来意想不到的问题。</p><h1 id="1761" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lt ld le lf lu lh li lj lv ll lm ln dt translated">定义组件的属性类型</h1><p id="0520" class="pw-post-body-paragraph jh ji hu jj b jk lo jm jn jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">让我们看看下面的例子。组件'<em class="kf"> MyComponent </em>'有一组已定义的<em class="kf">属性类型</em>。</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="f394" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这里的道具是用各自的<em class="kf">道具类型</em>定义的，用于类型检查。</p><p id="8f7a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在上面的例子中有不同类型的验证器(字符串、数组、函数、数字、布尔值等等..).这使您能够声明一个<em class="kf">属性</em>是一个特定的Javascript类型。</p><p id="c9dd" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">任何使用这个组件的人现在都会知道所有的<em class="kf">道具</em>和它所需要的各自类型。当不正确的数据类型被传递给组件时，React会在控制台上抛出一个错误。这将使我们能够在开发期间捕捉错误。</p><h1 id="d6d7" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lt ld le lf lu lh li lj lv ll lm ln dt translated">isRequired —这是必需的吗？</h1><p id="ae28" class="pw-post-body-paragraph jh ji hu jj b jk lo jm jn jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">在我们的例子中，组件<em class="kf"> MyComponent </em>需要所有的<em class="kf">道具</em>。默认情况下，组件的<em class="kf">属性</em>是可选的。通过添加<em class="kf"> isRequired </em>关键字，我们可以确保如果<em class="kf">属性</em>没有提供给组件，就会生成警告。</p><p id="5e2b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对组件中的道具使用<em class="kf">是必需的</em>总是安全的，以确保我们没有遗漏组件所需的任何<em class="kf">道具</em>。</p><p id="72a2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当你开始编码一个组件时，总是很容易将所有的道具都标记为必需的。这有助于处理代码中的空情况，并确保您不会忘记将<em class="kf"> props </em>传递给组件。</p><p id="2c60" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你不使用<em class="kf"> isRequired </em>，那么另一个选项就是给你的道具设置默认值。</p><p id="e29d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当您没有将一个必需的<em class="kf">属性</em>传递给组件时，会生成如下警告。这确保了开发人员不会遗漏组件所需的任何<em class="kf">道具</em>。</p><figure class="lw lx ly lz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mc"><img src="../Images/14f49c36716cde76825efdc8a23afec1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4lL8r9QDuty0jFvHXQ07Bg.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Sample warning generated by react on missing a required prop.</figcaption></figure><h1 id="8bc5" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lt ld le lf lu lh li lj lv ll lm ln dt translated">什么是defaultProps？</h1><p id="5f30" class="pw-post-body-paragraph jh ji hu jj b jk lo jm jn jo lp jq jr js lq ju jv jw lr jy jz ka ls kc kd ke hn dt translated">可以使用<em class="kf">默认道具</em>将默认值分配给道具。当一个组件没有收到它的props时，它就求助于已经分配的<em class="kf">默认Props </em>。</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="ma mb l"/></div></figure><p id="b628" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在上面的代码片段中，您可以看到所有的默认值都被分配给了<em class="kf"> MyComponent </em>的props。如果您已经将您的道具标记为必需，则没有必要分配defaultProps。</p><blockquote class="kg"><p id="8efe" class="kh ki hu bd kj kk kl km kn ko kp ke ek translated">提示:始终为所有可选属性定义显式的defaultProps。</p></blockquote><p id="7446" class="pw-post-body-paragraph jh ji hu jj b jk md jm jn jo me jq jr js mf ju jv jw mg jy jz ka mh kc kd ke hn dt translated">有趣的是，使用<em class="kf"> PropTypes </em>的类型检查发生在<em class="kf"> defaultProps </em>被赋值之后。所以它也检查分配给属性的默认值。整洁！</p><p id="c075" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">下次编写组件时，确保使用React的<em class="kf"> PropTypes添加类型检查。</em></p></div><div class="ab cl mi mj hc mk" role="separator"><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn mo"/><span class="ml bw bk mm mn"/></div><div class="hn ho hp hq hr"><p id="e984" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">本文最初发表于<a class="ae jg" href="http://adhithiravichandran.com/" rel="noopener ugc nofollow" target="_blank">http://adhithiravichandran.com/</a>和<a class="ae jg" href="https://codeburst.io/why-you-should-use-proptypes-in-react-native-e6f5ef78e7dd" rel="noopener" target="_blank">https://codeburst.io/</a></p><p id="0135" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您喜欢这篇文章，请关注我以获得更多关于React Native和ReactJs的教程和文章。</p></div></div>    
</body>
</html>