<html>
<head>
<title>SQLite or Realm: What is the Top Choice for Android App?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SQLite还是Realm:安卓App首选什么？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/sqlite-or-realm-what-is-the-top-choice-for-android-app-2ee07dfcb82f?source=collection_archive---------10-----------------------#2018-05-29">https://medium.com/hackernoon/sqlite-or-realm-what-is-the-top-choice-for-android-app-2ee07dfcb82f?source=collection_archive---------10-----------------------#2018-05-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/951f65dadd9d4a4711c26e20290c8e4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*csqpgoE3UUyh-aUsqycOfw.jpeg"/></div></div></figure><p id="41e4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当用户启动移动<a class="ae ka" href="https://hackernoon.com/tagged/application" rel="noopener ugc nofollow" target="_blank">应用</a>时，他或她与客户端或前端交互。然而，这只是冰山一角。移动应用程序是一个包含大量信息的复杂结构，它是基于各种<a class="ae ka" href="https://www.cleveroad.com/blog/android-application-development-framework-see-all-benefits-frameworks-have" rel="noopener ugc nofollow" target="_blank"> Android框架</a>创建的。为了使它快速可靠，你需要弄清楚在哪里存储数据。在这一点上，你应该注意SQLite和Realm——最受T4 Android T5应用程序欢迎的数据库。此外，我们将详细研究它们，并揭示它们的利弊。</p><h1 id="78f6" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">存在哪些Android数据库</h1><p id="02a5" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">在搜索数据库时，您需要清楚地了解您将在哪里存储数据。如果您打算将它存储在服务器上，那么您可以从大量不同的选项中进行选择。如果您决定将它存储在移动设备上，那么您实际上只有两个数据库可供选择——SQLite和Realm。</p><h1 id="8316" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">1.SQLite</h1><p id="7fca" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">SQLite是最早的嵌入式数据库之一。它是由理查德·希普在2000年创建的。它的主要思想是脱离客户机-服务器体系结构，将所有应用程序数据放在设备本身上。SQLite是非常流行的数据库，受到全世界许多Android开发人员的喜爱。</p><p id="b1f8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它是用c写的，支持的编程语言超过30种。很可能，很难找到一个没有使用SQLite的应用程序的设备。当你决定开发脱离服务器的应用程序时，这是第一个但不是唯一的解决方案。同样众所周知的数据库是Realm。让我们仔细看看。</p><h1 id="d34f" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">2.领域</h1><p id="266f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Realm是基于SQL的产品。使用它，您可以像在编程语言的对象graf中那样声明对象关系。Realm通常用于移动应用程序开发。</p><p id="65ec" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它在刚刚开始编程之路的年轻开发人员中非常受欢迎。到底是什么让他们选择这个数据库而不使用SQLite呢？为了澄清这一点，让我们考虑一下新手在部署SQLite时面临的最常见的问题。</p><h1 id="73c2" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用SQLite会出现什么问题？</h1><p id="543c" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">SQLite是小型简单项目的完美解决方案。如果你的应用程序符合这些标准，你会对这个老派的数据库完全满意。如果没有，你很可能面临以下问题:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/08f7152be41e1dd3f6f505fb4a3efdf9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*nEkHjeE4M3cgQwNI."/></div></div></figure><p id="b3be" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lj"> SQLite问题</em></p><h1 id="a427" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">安全性</h1><p id="a24f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">SQLite有一个非常具体的结构和一组影响应用程序安全性组织的特性。以下是你应该注意的几点:</p><ol class=""><li id="ee1a" class="lk ll hu je b jf jg jj jk jn lm jr ln jv lo jz lp lq lr ls dt translated"><strong class="je hv">数据库存储在一个文件中</strong></li></ol><p id="96ee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以自由地将这样的文件放在目录层次结构中的任何位置。一方面，很方便。另一方面，如果某个不受控制的进程清除了文件，您就有丢失所有数据的风险。为了防止这种情况，您应该在文件级别设置强有力的保护。设置文件权限时要小心，避免将文件放入文档根目录。</p><p id="d1d9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 2。日志文件并不总是被删除</strong></p><p id="56f0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您有机会回滚，因为系统会将日志文件保留一段时间。这当然是一个好消息。然而，不好的一点是，有时这些文件不会消失。这可能会导致数据损坏等负面影响。</p><p id="a4fd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一个坏消息是，你不能关闭日志功能，因为如果应用程序崩溃，你的数据库可能会受损。为了避免这些问题，请确保您的数据是高度加密的。只有在那之后，把它放入数据库。你甚至可以使用专门为此设计的应用程序。</p><h1 id="52c8" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">灵活性</h1><p id="e922" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">应用程序越老，数据库中积累的数据就越多。为了保持高水平的应用程序生产力，您需要编写更复杂的查询并正确组织数据迁移。在大多数情况下，程序员新手在这方面没有足够的经验，在使用结构化查询语言时会遇到困难。</p><h1 id="3f78" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">复杂性</h1><p id="e650" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">如果您已经处理SQL和SQLite很长一段时间了，那么您在处理上述情况时不会有任何困难。与此同时，复杂的数据库结构可能会成为Android应用开发新人的一个完整的噩梦。出于这个原因，绝大多数新手倾向于不依赖于SQL的数据存储的替代选择。这是当境界来拯救带着它的易用性徒劳无功。</p><h1 id="1ec5" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">SQLite和Realm有什么不同？</h1><p id="fdea" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Realm是一个非常受欢迎的数据库，因为它有很多优点。Cleveroad开发人员对它并不陌生。他们已经在多个项目中测试过了。以下是我们在实践中发现的主要优势:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/37cea13699534e0fb12b1074e8bed292.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*FnpHfKv7mWH_dbLD."/></div></div></figure><p id="f902" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lj">安卓应用领域数据库的优点</em></p><ol class=""><li id="4335" class="lk ll hu je b jf jg jj jk jn lm jr ln jv lo jz lp lq lr ls dt translated"><strong class="je hv">整体简单性</strong></li></ol><p id="6305" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Realm非常通俗易懂，简单易用。与SQLite相比，它非常简短。使用它时，您将需要编写更少的代码行。</p><p id="613f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">看看下面的例子。下面是使用SQLite创建表时的代码:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/b4e15075f00a0f1682bc8e0a843f04f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*3akMZKZHwE1jeR97."/></div></div></figure><p id="77e0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是它如何与Realm一起工作。你应该只接管RealmObject。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff fg"><img src="../Images/ad5b21003bec3732f82f421dfd45297d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*qKRme-jDSPQhFN8T."/></div></div></figure><p id="5d9e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们看另一个例子。以下是SQLite中结果列表查询的代码:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lu"><img src="../Images/56160eb88972f698bd036afa9cbd909f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*AsftXxRvLQxQCeaX."/></div></div></figure><p id="0c85" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是你将在领域中得到的:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/3f44889700545b7298432fbc6181a82d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*_82PjyTCAWGZTAm3."/></div></div></figure><p id="17b9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在设置数据迁移时，您需要编写相当复杂的代码。如果您需要使用Realm database为Android项目迁移数据，这是一个很好的例子。</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lt"><img src="../Images/c4593c002b10914b1dda58037e537dc2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*8jt03BFvnv7cDnj1."/></div></div></figure><p id="b27a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此外，您需要在config中添加以下几行:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lv"><img src="../Images/a059854342c6e43dbe74af4b0cd62ab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*ZD7PdJ2nPHetBkNp."/></div></div></figure><p id="ee18" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">使用SQLite，在数据迁移过程中会遇到一些陷阱。最大的缺点是不能完全删除或重命名表或列。您只能将数据从旧表复制到新表。之后，删除旧表并重命名新表。如果您想从表中删除约束或向表中添加约束，您应该以类似的方式操作。</p><p id="a02a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">说到Realm的简单性，我们不能不提到它非常直观和用户友好。毫无疑问，你会比SQLite更快地解决这个问题。由于Realm是一个全功能的ORM平台，读取和保存一个对象不会花很长时间。此外，不需要担心内部集合。一切都已成定局。</p><p id="55b1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 2。高速</strong></p><p id="0d1e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Realm是一个真正快速的数据库。在某些情况下，例程的性能甚至比SQLite中的还要快，尽管SQL算法并不复杂。</p><p id="4de7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 3。清除文档</strong></p><p id="b7c0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Realm有一个用简单语言编写的结构良好的文档。你可以很容易地找到任何问题的答案。该文档可在官方网站上在线获得。</p><p id="a4d9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 4。快速访问</strong></p><p id="a637" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以复制在领域数据库之外仍然可用的对象。</p><p id="f47f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> 5。额外选项</strong></p><p id="63aa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一个年轻的公司领域提供了各种有趣的高级功能选项。在其他服务中，您可以受益于JSON和加密支持。此外，您可以为您的Android项目使用免费的API，并在数据发生变化时接收通知。</p><p id="0395" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以上解释了为什么很多开发者更喜欢Realm。它的简单性和灵活性使它成为新人和专业人士的真正发现。然而，SQLite不会放弃。在这一点上，我们不能不提到最近发布的房间。</p><h1 id="26e7" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">什么是空间，它是如何工作的？</h1><p id="4a1f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">房间是一个特别设计的图书馆。Google创建它是为了消除SQLite令人讨厌的缺点。它就像一个抽象层，覆盖了数据库并改变了系统的工作方式。在某些方面，它甚至让SQLite比Realm更有优势。以下是Room解决的主要问题:</p><figure class="lf lg lh li fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff le"><img src="../Images/153cc0b8bcf9a637224f12e36b3f9d07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*4sHsDeAnASK0-Sso."/></div></div></figure><p id="7ff1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lj">房间如何改善SQLite </em></p><p id="e9bb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">加密</strong></p><p id="68da" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">SQLite在组织适当的加密方面确实有些不足。在空间的帮助下，它为Realm提供了激烈而艰苦的竞争。</p><p id="30bc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">实时数据</strong></p><p id="b385" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Room有助于快速轻松地使用实时数据。不再有令人困惑的干扰！</p><p id="6d2c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">尺寸</strong></p><p id="8708" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">与王国相比，房间真的很小。想想50KB和3 MB就知道了。明显的优势是有利于这里的空间。</p><p id="7da3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">数据迁移</strong></p><p id="e280" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">借助Room，您可以快速轻松地执行数据迁移。</p><p id="5317" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">多线程</strong></p><p id="4efc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">与Realm不同，Room不会在多线程模式的过程中造成任何困难。一切顺利。</p><h1 id="b6fe" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结果</h1><p id="f57a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">正如你所看到的，每个用于Android应用程序开发的数据库都有其优点和缺点。虽然Realm看起来很简单，但SQLite可能会因为复杂性和操作中的一些问题而感到害怕。</p><p id="f3c7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一方面，Realm不能覆盖大型项目的所有需求，更适合小型应用程序。SQLite与Room合作可以成为复杂任务的优秀解决方案。</p><p id="ea2e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">尽管SQLite有许多缺陷，但您不太可能会觉得它不好用。谷歌在创造空间时努力消除这些弊端。</p><p id="6a7f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以，不要急，分析你的项目规模，决定哪个数据库符合你的需求。</p><figure class="lf lg lh li fq iv"><div class="bz el l di"><div class="lw lx l"/></div></figure></div></div>    
</body>
</html>