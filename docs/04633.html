<html>
<head>
<title>Startup Engineering: From 1 AWS Account to 100</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">启动工程:从1个AWS帐户到100个</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/startup-engineering-from-1-aws-account-to-100-81616ac3e89e?source=collection_archive---------3-----------------------#2018-06-01">https://medium.com/hackernoon/startup-engineering-from-1-aws-account-to-100-81616ac3e89e?source=collection_archive---------3-----------------------#2018-06-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/dc940801810dfb973dbefcaa8b9158d9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t2lAuwUy5mMc4xnc41Kekw.png"/></div></div></figure><blockquote class="jc jd je"><p id="641c" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这篇文章最初出现在<a class="ae ke" href="https://bit.ly/2J0mhcp" rel="noopener ugc nofollow" target="_blank">的博客</a>上。<a class="ae ke" href="https://segment.com/?utm_source=hacker%20noon%20blog%20post" rel="noopener ugc nofollow" target="_blank"> Segment </a>，Hacker Noon的每周赞助商，目前正在提供90天的免费试用——发送电子邮件给friends@segment，并提及Hacker Noon进行兑换。</p></blockquote><p id="55d5" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">细分市场每天从我们的客户那里接收数十亿次活动，并且已经发展到几十个<a class="ae ke" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>账户。为了更好地与我们的<a class="ae ke" href="https://segment.com/blog/segment-and-the-gdpr/" rel="noopener ugc nofollow" target="_blank"> GDPR和安全计划</a>保持一致，扩展到更多客户是必要的，但这需要付出巨大的复杂性成本。为了继续适度扩展，我们正在投资构建工具，供员工使用许多帐户，并通过terraform和我们的身份提供商集中管理员工对AWS的访问。</p><p id="065b" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">细分市场从单一AWS客户开始，去年我们完成了向开发、阶段、生产和“运营”客户的转移。在过去的几个月里，我们一直在以大约每一两周一个新AWS客户的速度增长，并计划继续扩大到每个团队和每个系统的客户。通过限制AWS速率限制的爆炸半径，拥有许多“微帐户”提供了系统之间的高级安全隔离和可靠性优势。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ki"><img src="../Images/4d54addf57111ebf02aa76c8b39f1e91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*O3I2HGYg8rssYksG.png"/></div></div></figure><p id="182f" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">当Segment只有几个帐户时，员工将使用他们的电子邮件、密码和2FA令牌登录AWS“ops”帐户。然后，员工将使用<code class="eh kn ko kp kq b">AssumeRole</code> api连接到dev、stage和prod帐户中的<code class="eh kn ko kp kq b">ops-admin</code>角色。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kr"><img src="../Images/4a9c89327194506f18419959c125f88f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jmyLiUd8kH4NA-dU.png"/></div></div></figure><p id="72bc" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">细分市场现在有几十个AWS帐户，并计划继续增加更多帐户！为了组织这种扩展，我们需要一种机制来控制我们的帐户，员工可以访问哪些帐户，<em class="jh">和</em>每个员工在每个帐户中的权限。</p><p id="9e03" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我们也<em class="jh">讨厌</em>在不必要的时候使用AWS API键，所以<em class="jh">我们转移到一个员工没有任何AWS键的系统</em>。相反，员工只能通过我们的身份提供商访问AWS。今天，我们没有员工拥有AWS钥匙，未来也没有必要让员工拥有个人AWS钥匙。这是一个巨大的安全胜利！</p><h1 id="979a" class="ks kt hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">设计可扩展的IAM架构</h1><p id="7542" class="pw-post-body-paragraph jf jg hu ji b jj lq jl jm jn lr jp jq kf ls jt ju kg lt jx jy kh lu kb kc kd hn dt translated">Segment使用Okta作为身份提供商，并参考了他们的<a class="ae ke" href="https://support.okta.com/help/servlet/fileField?retURL=/help/articles/Knowledge_Article/Amazon-Web-Services-and-Okta-Integration-Guide&amp;entityId=ka0F0000000MeyyIAC&amp;field=File_Attachment__Body__s" rel="noopener ugc nofollow" target="_blank">集成指南</a>来管理多个AWS帐户，但为了更好的员工体验，对其进行了微小的改进。集成指南建议将身份提供者连接到每个AWS帐户，但这破坏了AWS对帐户切换的内置支持，并且审核哪个团队有权访问哪个角色变得更加复杂。</p><p id="8b01" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">相反，员工使用我们的身份提供商连接到我们的“ops”帐户，然后使用简单令牌服务<code class="eh kn ko kp kq b">assume-role</code> API连接到他们有权访问的每个帐户。使用我们的身份提供者，每个团队在我们的中心帐户中被分配到不同的角色，每个团队角色可以访问每个帐户中的不同角色。这是典型的“中心辐射式”架构。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lv"><img src="../Images/b78323271ffd66741a4956c1bc189116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fa2CcYFA1lBOlI_j.png"/></div></div></figure><p id="ee2f" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为了简化我们的星型架构的维护，我们构建了一个terraform模块，用于在我们的辐条帐户中创建一个角色，还构建了一个单独的terraform模块，用于在我们的中心帐户中创建一个角色。这两个模块只是创建一个角色，并为其附加一个策略ARN，这是模块输入的一部分。</p><p id="2e1c" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">模块之间唯一的区别是它们的信任关系。中心角色模块允许从我们的身份提供者进行访问，而分支模块只允许从中心帐户进行访问。下面是我们用来允许从我们的身份提供者访问中心角色的模块。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="cb4c" class="ma kt hu kq b fv mb mc l md me">resource "aws_iam_role" "okta-role" {<br/>  name               = "${var.name}"<br/>  assume_role_policy = &lt;&lt;EOF<br/>{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>    {   <br/>      "Effect": "Allow",<br/>      "Principal": {<br/>        "Federated": "${var.idp_arn}"<br/>      },  <br/>      "Action": "sts:AssumeRoleWithSAML",<br/>      "Condition": {<br/>        "StringEquals": {<br/>          "SAML:aud": "https://signin.aws.amazon.com/saml"<br/>        }   <br/>      }   <br/>    }   <br/>  ]<br/>}<br/>EOF<br/>}<br/>resource "aws_iam_role_policy_attachment" "okta-attach" {<br/>  policy_arn = "${var.policy_arn}"<br/>  role       = "${aws_iam_role.okta-role.name}"<br/>}</span></pre><p id="576b" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为了让每个团队能够精确地访问他们需要的资源，我们使用我们的中心角色terraform模块为中心客户中的每个团队创建了一个角色。这些角色<em class="jh">大多</em>包含针对其他账户<code class="eh kn ko kp kq b">sts:AssumeRole</code>的IAM策略，但也有可能在我们的hub角色中提供粒度访问。</p><p id="33a6" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">粒度策略的一个具体而简单的例子是我们的财务规划和分析团队的角色，<a class="ae ke" href="https://segment.com/blog/the-million-dollar-eng-problem/" rel="noopener ugc nofollow" target="_blank">密切关注我们的AWS支出</a>。我们的FP &amp; A团队<em class="jh">只有</em>可以访问计费信息和有关我们预留容量的信息。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="22d5" class="ma kt hu kq b fv mb mc l md me">module "fpa" {<br/>  source = "git@github.com:segmentio/access//modules/okta-role"<br/>  name       = "fpa"<br/>  idp_arn    = "${module.idp.idp_arn}"<br/>  policy_arn = "arn:aws:iam::aws:policy/job-function/Billing"<br/>}<br/>resource "aws_iam_policy" "fpa_reserved_policy" {<br/>  name        = "fpa_reserved_policy"<br/>  description = "FP&amp;A team needs ability to describe our reserved instances."<br/>  policy = &lt;&lt;EOF<br/>{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>    {   <br/>      "Action": [<br/>        "ec2:GetHostReservationPurchasePreview",<br/>        "ec2:DescribeReservedInstancesModifications",<br/>        "ec2:DescribeReservedInstances",<br/>        "ec2:DescribeHostReservations",<br/>        "ec2:DescribeReservedInstancesListings",<br/>        "ec2:GetReservedInstancesExchangeQuote",<br/>        "ec2:DescribeReservedInstancesOfferings",<br/>        "ec2:DescribeHostReservationOfferings",<br/>        "ec2:CreateReservedInstancesListing"<br/>      ],  <br/>      "Effect": "Allow",<br/>      "Resource": "*" <br/>    }   <br/>  ]<br/>}<br/>EOF<br/>}<br/>resource "aws_iam_role_policy_attachment" "fpa_reserved_attach" {<br/>  role       = "fpa"<br/>  policy_arn = "${aws_iam_policy.fpa_reserved_policy.arn}"<br/>}</span></pre><p id="46db" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">但是，FP&amp;A团队无权访问我们的发言客户。需要完全访问我们的大部分基础设施和所有客户的一个团队是我们的基础和可靠性团队，他们参与我们的随叫随到。我们为我们所有客户的基础团队提供了一个<code class="eh kn ko kp kq b">ReadOnly</code>角色和一个<code class="eh kn ko kp kq b">Administrator</code>角色。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="ccc3" class="ma kt hu kq b fv mb mc l md me">module "foundation" {<br/>  source = "git@github.com:segmentio/access//modules/okta-role"<br/>  name       = "Foundation"<br/>  idp_arn    = "${module.idp.idp_arn}"<br/>  policy_arn = "${aws_iam_policy.foundation-policy.arn}"<br/>}<br/>resource "aws_iam_policy" "foundation-policy" {<br/>  name        = "foundation-policy"<br/>  description = "A policy for foundation to access all AWS accounts, as on-call"<br/>  policy = &lt;&lt;EOF<br/>{<br/>  "Version": "2012-10-17",<br/>  "Statement": [<br/>    {   <br/>      "Action": [<br/>        "sts:AssumeRole"<br/>      ],  <br/>      "Effect": "Allow",<br/>      "Resource": [<br/>        "arn:aws:iam::${var.ops_account}:role/AdministratorAccess",<br/>        "arn:aws:iam::${var.ci_account}:role/AdministratorAccess",<br/>        "arn:aws:iam::${var.dns_account}:role/AdministratorAccess",<br/>        "arn:aws:iam::${var.customerdata_account}:role/AdministratorAccess",<br/>        "arn:aws:iam::${var.customerdata_account}:role/ReadOnly",<br/>        "arn:aws:iam::${var.dns_account}:role/ReadOnly",<br/>        "arn:aws:iam::${var.ci_account}:role/ReadOnly",<br/>        "arn:aws:iam::${var.ops_account}:role/ReadOnly",<br/>        ...<br/>      ]   <br/>    }   <br/>  ]<br/>}<br/>EOF<br/>}</span></pre><p id="2bd3" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为hub帐户中的每个团队创建每个团队的角色后，员工被分配到Okta中代表其团队的组，然后每个团队可以被分配到hub帐户中与其相关的角色。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mf"><img src="../Images/011edf1023f5d3a08bc6544564a6c91e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*pSAwRhTwEFT_D8X7.png"/></div></div></figure><p id="1d46" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">Okta允许在hub帐户中为每个组分配不同的IAM角色，使用他们的UI，我们可以将FP&amp;A团队分配到我们的“Amazon Web Services”应用程序，并限制他们访问我们在hub帐户中为他们创建的fpa角色。</p><p id="8e7c" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">构建完成后，我们需要工具为我们的员工提供惊人的<a class="ae ke" href="https://hackernoon.com/tagged/engineering" rel="noopener ugc nofollow" target="_blank">工程</a>体验。尽管这个系统要安全得多，但我们希望它能像我们只有少量AWS帐户的系统一样可用和高效。</p><h1 id="5215" class="ks kt hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">维护aws-okta的可用性</h1><p id="278d" class="pw-post-body-paragraph jf jg hu ji b jj lq jl jm jn lr jp jq kf ls jt ju kg lt jx jy kh lu kb kc kd hn dt translated">我们的旧IAM设置的一个优点是，每个拥有AWS访问权限的员工都可以使用<code class="eh kn ko kp kq b">aws-vault</code>从他们的本地计算机使用AWS APIs。每位员工都将其IAM用户凭据安全地存储在笔记本电脑的钥匙串中。然而，完全通过Okta访问AWS对我们的旧工作流来说是一个巨大的突破性变化。</p><p id="ef57" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我们的工具团队接受了挑战，创造了一个(接近)drop来替代我们的工程团队广泛使用的aws-vault，称为<code class="eh kn ko kp kq b">aws-okta</code>。aws-okta现在已经<a class="ae ke" href="https://github.com/segmentio/aws-okta" rel="noopener ugc nofollow" target="_blank">开源，可以在github </a>上获得。</p><p id="a46e" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><code class="eh kn ko kp kq b">aws-okta</code>的质量是部门工程师能够顺利撤销其AWS证书的主要原因。员工能够使用他们被授予的权限和角色执行命令，就像他们使用aws-vault时一样。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="2a31" class="ma kt hu kq b fv mb mc l md me">$ aws-okta exec hub -- aws s3 ls s3://&lt;some-bucket&gt;</span><span id="774e" class="ma kt hu kq b fv mg mc l md me">2018/02/08 15:40:22 Opening keychain /Users/ejcx/Library/Keychains/aws-okta.keychain<br/>INFO[0004] Sending push notification...</span></pre><p id="04b6" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">aws-okta处理了aws-vault无法处理的许多新的复杂性。aws-vault使用IAM用户凭证来运行命令，而aws-okta使用您的okta密码(存储在您的钥匙串中)来验证Okta，等待对2FA的推送通知的响应，最后为aws提供SAML断言来检索临时凭证。</p><p id="6045" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为了向okta认证，aws-okta需要知道您的Okta“应用程序id”。我们冒昧地扩展了<code class="eh kn ko kp kq b">~/.aws/config</code> ini文件以添加必要的id。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="7f9e" class="ma kt hu kq b fv mb mc l md me">[okta]<br/>aws_saml_url = home/amazon_aws/uE2R4ro0Gat9VHg8xM5Y/111</span></pre><p id="1517" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">当细分市场只有几个AWS帐户和<code class="eh kn ko kp kq b">ops-admin</code>角色时，细分市场的工程师都共享同一个<code class="eh kn ko kp kq b">~/.aws/config</code>。一旦每个团队都可以访问不同的账户和系统，我们就需要一个更好的系统来管理每个团队的<code class="eh kn ko kp kq b">~/.aws/config</code>。我们的系统还需要一种方法，在创建新帐户和角色时，快速更新员工的访问权限。</p><p id="25da" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我们决定将该解决方案与该部门已建立的现有技术紧密结合。每个团队的配置都存储在一个git repo中，里面有我们公司的dotfiles。每个团队都可以使用我们的内部工具<code class="eh kn ko kp kq b">robo</code>初始化他们的aws配置，这是一个在员工之间共享有用命令的工具。</p><pre class="kj kk kl km fq lw kq lx ly aw lz dt"><span id="8f6d" class="ma kt hu kq b fv mb mc l md me">$ SEGMENT_TEAM=foundation robo config.aws<br/>✔️ : Your old aws config has been backed up in /tmp/awsconfig-318c16acc2b25bed2eb699e611462744<br/>✔️ : Your aws config was successfully updated.<br/>$ shasum ~/.aws/config                   <br/>c2734b78e470c51a26d8c98e178d4ec2ed1b1b06  /Users/ejcx/.aws/config</span><span id="9df5" class="ma kt hu kq b fv mg mc l md me">$ SEGMENT_TEAM=platform robo aws.config<br/>✔️ : Your old aws config has been backed up in /tmp/awsconfig-d5688401634de0e8b2f48b11377d0749<br/>✔️ : Your aws config was successfully updated.</span><span id="0c89" class="ma kt hu kq b fv mg mc l md me">$ shasum ~/.aws/config                 <br/>283053d6f5a23ca79f16c69856df340b631d3cdf  /Users/ejcx/.aws/config</span></pre><p id="88c2" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">这是唯一可能添加的，因为所有部门工程师都已经有了一个名为<code class="eh kn ko kp kq b">SEGMENT_TEAM</code>的环境变量，它表示该工程师所属的团队。运行<code class="eh kn ko kp kq b">robo aws.config</code>将克隆dotfiles repo，保存旧的<code class="eh kn ko kp kq b">~/.aws/config</code>，并为他们的团队初始化最新的配置。</p><p id="043e" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><a class="ae ke" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_use_switch-role-console.html" rel="noopener ugc nofollow" target="_blank">当我们使用较少的帐户时，AWS书签</a>是工程师在我们的环境中导航的主要方式。当我们摆脱了<code class="eh kn ko kp kq b">ops-admin</code>的角色，工程师们的登录书签就停止工作了。此外，AWS书签最多只支持五个不同的假设角色目标，而我们现在拥有的帐户远不止五个。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div class="fe ff mh"><img src="../Images/94cc2e8181b4407c03750d6698016d0f.png" data-original-src="https://miro.medium.com/v2/resize:fit:576/format:webp/0*xj3F1guTnvyV3l-H.png"/></div></figure><p id="a31d" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">为了支持更多的账户，我们大部分都放弃了书签，取而代之的是确保<code class="eh kn ko kp kq b">aws-okta</code>支持需要经常切换AWS账户的工程师。我们之前对<code class="eh kn ko kp kq b">aws-vault</code>的使用意味着我们很多人都熟悉<code class="eh kn ko kp kq b">aws-vault login</code>命令。我们发现给aws-okta增加一个登录命令，对经常换账号的工程师有帮助。</p><figure class="kj kk kl km fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/c11d3f5e05788353069890db62f7b596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*gyIO2q-Z9tFB1_JL.gif"/></div></div></figure><p id="16b3" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">在响应Duo push通知后，aws-okta将打开一个浏览器，并在几秒钟内登录到指定的角色。AWS <a class="ae ke" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/id_roles_providers_enable-console-custom-url.html" rel="noopener ugc nofollow" target="_blank">定制联邦登录</a>特性支持这个特性，但是使用起来感觉更像是魔术。它使伐木变得轻而易举。</p><h1 id="8a7b" class="ks kt hu bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp dt translated">超过100个帐户</h1><p id="6161" class="pw-post-body-paragraph jf jg hu ji b jj lq jl jm jn lr jp jq kf ls jt ju kg lt jx jy kh lu kb kc kd hn dt translated">我们预计到今年年底将有近50个AWS客户。默认情况下帐户完全关闭的安全性，以及隔离每个帐户的费率限制的可靠性优势是引人注目的。</p><p id="a9de" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">我们构建的这个系统足够健壮和可用，足以将我们的AWS应用扩展到数百个AWS客户和更多的工程团队。</p><p id="6383" class="pw-post-body-paragraph jf jg hu ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><em class="jh">从安全角度来看，删除所有员工AWS密钥非常令人满意</em>,仅此一点就足以成为将您的身份提供商与您的AWS hub帐户相集成的令人信服的理由。</p><blockquote class="jc jd je"><p id="db87" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这篇文章最初出现在<a class="ae ke" href="https://bit.ly/2J0mhcp" rel="noopener ugc nofollow" target="_blank">板块博客</a>上。<a class="ae ke" href="https://segment.com/?utm_source=hacker%20noon%20blog%20post" rel="noopener ugc nofollow" target="_blank"> Segment </a>，Hacker Noon的每周赞助商，目前正在提供90天的免费试用——发送电子邮件给friends@segment，并提及Hacker Noon进行兑换。</p></blockquote><figure class="kj kk kl km fq iv"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>