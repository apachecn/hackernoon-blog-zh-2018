<html>
<head>
<title>Make your Amazon EC2 instance up and running.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">启动并运行您的Amazon EC2实例。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/make-your-amazon-ec2-instance-up-and-running-ab80120eb23?source=collection_archive---------6-----------------------#2018-06-02">https://medium.com/hackernoon/make-your-amazon-ec2-instance-up-and-running-ab80120eb23?source=collection_archive---------6-----------------------#2018-06-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="0866" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">在这一部分，我们将创建一个Amazon帐户EC2实例，并通过SSH连接到该实例。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff jj"><img src="../Images/ef5cdcc2b4fefac0c76c09f715c024dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1006/format:webp/1*Ff84x9Y-7PPWStblMhpFHg.png"/></div></figure><p id="faf6" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我们将在整个教程中使用Linux操作系统。Windows用户，不要恼火。我们将只在亚马逊网站上使用一些终端命令，所以系统或操作系统在这里不是一个大问题。</p><p id="efdc" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">创建一个AWS帐户@<a class="ae kn" href="https://aws.amazon.com/" rel="noopener ugc nofollow" target="_blank">https://aws.amazon.com/</a></p><p id="5dcf" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">您将被要求提供您的卡的详细信息。别担心，这只是为了验证。</p><p id="5b19" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">您可以选择在<strong class="jt hv">免费期</strong>内使用您的AWS帐户一年，在此期间您将不会被收费。</p><p id="9536" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">成功创建帐户后，点击顶部的<code class="eh ko kp kq kr b">Services</code>并选择<code class="eh ko kp kq kr b">EC2. </code>点击启动实例或创建实例按钮。点击后你会看到下面的页面。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff ks"><img src="../Images/26b4f4d5d1f346bbe06af7c68631d92b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kvaZ2u1rWZc15GCe_Z30QA.png"/></div></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">Step 1 — Select Ubuntu Server 16.04 LTS</figcaption></figure><p id="c568" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">1.选择Ubuntu Server 16.04 LTS。你可以找到大多数的Linux映像，它们被用来运行各种各样的应用程序并被广泛使用。Windows映像专门用于。NET应用程序。所以让我们坚持使用Linux image，它有广泛的用户基础和大量的论坛和社区来解决任何类型的问题。</p><p id="aac9" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">2.在步骤<code class="eh ko kp kq kr b">Choose an Instance Type</code>中，选择<code class="eh ko kp kq kr b">t2.micro</code>，这足以运行多个应用程序，并且不会超出我们的自由层限制。点击<code class="eh ko kp kq kr b">Next: Configure Instance Details</code></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lb"><img src="../Images/f2be5b37233e12e9b3e86d6e9b2395fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*32FDs3pO7_8WvyjRZA_Wjg.png"/></div></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">Step 2 — choose t2.micro</figcaption></figure><p id="bc62" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">3.到目前为止，没有必要配置任何实例细节。所以让我们跳过这一步，点击<code class="eh ko kp kq kr b">Next: Add Storage</code></p><p id="8d54" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">4.8 GB的固态硬盘对于我们运行正常的应用程序来说已经足够了。所以我们不要在这里做任何改变，继续下一步。点击<code class="eh ko kp kq kr b">Next: Add Tags</code></p><p id="4883" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">5.标签用来标记你的实例，特别是当你有多个实例时用来过滤。目前无需更改，点击<code class="eh ko kp kq kr b">Next: Configure Security Group</code></p><p id="9b46" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">6.安全组是服务器的配置。它允许你定义你的服务器应该允许哪个端口的流量，协议和端口范围等。您还可以在此添加您允许的端口的描述。还要有意义地命名您的安全组名。</p><p id="6042" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">要运行我们的应用程序，我们需要SSH访问，默认情况下是在端口22上，亚马逊为我们设置了默认端口。下面还有一个警告标志，只允许来自已知IP地址的访问。请记住这一点，每当您需要允许任何端口或IP时，您就允许从该地址访问您的服务器。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lc"><img src="../Images/44899a775927d783266136a8b766fd67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nDWi6tpEH4_RJZEwk38pkA.png"/></div></div></figure><p id="9512" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">任何站点的默认端口是80，但是我们的浏览器不支持，所以我们看不到它。让我们打开默认的端口80，为一个应用程序提供服务，我们需要HTTP。让我们创建一个规则，单击，</p><p id="e8d4" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><code class="eh ko kp kq kr b">Add Rule</code>并在类型中选择HTTP。让协议是TCP。端口范围增加80。在源中选择<code class="eh ko kp kq kr b">Anywhere</code>,以便我们向所有IP地址开放它。</p><p id="e90b" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">7.点击<code class="eh ko kp kq kr b">Review and Launch</code>按钮成功启动你的实例。</p><p id="757c" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">现在将提示您设置一个SSH密钥对，它是一个<strong class="jt hv"> pem </strong>文件，允许您从Linux终端将其连接到您的实例(我们刚刚创建的)。给它一个合适的名字(我将把它命名为<code class="eh ko kp kq kr b">AWS-EC2-INSTANCE-LIVE</code>)，下载并保存它，否则如果你丢失了，你将需要生成一个新的。</p><p id="2b34" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">点击<code class="eh ko kp kq kr b">Launch Instances</code>，点击<code class="eh ko kp kq kr b">View Instances</code>。</p><p id="6c72" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">万岁！您已经成功创建了远程服务器。</p><p id="1d37" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">查看下图，并在下面找到您正在运行的实例的详细信息。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lc"><img src="../Images/50675b16b640bee1f5fe52aa30689ba0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZDiu36PzT6ZnQvMVQmjwKg.png"/></div></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">EC2 Running Instance</figcaption></figure><p id="8574" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">可选—您也可以移动您的<strong class="jt hv">。pem </strong>文件保存到MacOS中的默认<code class="eh ko kp kq kr b">.ssh</code>文件夹。打开Finder，在搜索框中按<code class="eh ko kp kq kr b">Cmd+Shift+G</code>键入<code class="eh ko kp kq kr b">~/.ssh</code>，点击<code class="eh ko kp kq kr b">Go</code>进入ssh密钥文件夹。建议放你的<strong class="jt hv">。pem </strong>文件，默认情况下是隐藏的。</p><p id="522e" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">注意</strong>:当您不使用实例时，请记住停止它</p><p id="0fee" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><code class="eh ko kp kq kr b">RightClick on instance -&gt; Instance State -&gt; Stop</code></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lc"><img src="../Images/41d954387ebc342348e4dc4d72f18fe3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fRNg-357rDVfNHNCwjvDsA.png"/></div></div></figure><h2 id="2efb" class="ld le hu bd lf lg lh li lj lk ll lm ln ka lo lp lq ke lr ls lt ki lu lv lw lx dt translated">现在让我们从终端连接到我们的实例。</h2><p id="47cf" class="pw-post-body-paragraph jr js hu jt b ju ly iv jw jx lz iy jz ka ma kc kd ke mb kg kh ki mc kk kl km hn dt translated">使用<code class="eh ko kp kq kr b">chmod</code>为您的设置权限。pem文件，以便它可以用作连接到我们的实例的键。</p><pre class="jk jl jm jn fq md kr me mf aw mg dt"><span id="3969" class="ld le hu kr b fv mh mi l mj mk">$ chmod 400 ~/.ssh/AWS-EC2-INSTANCE-LIVE.pem</span></pre><p id="a95c" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">要SSH到我们的服务器，我们需要三个参数。</p><ol class=""><li id="0909" class="ml mm hu jt b ju jv jx jy ka mn ke mo ki mp km mq mr ms mt dt translated">用户名</li><li id="6d93" class="ml mm hu jt b ju mu jx mv ka mw ke mx ki my km mq mr ms mt dt translated">域地址</li><li id="a3ee" class="ml mm hu jt b ju mu jx mv ka mw ke mx ki my km mq mr ms mt dt translated">Pem文件</li></ol><p id="c3e0" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">你不需要担心搜索这些参数。AWS已经用您的实例详细信息形成了这个查询字符串。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff lc"><img src="../Images/10d7685d1da72fea754e50688ef40d77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*js83kTaB58EwdxxN_263rw.png"/></div></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">Click Connect.</figcaption></figure><p id="7b70" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">点击上述页面中的<code class="eh ko kp kq kr b">Connect</code>选项。您将会看到一个弹出窗口，如下所示。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff mz"><img src="../Images/a3e05ea6bfb9eb609d73bd1bb2c512b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*NMFJv2yrbqd2GxWaIzUneQ.png"/></div></div><figcaption class="kx ky fg fe ff kz la bd b be z ek">Copy highlighted query string.</figcaption></figure><p id="39c7" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">复制粘贴高亮显示的查询字符串，给你的<strong class="jt hv">。pem </strong>文件位置，然后在终端中按enter键。当出现提示时，键入<strong class="jt hv"> Yes </strong>，这样您就可以将您的实例添加为您的已知主机(一次性过程)。</p><p id="7253" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">我最后的查询字符串如下。</p><pre class="jk jl jm jn fq md kr me mf aw mg dt"><span id="2292" class="ld le hu kr b fv mh mi l mj mk">$ ssh -i ~/.ssh/AWS-EC2-INSTANCE-LIVE.pem ubuntu@ec2-xx-xxx-xx-xx.us-east-2.compute.amazonaws.com</span></pre><p id="9876" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated"><strong class="jt hv">注</strong>:我有<strong class="jt hv">。默认为pem </strong>文件。出于安全原因，ssh文件夹放在这里。谁有这个<strong class="jt hv">。pem </strong>文件可以访问您的实例。保管好它</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="fe ff na"><img src="../Images/46ecf8bab86014dacf04d47e7aa8ccfe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*M6oN1PwyAp85_tlou1oZKQ.png"/></div></div></figure><p id="a112" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">是的。您已安全地连接到远程服务器。</p><p id="8d5f" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">在下一个教程中，让我们在这个远程服务器上安装和配置Nginx，并在生产中部署Node.js应用程序。如果你已经买了域名，我们也来映射一下；)</p><p id="b873" class="pw-post-body-paragraph jr js hu jt b ju jv iv jw jx jy iy jz ka kb kc kd ke kf kg kh ki kj kk kl km hn dt translated">谢谢你。</p></div></div>    
</body>
</html>