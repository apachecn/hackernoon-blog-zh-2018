<html>
<head>
<title>Pandas cheatsheet for SQL people (part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向SQL人员的熊猫备忘单(第1部分)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/pandas-cheatsheet-for-sql-people-part-1-2976894acd0?source=collection_archive---------3-----------------------#2018-06-06">https://medium.com/hackernoon/pandas-cheatsheet-for-sql-people-part-1-2976894acd0?source=collection_archive---------3-----------------------#2018-06-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="c764" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt jp translated">如今，andas库是数据科学家事实上的标准工具。它被全球许多数据科学家广泛使用。在熟悉它之后，无论我在做什么项目，我总是用它来处理表结构数据。它工作快速可靠，支持CSV，Excel，JSON等。</p><p id="3eff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，作为一个在<a class="ae jy" href="https://hackernoon.com/tagged/sql" rel="noopener ugc nofollow" target="_blank"> SQL </a>方面经验丰富的人，一开始我在操作表格(也就是数据框架)时遇到了一些困难和困惑。最终，我学到了更多的API和正确做事的方法。相信很多踏上<a class="ae jy" href="https://hackernoon.com/tagged/pandas" rel="noopener ugc nofollow" target="_blank">熊猫</a>第一步的人可能都有同样的经历。不久前，我使用SQL查询和它们在Pandas中的类比编写了一份备忘单。我很乐意与你们分享。</p><p id="0019" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我分享了使用“选择”的查询。稍后我会贴出其他问题以及它们与熊猫的类比。我很高兴收到您关于备忘单的反馈和愿望清单。</p><p id="6ca8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">开始了。</p><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="fe87" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们有三张简单的桌子:</p><ul class=""><li id="b0d5" class="kg kh hu it b iu iv iy iz jc ki jg kj jk kk jo kl km kn ko dt translated">用户</li><li id="6e7d" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">课程</li><li id="42d8" class="kg kh hu it b iu kp iy kq jc kr jg ks jk kt jo kl km kn ko dt translated">出席</li></ul><p id="5e51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其余的查询将是关于对它们的数据操作。</p><p id="f6b7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们从基本的选择命令开始。</p><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="fd3f" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="763a" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users LIMIT 0,10</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="f864" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users WHERE email IS NULL</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="a404" class="kz la hu kv b fv lb lc l ld le">SELECT first_name, last_name FROM users</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="a1da" class="kz la hu kv b fv lb lc l ld le">SELECT DISTINCT birth_year FROM users</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="654d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">基本的数学和算术运算。</p><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="20d3" class="kz la hu kv b fv lb lc l ld le">SELECT AVG(points) FROM users;<br/>SELECT SUM(points) FROM users;</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="8caf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">条件运算之类。</p><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="65b0" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users WHERE birth_year BETWEEN 1998 AND 2018</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="567f" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users WHERE first_name LIKE 'Ch%'</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="ed7c" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users WHERE first_name LIKE '%es'</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="56c2" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users WHERE first_name LIKE '%on%'</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="e2ba" class="kz la hu kv b fv lb lc l ld le">SELECT first_name, last_name FROM users WHERE first_name LIKE '%on%'</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="6d99" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我用相关SQL查询的JOIN和ORDER完成了这篇文章。为了使代码更加简单易读，我将把结果赋给新的变量，并在下一个变量中重用它们。</p><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="8a86" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM attendance atn<br/>LEFT JOIN users usr ON atn.user_id = usr.id</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="8fc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们把上面的结果和课程名称联系起来。其结果将与以下SQL命令的结果相同。</p><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="9b42" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM attendance atn<br/>LEFT JOIN users usr ON atn.user_id = usr.id<br/>LEFT JOIN courses co ON co.id = atn.course_id</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><p id="e066" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上面的查询将返回包含所有列的完整表/数据帧。要选择必要的列，我们可以使用与前面相同的方法。</p><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="6525" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users ORDER BY first_name, last_name</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="8e11" class="kz la hu kv b fv lb lc l ld le">SELECT * FROM users ORDER BY first_name, last_name DESC</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><pre class="jz ka kb kc fq ku kv kw kx aw ky dt"><span id="53ec" class="kz la hu kv b fv lb lc l ld le">SELECT first_name, last_name, birth_year,<br/>points, course_name, instructor FROM attendance atn<br/>LEFT JOIN users usr ON atn.user_id = usr.id<br/>LEFT JOIN courses co ON co.id = atn.course_id<br/>ORDER BY first_name, last_name</span></pre><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="ke kf l"/></div></figure><figure class="jz ka kb kc fq kd"><div class="bz el l di"><div class="lf kf l"/></div></figure></div></div>    
</body>
</html>