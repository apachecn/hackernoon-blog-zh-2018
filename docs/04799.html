<html>
<head>
<title>[Beginner Guide] Write and deploy your first ICO smart contract under 30 minutes (stage 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">[初学者指南]在30分钟内编写并部署您的首个ICO smart合同(第1阶段)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/beginner-guide-write-and-deploy-your-first-ico-smart-contract-under-30-minutes-stage-1-88774aa6bdc4?source=collection_archive---------14-----------------------#2018-06-06">https://medium.com/hackernoon/beginner-guide-write-and-deploy-your-first-ico-smart-contract-under-30-minutes-stage-1-88774aa6bdc4?source=collection_archive---------14-----------------------#2018-06-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="89b9" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">编写可以颁发令牌和转移令牌的智能合约</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/d3fb384ec6e30d06dc42d0b091e496eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9IFfdYPCvm6O27NWSBI-6w.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Image credit to bitcoinmagazine.com</figcaption></figure><p id="ab5d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这个超级简单的教程将带您完成编写智能合约的基本步骤，该合约可以像真正的ICO一样发布令牌并转移令牌。尽管它与ERC20不兼容，这使得到目前为止还不足以做一个合法的ICO。这仍然是一个可以让你快速入门的指南。</p><h1 id="1293" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">你需要的东西</h1><ul class=""><li id="4b69" class="ln lo hu kb b kc lp kf lq ki lr km ls kq lt ku lu lv lw lx dt translated">谷歌Chrome浏览器(点击下载<a class="ae ly" href="https://www.google.com/chrome/" rel="noopener ugc nofollow" target="_blank"/></li><li id="f79b" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku lu lv lw lx dt translated">一个注册的<a class="ae ly" href="https://metamask.io/" rel="noopener ugc nofollow" target="_blank"> Metamask </a>账号(教程由<a class="ae ly" href="https://www.cryptocompare.com/wallets/guides/how-to-use-metamask/" rel="noopener ugc nofollow" target="_blank"> CryptoCompare </a>提供)</li><li id="e0dc" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku lu lv lw lx dt translated">关于什么是智能合同的基本知识(由<a class="ae ly" href="https://blockgeeks.com/guides/smart-contracts/" rel="noopener ugc nofollow" target="_blank"> Blockgeeks </a>提供的教程)</li></ul><h1 id="8a63" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">去参观你写代码的地方</h1><p id="d92d" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">从你的Chrome浏览器访问<a class="ae ly" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank"> Remix编译器</a>，这是一个很棒的在线编译器，你可以编写智能合约，部署合约，并与合约交互。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mh"><img src="../Images/6a59ede4bf4eb97652847ea53d32e1e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mbDMpUs5aGQ3wPbUhQm63A.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Remix compiler (<a class="ae ly" href="http://remix.ethereum.org/" rel="noopener ugc nofollow" target="_blank">http://remix.ethereum.org/</a>)</figcaption></figure><h1 id="76f4" class="kv kw hu bd kx ky kz la lb lc ld le lf ja lg jb lh jd li je lj jg lk jh ll lm dt translated">开始撰写您的第一份智能合同！</h1><p id="f3a2" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">今天，我们将编写一个简单的智能合同，它只有<strong class="kb hv">4个特性</strong>:</p><ul class=""><li id="f663" class="ln lo hu kb b kc kd kf kg ki mi km mj kq mk ku lu lv lw lx dt translated"><strong class="kb hv">数据:</strong>记录每个用户的代币余额</li><li id="a8b4" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku lu lv lw lx dt translated"><strong class="kb hv">方法:</strong>查看特定用户的令牌余额</li><li id="94bc" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku lu lv lw lx dt translated"><strong class="kb hv">方法:</strong>发放所有令牌</li><li id="f48b" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku lu lv lw lx dt translated"><strong class="kb hv">方法:</strong>将令牌从一个用户转移到另一个用户</li></ul><p id="83b3" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">现在，在混音的白盒里，删掉一切，让我们从新鲜开始。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mh"><img src="../Images/6dfa940dbf8b28bfaff63742adf4135d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X8nby_qO4nGLtH1nGlD1SA.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">White box is right there circled by the green border</figcaption></figure><h2 id="bb87" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated">第一步:</h2><p id="c7fe" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">指定实度版本:</p><pre class="jk jl jm jn fq mz na nb nc aw nd dt"><span id="42f1" class="ml kw hu na b fv ne nf l ng nh">pragma solidity ^0.4.21;</span></pre><p id="84fa" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><a class="ae ly" href="http://solidity.readthedocs.io/en/develop/index.html" rel="noopener ugc nofollow" target="_blank"> Solidity </a>是我们用来编写智能合同的编程语言。我们现在写得很扎实！在这里，我们将solidity版本指定为0.4.21，兼容性高达0.4.x (x &gt; 21)。如果你现在还不能理解，不要担心。</p><h2 id="b511" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated">第二步:</h2><p id="f328" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">创建合同主体:</p><pre class="jk jl jm jn fq mz na nb nc aw nd dt"><span id="aa6b" class="ml kw hu na b fv ne nf l ng nh">contract Token {<br/>    // Write more codes here<br/>}</span></pre><p id="0202" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我们创建了一个名为“Token”的智能契约。</p><h2 id="afe0" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated"><strong class="ak">第三步:</strong></h2><p id="9f6b" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">现在我们开始第一个特征。<strong class="kb hv">数据:</strong>记录每个用户的代币余额。我们需要一个<code class="eh nj nk nl na b">mapping</code>类型的<em class="ni">字典</em>来记录每个用户的余额。</p><pre class="jk jl jm jn fq mz na nb nc aw nd dt"><span id="3510" class="ml kw hu na b fv ne nf l ng nh">// Write this inside the "contract Token" body</span><span id="e735" class="ml kw hu na b fv nm nf l ng nh">mapping (address =&gt; uint256) private balances;</span></pre><p id="d074" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这一行声明了一个类型为<code class="eh nj nk nl na b">mapping</code>的变量，它可以接受一个用户的<code class="eh nj nk nl na b">address</code>，并返回该用户令牌余额的<code class="eh nj nk nl na b">uint256</code>值。因此，这就像一个<strong class="kb hv">字典</strong>，你寻找一个地址，以获得其相应的令牌余额。<code class="eh nj nk nl na b">address</code>类型存储用户或已部署的智能合同。<code class="eh nj nk nl na b">uint256</code>型代表<code class="eh nj nk nl na b">unsigned integer (256 bits)</code>，它只是一个整数持有者。</p><p id="c0ac" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">关键字<code class="eh nj nk nl na b">private</code>隐藏该变量，防止外部访问。<code class="eh nj nk nl na b">balances</code>只是我们正在创建的变量的名称。很多事情要赶上。但是我向你保证会很有趣的！</p><h2 id="84c7" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated">第四步:</h2><p id="9e51" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">我们已经完成了第一部电影。现在我们开始讨论第二个很酷的功能— <strong class="kb hv">方法:</strong>检查特定用户的令牌余额。</p><p id="ab5a" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">请在<code class="eh nj nk nl na b">mapping</code>下面添加以下代码，但仍在令牌契约主体内:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nn no l"/></div></figure><p id="063c" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我们正在创建一个名为<code class="eh nj nk nl na b">getBalance</code>的<code class="eh nj nk nl na b">function</code>。该函数需要一个名为<code class="eh nj nk nl na b">_account</code>的类型为<code class="eh nj nk nl na b">address</code>的输入变量(基本上是<strong class="kb hv">用户</strong>)。并且它<code class="eh nj nk nl na b">returns</code>输出具有类型uint256的答案(该用户的<strong class="kb hv">令牌余额</strong>)。该功能为<code class="eh nj nk nl na b">public</code>和<code class="eh nj nk nl na b">constant</code>，对公众开放，只能查看来自<a class="ae ly" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>的信息，不能更改。</p><p id="0ea6" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在函数内部，我们通过向<code class="eh nj nk nl na b">balances</code>(地址<a class="ae ly" href="https://hackernoon.com/tagged/book" rel="noopener ugc nofollow" target="_blank">书</a>)提供<code class="eh nj nk nl na b">_account</code>(用户地址)来<code class="eh nj nk nl na b">return</code>答案。它将返回该特定用户的令牌余额<code class="eh nj nk nl na b">_account</code>。</p><h2 id="2f3c" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated">第五步:</h2><p id="dc66" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">现在，我们想稍微自私一点，在部署智能合约(推出ICO)后，立即将所有ICO令牌存储到我们自己的钱包中。至此，我们现在正在构建第三个特性— <strong class="kb hv">方法:</strong>发布所有令牌。</p><p id="f538" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在第二个功能下添加以下代码:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nn no l"/></div></figure><p id="0e81" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这是一个<strong class="kb hv">构造函数</strong>，它只会在部署的时候被触发一次。名称为<code class="eh nj nk nl na b">Token</code>，必须与创建的智能合约相同。该函数接受类型为<code class="eh nj nk nl na b">uint256</code>的<code class="eh nj nk nl na b">_initialSupply</code>(代币的发行数量！你想要多少就有多少！).</p><p id="3ac6" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在函数内部，我们将<code class="eh nj nk nl na b">msg.sender</code>的<code class="eh nj nk nl na b">balances</code>设置为我刚刚设置的<strong class="kb hv">初始供给</strong>！但是谁是黑客<code class="eh nj nk nl na b">msg.sender</code>？将部署合同的用户地址..是你！你现在有所有的代币。:)</p><h2 id="8d13" class="ml kw hu bd kx mm mn mo lb mp mq mr lf ki ms mt lh km mu mv lj kq mw mx ll my dt translated">我们目前掌握的所有密码</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="nn no l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Your codes should like this~</figcaption></figure></div><div class="ab cl np nq hc nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="hn ho hp hq hr"><h1 id="16fc" class="kv kw hu bd kx ky nw la lb lc nx le lf ja ny jb lh jd nz je lj jg oa jh ll lm dt translated">中场休息总结</h1><p id="233f" class="pw-post-body-paragraph jz ka hu kb b kc lp iv ke kf lq iy kh ki me kk kl km mf ko kp kq mg ks kt ku hn dt translated">现在，我们有了一个智能合同，它可以:</p><ol class=""><li id="4c25" class="ln lo hu kb b kc kd kf kg ki mi km mj kq mk ku ob lv lw lx dt translated">存储所有用户的所有代币余额</li><li id="dae3" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku ob lv lw lx dt translated">检查特定用户的令牌余额</li><li id="9331" class="ln lo hu kb b kc lz kf ma ki mb km mc kq md ku ob lv lw lx dt translated">开始时发放特定数量的代币，并全部发送给您！</li></ol><blockquote class="oc"><p id="cf34" class="od oe hu bd of og oh oi oj ok ol ku ek translated">干得好！速度超快啊。</p></blockquote><p id="3ed6" class="pw-post-body-paragraph jz ka hu kb b kc om iv ke kf on iy kh ki oo kk kl km op ko kp kq oq ks kt ku hn dt translated">我们将继续完成最后一个特性— <strong class="kb hv">方法:</strong>将令牌从一个用户转移到另一个用户。并向您展示我们将如何通过Remix和Metamask部署和尝试ICO智能合约。</p><blockquote class="or os ot"><p id="56a2" class="jz ka ni kb b kc kd iv ke kf kg iy kh ou kj kk kl ov kn ko kp ow kr ks kt ku hn dt translated">第二个导轨准备好了<a class="ae ly" rel="noopener" href="/@jj1385jeff850527/beginner-guide-write-and-deploy-your-first-ico-smart-contract-under-30-minutes-stage-2-dc270e50acce"> <strong class="kb hv">这里</strong> </a>！</p></blockquote><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ox no l"/></div></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="oy no l"/></div></figure></div></div>    
</body>
</html>