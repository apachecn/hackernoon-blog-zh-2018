<html>
<head>
<title>fFast AI Machine Learning Lecture 1 Notes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">快速人工智能机器学习第一讲笔记</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/fast-ai-machine-learning-lecture-1-notes-3ca45cec4235?source=collection_archive---------8-----------------------#2018-06-12">https://medium.com/hackernoon/fast-ai-machine-learning-lecture-1-notes-3ca45cec4235?source=collection_archive---------8-----------------------#2018-06-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/c37d55d95dc7f318c978b24e264a03da.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/1*P6GD4_G7nyvMl1CvdNnzqg.png"/></div></figure><p id="e73f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这些是程序员MOOC的<a class="ae jw" href="https://hackernoon.com/tagged/fast-ai" rel="noopener ugc nofollow" target="_blank"> Fast.ai </a>机器<a class="ae jw" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">learning</a>g的(非官方)讲义。</p><p id="a284" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">你可以在这里找到<a class="ae jw" href="http://forums.fast.ai/t/another-treat-early-access-to-intro-to-machine-learning-videos/6826" rel="noopener ugc nofollow" target="_blank">官方帖子</a></p><blockquote class="jx jy jz"><p id="22ab" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">这是1/12部分的课堂讲稿。</p></blockquote></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><h1 id="6a00" class="kl km hu bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">介绍</h1><ul class=""><li id="5e53" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">在USF教授的课程，以MOOC的形式提供。</li><li id="15c1" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">[课程网站尚未上线，一旦上线我会更新链接。同时，你可以在这里找到官方帖子</li><li id="dcba" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">提示:检查视频中的“卡片”。</li></ul><h2 id="b85d" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">本地设置的替代方案:(具有快速人工智能支持)</h2><ul class=""><li id="3c18" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">Crestle <br/>定价:每小时3美分(近似值)<br/> Jupyter Nb在浏览器中打开</li><li id="9c9b" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">图纸空间</li></ul><h2 id="ebae" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">本地设置说明:</h2><p id="0b7d" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">假设您有自己的GPU和Anaconda设置(最好是CUDA ≥9):</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="ccf6" class="lz km hu mv b fv mz na l nb nc">$ git clone <a class="ae jw" href="https://github.com/fastai/fastai" rel="noopener ugc nofollow" target="_blank">https://github.com/fastai/fastai</a><br/>$ cd fastai<br/>$ conda env update</span></pre><ul class=""><li id="0935" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">使用此处提供的<a class="ae jw" href="http://files.fast.ai/setup/paperspace" rel="noopener ugc nofollow" target="_blank">设置脚本</a></li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="c6f8" class="lz km hu mv b fv mz na l nb nc">$ bash | wget files.fast.ai/setup/paperspace</span></pre><h2 id="22d0" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">学习方法</h2><ul class=""><li id="7c61" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">跟着走。</li><li id="863f" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">先看后跟(失去推荐)。你可能会错过一些重要的信息，你可以尝试一下。</li></ul><h2 id="5f31" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">教学方法:</h2><ul class=""><li id="0a67" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">钻研代码</li><li id="ded3" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">构建模型</li><li id="7937" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">理论随后出现，在这一点上，你将能够有效的编码。</li><li id="fa5f" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">尝试更多数据集。</li><li id="17e7" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">编码做的越多越好(校友推荐)</li><li id="4cab" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">写博文。</li></ul><blockquote class="jx jy jz"><p id="1ea2" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">“嘿，我刚刚学到这个概念，我将分享它”</p></blockquote><h2 id="7f61" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">优秀的技术博客:</h2><ul class=""><li id="ed12" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated"><a class="ae jw" href="http://nbviewer.jupyter.org/url/norvig.com/ipython/ProbabilityParadox.ipynb" rel="noopener ugc nofollow" target="_blank">彼得·诺威格</a>(更多<a class="ae jw" href="http://norvig.com/ipython/" rel="noopener ugc nofollow" target="_blank">此处</a>)</li><li id="7ccd" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">斯蒂芬·梅蒂</li><li id="4357" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated"><a class="ae jw" href="https://codewords.recurse.com/issues/five/why-do-neural-networks-think-a-panda-is-a-vulture" rel="noopener ugc nofollow" target="_blank">朱丽亚·埃文斯</a>(更多<a class="ae jw" href="https://jvns.ca/blog/2014/08/12/what-happens-if-you-write-a-tcp-stack-in-python/" rel="noopener ugc nofollow" target="_blank">在此</a>)</li><li id="43dd" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">朱莉娅·费拉奥利</li><li id="f780" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated"><a class="ae jw" href="http://blog.echen.me/2014/10/07/moving-beyond-ctr-better-recommendations-through-human-evaluation/" rel="noopener ugc nofollow" target="_blank">陈</a></li><li id="2d7e" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">斯拉夫·伊万诺夫 (fast.ai学生)</li><li id="43cb" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated"><a class="ae jw" href="https://hackernoon.com/non-artistic-style-transfer-or-how-to-draw-kanye-using-captain-picards-face-c4a50256b814" rel="noopener ugc nofollow" target="_blank">布拉德·肯斯特勒</a> (fast.ai和USF·MSAN学生)</li></ul></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><h1 id="074b" class="kl km hu bd kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li dt translated">进口</h1><ul class=""><li id="bf4a" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">自动重新加载命令:</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="fbd0" class="lz km hu mv b fv mz na l nb nc">%load ext_autoreload <br/>%autoreload 2</span></pre><p id="18a8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果您修改了导入的源代码，您将不得不重新加载内核以反映这些变化。</p><p id="bade" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果您更改了源代码，这两行代码会自动重新加载Nb。</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="c10a" class="lz km hu mv b fv mz na l nb nc">%matplotlib inline </span></pre><p id="d30b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">内嵌式绘图</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="2c94" class="lz km hu mv b fv mz na l nb nc">from fastai.imports import*</span></pre><blockquote class="jx jy jz"><p id="d1a1" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">数据科学不是软件工程。原型模型需要以交互方式完成。</p><p id="5c1a" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">import *允许所有东西都存在，我们不需要确定细节。</p></blockquote><h2 id="8b89" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">朱庇特诡计</h2><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="9e6f" class="lz km hu mv b fv mz na l nb nc">fn_name</span><span id="097f" class="lz km hu mv b fv ng na l nb nc">?fn_name</span><span id="b379" class="lz km hu mv b fv ng na l nb nc">??fn_name</span></pre><ul class=""><li id="2382" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">给出fn_name库</li><li id="c2f3" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">给出了fn的详细信息</li><li id="757d" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">给出了Fn的源代码</li></ul><h2 id="d85b" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">获取数据</h2><p id="035c" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">Kaggle:由公司/机构发布的真实世界问题。<br/>这些都是非常接近真实世界的问题，让你对照其他竞争者来检验自己。</p><p id="084b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">TL；博士:检查你技能的最佳地方。</p><blockquote class="jx jy jz"><p id="c201" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">杰里米:“我从Kaggle比赛中学到的东西比我一生中所做的任何事情都多”</p></blockquote><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="fe ff nh"><img src="../Images/1459454b42aff81549478292bf43daeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yoVc-9WPlmt3D-vkYYlEzg.png"/></div></div></figure><ul class=""><li id="b933" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">转到竞争页面。</li><li id="b48e" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">接受条款和条件。</li></ul><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="fe ff nh"><img src="../Images/6e3de81fba47589e69289a2833be8afc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oQCbYnNtLxuXYfkJ0biv6A.png"/></div></div></figure><ul class=""><li id="ae16" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">下载数据集</li></ul><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="fe ff nh"><img src="../Images/8901d753aacd96ecfdbe3d02d14df670.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*q_6IbW2EFXC1tImhE98rKg.png"/></div></div></figure><p id="b228" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">运筹学</p><ul class=""><li id="9b81" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">设置官方Kaggle API</li></ul><figure class="mq mr ms mt fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="ni nj di nk bf nl"><div class="fe ff nh"><img src="../Images/d56b5a4bb5ce6e63202fbd8fb58fdef8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ITmITDSr7eooWr5pAENGow.png"/></div></div></figure><ul class=""><li id="89eb" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">使用终端下载数据集。</li></ul><p id="bfa9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">运筹学</p><ul class=""><li id="ee50" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">使用CurlWget Chrome扩展。</li><li id="a661" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">开始下载并取消它。</li><li id="d36a" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">点击扩展。</li><li id="7b53" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">将复制的命令粘贴到终端。</li></ul><p id="6b07" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">注意:推荐将数据下载到您云计算实例的有用技术。Crestle和Paperspace将预下载大部分数据集。</p><blockquote class="jx jy jz"><p id="f72e" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">好习惯:为你所有的数据创建一个文件夹</p></blockquote><p id="1c6b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在Jupyter中运行BASH命令</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="2729" class="lz km hu mv b fv mz na l nb nc">!BASH_COMMAND</span></pre><p id="e4cf" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">添加Python命令</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="4ffa" class="lz km hu mv b fv mz na l nb nc">!BASH {Python}</span></pre><h1 id="d889" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">推土机蓝皮书:</h1><p id="78d2" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">目标:</p><blockquote class="jx jy jz"><p id="323b" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">竞赛的目标是根据用途、设备类型和配置来预测特定重型设备的拍卖价格。数据来源于拍卖结果公告，包括使用和设备配置信息。</p><p id="33b1" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">Fast Iron正在创建一个“推土机蓝皮书”，供客户评估他们的重型设备车队在拍卖中的价值。</p></blockquote><ul class=""><li id="03ff" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">看数据入门。</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="f0c6" class="lz km hu mv b fv mz na l nb nc">!head data/bulldozers/Train.csv</span></pre><p id="938a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">给出了前几行。</p><h2 id="56a2" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">结构化数据:</h2><p id="f32e" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">(非官方定义)具有不同数据类型的数据列。</p><ul class=""><li id="fd8d" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">Pandas: <br/>处理表格数据的最佳库。</li><li id="71bb" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">Fastai默认导入熊猫库。</li><li id="c0d3" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">阅读CSV</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="4c1b" class="lz km hu mv b fv mz na l nb nc">df_raw = pd.read_csv(f'{PATH}Train.csv', low_memory=False, <br/>                     parse_dates=["saledate"])</span></pre><ul class=""><li id="d0bf" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">low_mem=False <br/>允许它将更多细节加载到内存中。</li></ul><h2 id="fc79" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">Python 3.6格式:</h2><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="76be" class="lz km hu mv b fv mz na l nb nc">var ='abc'<br/>f'ABC {abc}'</span></pre><p id="11eb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这允许Python解释{}内部的代码</p><h2 id="2ede" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">显示数据:</h2><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="d876" class="lz km hu mv b fv mz na l nb nc">df_raw </span></pre><p id="9b29" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">简单地写这个会截断输出</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="fb1d" class="lz km hu mv b fv mz na l nb nc">display_all()<br/>def display_all(df):<br/>    with pd.option_context("display.max_rows", 1000, "display.max_columns", 1000): <br/>        display(df)</span></pre><p id="9881" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这允许打印完整的df。</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="d99e" class="lz km hu mv b fv mz na l nb nc">display_all(df_raw.tail().T)</span></pre><p id="6c13" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">由于列很多，我们采取了转置。</p><h2 id="187a" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">评估:</h2><p id="4fbe" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">因为度量是RMSLE，所以我们在这里考虑对数值。</p><p id="a15f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">均方根对数误差:实际拍卖价格和预测拍卖价格之间的误差。</p><h2 id="1efa" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">随机森林:</h2><ul class=""><li id="39c8" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">简介:通用机器学习技术，可用于预测分类/连续变量。</li><li id="4f64" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">它可以处理像素值/列。</li><li id="f542" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">总的来说，不会过拟合。</li><li id="bbb9" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">很容易避免过度拟合。</li><li id="68e9" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">没有任何验证单元格也能正常工作。</li><li id="6ec8" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">不需要统计假设。</li></ul><p id="ef1b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">TL；大卫:这是一个很好的开始。</p><h2 id="9a84" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">维度的诅咒:</h2><p id="1c99" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">列数越多，数据点位于边缘的数学空间就越空(数学属性)。</p><p id="90ce" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这导致点与点之间的距离毫无意义。</p><blockquote class="jx jy jz"><p id="fc88" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">总的来说，假的。</p></blockquote><ul class=""><li id="1585" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">即使数据点位于边界上，它们也有距离。</li><li id="d463" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">90年代理论研究更重。</li><li id="010e" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">在大量的柱子上建立模型非常有效。</li></ul><h2 id="01d3" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">没有免费的午餐定理:</h2><p id="79b3" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">没有一种通用的模型可以适用于所有类型的数据集。</p><p id="ce6e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">一般来说，我们会查看由某种原因/结构创建的数据。实际上，有一些技术可以很好地适用于我们处理的几乎所有常规数据集。决策树集成是应用最广泛的技术。</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="9297" class="lz km hu mv b fv mz na l nb nc">ValueError: could not convert string to float: 'Conventional'</span></pre><p id="fd34" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">SKLearn不是最好的库，但对我们的目的来说还是不错的。</p><h2 id="f903" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">随机森林:</h2><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="91eb" class="lz km hu mv b fv mz na l nb nc">from sklearn.ensemble import RandomForestRegressor, RandomForestClassifier</span></pre><ul class=""><li id="e383" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">回归量:<br/>连续值。</li><li id="542f" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">分类器:<br/>对值进行分类。</li></ul><p id="158a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">注意:回归！=线性回归。</p><h1 id="f2fc" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">特征工程</h1><p id="ed7a" class="pw-post-body-paragraph iy iz hu ja b jb ll jd je jf lm jh ji jj mn jl jm jn mo jp jq jr mp jt ju jv hn dt translated">RandomForest算法需要数字数据。</p><ul class=""><li id="4dda" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">我们需要把一切都转换成数字。</li></ul><p id="8059" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">数据集:</p><ul class=""><li id="fb1b" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">连续变量。</li><li id="13e7" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">分类:<br/> -数字<br/> -字符串<br/> -日期</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="23cd" class="lz km hu mv b fv mz na l nb nc">df_raw.saledate</span></pre><p id="52ad" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">日期内的信息:</p><ul class=""><li id="fb27" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">是节日吗？</li><li id="ea27" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">是周末吗？</li><li id="e744" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">天气。</li><li id="1ab1" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">事件信息。</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="06b4" class="lz km hu mv b fv mz na l nb nc">??add_datepart</span></pre><p id="64a5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">去看看源代码。</p><p id="59b7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这将获取字段“fldname”<br/>注意:df.fldname将从字面上查找名为fld name的字段。</p><blockquote class="jx jy jz"><p id="f86a" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">df[fldname]通常是一个更安全的选项。这是一个安全的赌注，不会在我们犯错时出现奇怪的错误。不要偷懒做df(点)fldname</p><p id="4273" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">此外，df[fldname]返回一个序列。</p></blockquote><p id="9beb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">该函数遍历所有的字符串，它在对象内部查找并找到具有该名称的属性。这样做是为了创建可能与我们的案例相关的任何列。(与维数灾难正好相反——我们正在创建更多的列)</p><blockquote class="jx jy jz"><p id="5aed" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">向数据中添加更多的列没有坏处。</p></blockquote><p id="3df8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">链接getattr()</p><p id="f1e2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">Pandas在属性中分解出不同的方法。</p><p id="094f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">pd.dt.___中链接的所有日期时间</p><p id="565c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">最后，我们放弃了这一列。</p><h2 id="fae6" class="lz km hu bd kn ma mb mc kr md me mf kv jj mg mh kz jn mi mj ld jr mk ml lh mm dt translated">处理字符串</h2><ul class=""><li id="7258" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">UsageBand有低、高、中。</li><li id="a697" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">Pandas有一个分类变量，但默认情况下它不起作用。</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="1844" class="lz km hu mv b fv mz na l nb nc">train_cats</span></pre><p id="4619" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">为字符串创建分类变量。它创建一个存储数字的列，并存储字符串和数字的映射。</p><blockquote class="jx jy jz"><p id="7658" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">确保对训练数据集和测试数据集使用相同的映射。</p></blockquote><ul class=""><li id="41c2" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">类似于。dt，。cat允许访问分类数据。</li></ul><p id="f6df" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">因为我们会有一个决策树来拆分列。最好有一个“合乎逻辑”的顺序。</p><p id="978e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">RF由可以分裂的树组成。拆分可以是高对低+中，然后是低对中。</p><h1 id="024a" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">缺少值</h1><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="8683" class="lz km hu mv b fv mz na l nb nc">display_all(df_raw.isnull().sum().sort_index()/len(df_raw))</span></pre><ul class=""><li id="8687" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">。如果数据有空值，isnull()返回T/F。</li><li id="df8a" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">。sum()将空值相加。</li><li id="d5e0" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">然后，我们对它们进行排序，并按长度进行划分，以返回缺失的值。</li></ul><h1 id="2f90" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">节约</h1><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="bea3" class="lz km hu mv b fv mz na l nb nc">os.makedirs('tmp', exist_ok=True)<br/>df_raw.to_feather('tmp/bulldozers-raw')</span></pre><p id="a33a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">羽化:以类似于RAM中的格式保存文件。通俗地说——就是快。</p><blockquote class="jx jy jz"><p id="843c" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">提示:使用临时文件夹来存放你工作时出现的所有行动/需求。</p></blockquote><h1 id="10db" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">最后的步骤</h1><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="2273" class="lz km hu mv b fv mz na l nb nc">proc_df</span></pre><p id="0850" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">Structured.fastai中的函数</p><ul class=""><li id="353c" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">抓取df的副本</li><li id="6672" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">抓取从属列。</li><li id="8fea" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">从属列被删除。</li><li id="e463" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">缺失值是固定的。</li><li id="8ce2" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">修复丢失的<br/> -数值:如果它确实有丢失的值，那么创建一个名为Col_na(布尔列)的新列，并用中间值<br/>替换_ na-非数值和分类:用代码替换并加1。</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="b98c" class="lz km hu mv b fv mz na l nb nc">df, y, nas = proc_df(df_raw, 'SalePrice')</span></pre><h1 id="a88f" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">运行回归器</h1><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="e481" class="lz km hu mv b fv mz na l nb nc">m = RandomForestRegressor(n_jobs=-1)<br/>m.fit(df, y)<br/>m.score(df,y)</span></pre><ul class=""><li id="6857" class="lj lk hu ja b jb jc jf jg jj nd jn ne jr nf jv lq lr ls lt dt translated">随机森林是可并行的<br/> n_jobs=-1为我们的每个CPU创建一个独立的进程。</li><li id="e2f3" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">创建模型</li><li id="fba8" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">归还分数</li></ul><p id="fb56" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">1是最好的分数。</p><p id="6eb0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">0是最差的。</p><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="9524" class="lz km hu mv b fv mz na l nb nc">def rmse(x,y): return math.sqrt(((x-y)**2).mean())</span><span id="e1f0" class="lz km hu mv b fv ng na l nb nc">def print_score(m):<br/>    res = [rmse(m.predict(X_train), y_train), rmse(m.predict(X_valid), y_valid),<br/>                m.score(X_train, y_train), m.score(X_valid, y_valid)]<br/>    if hasattr(m, 'oob_score_'): res.append(m.oob_score_)<br/>    print(res)</span></pre><h1 id="e3ba" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">检查过度拟合</h1><ul class=""><li id="caa4" class="lj lk hu ja b jb ll jf lm jj ln jn lo jr lp jv lq lr ls lt dt translated">我们可以创建一个验证数据集。</li><li id="c836" class="lj lk hu ja b jb lu jf lv jj lw jn lx jr ly jv lq lr ls lt dt translated">按日期排序，最近的12，000个日期将成为验证集。</li></ul><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="28ca" class="lz km hu mv b fv mz na l nb nc">def split_vals(a,n): return a[:n].copy(), a[n:].copy()</span><span id="6f82" class="lz km hu mv b fv ng na l nb nc">n_valid = 12000  # same as Kaggle's test set size<br/>n_trn = len(df)-n_valid<br/>raw_train, raw_valid = split_vals(df_raw, n_trn)<br/>X_train, X_valid = split_vals(df, n_trn)<br/>y_train, y_valid = split_vals(y, n_trn)</span><span id="851d" class="lz km hu mv b fv ng na l nb nc">X_train.shape, y_train.shape, X_valid.shape</span></pre><h1 id="e8fc" class="kl km hu bd kn ko nm kq kr ks nn ku kv kw no ky kz la np lc ld le nq lg lh li dt translated">最终得分</h1><blockquote class="jx jy jz"><p id="3508" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">如果你在Kaggle LB的上半部分，这是一个很好的开始。</p></blockquote><pre class="mq mr ms mt fq mu mv mw mx aw my dt"><span id="4848" class="lz km hu mv b fv mz na l nb nc">print_score(m)<br/>[0.09044244804386327, 0.2508166961122146, 0.98290459302099709, 0.88765316048270615]</span></pre><p id="073d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">0.25将会在前25%中获得一个LB位置</p><blockquote class="jx jy jz"><p id="d773" class="iy iz ka ja b jb jc jd je jf jg jh ji kb jk jl jm kc jo jp jq kd js jt ju jv hn dt translated">欣赏:没有任何思考或密集的特征工程，没有定义/担心任何统计假设-我们得到了一个体面的分数。</p></blockquote></div><div class="ab cl ke kf hc kg" role="separator"><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj kk"/><span class="kh bw bk ki kj"/></div><div class="hn ho hp hq hr"><p id="32ff" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="ka">如果你觉得这篇文章有用，并想保持联系，你可以在Twitter上找到我</em> <a class="ae jw" href="http://twitter.com/bhutanisanyam1" rel="noopener ugc nofollow" target="_blank"> <em class="ka">这里</em> </a> <em class="ka">。</em></p><figure class="mq mr ms mt fq iv"><div class="bz el l di"><div class="nr ns l"/></div></figure></div></div>    
</body>
</html>