<html>
<head>
<title>Using Serverless Architecture — Is not all or nothing.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用无服务器体系结构—不是全有或全无。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/using-serverless-archiecture-is-not-all-or-nothing-7697af85286?source=collection_archive---------18-----------------------#2018-06-12">https://medium.com/hackernoon/using-serverless-archiecture-is-not-all-or-nothing-7697af85286?source=collection_archive---------18-----------------------#2018-06-12</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/ed916975c5a74f94ba636b197ff37582.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dZbniCXtNrTSc3P2s8ofYA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/photos/pgdaAwf6IJg?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">imgix</a> on <a class="ae jg" href="https://unsplash.com/search/photos/server?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="1b8c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">去年，无服务器是一个特别热门的话题，引发了大量的炒作。四大云托管公司各自提供自己的解决方案:<a class="ae jg" href="https://azure.microsoft.com/en-us/services/functions/" rel="noopener ugc nofollow" target="_blank"> Azure Function </a>、<a class="ae jg" href="https://aws.amazon.com/lambda/features/" rel="noopener ugc nofollow" target="_blank"> AWS Lambda </a>、<a class="ae jg" href="https://www.alibabacloud.com/product/function-compute" rel="noopener ugc nofollow" target="_blank">阿里云Function Compute </a>和<a class="ae jg" href="https://cloud.google.com/functions/" rel="noopener ugc nofollow" target="_blank"> Google Functions </a>。有许多<a class="ae jg" href="https://www.youtube.com/watch?v=LAWjdZYrUgI" rel="noopener ugc nofollow" target="_blank">会议</a>开始比较和讨论使用无服务器相对于传统<a class="ae jg" href="https://hackernoon.com/tagged/architecture" rel="noopener ugc nofollow" target="_blank">架构的优势</a>。</p><p id="5cef" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">通过使用无服务器，我们可以执行事件触发的明确定义的功能，而无需管理和扩展任何基础架构。</p><p id="c8bb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">自从我开始在我的一些兼职项目中采用无服务器架构以来，我发现我们可以从中获得很多好处。</p><blockquote class="kf"><p id="9644" class="kg kh hu bd ki kj kk kl km kn ko ke ek translated">我们不必在无服务器上孤注一掷。</p></blockquote><h1 id="0744" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm dt translated">利益</h1><p id="839c" class="pw-post-body-paragraph jh ji hu jj b jk ln jm jn jo lo jq jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated"><strong class="jj hv">降低运营成本— </strong>我们不再雇人管理服务器，而是将它“外包”给专家。开发人员可以专注于编写代码，并使用许多其他人已经在使用的预定义服务。其次，我们只为运行该功能所花费的时间付费，而不是为全天候运行的服务器付费。</p><p id="fc1c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">更低的扩展成本— </strong>我们可以选择扩展重要的部分，而不是扩展所有东西或投入更多硬件。大多数时候，峰值出现在应用程序的某个部分，通常会持续一段时间。例如，在电子商务网站的销售期间。如果我们使用无服务器架构与Stripe进行支付集成，我们只需在高峰期支付额外的计算容量。</p><p id="af03" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">降低开发成本— </strong>实际上，其他服务提供商已经提供了许多现成的组件，而不是总是另起炉灶。比如像<a class="ae jg" href="https://firebase.google.com/docs/auth/" rel="noopener ugc nofollow" target="_blank"> Firebase </a>、<a class="ae jg" href="https://auth0.com" rel="noopener ugc nofollow" target="_blank"> Auth0 </a>这样的认证服务，像<a class="ae jg" href="https://stripe.com/" rel="noopener ugc nofollow" target="_blank"> Stripe </a>和<a class="ae jg" href="https://www.braintreepayments.com" rel="noopener ugc nofollow" target="_blank"> Braintree </a>这样的支付服务。与我们自己开发一切相比，这些现成的组件将为我们节省大量的时间和开发成本。</p><h1 id="a83f" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la ls lc ld le lt lg lh li lu lk ll lm dt translated">现有项目的可能用例</h1><figure class="lw lx ly lz fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lv"><img src="../Images/67040fef59a42725379c9f82ac19f75d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8c333d_YNEHG4q3UDb1wTA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/photos/5fNmWej4tAA?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Helloquence</a> on <a class="ae jg" href="https://unsplash.com/search/photos/computer?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="8679" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们可以通过迁移应用程序中特别适合无服务器的部分来利用这一切。如上所述，我认为认证和支付集成将是一个良好开端。它是应用程序的一部分，只是执行一些事件。很少有业务逻辑需要状态。</p><p id="e66a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">认证/注册— </strong>我们甚至不必迁移整个认证或注册流程。如果你的团队希望增加其他形式的身份验证，如短信验证或改进密码重置功能，我肯定会考虑无服务器。</p><p id="5c94" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">图像处理— </strong>大多数拥有用户帐户的应用程序还为每个用户处理某种形式的头像图像。如果你处理某种形式的照片编辑/调整大小和保存到类似于<code class="eh ma mb mc md b">S3</code>的存储器中，那么将这部分更新为无服务器肯定很有意义。这样，您可以减少正在运行的线程或额外的工作线程，并且只为特定函数所用的计算时间付费。</p><p id="efa6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">事件驱动特性— </strong>如果您的应用程序在每月的特定时间生成某种形式的发票，并向特定用户发送电子邮件，这也是一个很好的无服务器用例。当发票保存到<code class="eh ma mb mc md b">S3</code>时，您可以触发<code class="eh ma mb mc md b">Lambda</code>运行并使用<code class="eh ma mb mc md b">SNS</code>发送电子邮件。我更新了我自己的应用程序的一部分，当一个新的<code class="eh ma mb mc md b">APP_VERSION.zip</code>被保存到<code class="eh ma mb mc md b">S3</code>时，它会向应用程序的用户推送一个特定的通知，请求允许更新。</p><h1 id="c85e" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la ls lc ld le lt lg lh li lu lk ll lm dt translated">提高开发速度的框架</h1><p id="d2c7" class="pw-post-body-paragraph jh ji hu jj b jk ln jm jn jo lo jq jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">随着无服务器架构的成熟，许多伟大的工程师开始创建框架来帮助简化他们的工作。以下是我在开始无服务器架构之旅时比较的一些库。</p><p id="30c7" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://github.com/aws/chalice" rel="noopener ugc nofollow" target="_blank"> Chalice by AWS </a> —这是一个python框架，允许我们使用AWS Lambda、API Gateway和CloudWatch快速创建和部署应用程序。</p><p id="6c39" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://github.com/Miserlou/Zappa" rel="noopener ugc nofollow" target="_blank"> Zappa </a> — Python框架，允许我们使用AWS部署任何WSGI兼容的应用程序。基于Flask、Bottle或Django构建的应用程序可以很容易地用Zappa进行配置。</p><p id="813f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://github.com/claudiajs/claudia" rel="noopener ugc nofollow" target="_blank"> Claudia.js </a> —轻松将任何Node.js项目部署到AWS Lambda和API Gateway。专注于Node.js应用程序，自动安装模板，将参数和结果转换为Javascript可以轻松使用的对象。</p><p id="244b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><a class="ae jg" href="https://github.com/apex/apex" rel="noopener ugc nofollow" target="_blank"> Apex </a> —主要在Go上构建，但通过使用注入到构建中的Node.js填充程序，支持AWS Lambda本身不支持的许多其他语言。目前支持Node.js，Golang，Python，Java，Rust和，Clojure。</p><h1 id="479a" class="kp kq hu bd kr ks kt ku kv kw kx ky kz la ls lc ld le lt lg lh li lu lk ll lm dt translated">结论</h1><p id="e8c1" class="pw-post-body-paragraph jh ji hu jj b jk ln jm jn jo lo jq jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">简而言之，无服务器在执行<strong class="jj hv">单一目的无状态功能</strong>时效果最佳。我们不必总是选择一种服务器架构而不是另一种。有时，混合架构允许我们利用<strong class="jj hv">不同的优势。</strong></p><p id="7206" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我希望我做的足以说服你。如果您正在构建一个新功能或试图改进现有功能，请考虑使用无服务器架构。如果它符合上面的场景，那就试试无服务器吧。你可能会发现一些东西，并在此过程中学习新的东西。</p></div><div class="ab cl me mf hc mg" role="separator"><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj mk"/><span class="mh bw bk mi mj"/></div><div class="hn ho hp hq hr"><h1 id="965c" class="kp kq hu bd kr ks ml ku kv kw mm ky kz la mn lc ld le mo lg lh li mp lk ll lm dt translated">感谢阅读！如果你喜欢，请点击👏👏👏</h1><p id="5229" class="pw-post-body-paragraph jh ji hu jj b jk ln jm jn jo lo jq jr js lp ju jv jw lq jy jz ka lr kc kd ke hn dt translated">我喜欢阅读和写作关于技术和产品的文章，尤其是与提高开发人员的生产力相关的文章。你可以在我的<a class="ae jg" href="https://twitter.com/Zaccc123" rel="noopener ugc nofollow" target="_blank">推特</a>或者我的<a class="ae jg" href="https://zackwan.app" rel="noopener ugc nofollow" target="_blank">博客</a>上向我问好。</p><figure class="lw lx ly lz fq iv"><div class="bz el l di"><div class="mq mr l"/></div></figure></div></div>    
</body>
</html>