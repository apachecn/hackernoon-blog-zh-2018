<html>
<head>
<title>The Developer’s Guide to PHP Testing in 2018</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">2018年PHP测试开发者指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-developers-guide-to-php-testing-in-2018-ebcc1f6e9a42?source=collection_archive---------1-----------------------#2018-06-13">https://medium.com/hackernoon/the-developers-guide-to-php-testing-in-2018-ebcc1f6e9a42?source=collection_archive---------1-----------------------#2018-06-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/7a30445f787ca98fd11d39b593acfeb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*y9M5UiTrdQzfBS8nAnwIFQ.jpeg"/></div></div></figure><h2 id="82b4" class="jc jd hu bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">由工程师<a class="ka kb gr" href="https://medium.com/u/d8be98cdccce?source=post_page-----ebcc1f6e9a42--------------------------------" rel="noopener" target="_blank">马修·塞特</a></h2><blockquote class="kc kd ke"><p id="19a5" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld hn dt translated">披露:<a class="ae le" href="http://bit.ly/codacyhackernoonblogpostjune" rel="noopener ugc nofollow" target="_blank"> <strong class="ki hv"> Codacy </strong> </a>，自动化代码评审平台，之前赞助过黑客正午。使用code HACKERNOON可享受八五折优惠。这篇文章最初出现在<a class="ae le" href="http://bit.ly/2MeFqJq" rel="noopener ugc nofollow" target="_blank"> Codacy博客</a>上。</p></blockquote><p id="4eb7" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">测试代码是编写任何质量水平的软件的重要方面。<br/>这是必不可少的，因为它帮助我们知道代码应该如何工作；从最终用户的角度来看，无论是特定的功能单元还是整个应用程序。</p><p id="339c" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">那么PHP在2018年的表现如何呢？2018年PHP的测试状态如何？在本文中，我将从多个角度回答这个问题。</p><p id="7dea" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">从测试语言到幕后工作人员，我打算向您展示现在是测试PHP的绝佳时机。开始吧，阅读并在评论中分享你的想法。</p><h1 id="5367" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">标量类型提示和返回类型声明支持</h1><p id="fa4c" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">通过谈论PHP的<a class="ae le" href="https://wiki.php.net/rfc/scalar_type_hints" rel="noopener ugc nofollow" target="_blank">标量类型提示</a>和<a class="ae le" href="https://wiki.php.net/rfc/return_types" rel="noopener ugc nofollow" target="_blank">返回类型声明</a>支持，开始谈论测试的状态似乎有点奇怪。</p><p id="2ff3" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">然而，如果没有这个增加，我不会认为测试的状态像现在这样成熟。如果您不熟悉PHP中的标量类型提示和返回类型声明，请看下面的代码。</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="8d63" class="jc jd hu mg b fv mk ml l mm mn">&lt;?php</span><span id="f3f1" class="jc jd hu mg b fv mo ml l mm mn">class Document<br/>{<br/>  public function titlecase(string $text): string<br/>  {<br/>    if (strlen($text) === 0) {<br/>      return;<br/>    }</span><span id="f6fb" class="jc jd hu mg b fv mo ml l mm mn">return preg_replace_callback(<br/>      self::SEARCH_REGEX,<br/>      function ($match) {<br/>        $tmp = preg_replace_callback(<br/>          sprintf(‘/\b(%s)\b/i’, implode(‘|’, self::SMALL_WORDS)),<br/>          function ($m) {<br/>            return strtolower($m[0]);<br/>          },<br/>          $match[2]<br/>        );<br/>        return sprintf(‘%s[%s]’, $match[1], $tmp);<br/>      },<br/>      $text<br/>    );<br/>  }<br/>}</span></pre><p id="952e" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">您可以看到有一个类(“Document”)有一个方法(“titlecase”)。该方法采用一个参数“$text”，该参数必须是字符串。该函数还返回一个字符串。</p><p id="688c" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">让我们考虑这对代码及其用法意味着什么。很明显，你必须提供一个字符串，函数返回一个字符串。公平地说，我们可以指定任何其他标量类型或用户定义的类或接口。</p><p id="3179" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">所以在这个层次上，标量类型的使用没有什么特别的。然而，总体来看，这是一个显著的进步。为什么？</p><p id="e27f" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">因为代码的意图比以前更加明确了。它更具体地表明了自己的意图。从验证的角度来看，这种语言现在可以检查传递给函数和从函数返回的类型，因此不再需要在代码中这样做。</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="2438" class="jc jd hu mg b fv mk ml l mm mn">class FilenameToLabelConverterTest extends TestCase<br/>{<br/>  public function converterDataProvider()<br/>  {<br/>    $original = &lt;&lt;&lt;EOD<br/>modules/admin_manual/pages/appliance/ucs/add-groups-and-users.adoc[Add-groups-and-users]<br/>modules/admin_manual/pages/appliance/Active_Directory.adoc[Active Directory]<br/>modules/admin_manual/pages/appliance/Backup.adoc[Backup]<br/>modules/admin_manual/pages/appliance/Collabora.adoc[Collabora]<br/>modules/admin_manual/pages/appliance/clamav.adoc[Clamav]<br/>modules/admin_manual/pages/appliance/howto-update-owncloud.adoc[Howto-update-owncloud]<br/>modules/admin_manual/pages/appliance/index.adoc[Index]<br/>modules/admin_manual/pages/appliance/installation.adoc[Installation]<br/>modules/admin_manual/pages/appliance/managing-ucs.adoc[Managing-ucs]<br/>modules/admin_manual/pages/appliance/what-is-it.adoc[What-is-it]<br/>EOD;<br/><br/>$formatted = &lt;&lt;&lt;EOD<br/>modules/admin_manual/pages/appliance/ucs/add-groups-and-users.adoc[Add groups and users]<br/>modules/admin_manual/pages/appliance/Active_Directory.adoc[Active Directory]<br/>modules/admin_manual/pages/appliance/Backup.adoc[Backup]<br/>modules/admin_manual/pages/appliance/Collabora.adoc[Collabora]<br/>modules/admin_manual/pages/appliance/clamav.adoc[ClamAV]<br/>modules/admin_manual/pages/appliance/howto-update-owncloud.adoc[Howto update ownCloud]<br/>modules/admin_manual/pages/appliance/index.adoc[Index]<br/>modules/admin_manual/pages/appliance/installation.adoc[Installation]<br/>modules/admin_manual/pages/appliance/managing-ucs.adoc[Managing UCS]<br/>modules/admin_manual/pages/appliance/what-is-it.adoc[What is it]<br/>EOD;<br/>    return [<br/>      [<br/>        $original,<br/>        $formatted<br/>      ]<br/>    ];<br/> }<br/> /**<br/>  * <a class="ae le" href="http://twitter.com/dataProvider" rel="noopener ugc nofollow" target="_blank">@dataProvider</a> converterDataProvider<br/>  * <a class="ae le" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> string $from<br/>  * <a class="ae le" href="http://twitter.com/param" rel="noopener ugc nofollow" target="_blank">@param</a> string $to<br/>  */<br/>  public function testCanCorrectlyConvertStringToTitlecase(<br/>    string $from, string $to<br/>  ) {<br/>    $converter = new FilenameToLabelConverter();<br/>    $this-&gt;assertSame($to, $converter-&gt;titlecase($from));<br/>  }<br/>}</span></pre><p id="5eb2" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">现在让我们来验证这个断言。以上述测试为起点。你可以看到他们只需要提供字符串测试数据。</p><p id="0eb2" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">不需要提供任何其他数据类型的数据，因为这种语言确保函数不能接受它。因此，测试更短，编写、验证和维护的时间更少。更重要的是，<strong class="ki hv">它们更容易阅读</strong>！</p><h1 id="40ac" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">应该总是使用类型吗？</h1><p id="1199" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">我并不是说应该一直使用它们。我同意有不使用它们的时间和地点。然而，如果使用得当，它们可以减少测试的需要。</p><p id="9ad0" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">此外，检查函数调用的返回值所需的测试和验证更少。如果您不确定我的意思，请考虑上面没有使用标量类型提示和返回类型声明的例子。</p><p id="2bba" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">在这种情况下，语言不能强制只向函数提供字符串。考虑到这一点，您必须添加一系列测试，以确保当向它传递一个字符串时，以及当向它传递任何数量的其他数据类型时，它都返回正确的结果。</p><ul class=""><li id="be34" class="mp mq hu ki b kj kk kn ko jn mr jr ms jv mt ld mu mv mw mx dt translated">哪种情况更精确、更干净、更易维护？</li><li id="8c29" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">哪种情况会导致更高的开发人员满意度和更少的成本？</li></ul><p id="17a8" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">以这个简单的例子作为参考点，标量类型提示和返回类型是更好的选择。由于这些特性，用PHP测试比以前容易多了。</p><h1 id="94e1" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">测试框架</h1><p id="2feb" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">PHP有大量的测试框架和工具可供选择。不可否认的是，其中只有少数得到了大力支持。<br/>这些包括Behat、Codeception、mock和PHPUnit (PHP事实上的测试工具)。</p><p id="805f" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">现在让我们快速浏览一下，看看它们能提供什么。</p><h1 id="8b3c" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">笑柄</h1><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/7eb039af3fb10e1d3f1753f0e61f8d79.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*7iA-P5aIr8B2WSw_wQcG3Q.png"/></div></figure><p id="3691" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">现代测试可能是一项相当复杂的任务，需要各种各样的技术和方法来全面测试代码，而<a class="ae le" href="http://docs.mockery.io/en/latest/" rel="noopener ugc nofollow" target="_blank">嘲讽</a>是帮助实现这一目标的优秀工具。如果您以前没有听说过它，这里有一个简短的概述，来自该项目的文档:</p><blockquote class="kc kd ke"><p id="a9c4" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld hn dt translated">mock是一个简单而灵活的PHP模拟对象框架，用于PHPUnit、PHPSpec或任何其他测试框架的单元测试。它的核心目标是提供一个test double框架，该框架具有简洁的API，能够使用人类可读的领域特定语言(DSL)清楚地定义所有可能的对象操作和交互。</p></blockquote><p id="ee3e" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">它提供了对测试双精度、方法存根、方法调用期望和测试间谍的支持，以及许多相关的功能。</p><p id="6876" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">我承认，一开始，我觉得有点困惑。然而，在使用它一段时间后，它是一个非常好的工具，可以放在您的测试工具包中。</p><p id="9917" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">如果你想了解更多，可以查阅相关文档，或者罗伯特Basic在本月的PHP[Arch]杂志上发表的文章“<a class="ae le" href="https://www.phparch.com/2018/04/testing-in-practice-april-2018/" rel="noopener ugc nofollow" target="_blank">更容易用嘲弄来嘲弄</a>”。</p><h1 id="c09c" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">贝哈特</h1><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/20d6ad7cf5f1ba3ce2d3c8071d15a666.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*pe0k9Dh2OzA9tPSjLKc8UA.png"/></div><figcaption class="ne nf fg fe ff ng nh bd b be z ek">Behat — A PHP framework for autotesting your business expectations.</figcaption></figure><p id="1731" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">引用Behat的网站:</p><blockquote class="kc kd ke"><p id="0916" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld hn dt translated">Behat是一个开源的PHP行为驱动开发框架。它是一个工具，通过持续的交流、深思熟虑的发现和测试自动化来支持您交付重要的软件。</p></blockquote><p id="6e25" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated"><a class="ae le" href="http://behat.org/en/latest/" rel="noopener ugc nofollow" target="_blank"> Behat </a>提供BDD(行为驱动开发)测试支持，以“上下文-动作-结果”或<a class="ae le" href="http://docs.behat.org/en/v2.5/guides/1.gherkin.html" rel="noopener ugc nofollow" target="_blank">小黄瓜格式</a>构建测试。它允许一个人类可读的特征文件，如下面的例子，来指导创建一个几乎同样人类可读的测试套件。</p><pre class="mb mc md me fq mf mg mh mi aw mj dt"><span id="aadb" class="jc jd hu mg b fv mk ml l mm mn">Feature: Product basket<br/> In order to buy products<br/> As a customer<br/> I need to be able to put interesting products into a basket<br/><br/> Rules:<br/> — VAT is 20%<br/> — Delivery for basket under £10 is £3<br/> — Delivery for basket over £10 is £2</span></pre><p id="a284" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">喜欢嘲讽，刚开始用Behat的时候，觉得有点混乱；也许这是因为我太习惯使用PHPUnit风格的测试了。因此，从一种风格转换到另一种风格有点太难了。然而，也就是说，在克服了最初的障碍后，我发现它是一个优秀的工具。</p><h1 id="7d14" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">共同认知</h1><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/596f5acafff37514e0f6c1fb189cc98d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*Xdj2wCIQ4CdkPsqjQEYdEA.png"/></div><figcaption class="ne nf fg fe ff ng nh bd b be z ek">Codeception — Elegant and Efficient Testing for PHP.</figcaption></figure><p id="1cbc" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">Behat专门关注BDD风格的测试，而<a class="ae le" href="https://codeception.com/" rel="noopener ugc nofollow" target="_blank">co ception</a>是一个全面的测试套件。它自称为“优雅而高效的PHP测试”,它:</p><ul class=""><li id="d1c9" class="mp mq hu ki b kj kk kn ko jn mr jr ms jv mt ld mu mv mw mx dt translated">支持验收、功能和单元测试</li><li id="1c67" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">支持BDD风格的测试</li><li id="538d" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">支持web服务</li><li id="8fa3" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">支持代码覆盖、并行执行和持续集成</li><li id="9a47" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">具有用于集成AngularJS、脸书、Laravel 5、MongoDB、Phalcon、Redis、REST和SOAP服务器、Zend Framework版本1和2、Zend Expressive、Yii、Symfony Joomla和WordPress的模块</li></ul><p id="efa9" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">除了这些特性之外，它还提供了优秀的命令行工具支持来引导大部分功能。我已经在几个项目中使用了它，并且可以亲自证明它是多么的彻底，以及核心开发团队是多么的支持。</p><p id="0f9a" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">如果你正在寻找一个几乎是PHP的一站式测试商店，那么Codeception就是一条路。此外，核心开发团队最近甚至开始提供企业级支持。</p><h1 id="5f70" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">PHPUnit</h1><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff nd"><img src="../Images/8c6e7347fbdd596b74c1c13c5076dfb8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/format:webp/1*ZMynv4yllIhfg-13d2h5dw.png"/></div></figure><p id="2cd7" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">如果你接触PHP已经有一段时间了——尤其是最近几年——那么你应该知道<a class="ae le" href="https://phpunit.de/" rel="noopener ugc nofollow" target="_blank"> PHPUnit </a>。PHPUnit是PHP测试工具的鼻祖，可以说是它事实上的标准。</p><p id="b6d6" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">快速浏览一下手册，你会发现它有重要的功能。因此，PHP社区中有如此多的人使用它也就不足为奇了。</p><p id="73c5" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">其功能包括:</p><ul class=""><li id="2047" class="mp mq hu ki b kj kk kn ko jn mr jr ms jv mt ld mu mv mw mx dt translated">测试夹具</li><li id="a7d4" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">数据库测试</li><li id="ec14" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">组织测试</li><li id="d6df" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">测试双打</li><li id="637d" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">记录</li><li id="cfe5" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">代码覆盖分析</li><li id="2c75" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">文档块注释</li><li id="d7f1" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">数据提供者</li><li id="aca2" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">大量的断言；和</li><li id="924b" class="mp mq hu ki b kj my kn mz jn na jr nb jv nc ld mu mv mw mx dt translated">功能丰富的命令行测试运行和基于XML的配置文件</li></ul><p id="9707" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">除此之外，它还集成了许多其他工具，比如Mockery。如果你正在寻找合适的工具来开始测试你的PHP代码，PHPUnit是一个好的开始。</p><h1 id="fa81" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">静态代码分析</h1><p id="4a49" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">既然我们已经介绍了几种最流行的测试工具，现在让我们转向静态代码分析支持。如果你不熟悉术语，<a class="ae le" href="https://en.wikipedia.org/wiki/Static_program_analysis" rel="noopener ugc nofollow" target="_blank">静态代码分析</a>是:</p><blockquote class="kc kd ke"><p id="663d" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld hn dt translated">在不实际执行程序的情况下对计算机软件进行的分析。在大多数情况下，分析是在源代码的某个版本上执行的，而在其他情况下，是在某种形式的目标代码上执行的。</p></blockquote><p id="7b80" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">通过使用它们，我们有助于确保我们的代码质量正在提高，而不是下降，并且我们可以追溯到引入它们的特定提交。</p><p id="daf5" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">我强调这个主题是因为许多专业服务现在都积极支持PHP，无论是作为他们唯一的语言，如<a class="ae le" href="https://www.ripstech.com/" rel="noopener ugc nofollow" target="_blank"> RIPS </a>，还是作为他们支持的语言的一部分。</p><p id="d86b" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">此外，这一点很重要，因为很长一段时间以来，出于对“更受尊敬”的语言，如Python、Java、C/C++、C#和Perl的尊重，PHP似乎一直是一种事后的想法。现在，几乎每个专业的静态代码分析服务都支持PHP。</p><p id="ed8b" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated"><strong class="ki hv">顺便提一下:</strong> <a class="ae le" href="https://www.codacy.com/" rel="noopener ugc nofollow" target="_blank"> Codacy </a>支持PHP作为他们产品的一部分。</p><h1 id="78a5" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">作为一等公民进行测试</h1><p id="5e0f" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">我相信2018年PHP中测试的状态极其积极的最后一个原因是，测试是一等公民。我这样说有很多原因。</p><p id="b39b" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">首先:所有领先的框架都支持它。从Laravel、Zend Expressive和Symfony，到Phalcon、Yii、FuelPHP和Aura(仅举几例)都使得测试基于它们的应用程序变得非常容易。</p><p id="6088" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated"><strong class="ki hv">其次:</strong>因为关于测试的讨论。如果你参加任何大型会议，无论是社区会议还是商业会议；如果你去PHP聚会；如果你阅读PHP杂志和博客，你会读到、看到和听到关于测试的内容。</p><p id="f824" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">无论您是PHP新手还是测试新手，无论您是经验丰富的开发人员还是测试人员，都有适合您的内容。你总是有机会开始，以及进一步建立你的技能。</p><p id="5991" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">我同意，在PHP中测试曾经被许多人认为是事后的想法。然而，那些日子已经一去不复返了。</p><h1 id="137e" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">这是许多人辛勤工作的证明</h1><p id="e7ff" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">PHP的测试水平已经有了长足的进步，至少在我看来，和其他语言一样好。也就是说，如果没有社区中许多人的辛勤工作，它就不会有今天，特别是<a class="ae le" href="https://twitter.com/grmpyprogrammer" rel="noopener ugc nofollow" target="_blank">克里斯·哈特杰斯(坏脾气的程序员)</a>和<a class="ae le" href="https://sebastian-bergmann.de/" rel="noopener ugc nofollow" target="_blank">塞巴斯蒂安·博格曼(PHPUnit的创始人)</a>。</p><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff ni"><img src="../Images/b132eaf20060eb699df63e6163c170a1.png" data-original-src="https://miro.medium.com/v2/resize:fit:398/format:webp/1*jYg2HcHwlSVIoe9GUo98Yw.jpeg"/></div></figure><p id="4d3b" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">先说Chris(我把Chris当朋友算，所以有点偏心)。多年来，他一直鼓励PHP开发人员(以及所有软件开发社区的开发人员)测试他们的代码。</p><p id="c6c8" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">无论是通过<a class="ae le" href="https://grumpy-learning.com/" rel="noopener ugc nofollow" target="_blank">他的书</a>，他的<a class="ae le" href="https://www.pluralsight.com/courses/play-by-play-chris-hartjes" rel="noopener ugc nofollow" target="_blank">多视角课程</a>，他的会议演讲，还是他的<a class="ae le" href="https://twitter.com/grmpyprogrammer" rel="noopener ugc nofollow" target="_blank">推特存在</a>，他长期以来一直是更好测试的不知疲倦的倡导者。从个人经验来说，如果没有他的鼓励，我知道我不会像现在这样频繁地测试我的代码。</p><figure class="mb mc md me fq iv fe ff paragraph-image"><div class="fe ff nj"><img src="../Images/d9a240ff9ceb122772df7727b5d1e9eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*lXLJp2V__Ym5EI4JUZKglg.png"/></div></figure><p id="299f" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">对于Sebastian，你能说什么呢，他创造了PHP事实上的测试工具PHPUnit。</p><p id="9f51" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">如果不是因为PHPUnit的安装、配置和使用非常简单，而且它的特性非常丰富和灵活，我认为测试他们代码的PHP开发人员会比现在少得多。</p><p id="0356" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">更重要的是，PHPUnit为它之后的许多测试工具和框架奠定了基础，包括Codeception、more和Behat。我并不是说它直接做到了这一点，而是说它帮助实现了这些目标。</p><p id="ec20" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">Sebastian是一个不知疲倦的测试倡导者，无论是通过写作、会议演讲，还是他倡导的所有其他测试方式。所以感谢这两位杰出的人。我知道我们都因为他们的持续努力而变得更好。</p><h1 id="4f1c" class="lf jd hu bd je lg lh li ji lj lk ll jm lm ln lo jq lp lq lr ju ls lt lu jy lv dt translated">就这样结束了</h1><p id="3349" class="pw-post-body-paragraph kf kg hu ki b kj lw kl km kn lx kp kq jn ly kt ku jr lz kx ky jv ma lb lc ld hn dt translated">这是对当今PHP测试状态的一个概括。虽然许多人很快预测PHP的消亡，但我相信现在是使用这种语言的最佳时机之一。</p><p id="e927" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">除了和其他语言一样丰富和成熟的语言之外，PHP的测试基础设施使得开发丰富和经过良好测试的应用程序成为可能。</p><p id="9797" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">无论您是使用PHP的事实工具PHPUnit，还是其他工具，如Behat、Codeception和Mockery，或者您是组合使用它们中的几个，您都有很多高质量的选择。</p><p id="bb38" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">再加上测试需求的减少，因为PHP采用了静态类型提示，那些过去讨厌PHP，声称它是一个双头锤子的人应该重新审视那些以前的假设，看看它们不再有效。</p><p id="ac71" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated">如果你是PHP新手，你使用过哪些测试工具，有哪些成功之处？如果你是个老手，你会使用哪种工具的什么组合，为什么？</p><p id="d18d" class="pw-post-body-paragraph kf kg hu ki b kj kk kl km kn ko kp kq jn ks kt ku jr kw kx ky jv la lb lc ld hn dt translated"><a class="ae le" href="https://www.codacy.com/bitbucket-code-review/" rel="noopener ugc nofollow" target="_blank">了解更多关于Bitbucket代码审查的信息</a></p></div><div class="ab cl nk nl hc nm" role="separator"><span class="nn bw bk no np nq"/><span class="nn bw bk no np nq"/><span class="nn bw bk no np"/></div><div class="hn ho hp hq hr"><blockquote class="kc kd ke"><p id="1267" class="kf kg kh ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld hn dt translated">这篇文章最初出现在<a class="ae le" href="http://bit.ly/2MeFqJq" rel="noopener ugc nofollow" target="_blank">博客</a>上。Hacker Noon的每周赞助商Codacy ，自动对每一个提交和拉取请求进行质量标准和代码审查，这样你就可以在每两周的sprint中提前两天发货。<a class="ae le" href="http://bit.ly/codacyhackernoonblogpostjune" rel="noopener ugc nofollow" target="_blank">使用code HACKERNOON享受八五折优惠。</a></p></blockquote></div></div>    
</body>
</html>