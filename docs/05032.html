<html>
<head>
<title>Comparing PubNub Functions vs. AWS Lambda Functions</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PubNub函数与AWS Lambda函数的比较</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/comparing-pubnub-functions-vs-aws-lambda-functions-daf974061c3f?source=collection_archive---------11-----------------------#2018-06-14">https://medium.com/hackernoon/comparing-pubnub-functions-vs-aws-lambda-functions-daf974061c3f?source=collection_archive---------11-----------------------#2018-06-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="b40b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以这样或那样的方式，我经常被问到，<strong class="it hv">“pub nub函数和AWS Lambda是一样的吗？”</strong></p><p id="770b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">虽然函数和Lambda都是事件驱动的服务，并且在两种服务都支持的优雅解决方案方面有所重叠，但这就是相似之处的终点。区别在于每种技术解决的场景和用例，在这篇文章中，我将分析每种技术的最佳用途。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/002d61622e4162aa36dea908f7d04953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*VkDMrC3VozJXrbZo.png"/></div></div></figure><p id="268b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Lambda允许事件触发器调用代码，和/或亚马逊众多服务中的另一个。例如，当社交媒体流加载到Kinesis时，可能会触发Lambda函数，该函数会生成趋势数据并写入DynamoDB。这一切都在<a class="ae kb" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>生态系统中运行，用户计费的标准是计算时间。</p><p id="b7e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae kb" href="https://hackernoon.com/tagged/pubnub" rel="noopener ugc nofollow" target="_blank"> PubNub </a>函数由PubNub实时消息或通过传统的HTTP请求来调用。NoSQL数据存储的PubNub Functions解决方案是通过一个全球复制的KV存储实现的。PubNub不会根据用户的计算时间或数据库的读/写吞吐量向用户收费。用户按事务付费，这意味着每次函数事件处理程序执行一次。因此，在存储大量实时数据的场景中，可以使用PubNub函数和KV Store实现Lambda的类似解决方案，但成本更低。</p><h1 id="702d" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">PubNub函数和AWS Lambda的关键区别是什么？</h1><h2 id="8876" class="la kd hu bd ke lb lc ld ki le lf lg km jc lh li kq jg lj lk ku jk ll lm ky ln dt translated">祈祷</h2><p id="5b64" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">每当通过发布订阅网络发送发布订阅实时消息时，都会调用发布订阅函数。这可以设置为在用户订阅密钥内的一个或多个频道上触发。这种模式的目的是在传输中的实时消息到达每个订户之前，用附加数据丰富它。PubNub函数也可以通过传统的REST API调用来调用。处理范围应该是狭窄且单一的，就像微服务一样。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/c62003b516b06c697eff60ab12f5f3aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/0*QfqyCrMybIqFP51R.gif"/></div></figure><p id="7bd1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">任何Amazon服务都可以使用AWS SDK以事件驱动的方式调用Lambda函数。该模式旨在触发其他服务，并在数据提交时对其进行计算。亚马逊的其他服务可以立即访问这些数据。</p><p id="e8ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里的区别在于，PubNub函数主要用于传输中的数据丰富，而Lambda函数应该以事件驱动的方式执行特定的计算。</p><h2 id="be9b" class="la kd hu bd ke lb lc ld ki le lf lg km jc lh li kq jg lj lk ku jk ll lm ky ln dt translated">许可</h2><p id="567e" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">Lambda函数要求将权限授予开发人员希望使用IAM调用它的任何其他Amazon服务。</p><p id="1e49" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">相比之下，PubNub函数是在开发人员选择的特定通道和订阅键上调用的。任何具有互联网连接且知道该功能的订阅密钥和通道的设备都可以调用该功能(除非<a class="ae kb" href="https://www.pubnub.com/docs/tutorials/pubnub-access-manager?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank"> PubNub访问管理器</a>处于活动状态且未设置供应)。</p><h1 id="1ebc" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">有哪些传输中消息丰富化的例子？</h1><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/db4982f10436d7536a70ebf1f805aae0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/0*NH291W84mtFDt6bi.gif"/></div></figure><p id="b096" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">私有消息验证服务可以在PubNub函数中实现。有了这个，客户端就可以使用PubNub向服务器发送消息，当消息从发送方传输到接收方时，该函数可以验证发送方或消息负载的完整性。可以存储秘密加密密钥，并且可以在PubNub功能生态系统中简单地实现加密算法。</p><p id="c2cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另一个例子是，一个聊天应用程序消息可以从一个用户用英语发送，并在传输过程中使用PubNub功能和语言翻译API翻译成法语，如<a class="ae kb" href="https://www.pubnub.com/docs/blocks-catalog/microsoft-translator-v3?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank">微软翻译器</a>或<a class="ae kb" href="https://www.pubnub.com/docs/blocks-catalog/amazon-translate?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank">亚马逊翻译</a>。</p><h1 id="4cf5" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">PubNub函数和Lambda函数有什么相似之处？</h1><p id="6da5" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">这两种服务都提供了一个一次性部署代码库的地方，并且无服务器后端会自动在全球范围内分发程序实例。这是<a class="ae kb" href="https://www.pubnub.com/blog/what-is-functions-as-a-service-faas/?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank"> FaaS </a>(功能即服务)的行业标准特性。每次对代码进行修改时，开发人员不需要考虑构建容器、负载平衡器，或者在世界各地的数据中心执行多次部署。</p><p id="73ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">开发团队部署的代码由指向函数触发器的事件自动调用。函数执行可以触发AWS或PubNub环境中的其他服务，或者任何其他第三方API。</p><p id="c443" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">两个平台都提供存储。PubNub Functions拥有KV Store，这是一个读写时间不到3毫秒的NoSQL数据库。AWS具有用于NoSQL存储的DynamoDB，它可以连接到Lambda函数。</p><p id="b786" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Lambda和PubNub都有能力在自己的生态系统中调用其他服务。PubNub可以使用一个函数发布到其他通道，也可以在PubNub访问管理器中进行授权。Lambda当然能够触发读/写红移、简单电子邮件服务等。</p><h1 id="2ed0" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">什么时候该用PubNub，什么时候该用Lambda？</h1><p id="1783" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">Lambda非常适合需要处理能力的情况，PubNub非常适合需要实时速度和状态读/写的情况。</p><h1 id="c131" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">PubNub函数</h1><ul class=""><li id="5f94" class="lv lw hu it b iu lo iy lp jc lx jg ly jk lz jo ma mb mc md dt translated"><strong class="it hv">使用第三方API在聊天应用程序中将文本消息从一个用户翻译到另一个用户:</strong>将消息从发送者使用的一种语言翻译成接收者理解的另一种语言。</li><li id="96c8" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated"><strong class="it hv">会话令牌验证</strong>当用户与web或移动应用程序交互时，实时验证用户身份。</li><li id="b49a" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated"><strong class="it hv">实时流消息的过滤:</strong>使用编组逻辑功能将某些消息转发给不同的接收者或阻止它们到达任何接收者。封送处理还可以用于停止一个流或开始另一个流的流动。</li><li id="50e2" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated"><strong class="it hv">聚合消息:</strong>在物联网设备一次发送几条消息的情况下，函数可以聚合这些消息，将几条消息变成一条。</li><li id="1b1f" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated"><strong class="it hv">消息扩充:</strong> PubNub函数可以是一个可信的中间人，用于从安全的服务器上用时间戳、附加用户数据(如姓名或头像)来扩充消息。</li></ul><h1 id="3353" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">希腊字母的第11个</h1><ul class=""><li id="4f83" class="lv lw hu it b iu lo iy lp jc lx jg ly jk lz jo ma mb mc md dt translated">每当用户将全尺寸图像上传到S3桶时生成缩略图。</li><li id="8e5f" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated">社交媒体流被加载到Kinesis。Lambda生成hashtag数据并存储在DynamoDB中，供业务用户查询。</li><li id="8705" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated">发货订单被放置并存储在DynamoDB中。Lambda运行以生成分析数据，并将其转发到红移存储仓库。</li><li id="4288" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated">自动制作的Amazon Elastic Block商店的每日备份。</li><li id="b66c" class="lv lw hu it b iu me iy mf jc mg jg mh jk mi jo ma mb mc md dt translated">来自Cloudwatch的即时和自动化日志文件分析，监视要满足的特定标准，并调用另一个服务。</li></ul><h1 id="4b69" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">开源第三方供应商集成</h1><p id="66c5" class="pw-post-body-paragraph ir is hu it b iu lo iw ix iy lp ja jb jc lq je jf jg lr ji jj jk ls jm jn jo hn dt translated">PubNub有一个已经编写好的函数的开源目录，可以将第三方服务快速集成到无服务器执行流中。</p><p id="8dcc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">假设您需要在聊天应用程序中进行实时文本翻译。<a class="ae kb" href="https://www.pubnub.com/docs/blocks-catalog?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank">块目录</a>已经有一个Watson翻译和AWS翻译的模块，可以用来翻译传输中的文本，或者以REST API的形式。这个特性允许一个聊天应用程序，其中用户用英语发送文本，而他们的伙伴实时接收同样的普通话消息。</p><p id="782c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">任何API都可以连接到PubNub函数，无论它是自定义的、私有的还是公共的。GitHub上提供了Lambda函数示例，但是，解决方案没有PubNub BLOCKS目录中引用的API合作伙伴那么多，也没有那么容易集成。PubNub函数可以在几秒钟内导入并进行全局部署。</p></div><div class="ab cl mj mk hc ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hn ho hp hq hr"><p id="f14f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="mq">最初发表于</em><a class="ae kb" href="https://www.pubnub.com/blog/comparing-pubnub-functions-vs-aws-lambda-functions/?utm_source=Syndication&amp;utm_medium=Medium&amp;utm_campaign=SYN-CY18-Q2-Medium-June-3" rel="noopener ugc nofollow" target="_blank"><em class="mq">【www.pubnub.com】</em></a><em class="mq">。</em></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="mr ms l"/></div></figure></div></div>    
</body>
</html>