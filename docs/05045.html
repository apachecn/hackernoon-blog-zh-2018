<html>
<head>
<title>Optical Character Recognition With Google Cloud Vision API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用谷歌云视觉API进行光学字符识别</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/optical-character-recognition-with-google-cloud-vision-api-255bb8241235?source=collection_archive---------4-----------------------#2018-06-15">https://medium.com/hackernoon/optical-character-recognition-with-google-cloud-vision-api-255bb8241235?source=collection_archive---------4-----------------------#2018-06-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/e533ed46048bfe36d5bbfaad98a39e1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hzj7YDdhOlLgPmAA8-srMA.jpeg"/></div></div></figure><div class=""/><p id="fb20" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近，我一直在React/React Native上开发一个交付跟踪应用程序。其中一个功能是允许用户在你的手机上拍摄运输标签的照片，并将该标签转换为我们可以在后端处理的跟踪号码。此功能的目标是最大限度地减少手动输入包裹追踪编码所花费的时间，根据服务的不同，包裹追踪编码的长度在13-26个字符之间。在我寻求实现这一功能的过程中，我遇到了一种被称为光学字符识别的技术和一个来自谷歌的令人难以置信的图像识别工具包。在本文中，我将介绍这种方法的基本原理，以及如何将它集成到您的应用程序中。</p><h2 id="9f01" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">什么是光学字符识别？</h2><p id="2023" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">光学字符识别(简称OCR)是一种将文本的数字图像转换成机器可读数据的技术。我们的眼睛通过识别明暗模式来阅读给定介质上的文本，将这些模式转化为字符和单词，然后赋予其意义。OCR试图模仿我们视觉系统的操作方式，他们的检测算法通常由神经网络提供支持。</p><p id="c245" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有两种方法来执行OCR:矩阵匹配和特征检测。矩阵匹配是两者中比较简单的；它获取一幅图像，并将其与现有的字符矩阵或模板库进行比较，以生成匹配。特征检测更复杂，因为它寻找像对角线、曲率、交点等一般特征。并将其与图像上特定距离内的其他特征进行比较。</p><h2 id="c7e5" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">输入谷歌云视觉API</h2><blockquote class="lb lc ld"><p id="2bc7" class="jc jd le je b jf jg jh ji jj jk jl jm lf jo jp jq lg js jt ju lh jw jx jy jz hn dt translated">谷歌云视觉API通过将强大的<a class="ae ka" href="https://hackernoon.com/tagged/machine-learning" rel="noopener ugc nofollow" target="_blank">机器学习</a>模型封装在一个易于使用的REST API中，使开发者能够理解图像的内容。它可以快速地将图像分成数千种类别，检测图像中的单个对象和人脸，并查找和读取图像中包含的印刷文字。</p></blockquote><p id="c303" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">谷歌云视觉API采用了以图像识别为中心的极其复杂的机器学习模型，并将其格式化为一个简单的REST API接口。它包含了广泛的图像识别工具，您可以将它用于现实世界的应用程序，如对图像进行分类或调节不良内容。出于本文的目的，我将把重点放在OCR模块上——它分析图像中的文本，然后将其解析为数据，供我们的计算机使用。</p><h2 id="99fb" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">它是如何工作的</h2><p id="e8f4" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">该工具首先对图像执行布局分析，以分割文本的位置。在检测到大致位置之后，OCR模块然后对指定位置执行文本识别分析以生成文本。最后，在后处理步骤中，通过将错误输入语言模型或字典来纠正错误。</p><p id="b23c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所有这些都是通过一个卷积神经网络来完成的，在这个网络中，每个神经元只连接到每一层中神经元的一个子集。卷积神经网络是神经网络的一个子集，旨在模仿我们如何识别对象的视觉皮层的层次结构。</p><p id="f8be" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">比如下图，我们先识别一个特征比如眼睛。然后，我们识别鼻子、嘴、皮毛，然后最终将这些特征结合起来，形成一个狗的心理模型。这几乎是在我们的视觉系统中瞬间发生的，所以当我们这样做时，很难在我们的大脑中区分这些步骤。这里的想法是，重要的不是要素在图像中的位置，而是它相对于空间邻近范围内其他要素的位置。</p><figure class="lj lk ll lm fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff li"><img src="../Images/4c1854152d199d21c7f05085a3e1fdd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*uSUtX9jznONSPTAxRDONew.jpeg"/></div></div></figure><p id="16dc" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想更多地了解卷积神经网络是如何工作的，这两篇文章做了很好的分解工作:</p><p id="046f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://medium.freecodecamp.org/an-intuitive-guide-to-convolutional-neural-networks-260c2de0a050" rel="noopener ugc nofollow" target="_blank">https://medium . freecodecamp . org/an-intuitive-guide-to-convolutionary-neural-networks-260 C2 de 0 a 050</a></p><p id="1022" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" rel="noopener" href="/@ageitgey/machine-learning-is-fun-part-3-deep-learning-and-convolutional-neural-networks-f40359318721">https://medium . com/@ ageitgey/machine-learning-is-fun-part-3-deep-learning-and-convolutionary-neural-networks-f 40359318721</a></p><h2 id="3e23" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">与平台集成</h2><p id="94ea" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">正如我们所料，这些模型背后的算法非常复杂，难以理解。幸运的是，所有这些都被谷歌提取出来，打包成一种方便我们使用的格式。</p><p id="9603" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，你需要注册他们的平台，获得一个开发者API密匙。之后，只需发送一个带有您想要解码的图像的URL的<code class="eh ln lo lp lq b">POST</code>请求。下面是一个使用axios的API调用示例:</p><p id="2e17" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="le">请求正文:</em></p><pre class="lj lk ll lm fq lr lq ls lt aw lu dt"><span id="b2e4" class="kb kc if lq b fv lv lw l lx ly">let body = {<br/>  "requests": [<br/>    {<br/>      "image": {<br/>        "source": {<br/>          "imageUri": "<a class="ae ka" href="https://i.imgur.com/Nlot5mR.jpg" rel="noopener ugc nofollow" target="_blank">https://i.imgur.com/Nlot5mR.jpg</a>" //image URL<br/>        }<br/>      },<br/>      "features": [<br/>        {<br/>          "type": "TEXT_DETECTION",<br/>          "maxResults": 1<br/>        }<br/>      ]<br/>    }<br/>  ]<br/>}</span></pre><p id="864a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="le"> API调用:</em></p><pre class="lj lk ll lm fq lr lq ls lt aw lu dt"><span id="60d1" class="kb kc if lq b fv lv lw l lx ly">axios.post('https://vision.googleapis.com/v1/images:annotate?key=YOUR_API_KEY_HERE', body)<br/>  .then((response) =&gt; console.log(response));</span></pre><p id="6f03" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">响应返回一个JSON对象，其中包含各种数据点，包括检测到的文本、语言、文本位置等。</p><p id="c517" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="le">样本响应:</em></p><pre class="lj lk ll lm fq lr lq ls lt aw lu dt"><span id="86c2" class="kb kc if lq b fv lv lw l lx ly">{<br/>  "responses": [<br/>    {<br/>      "textAnnotations": [<br/>        {<br/>          "locale": "en",<br/>          "description": "I HAVE NO IDEA\nWHAT TM DOING\n",<br/>          "boundingPoly": {<br/>          "vertices": [<br/>            {<br/>              "x": 11,<br/>              "y": 2<br/>            },<br/>            {<br/>              "x": 257,<br/>              "y": 2<br/>            },<br/>            {<br/>              "x": 257,<br/>              "y": 102<br/>            },<br/>            {<br/>              "x": 11,<br/>              "y": 102<br/>            }<br/>          ]<br/>        }<br/>      },...</span></pre><h2 id="3d2d" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">就是这样！</h2><p id="6c2f" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">现在，您已经知道光学字符识别的工作原理，足以理解它的使用案例。谷歌的OCR模块设置起来非常简单，并且有无限的可能性。这个工具使用与谷歌图片搜索相同的技术，所以你现在可以使用它的所有功能。试一试，开始建造吧！</p><p id="b964" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://cloud.google.com/vision/docs/ocr" rel="noopener ugc nofollow" target="_blank">https://cloud.google.com/vision/docs/ocr</a></p><p id="3c54" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你喜欢这篇文章，请点击👏🏻并分享出来帮助别人找到。感谢阅读！</p><figure class="lj lk ll lm fq hw"><div class="bz el l di"><div class="lz ma l"/></div></figure></div></div>    
</body>
</html>