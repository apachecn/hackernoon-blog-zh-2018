<html>
<head>
<title>Python Programming…in R</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python编程…用R语言</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/python-programming-in-r-baa513b01bc8?source=collection_archive---------8-----------------------#2018-06-16">https://medium.com/hackernoon/python-programming-in-r-baa513b01bc8?source=collection_archive---------8-----------------------#2018-06-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="e7a3" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">本教程中使用的所有代码都可以在这里找到:<a class="ae jt" href="https://github.com/joelalcedo/Python_in_R" rel="noopener ugc nofollow" target="_blank">https://github.com/joelalcedo/Python_in_R</a></p></blockquote><p id="7b32" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">我是一名在纽约工作的数据科学家。我从事过许多不同的项目，涉及数据可视化、机器学习和软件开发，都是为了更好地理解与金融市场相关的复杂性。大约10年前，我开始学习如何用visual basic编程。一件事牵一发而动全身<em class="iw">(果然如此)</em>又学了SQL、R、<a class="ae jt" href="https://hackernoon.com/tagged/python" rel="noopener ugc nofollow" target="_blank"> Python </a>、<a class="ae jt" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a> <em class="iw">(很遗憾)</em>、C++等等。目前，我正在做一些Flutter项目，使用谷歌的Dart框架。</p><p id="5e3c" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">我的证书听起来像字母汤吗？如果你自己是一名程序员，你的简历上很有可能会几种语言。如果你对招聘一名程序员感兴趣，但不知道具体要找什么，那么你很可能已经被候选人简历上的<a class="ae jt" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程语言和晦涩难懂的库所淹没，你会问自己，“我还在读英语吗？”。</a></p><p id="9f8f" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">我为什么要写这个？为了解决我在华尔街经常从有抱负的程序员那里听到的一个问题:</p><p id="329a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated"><strong class="ix hv"> <em class="iw">“我该学Python还是R？”</em> </strong></p><p id="95b4" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">好了，围过来，因为我将要向你展示无缝地使用Python和R是可能的。我个人认为两者都要学。与R相比，Python有一定的优势，反之亦然。</p><p id="1b60" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">在R中使用<a class="ae jt" href="https://rstudio.github.io/reticulate/articles/introduction.html" rel="noopener ugc nofollow" target="_blank">网状</a>包，这两者之间的接口非常容易。我将使用Python编写一个简单的函数，从<a class="ae jt" href="http://www.quandl.com" rel="noopener ugc nofollow" target="_blank"> Quandl </a>中提取一些数据，然后使用ggplot2清理并可视化R中的数据。</p><p id="a804" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">这是30，000英尺的视野。我们有一些目录包含了我们的Python代码和R代码<em class="iw">(你可以在我的GitHub</em><em class="iw"/>这里下载完整的目录 <a class="ae jt" href="https://github.com/joelalcedo/Python_in_R" rel="noopener ugc nofollow" target="_blank"> <em class="iw">)。在R中使用reticulate包，我们将调用一个Python文件，该文件将被移植到R中，然后可以在R中继续使用。</em></a></p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff jx"><img src="../Images/d8e41794324abade40bec390e73d23cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1094/format:webp/1*-VHMCjHHrUHP8IZp81QVWg.png"/></div></figure><p id="d010" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">这是我们在Python中的函数:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kf"><img src="../Images/79f97e1de61b014200a5169de9a649ee.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JMsrindK3s5WRdexERApfg.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Full code is available on my GitHub</figcaption></figure><p id="6275" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">如果你在Quandl中没有API密匙，注册一个账户来获得一个API密匙——这是免费的。你不一定需要一个API键，但是如果你做了足够多的查询，他们会让你超时。</p><p id="921d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">总之，下面是Python中的输出:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff ko"><img src="../Images/338e04e462dc73f3bd588ba5c15ea862.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/1*NGALRYn96BEk7B5YuwMb2A.png"/></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Passing “WIKI/AAPL” through “grab_from_quandl”, will return the data as expected.</figcaption></figure><p id="989a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">为了防止输入错误的代码，我添加了一个定制的处理程序:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div class="fe ff kp"><img src="../Images/6cffd19e4685e5be3bf6761c6d522dfb.png" data-original-src="https://miro.medium.com/v2/resize:fit:736/format:webp/1*ij8Q4PLotRBMRMz1cV0VDg.png"/></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">Output of error handler.</figcaption></figure><p id="a613" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">让我们把这个Python函数移植到r上。</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kq"><img src="../Images/37a602539ca44628965fb4699663ebf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6ONxL2Oitq_cqYebHivMxw.png"/></div></div><figcaption class="kk kl fg fe ff km kn bd b be z ek">All it takes is one line of code!</figcaption></figure><p id="2cc0" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">“source_python”函数本质上是将python代码移植到R中，这将使您能够继续在R中使用Python函数:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kr"><img src="../Images/108c4e5ddd0f465daeddadfb92406566.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TwJrlxUhUGiYUWgk9FJYuw.png"/></div></div></figure><p id="f1f4" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">错误处理程序也可以工作:</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff ks"><img src="../Images/68f9c5d942053e37f60d97db01cd84a2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TstyFCWFiaIloSeyn8JYSw.png"/></div></div></figure><p id="2cd7" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">既然我们可以在R中运行Python代码，我们可以使用dplyr来处理数据，使用ggplot2来可视化结果…</p><figure class="jy jz ka kb fq kc fe ff paragraph-image"><div role="button" tabindex="0" class="kg kh di ki bf kj"><div class="fe ff kt"><img src="../Images/01dd21b7c3bbcd501551ae5b234a2eca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ri61pAeolT9cTrrdl-uXTA.png"/></div></div></figure><p id="22a3" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">瞧啊。这就是了。虽然这是一个简单的例子，但是R中的reticulate包的好处是非常广泛的。</p><p id="6198" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">希望这对你有所帮助。如果你对此有任何疑问，请告诉我..</p><p id="6d14" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf ju jh ji jj jv jl jm jn jw jp jq jr js hn dt translated">Joel Alcedo是在纽约巴黎银行工作的数据科学家。在加入法国巴黎银行之前，他曾在保时捷北美总部、维珍银河和Cantor Fitzgerald工作。</p><figure class="jy jz ka kb fq kc"><div class="bz el l di"><div class="ku kv l"/></div></figure></div></div>    
</body>
</html>