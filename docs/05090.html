<html>
<head>
<title>Create your first Arduino + Node.js IoT Visualization App in under 15 minutes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在15分钟内创建您的第一个Arduino + Node.js物联网可视化应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/create-your-first-arduino-node-js-iot-visualization-app-in-under-15-minutes-619f8e6f7181?source=collection_archive---------0-----------------------#2018-06-17">https://medium.com/hackernoon/create-your-first-arduino-node-js-iot-visualization-app-in-under-15-minutes-619f8e6f7181?source=collection_archive---------0-----------------------#2018-06-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/f3818476d33abb6674fb2733ff10a967.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t1Cj-GYGplX9R4vXFEzRyg.png"/></div></div></figure><div class=""/><blockquote class="jc jd je"><p id="9e23" class="jf jg jh ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">“智能家居和其他互联产品不会仅仅针对家庭生活。他们也将对商业产生重大影响。就像任何一家在世纪之交幸福地忽略了互联网的公司一样，那些忽视物联网的公司可能会落后。”——贾里德·纽曼，<a class="ae ke" href="http://www.fastcompany.com/3044375/sector-forecasting/the-future-of-the-internet-of-things-is-like-the-internet-of-the-1990s" rel="noopener ugc nofollow" target="_blank">在《快公司》写作</a></p></blockquote><p id="35f1" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">目前，IoT和Node.js是技术领域听到的两个流行语。使用Node.js和Arduino实现物联网应用本身是一个有趣的学习主题。本文结束时，您将构建一个实时温度监控系统。相信我…！如果您具备所有先决条件，构建这个应用程序非常容易。</p><p id="f540" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">被跟踪的<em class="jh"> GitHub库</em> : <a class="ae ke" href="https://github.com/Narendra-Kamath/node-temperature-monitor" rel="noopener ugc nofollow" target="_blank"> <strong class="ji ig">节点温度监控器</strong></a>(<a class="ae ke" href="https://github.com/Narendra-Kamath/node-temperature-monitor" rel="noopener ugc nofollow" target="_blank">https://github.com/Narendra-Kamath/node-temperature-monitor</a>)</p><h2 id="f026" class="ki kj if bd kk kl km kn ko kp kq kr ks kf kt ku kv kg kw kx ky kh kz la lb lc dt translated">硬件要求</h2><ol class=""><li id="75f4" class="ld le if ji b jj lf jn lg kf lh kg li kh lj kd lk ll lm ln dt translated">Arduino Uno R3主板[ <a class="ae ke" href="https://amzn.to/2ljBxGR" rel="noopener ugc nofollow" target="_blank">立即购买</a></li><li id="e46c" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">1kω电阻[ <a class="ae ke" href="https://amzn.to/2JPReVi" rel="noopener ugc nofollow" target="_blank">立即购买</a></li><li id="50ff" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">1kωNTC热敏电阻</li><li id="be75" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">跳线X 3(公对公)[ <a class="ae ke" href="https://amzn.to/2JLbTcU" rel="noopener ugc nofollow" target="_blank">立即购买</a></li><li id="64a2" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">试验板[ <a class="ae ke" href="https://amzn.to/2lifcK6" rel="noopener ugc nofollow" target="_blank">立即购买</a></li><li id="fb93" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">桌面</li></ol><h2 id="4998" class="ki kj if bd kk kl km kn ko kp kq kr ks kf kt ku kv kg kw kx ky kh kz la lb lc dt translated">软件要求</h2><ol class=""><li id="0bb9" class="ld le if ji b jj lf jn lg kf lh kg li kh lj kd lk ll lm ln dt translated">Arduino IDE [ <a class="ae ke" href="https://www.arduino.cc/en/Main/Software" rel="noopener ugc nofollow" target="_blank">下载</a> ]</li><li id="3749" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd lk ll lm ln dt translated">Node.js [ <a class="ae ke" href="https://nodejs.org/en/download/" rel="noopener ugc nofollow" target="_blank">下载</a></li></ol><p id="95cf" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">具备上述先决条件后，连接Arduino板卡，上传标准firmata的示例代码。这段代码允许您将Arduino作为标准的桌面通信设备，我们将使用将要构建的Node.js应用程序来控制Arduino板。因此，让我们验证并从Arduino IDE上传“标准Firmata”代码到Arduino。</p><figure class="lu lv lw lx fq hw fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/ce74048a9fc9f2f19a9d99a0d043f5cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1142/format:webp/1*uoFocecBJBLyzXrnlxPqBA.jpeg"/></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Selecting the StandardFirmata code and uploading it to Arduino Uno R3</figcaption></figure><p id="9621" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">将代码上传到电路板后，我们将设置电路，使用三根跳线、1kωNTC热敏电阻、1kω电阻和试验板以及Arduino电路板。</p><figure class="lu lv lw lx fq hw fe ff paragraph-image"><div class="fe ff mc"><img src="../Images/109a2088c65ae8b4f213333badd047f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:752/format:webp/1*v_7E1J0rgEsghaTLlAd1Sw.jpeg"/></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Circuit Design</figcaption></figure><p id="a859" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">设置好硬件之后，现在主要的部分就是准备Node.js服务器(用于从Arduino传输数据)和客户端应用程序(用于从server app接收数据)。本文开头提供的GitHub存储库可以被克隆来快速测试这个应用程序。</p><p id="89fd" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">应用程序有两个部分，服务器端和客户端。</p><h2 id="1bee" class="ki kj if bd kk kl km kn ko kp kq kr ks kf kt ku kv kg kw kx ky kh kz la lb lc dt translated">第1部分:服务器端应用程序</h2><p id="2ee7" class="pw-post-body-paragraph jf jg if ji b jj lf jl jm jn lg jp jq kf md jt ju kg me jx jy kh mf kb kc kd hn dt translated">在<em class="jh"> server.js </em>文件中，我们将包含两个依赖项，</p><ul class=""><li id="be93" class="ld le if ji b jj jk jn jo kf mg kg mh kh mi kd mj ll lm ln dt translated"><a class="ae ke" href="https://www.npmjs.com/package/node-dweetio" rel="noopener ugc nofollow" target="_blank"> <strong class="ji ig"> node-dweetio </strong> </a>:物联网的一个简单易用的免费消息平台。</li><li id="d572" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd mj ll lm ln dt translated"><a class="ae ke" href="https://www.npmjs.com/package/johnny-five" rel="noopener ugc nofollow" target="_blank"> <strong class="ji ig"> johnny-five </strong> </a>:这个节点模块用于从我们的Node.js应用程序连接到Arduino板。</li></ul><figure class="lu lv lw lx fq hw"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="51fe" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">代码简单明了。其中提到我们已经连接了数据跳线(A0)的引脚。由于热敏电阻是可变电阻，Arduino无法计算温度和电阻，但可以用来测量电压。</p><p id="7921" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">首先，我们必须测量电阻，然后从电阻开始，我们可以测量温度。这与温度传感器的'<strong class="ji ig"> on-change </strong>'事件中应用的逻辑相同(<em class="jh">参考:</em> <a class="ae ke" href="http://www.circuitbasics.com/arduino-thermistor-temperature-sensor-tutorial/" rel="noopener ugc nofollow" target="_blank"> <em class="jh">制作一个Arduino温度传感器</em> </a>)。DweetThing是一个唯一的名称，可以为所连接的事物命名，在给定的例子中是'<strong class="ji ig">node-temperature-monitor</strong>'。服务器部分现在已经准备好了，每次温度变化时，都会发送一个消息对象。</p><h2 id="30d6" class="ki kj if bd kk kl km kn ko kp kq kr ks kf kt ku kv kg kw kx ky kh kz la lb lc dt translated">第2部分:客户端可视化应用程序</h2><p id="521a" class="pw-post-body-paragraph jf jg if ji b jj lf jl jm jn lg jp jq kf md jt ju kg me jx jy kh mf kb kc kd hn dt translated">现在我们已经设置了服务器部分。是时候创建一个出色的客户端应用程序来接收dweeted数据并将其可视化了。</p><figure class="lu lv lw lx fq hw"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="2f6d" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">这里我们将使用<a class="ae ke" href="https://www.npmjs.com/package/socket.io" rel="noopener ugc nofollow" target="_blank"> <strong class="ji ig"> socket.io </strong> </a>节点模块来实现基于事件的实时双向通信。当有从服务器发送的dweet时，app.js捕获该dweet，并使用socket.io实例发出相同的数据。现在，我们将在public文件夹中创建节点应用程序的视图部分。这个特定的文件夹将有一个index.html页面和一个JavaScript文件。</p><figure class="lu lv lw lx fq hw"><div class="bz el l di"><div class="mk ml l"/></div></figure><p id="82bf" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">index.html文件依赖于socket.io、jquery、bootstrap和morris js。我们使用Morris.js图表库来创建一个简单的折线图，以显示当有来自服务器的dweet时特定时刻的温度。</p><figure class="lu lv lw lx fq hw"><div class="bz el l di"><div class="mk ml l"/></div></figure><h2 id="a15e" class="ki kj if bd kk kl km kn ko kp kq kr ks kf kt ku kv kg kw kx ky kh kz la lb lc dt translated">最后的步骤</h2><p id="486d" class="pw-post-body-paragraph jf jg if ji b jj lf jl jm jn lg jp jq kf md jt ju kg me jx jy kh mf kb kc kd hn dt translated">因为我们已经创建了应用程序的服务器端和客户端，所以首先我们将启动服务器。参考<a class="ae ke" href="https://github.com/Narendra-Kamath/node-temperature-monitor" rel="noopener ugc nofollow" target="_blank"> GitHub库</a>来了解如何启动服务器。当服务器组成后，控制台看起来会像这样，</p><pre class="lu lv lw lx fq mm mn mo mp aw mq dt"><span id="ebe7" class="ki kj if mn b fv mr ms l mt mu"><strong class="mn ig">&gt; npm </strong>run server-start</span></pre><figure class="lu lv lw lx fq hw fe ff paragraph-image"><div class="fe ff mv"><img src="../Images/4ce35e368f99e76eaa255c4a7d9a16ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*2Lb71eQXLJfKBBpN8ph0nw.png"/></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Server console output</figcaption></figure><p id="09a9" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">这个应用程序最精彩的部分是可视化。运行命令并访问<strong class="ji ig"> http://localhost:3000 </strong>，</p><pre class="lu lv lw lx fq mm mn mo mp aw mq dt"><span id="f060" class="ki kj if mn b fv mr ms l mt mu"><strong class="mn ig">&gt; npm </strong>run start</span></pre><figure class="lu lv lw lx fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mw"><img src="../Images/d608cf1c18e65e544c1bce28907c630a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jVP-Kwc1MGV_NTnO5wf6iA.png"/></div></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Real-time temperature monitoring</figcaption></figure><p id="0f1c" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">恭喜您，我们现在已经创建了一个基于Node.js的实时温度监控和可视化应用程序。这不是很容易吗？</p><p id="c8ba" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated">请在回复部分分享您的观点:)谢谢！</p><p id="5c94" class="pw-post-body-paragraph jf jg if ji b jj jk jl jm jn jo jp jq kf js jt ju kg jw jx jy kh ka kb kc kd hn dt translated"><strong class="ji ig">参考文献</strong></p><ul class=""><li id="f725" class="ld le if ji b jj jk jn jo kf mg kg mh kh mi kd mj ll lm ln dt translated"><a class="ae ke" href="http://www.circuitbasics.com/arduino-thermistor-temperature-sensor-tutorial/" rel="noopener ugc nofollow" target="_blank">制作一个Arduino温度传感器</a></li><li id="bdee" class="ld le if ji b jj lo jn lp kf lq kg lr kh ls kd mj ll lm ln dt translated"><a class="ae ke" rel="noopener" href="/@otavioguastamacchia/creating-a-simple-iot-case-8102f22908a7">创建物联网案例</a></li></ul></div></div>    
</body>
</html>