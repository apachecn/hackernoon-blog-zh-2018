<html>
<head>
<title>Can Middleware survive the Serverless enabled Cloud?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">中间件能在无服务器云环境下生存吗？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/can-middleware-survive-the-serverless-enabled-cloud-f1b2a28ebf78?source=collection_archive---------2-----------------------#2018-06-17">https://medium.com/hackernoon/can-middleware-survive-the-serverless-enabled-cloud-f1b2a28ebf78?source=collection_archive---------2-----------------------#2018-06-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/15f3ff308881ac08e304b4b853f7259b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GxnTQZ8fvvzWo5KXQim88g.png"/></div></div></figure><div class=""/><h1 id="736c" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">思想实验</h1><p id="280a" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">你愿意和我一起做一个思想实验来探索可能性吗？</p><p id="14e2" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">以下是我们的假设。</p><ol class=""><li id="d46f" class="ld le if kc b kd ky kh kz kl lf kp lg kt lh kx li lj lk ll dt translated">假设无服务器已经跨越了鸿沟，控制了50%的新软件。有三个巨大的云。</li><li id="b129" class="ld le if kc b kd lm kh ln kl lo kp lp kt lq kx li lj lk ll dt translated">假设由于大型云之间的价格战，在云中获得一台机器比在家中获得更便宜</li><li id="4cc1" class="ld le if kc b kd lm kh ln kl lo kp lp kt lq kx li lj lk ll dt translated">假设大多数新应用程序是使用简化无服务器开发的IDE编写的。用户来到IDE，编写多个函数，连接每个函数并使应用程序工作。他可以在开发、调试、逐步执行、跟踪时在本地运行它，当它工作时，要求在云中部署它。IDE还支持版本和CI/CD。</li></ol><p id="10c5" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">接受了这些假设后，想象一下Bezo的微笑，微软紧随其后，谷歌紧紧抓住他们巨大的金库，最后，一个孩子的微笑，他在一个小时内获得了一个无服务器运行的应用程序。</p><p id="0990" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">那么中间件会是什么样子，它的未来会是什么样的？让我们分而治之；让我们探索不同类型的中间件</p><h1 id="9f8f" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">应用程序的剖析</h1><figure class="ls lt lu lv fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff lr"><img src="../Images/3d6bc31c6b6e645d91f2d829249fed01.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*chPYuo-yxBOzju9sBaCtrA.png"/></div></div></figure><p id="8d03" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">典型应用程序的底层包括几个服务和一个数据库。服务也可能依赖于核心中间件服务，如消息代理、缓存和流处理器等。</p><p id="25fe" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">下一层将包括集成中间件，如ESB、工作流引擎和API管理工具。他们将组合多个服务来交付特定的业务用例。</p><p id="6b80" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">接下来的几层提供最终用户体验，通常是通过在浏览器或移动应用程序中运行的Web应用程序。</p><p id="7317" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">最后，还有助手服务，它们将增强应用程序的体验和运行环境，并使make服务的生命周期尽可能轻松。</p><p id="ab27" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">中间件支持每一层。让我们来探讨一下无服务器云对这些方面的影响。</p><h1 id="aaa4" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">对核心中间件的影响</h1><p id="8478" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">此类别包括帮助编写和托管服务和应用程序的中间件(例如，应用程序服务器、web服务器)以及这些应用程序直接使用的中间件(例如，数据库、消息代理、缓存和流处理器等)。).</p><p id="99a6" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">核心中间件将是激战的地方。由于广域网的高延迟，中间件的其余部分将与核心中间件放在一起。</p><p id="6eff" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">应用服务器有麻烦了。无服务器是应用服务器的直接竞争对手。大多数新应用可能遵循微服务架构，而无服务器是微服务的自然延伸。微服务已经将整体服务分解为松散耦合的服务。将这样的应用程序转移到无服务器很容易。</p><p id="ab46" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">支持无服务器的云将把数据库、消息代理、流处理器纳入PaaS(平台即服务)。我们有两个问题要回答。首先，中间件会有足够多的独立用例吗？第二，如果Serverless接管了大部分开发，他们会选择也接管中间件层吗？</p><p id="9183" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">无服务器固执己见。因此，用户会时不时地遇到与他们的期望不符的情况。一方面，这可能是中间件存在的足够理由。另一方面，要处理这种情况，需要精心编排的客户服务。此外，中间件市场依赖于关系和客户服务，供应商和组织都将其视为合作伙伴关系，而不是要么接受要么放弃的黑盒。然而，客户服务和关系从来都不是兆云DNA的一部分。将会有一个客户服务缺口，一个违背兆云商业模式的缺口，一个难以填补的缺口。如果巨型云不能解决这个问题，他们将有效地忽略应用程序的长尾。这种差距可以给中间件公司足够的生存空间，在巨型云上磨蹭，甚至赢得长期的比赛。相反，巨型云可以选择分享一些收入，并让中间件供应商处理客户服务。所以有希望。</p><p id="1022" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">其次，即使无服务器控制了市场的大部分，也不清楚巨型云是否会吸收所有扼杀独立项目的中间件。中间件是一个困难的问题，它需要几十年的时间，一群最优秀的头脑，激烈的分歧才能达到现状。如果没有维护，中间件代码就会生锈，而它们所代表的大部分端点、硬件和业务都会发生变化。接管它们可能是一项太大的任务，甚至对于巨型云来说也是如此。</p><p id="7527" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">大多数中间件项目都有活跃的开源社区。在这种情况下，巨型云可以参与进来，做出贡献，并引导这些项目成为市场领导者。甚至替他们做一些营销。在这种情况下，不属于开源项目的独立中间件将会陷入困境并消亡。要么因为它更好，要么因为真正的竞争在其他地方，多个大型云甚至可能合作建设一个项目，就像Kubernetes的情况一样。</p><p id="b09e" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">当非开源玩家主导市场时，Mega-clouds将支付许可费或像目前Oracle数据库和微软Windows一样分享收入。一方面，随着无服务器的兴起，独立开发中间件的市场将会萎缩。另一方面，中间件公司将通过向无服务器授权获得新的收入来源。然而，在这种关系中，mega-clouds在价格谈判中具有优势。中间件公司将会看到收入的增加和利润的减少。还不清楚哪一个会赢。</p><p id="154f" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">如果许可费太大，法律又不保护中间件，mega-clouds可能会选择写一个新版本。结果将取决于中间件的复杂性。重写不是一件简单的事情。他们在烧了几百万之后会发现自己缺乏天赋和对问题的理解。复杂性是巨型云的敌人；如果他们试图重写，他们可能会像古代帝国一样崩溃。</p><p id="3ea5" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">当法律保护中间件时，或者当它们构建复杂时，大型云可以购买它们。Mega-cloud可以在控制“使用利润”的同时运营这些公司，并以更高的利润销售独立用例。</p><h1 id="7038" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">对集成中间件的影响</h1><p id="1760" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">集成中间件创建了组成和集成功能、服务和API的下一层。例如ESB、工作流引擎和API管理工具。</p><p id="b04d" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">您可能会认为集成中间件不是无服务器的。这就是这篇文章标题为“无服务器中间件”而不是无服务器的原因。<br/>竞争是iPaaS和本地集成中间件之间的竞争。</p><p id="654d" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">然而，这场战斗在其他地方可能会赢或输。集成中间件的性能取决于到达它们集成的服务的延迟。如果大多数服务、API和功能都在云中，那么云中的集成中间件相对于本地的中间件具有显著的优势，反之亦然。如果集成中间件和它们集成的服务都在云中，它们将有更好的网络连接，因此会有更好的延迟。此外，巨型云可能能够进行优化，以共同定位同一应用程序的相关部分。</p><p id="3642" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">对于延迟无关紧要的有限情况，结果将取决于iPaaS和本地中间件之间的功能差距。从历史上看，本地中间件在功能方面一直保持领先。然而，随着iPaaS的成熟，他们将面临一场艰难的战斗。</p><h1 id="a3fa" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">对助手服务中间件的影响</h1><p id="c0fc" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">辅助服务包括安全性、可观察性、跟踪和调试、运营、异常和欺诈检测、应用生命周期管理(例如CI/CD、版本控制和<a class="ae lw" href="https://thenewstack.io/deployment-strategies/" rel="noopener ugc nofollow" target="_blank">不同的负载平衡模式，如canaries、蓝绿色部署</a>等)。).</p><p id="f807" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">在我看来，这就是兆云的实力。因为他们控制着他们运行的环境；他们可以投资提供开发者默认获得的特殊助手服务。这一进程已经开始。虽然在内部部署中也是可能的，但是设置一切并使其工作需要大量的时间、精力和远见。所以这样的环境只适用于大型组织中的开发人员。</p><p id="b1f5" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">巨型云不会直接影响本地助手中间件。取而代之的是，法师云将自己使用助手中间件。然而，助手中间件可能会发现他们的用户群越来越多地转移到云上。这将导致与我们在核心中间件部分讨论的类似的动态。</p><p id="d0f4" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">无服务器平台也将挑战编辑器和工具。他们需要建立与无服务器的紧密集成。巨型云将鼓励编辑器和工具支持无服务器。然而，与其他中间件不同，它们较少受到无服务器的挑战。例如，开发人员可以在他们的笔记本电脑上构建他们的应用程序，并将其推入无服务器的云中，而没有任何运行时延迟差异。很可能mega-clouds会很乐意放过编辑。</p><h1 id="c8fe" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">私有无服务器平台</h1><p id="d531" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">对由于缺乏标准而导致的“供应商锁定”的担忧是无服务器所面临的最大风险。真正关心的不是无服务器的功能，而是这些功能所需的助手和平台服务，如安全性、可观察性，没有它们就不可能构建有意义的应用程序。在缺乏像SQL for API调用这样的标准的情况下，很难有效地抽象出这些服务。</p><p id="314d" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">当前的无服务器市场领导者正在抵制标准化。目前还不清楚大型云更应该担心什么，是其他大型云还是对供应商锁定的反感。如果巨型云合作，使应用程序可移植，它可以扩大馅饼的程度，使每个人都更好。这些情况的发生需要时间。另一种可能性是由政府实施标准化。虽然几率很小，但在一个GDPR有可能的世界里，也不是不可能。任何形式的标准化都将大大加速无服务器的采用。</p><p id="a823" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">私有无服务器平台(PSP ),如Apache OpenWhisk，试图利用这一点。论点是，一个组织可以通过运行PSP而不依赖大型云来获得无服务器的大部分优势。这是IBM等中间件公司为应对中间件面临的无服务器威胁而做出的战略性回答。</p><p id="4b3d" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">然而，私有无服务器平台面临两个挑战。</p><p id="7b5e" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">第一，没有平台服务，PSP失去了大部分生命力。PSP必须添加数据库，如果没有数据库，由于无服务器的无状态特性，它是一个交易破坏者。缺乏其他平台服务的影响仍有待观察。很遗憾，我的赌注不是PSP。</p><p id="dde2" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">第二，只有当组织能够运行一个足够大的无服务器平台，能够提供规模经济，PSP才能节省成本。在大型云IaaS产品中运行PSP会失败。如果有效，作为回应，法师云可以让他们的IaaS变得昂贵。相反，探索多个小型组织将其资源安全地集中到一个无服务器平台的可能性是很有趣的。</p><p id="198d" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">通过开源他们的大部分无服务器平台实现，微软也占据了一个有趣的位置，公司可以选择在内部运行相同的工具。</p><h1 id="453b" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">什么可能不会改变？</h1><p id="6da6" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">机器学习算法已经朝着专用硬件、GPU和为性能而设计的系统的方向发展。</p><p id="5e28" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">无服务器不太可能取代机器学习算法。对于算法交易、系统管理实用程序以及AR和VR应用程序等低延迟应用程序来说也是如此。</p><p id="8dc6" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">无服务器可以通过为物理上位于同一台机器上的相关应用程序提供支持来反击，使用机器学习等优化技术或基于人类的判断，就像Kubernetes对pods所做的那样。这将处理一些用例，但不是全部。</p><p id="bb37" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">无服务器也可以通过提供知名机器学习算法的预装版本来抢占一部分市场。</p><p id="f704" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">即使这一细分市场抵制无服务器，从大的方面来看，它也只是市场的一小部分。它会随着时间而萎缩，只会延长不可避免的时间。</p><h1 id="55f4" class="jc jd if bd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz dt translated">结论</h1><p id="91d1" class="pw-post-body-paragraph ka kb if kc b kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx hn dt translated">中间件将生活在有趣的时代。然而，并没有失去一切。很多将取决于核心中间件。内部部署的中间件无法承受将服务托管转移到云(例如，通过无服务器)。如果失去了服务托管，多米诺骨牌将开始倒下。其他的都将失去。在我看来，在这个战场上，专利和商业秘密比开源软件更有用，因为它们正好落入了超级云的手中。</p><p id="d4fd" class="pw-post-body-paragraph ka kb if kc b kd ky kf kg kh kz kj kk kl la kn ko kp lb kr ks kt lc kv kw kx hn dt translated">希望这是有用的，如果你喜欢这篇文章，你可能也会发现下面的内容很有趣。</p><div class="ht hu fm fo hv lx"><a rel="noopener follow" target="_blank" href="/systems-architectures/walking-the-microservices-path-towards-loose-coupling-few-pitfalls-4067bf5e497a"><div class="ly ab ej"><div class="lz ab ma cl cj mb"><h2 class="bd ig fv z el mc eo ep md er et ie dt translated">掌握微服务架构中的四种平衡行为</h2><div class="me l"><h3 class="bd b fv z el mc eo ep md er et ek translated">微服务是使用简单、轻量级、松散耦合的服务构建系统的新架构风格…</h3></div><div class="mf l"><p class="bd b gc z el mc eo ep md er et ek translated">medium.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml ib lx"/></div></div></a></div><div class="ht hu fm fo hv lx"><a href="https://hackernoon.com/story-of-big-data-a-technical-comedy-98630e9bd6bf" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab ej"><div class="lz ab ma cl cj mb"><h2 class="bd ig fv z el mc eo ep md er et ie dt translated">大数据编年史:一部技术喜剧</h2><div class="me l"><h3 class="bd b fv z el mc eo ep md er et ek translated">第一幕:谷歌不喜欢数据库</h3></div><div class="mf l"><p class="bd b gc z el mc eo ep md er et ek translated">hackernoon.com</p></div></div><div class="mg l"><div class="mm l mi mj mk mg ml ib lx"/></div></div></a></div></div></div>    
</body>
</html>