<html>
<head>
<title>How I learned to stop worrying and love TDD</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我是如何学会不再担心并热爱TDD的</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-i-learned-to-stop-worrying-and-love-tdd-ea22b7b7fcaa?source=collection_archive---------5-----------------------#2018-06-21">https://medium.com/hackernoon/how-i-learned-to-stop-worrying-and-love-tdd-ea22b7b7fcaa?source=collection_archive---------5-----------------------#2018-06-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="ca48" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">(或者至少，在构建时测试特性)</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/96b3b4589e4aa4e274a463c046831259.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SVx34YYKIWXYNwMep5ydkw.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Sample RSpec results from one of my Rails apps</figcaption></figure><p id="f085" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">最近在互联网上的文章和研究中，几乎一致认为:测试驱动开发(以下简称TDD)是开发人员创建一切的方式。但是如果你像我一样，开始比听起来要困难得多。</p><h2 id="334e" class="kv kw hu bd kx ky kz la lb lc ld le lf ki lg lh li km lj lk ll kq lm ln lo lp dt translated">避免测试</h2><p id="7b55" class="pw-post-body-paragraph jz ka hu kb b kc lq iv ke kf lr iy kh ki ls kk kl km lt ko kp kq lu ks kt ku hn dt translated">大约六个月前，在Odin项目的Ruby课程中，我第一次接触到了TDD。我当时就认识到了好处。这似乎是一个可以采用的明确的“最佳实践”。然而，由于我当时感觉到的一种超负荷感，我跳过了TDD项目，直接开始构建象棋游戏sans-TDD。我很高兴“完成”了Ruby课程，这样我就可以继续在<a class="ae lv" href="https://hackernoon.com/tagged/learning" rel="noopener ugc nofollow" target="_blank">学习</a> Ruby on Rails。</p><p id="f35f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">当我上Rails课程时，使用的主要资源之一是Michael Hartl的优秀的<a class="ae lv" href="https://www.railstutorial.org/book" rel="noopener ugc nofollow" target="_blank"> Rails教程</a>。本指南“采用了一种轻量级的、直观的测试方法，在方便的时候使用TDD，而不是教条式地使用它”(第3章，第3节)。这是有道理的:虽然严格的TDD在企业环境中似乎是一个好主意，但这种务实的方法似乎更适合大多数web应用程序开发。这允许开发人员工作得更快一些，同时仍然可以构建良好的测试覆盖率。</p><p id="e2e4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">然而，当构建我自己的应用程序时，<strong class="kb hv">我发现即使是这种更轻量级的TDD形式也很难实现。起初，我把它归咎于项目太小。其中一些只涉及建立一两个模型，也许是一个表单。编写测试似乎没有必要，因为我可以很容易地手工测试所有的功能。</strong></p><p id="2e40" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">当项目变得更大时(这里的<a class="ae lv" href="https://www.theodinproject.com/courses/ruby-on-rails/lessons/associations" rel="noopener ugc nofollow" target="_blank">这里的</a>和这里的<a class="ae lv" href="https://www.theodinproject.com/courses/ruby-on-rails/lessons/building-advanced-forms" rel="noopener ugc nofollow" target="_blank">这里的</a>，借口变成了缺少时间。弄清楚如何为每一步编写测试可能要花和构建应用程序一样长的时间。如果我不进行测试，我肯定可以更快地完成这个项目。这是真的——在某种程度上。</p><p id="0af9" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">不测试你的代码的问题是显而易见的:它是未经测试的。是的，您已经在本地服务器上运行了该应用程序，并进行了测试，以确保满足要求，并且您可以成功浏览该应用程序。但是自动化测试不仅仅是这样——它涵盖了边缘情况和当您只是手动检查基本功能时通常不会遇到的场景。</p></div><div class="ab cl lw lx hc ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hn ho hp hq hr"><h2 id="a4ec" class="kv kw hu bd kx ky kz la lb lc ld le lf ki lg lh li km lj lk ll kq lm ln lo lp dt translated">潮流改变了</h2><p id="8fcb" class="pw-post-body-paragraph jz ka hu kb b kc lq iv ke kf lr iy kh ki ls kk kl km lt ko kp kq lu ks kt ku hn dt translated">Odin项目的最终Rails项目(脸书的克隆)告诉了我延迟测试的另一个主要缺点。如你所知，如果你一直在阅读我的文章，我目前是<a class="ae lv" href="https://www.microverse.org/" rel="noopener ugc nofollow" target="_blank"> Microverse </a>的学生。这意味着在本文的这一点上有两件事是相关的:首先，我正在与一个<a class="ae lv" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程</a>合作伙伴一起工作(因此在讨论这个项目时使用了术语<em class="md">我们</em>)；第二，我们所有的项目都需要测试。当我们开始这个项目时，我们再次(就像我们迄今为止对每个项目所做的那样)选择推迟测试，直到应用程序功能完成。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff me"><img src="../Images/5947cb9fb454924bc95d704eda920f0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*arq-rw-t24FW7nM9pMu-vQ.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Yes, TDD takes more time up front, but the larger the project, the more time it saves you by the end.</figcaption></figure><p id="ce09" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">上面的图表(你可以在网上找到几个版本)总结了我们在这个大项目上的工作经验。很明显，到最后，我们花费了太多的时间来手动测试，并确保在我们做出更改时不会出现任何问题。如果我们在构建每个新特性的时候就实施测试(甚至在特性完成之后)，我们可以显著减少我们的手动测试并节省大量时间。</p><p id="f275" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">除了手工测试所浪费的时间之外，事实上我们仍然不得不编写测试，因为没有测试套件就不能(不应该)部署真正的应用程序。等到最后才写测试，我们错过了TDD的好处，但是仍然不得不花时间写测试。</p></div><div class="ab cl lw lx hc ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hn ho hp hq hr"><h2 id="c189" class="kv kw hu bd kx ky kz la lb lc ld le lf ki lg lh li km lj lk ll kq lm ln lo lp dt translated">真实世界中的测试</h2><p id="d2d0" class="pw-post-body-paragraph jz ka hu kb b kc lq iv ke kf lr iy kh ki ls kk kl km lt ko kp kq lu ks kt ku hn dt translated">虽然脸书克隆是我们在本课程中最大的项目，但生产应用程序通常包括更多的模型和功能。随着功能列表的增长，TDD变得更加重要和有价值。</p><p id="fac2" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我们最近受雇于我们的第一份自由职业合同，在一个已经上线的网站上工作。一个好的测试套件对生产应用程序的价值是显而易见的。当良好的测试覆盖到位时，确保团队中的每个人都正确地设置了开发环境就容易多了。然后，需要对添加的每个新特性进行测试，以确保它能够正常工作，这样团队中的其他人也可以很快验证它是否对他们有效。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mf"><img src="../Images/4ae7d1272ce630aa977f81c0682fbe2b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*nrLp8XmhPcECgWP0L8JbKw.jpeg"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">You don’t want your users to see this error.</figcaption></figure><p id="cccd" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我认为我的测试经验在新开发人员中很典型。起初，测试似乎是浪费时间或者是一件好事。然后，我们认为这是一种“不可避免的邪恶”，最终才意识到，当正确实施时，它可以节省我们很多时间和痛苦。此外，我们在编写测试时变得越熟练和自信，我们就越有可能像我们应该的那样使用它们。</p></div><div class="ab cl lw lx hc ly" role="separator"><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb mc"/><span class="lz bw bk ma mb"/></div><div class="hn ho hp hq hr"><p id="dd10" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">对于所有的新开发人员来说，结论是您需要直接投入到测试和TDD中。即使对于小项目来说这样做看起来很傻，但是当你开始构建和处理更大的应用程序时，马上养成这个习惯会有回报的。不要担心你的应用是否有效，热爱TDD。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mg mh l"/></div></figure></div></div>    
</body>
</html>