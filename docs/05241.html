<html>
<head>
<title>The Winds 2.0 Stack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Winds 2.0堆栈</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-winds-2-0-stack-59e593ff9f07?source=collection_archive---------13-----------------------#2018-06-21">https://medium.com/hackernoon/the-winds-2-0-stack-59e593ff9f07?source=collection_archive---------13-----------------------#2018-06-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/e741cc2876bbfec028c76fe3f353510f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J0G19ESzkpAB2SzsLQ18GA.png"/></div></div></figure><p id="29a3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Winds最初只是一个简单的Stream示例应用程序，但由于我们出色的社区的大力支持，我们决定在这个项目上投入更多的时间和精力。围绕Winds 2.0的初步反应超出了我们所有人的预期。自5月中旬推出以来，该应用在黑客新闻上连续一天排名第一，在Github上拥有5500颗星(还在增加)，并成为产品搜索上的热门应用。</p><p id="81c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">进入其中，没有办法预测Winds 2.0会变得多么流行——它会是绝对的成功还是史诗般的失败和时间的浪费？？该团队喜欢构建示例应用程序，所以我知道这不会是一个完全的损失，看到这个新的迭代在发布后的第一个月被如此广泛地使用是值得的。</p><p id="f25a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">风力发电的技术和蒸汽发电完全不同。你可能已经看过StackShare <a class="ae ka" href="https://stackshare.io/stream/stream-and-go-news-feeds-for-over-300-million-end-users" rel="noopener ugc nofollow" target="_blank">写的关于</a>Stream如何为使用Go、RocksDB和Raft的3亿用户提供活动源的博文。但是，大风是根据<a class="ae ka" href="https://stackshare.io/nodejs" rel="noopener ugc nofollow" target="_blank"> Node.js </a>、<a class="ae ka" href="https://stackshare.io/mongodb-atlas" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>、<a class="ae ka" href="https://stackshare.io/expressjs" rel="noopener ugc nofollow" target="_blank"> Express </a>、<a class="ae ka" href="https://stackshare.io/pm2" rel="noopener ugc nofollow" target="_blank"> PM2 </a>、<a class="ae ka" href="https://github.com/OptimalBits/bull" rel="noopener ugc nofollow" target="_blank"> Bull </a>、<a class="ae ka" href="https://stackshare.io/babel" rel="noopener ugc nofollow" target="_blank"> Babel </a>和<a class="ae ka" href="https://stackshare.io/react" rel="noopener ugc nofollow" target="_blank"> React </a>。</p><p id="d37a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">要开始使用Winds 2.0，你可以尝试网页版或者在这里下载应用程序<a class="ae ka" href="https://getstream.io/winds" rel="noopener ugc nofollow" target="_blank"/>，或者如果你更喜欢冒险，可以去GitHub 并在本地运行它。接下来，让我们来谈谈Winds 2.0堆栈，以及我们为什么选择使用我们所采用的技术(以及我们为什么首先选择构建Winds！).</p><h1 id="3c25" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">RSS是一种破碎的体验😭</h1><p id="96b5" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我们意识到许多RSS高级用户是开发人员、设计人员和记者。我们对Winds的目标之一是回答我们一直在问自己的问题:如果一个开发者和设计者的社区可以创建一个简单而完美的RSS体验会怎么样？这能扭转越来越少的用户利用这项技术，越来越多的出版物放弃支持的恶性循环吗？</p><p id="c7f7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">RSS的未来是不确定的。我们希望通过这个项目为# ReviveRSS做出贡献。</p><h1 id="dda1" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">为什么是JavaScript/Node…？🤔</h1><p id="336a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Winds的另一个核心目标是让更多的开发者参与进来。我们希望<em class="le">任何人</em>都能够很容易地注意到他们对RSS/Podcast体验不满意的地方，并轻松地提交带有修复或添加的pull请求。</p><p id="6cbf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有足够的勇气探索代码库，你可能会注意到我们在任何事情上都使用JavaScript包括前端和后端。我们团队的大多数人都有使用Go和Python的经验，所以Node不是这个示例应用程序的明显选择。关于JavaScript有趣的是有多少人抱怨它是一种不合适的语言。当然，它有自己的怪癖——单线程、回调地狱等。–但是我们相信用任何语言都有可能开发出优秀的软件。</p><p id="0a7c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于Winds来说，JavaScript是围绕项目培养社区的一个很好的选择。更重要的是，随着对<a class="ae ka" href="https://hackernoon.com/6-reasons-why-javascripts-async-await-blows-promises-away-tutorial-c7ec10518dd9" rel="noopener ugc nofollow" target="_blank"> Async/Await </a>语法的支持，JavaScript的成熟度开始显现。</p><p id="f585" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">当然……会有一些反对者拒绝承认JavaScript有任何积极的一面(甚至在<a class="ae ka" href="https://news.ycombinator.com/item?id=12338365" rel="noopener ugc nofollow" target="_blank">黑客新闻</a>上有关于Node.js的咆哮)；然而，如果没有完全用JavaScript编写，<em class="le">我们</em>就不会看到我们所做的结果。下面是我们选择JavaScript的一些原因:</p><ul class=""><li id="7375" class="lf lg hu je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">几乎每个开发人员都知道或者至少能够阅读JavaScript</li><li id="e631" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">有了<a class="ae ka" href="https://es6.io/" rel="noopener ugc nofollow" target="_blank"> ES6 </a>和Node.js v10.x.x，它已经成为一种非常强大的语言</li><li id="2b6b" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="noopener ugc nofollow" target="_blank">异步</a> / <a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await" rel="noopener ugc nofollow" target="_blank">等待</a>功能强大且易于使用(<a class="ae ka" href="https://hackernoon.com/6-reasons-why-javascripts-async-await-blows-promises-away-tutorial-c7ec10518dd9" rel="noopener ugc nofollow" target="_blank">异步/等待vs承诺</a></li><li id="c958" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">Babel允许我们试验下一代JavaScript(官方JavaScript规范中还没有的特性)</li></ul><p id="8812" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://yarnpkg.com/" rel="noopener ugc nofollow" target="_blank"> Yarn </a>允许我们快速一致地安装软件包(并且充满了<a class="ae ka" href="https://www.sitepoint.com/yarn-vs-npm/" rel="noopener ugc nofollow" target="_blank">吨的新花样</a></p><h1 id="f22e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">德沃普斯·🖥️</h1><p id="7728" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">你很少听说公司是如何部署和管理代码的。由于Winds 2.0是开源的，所以我们想分享一些工具来完成将代码从机器上传到服务器的工作。</p><p id="716a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Winds的网页版静态托管在S3的CloudFront上。总的来说，我们每个月只需花费几美元就可以举办。该应用程序的每个桌面版本都部署在Electron内部，使我们能够在web和桌面之间架起一座桥梁。</p><p id="ba97" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">至于后端API，那就是后话了。我们有一个相当不错的部署流程来确保稳定性和可维护性。以下是概要:</p><ol class=""><li id="63b7" class="lf lg hu je b jf jg jj jk jn lh jr li jv lj jz lt ll lm ln dt translated">所有代码都存储在<a class="ae ka" href="https://stackshare.io/github" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上</li><li id="b8a8" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated">我们使用<a class="ae ka" href="https://stackshare.io/fabric" rel="noopener ugc nofollow" target="_blank"> Fabric </a>和<a class="ae ka" href="https://github.com/boto/boto" rel="noopener ugc nofollow" target="_blank"> Boto </a>的组合在AWS上手动启动构建</li><li id="6076" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated"><a class="ae ka" href="https://aws.amazon.com/cloudformation/" rel="noopener ugc nofollow" target="_blank"> CloudFormation </a>创建一个由<a class="ae ka" href="https://aws.amazon.com/ec2/" rel="noopener ugc nofollow" target="_blank"> EC2 </a>实例、<a class="ae ka" href="https://aws.amazon.com/autoscaling/" rel="noopener ugc nofollow" target="_blank">自动伸缩组</a> (ASG)、<a class="ae ka" href="https://aws.amazon.com/elasticloadbalancing/" rel="noopener ugc nofollow" target="_blank">应用负载平衡器</a> (ELB)和一个<a class="ae ka" href="https://stackshare.io/redis" rel="noopener ugc nofollow" target="_blank"> Redis </a>实例组成的新风环境</li><li id="f550" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated">AWS CCM存储并检索启动时所需的各种配置(例如，当前版本等。)</li><li id="ce83" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated">Dotenv &amp;环境变量存储在Puppet和CCM中</li><li id="130a" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated">一旦所有EC2实例都可用，一个<a class="ae ka" href="https://stackshare.io/puppet" rel="noopener ugc nofollow" target="_blank">傀儡</a>脚本就会运行并在所有实时实例上应用配置(在应用模式下)</li><li id="c4d7" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lt ll lm ln dt translated"><a class="ae ka" href="https://stackshare.io/pm2" rel="noopener ugc nofollow" target="_blank"> PM2 </a>启动，自动启动我们需要的各种Node.js进程来保持我们的应用程序的活力(<a class="ae ka" href="https://github.com/GetStream/Winds/tree/master/api" rel="noopener ugc nofollow" target="_blank"> API </a>和<a class="ae ka" href="https://github.com/GetStream/Winds/tree/master/api/src/workers" rel="noopener ugc nofollow" target="_blank"> Workers </a>)</li></ol><p id="6d45" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于日志度量，我们使用了一个组合<a class="ae ka" href="https://stackshare.io/statsd" rel="noopener ugc nofollow" target="_blank">StatsD</a>+<a class="ae ka" href="https://stackshare.io/graphite" rel="noopener ugc nofollow" target="_blank">Graphite</a>+<a class="ae ka" href="https://stackshare.io/grafana" rel="noopener ugc nofollow" target="_blank">Grafana</a>。</p><figure class="lv lw lx ly fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lu"><img src="../Images/33646fd7d4668937515c54bd3a9b9be0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5s92M7aTfCnw7_mbFNBwqg.png"/></div></div></figure><h1 id="b064" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">理解电子⚡</h1><p id="4c7e" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">我们想尝试建立一个<a class="ae ka" href="https://electronjs.org/apps/winds" rel="noopener ugc nofollow" target="_blank">电子</a>应用程序，除了网络之外，还可以下载到每一个Linux发行版、macOS和Windows。从根本上来说，这似乎很容易:我们编写代码，将它包装在电子层中，然后发布到我们想要的操作系统中……结果证明我们错了。</p><p id="d9f0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">电子虽然强大，却比我们预想的要大得多。构建不同的发行版尤其困难，即使使用了<a class="ae ka" href="https://github.com/electron-userland/electron-builder" rel="noopener ugc nofollow" target="_blank"> electron-builder </a>(当然，我们运气不好，需要修补electron-builder(这个错误已经被修复了)，但这只是我们遇到的一些棘手问题)。macOS菜单栏必须恰到好处，才能让macOS商店接受我们的应用程序，而用电子API执行小任务，比如在外部浏览器中打开链接，结果证明是相当困难的。尽管困难重重，我们的团队还是开发了一些定制工具(在<a class="ae ka" href="https://github.com/getstream/winds" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上全部可见并开源)，我们不仅向所有发布目标发布，也向<a class="ae ka" href="https://winds.getstream.io" rel="noopener ugc nofollow" target="_blank"> web </a>发布。</p><h1 id="f88b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">在JavaScript 🗳️中测试</h1><p id="c129" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">在某种程度上，JavaScript仍然是蛮荒的西部。这是相当不自以为是的，特别是如果你使用Express，所以我们必须推出我们自己的测试框架来完成这项工作。我们的API是用Express构建的，使用了各种Node.js模块的组合。以下是我们用于测试的工具列表:</p><ul class=""><li id="3823" class="lf lg hu je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">作为测试框架的Mocha</li><li id="4570" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://chaijs.org/" rel="noopener ugc nofollow" target="_blank">柴</a>为断言库</li><li id="a0b3" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://sinonjs.org/" rel="noopener ugc nofollow" target="_blank"> Sinon </a>作为我们的嘲讽库</li><li id="f78e" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">作为HTTP嘲讽库的Nock </li><li id="6f8c" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://github.com/boblauer/mock-require" rel="noopener ugc nofollow" target="_blank">模拟-要求</a>作为模块模拟库</li><li id="6115" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated">伊斯坦布尔作为我们的测试覆盖工具</li></ul><p id="fb1b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">奖励:</strong>这是我们的<a class="ae ka" href="https://github.com/GetStream/Winds/blob/master/api/setup-tests.js" rel="noopener ugc nofollow" target="_blank">测试者</a>的真实例子。</p><p id="3aee" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">测试模块的组合我们选择我们的团队快速地与多个开发人员一起同时处理不同的特性集，而不会降低API。</p><h1 id="4f7d" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">前端🛠️</h1><p id="d4e8" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">React是一个非凡的框架，在我们看来，它已经战胜了Angular和Ember等其他框架。鉴于其更新的<a class="ae ka" href="https://twitter.com/reactjs/status/964689022747475968?lang=en" rel="noopener ugc nofollow" target="_blank">麻省理工学院许可</a>，它非常适合Winds 2.0项目。</p><p id="f4f5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们在Winds 2.0中使用的主要堆栈非常简单:</p><p id="d216" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">主堆栈</strong>:</p><ul class=""><li id="6fe6" class="lf lg hu je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated"><a class="ae ka" href="https://stackshare.io/create-react-app" rel="noopener ugc nofollow" target="_blank">创建-反应-应用</a></li><li id="28b1" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://stackshare.io/react" rel="noopener ugc nofollow" target="_blank">反应</a></li><li id="36f5" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://github.com/reduxjs/react-redux" rel="noopener ugc nofollow" target="_blank"> Redux </a>(反应-redux)</li><li id="a163" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://stackshare.io/react-router" rel="noopener ugc nofollow" target="_blank">反应路由器</a></li><li id="3b2b" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://electronjs.org/" rel="noopener ugc nofollow" target="_blank">电子</a></li></ul><p id="0b23" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在我们来聊聊我们用来实现Winds 2.0的一些前端模块。</p><p id="6e9d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">有趣的模块</strong>:</p><ul class=""><li id="4bf2" class="lf lg hu je b jf jg jj jk jn lh jr li jv lj jz lk ll lm ln dt translated">React-audio-player 是一个很好的React核心音频元素API接口</li><li id="e906" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://www.npmjs.com/package/react-waypoint" rel="noopener ugc nofollow" target="_blank"> React-waypoint </a>用于处理自动分页的滚动事件</li><li id="cbd3" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://www.npmjs.com/package/react-dropzone" rel="noopener ugc nofollow" target="_blank"> React-dropzone </a>方便OPML文件导入</li><li id="4ef9" class="lf lg hu je b jf lo jj lp jn lq jr lr jv ls jz lk ll lm ln dt translated"><a class="ae ka" href="https://www.npmjs.com/package/react-image" rel="noopener ugc nofollow" target="_blank"> React-image </a>在我们没有存储图像的情况下，实现完美的图像回退</li></ul><h1 id="6dd4" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">后端</h1><p id="f8bb" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">当您构建一个大型应用程序时，您通常依赖许多库和工具来提高代码质量、缩短上市时间等。也就是说，Winds也依赖于许多库和工具。下面是我们使用的几种，但不是全部:</p><h2 id="a5bc" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">FeedParser</h2><p id="5a62" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">FeedParser是一个相当复杂的Node.js模块，在我们看来，它是这个项目的支柱。它处理RSS提要中的大部分不一致之处，并给出提要的“净化”版本。如果没有这个模块，我们将会写很多if/else语句……这一点也不好玩。</p><h2 id="d608" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">最小法郎</h2><p id="e969" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://www.npmjs.com/package/franc-min" rel="noopener ugc nofollow" target="_blank"> Franc-Min </a>是一个语言检测模块，我们利用它来确定提要的语言。这听起来像是一个小任务；然而，事实上，它是我们个性化引擎的很大一部分。例如，我们只向说英语的用户推荐英文提要。其他语言也一样。</p><h2 id="0ee3" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">公牛</h2><p id="2a5f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://github.com/OptimalBits/bull" rel="noopener ugc nofollow" target="_blank">公牛</a>在<a class="ae ka" href="https://stackshare.io/redis" rel="noopener ugc nofollow" target="_blank">雷迪斯</a>的帮助下帮助Winds 2.0队列保持结构上的健全。它附带了一个超级简单的API，并支持多个队列，这非常适合我们的用例。此外，在他们的<a class="ae ka" href="https://github.com/OptimalBits/bull" rel="noopener ugc nofollow" target="_blank"> GitHub </a>页面上有几个开源监控工具，可以洞察幕后发生的事情。</p><h2 id="1714" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">ES6</h2><p id="0c44" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/es6" rel="noopener ugc nofollow" target="_blank">JavaScript w/ES6</a><strong class="je hv"/>使我们的团队能够为广泛的人群编写极简代码。Winds 2.0中的所有代码都是100%的JavaScript(除了少数用于帮助部署工作流的bash脚本)。该团队目前正在迁移代码库中的大部分功能，以利用<a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function" rel="noopener ugc nofollow" target="_blank"> Async/Await </a>来减少代码行数。</p><h2 id="a9bb" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">故事</h2><p id="0bd6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/yarn" rel="noopener ugc nofollow" target="_blank">纱</a>绝对惊艳。这是一个非常快速的专门为JavaScript构建的包管理器。最重要的是，由于它的缓存机制，它是100%开源的，几乎总是可用的。我们过去使用过<a class="ae ka" href="https://stackshare.io/npm" rel="noopener ugc nofollow" target="_blank"> npm </a>，虽然它工作得很好，但Stream的团队更喜欢Yarn。</p><h2 id="7723" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">Axios</h2><p id="f359" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Axios是一个基于Promise的HTTP客户端，用于浏览器和Node.js。我们实际上在各种任务的前端和后端都使用它。例如，所有前端HTTP请求都通过一个包装器流向Axios。对于后端，我们利用Axios来检查文件的大小，然后将其发送到解析流程，然后发送到数据库进行存储，这确保了大文件不会影响我们的工作进程。如果你还没有看过Axios，你一定要看看。</p><h2 id="6eb8" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">指挥官</h2><p id="dc9f" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://www.npmjs.com/package/commander" rel="noopener ugc nofollow" target="_blank"> Commander </a>是另一个Node.js模块，这次为构建命令行界面提供全面支持。是的，没错，Winds有一个CLI，我们用它来完成各种任务，比如测试提要、删除RSS提要等等！</p><h2 id="3e93" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">巴比伦式的城市</h2><p id="b11a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/babel" rel="noopener ugc nofollow" target="_blank">巴别塔</a>“允许我们今天使用下一代JavaScript”。本质上，如果某个特性，比如imports，在特定的JavaScript(前端和/或后端)中不可用，我们仍然可以通过利用Babel来使用它。</p><h2 id="7807" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">表达</h2><p id="3744" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/expressjs" rel="noopener ugc nofollow" target="_blank"> Express </a>用来为我们的<a class="ae ka" href="https://github.com/GetStream/Winds/tree/master/api/src" rel="noopener ugc nofollow" target="_blank"> API </a>提供动力。与其他框架相比，它在压力下确实会大放异彩。老实说，我们的团队拥有大多数JavaScript框架的经验，我们发现Express是最容易使用的。定期维护，有开源组件，很牛逼。😎</p><h2 id="cce9" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">哨兵</h2><p id="eca3" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/sentry" rel="noopener ugc nofollow" target="_blank"> Sentry </a>支持我们后端和前端的实时崩溃报告。让我们震惊的是你可以用Sentry得到的粒度。它们的特性帮助我们识别和调试错误，并让我们了解何时修复或回滚。说到救火，这个工具绝对赢得市场。</p><h2 id="2808" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">阿尔戈利亚</h2><p id="c857" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/algolia" rel="noopener ugc nofollow" target="_blank"> Algolia </a>为我们的应用程序提供了闪电般的(<a class="ae ka" href="https://blog.algolia.com/algolia-v-elasticsearch-latency/" rel="noopener ugc nofollow" target="_blank">字面上的</a>)搜索。在2毫秒下的<strong class="je hv"> <em class="le">中，我们的用户可以发现RSS提要和播客来阅读或收听。他们甚至有React和Angular这样的框架组件来使集成更好。这是迄今为止我们最喜欢的一个；但是，我们都喜欢。😛</em></strong></p><h2 id="ff5d" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">溪流</h2><p id="8623" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/stream" rel="noopener ugc nofollow" target="_blank"> Stream </a>是Winds 2.0的关键资源，因为它为我们的用户提供新闻提要和活动流，甚至基于机器学习的个性化。如果没有<a class="ae ka" href="https://getstream.io" rel="noopener ugc nofollow" target="_blank">流</a>，我们将无法像现在这样为用户提供建议内容。</p><h2 id="7534" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">MongoDB地图集</h2><p id="77c6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/mongodb-atlas" rel="noopener ugc nofollow" target="_blank"> MongoDB Atlas </a>是一个现象级的DBaaS，让我们担心获取用户，而MongoDB担心正常运行时间。这与托管您自己的集群是一样的，只是MongoDB为您提供了一个仪表板和一个URI来连接。有了MongoDB Atlas，再也不用担心集群健康、监控等问题了。</p><h2 id="0fcc" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">猫鼬</h2><p id="4a7a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/mongoose" rel="noopener ugc nofollow" target="_blank">mongose</a>是一个强大的ODM，它允许我们在MongoDB环境中定义丰富的模型。一般来说，<a class="ae ka" href="https://www.mongodb.com/nosql-explained" rel="noopener ugc nofollow" target="_blank"> NoSQL数据库</a>是无模式的(意味着它们没有或者不需要任何形式)；然而，使用MongoDB，指定一个模式总是一个好主意，这样就可以正确地索引和组织数据。这允许容易的更新和有效的查询。</p><h2 id="c792" class="lz kc hu bd kd ma mb mc kh md me mf kl jn mg mh kp jr mi mj kt jv mk ml kx mm dt translated">PM2</h2><p id="7c78" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><a class="ae ka" href="https://stackshare.io/pm2" rel="noopener ugc nofollow" target="_blank"> PM2 </a>是Node.js的流程管理器。它使我们能够确保正常运行时间，并根据需要扩展流程。该项目的CLI非常简单，这使得我们的团队可以随时使用它。</p><h1 id="02e2" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">最后的想法😁</h1><p id="eb11" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">要开始使用Winds 2.0，您可以尝试网页版或在这里下载应用程序<a class="ae ka" href="https://getstream.io/winds" rel="noopener ugc nofollow" target="_blank"/>。如果你想更有冒险精神，去GitHub 并在本地旋转它。</p><p id="59fe" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">RSS陷入了恶性循环。Winds是一个社区的努力，旨在帮助扭转局势和复兴。捐款总是很受欢迎。要讨论新功能，请查看<a class="ae ka" href="https://communityinviter.com/apps/winds-community-hq/winds-2-0" rel="noopener ugc nofollow" target="_blank">官方风松弛频道</a>。</p><p id="58c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想知道更多关于<a class="ae ka" href="https://getstream.io/" rel="noopener ugc nofollow" target="_blank">流</a>和我们的API如何工作的信息，我们有一个简单的<a class="ae ka" href="https://getstream.io/get_started/" rel="noopener ugc nofollow" target="_blank"> 5分钟API之旅</a>，它将带你完成构建可扩展活动订阅源的过程。</p></div></div>    
</body>
</html>