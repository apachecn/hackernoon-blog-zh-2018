<html>
<head>
<title>Generating Mock Data with Perl</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Perl生成模拟数据</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/generating-mock-data-with-perl-7836a2ca0548?source=collection_archive---------15-----------------------#2018-06-21">https://medium.com/hackernoon/generating-mock-data-with-perl-7836a2ca0548?source=collection_archive---------15-----------------------#2018-06-21</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/5c10656b8e7fb635db3bb69252b741fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7HZUUv82rNB4-1Mp"/></div></div></figure><div class=""/><p id="62a2" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近在工作中，为了测试代码，我们的团队创建了模拟数据的测试，或者在某些情况下只是模拟正回报，这允许我们更容易地隔离我们正在工作的特定代码块。我确信这在大多数测试驱动设计(TDD)场景中是一种相当常见的实践。然而，这让我想到了我开始学习JavaScript时使用的一个API，它会生成随机用户。<a class="ae ka" href="https://randomuser.me/" rel="noopener ugc nofollow" target="_blank">https://randomuser.me/</a></p><p id="d2e9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是模仿用户数据的绝佳资源。您可能会认为这是随机生成的用户的Lorem Ipsum。当我思考这个简洁的工具，以及我们的团队如何模仿其他类型的数据时，我开始思考如何着手制作自己的用户数据生成器，类似于上面的API。</p><p id="0742" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你想看这个项目的源代码，这里是我目前所拥有的:</p><p id="78b6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">【https://github.com/ethanjarrell/randomUsers T2】号</p><p id="93ec" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面的例子将展示我是如何考虑这个过程的，以及我是如何做的一些代码片段。首先，我需要知道我想要生成的关于每个用户的信息的类型。以下是我想出的清单:</p><ul class=""><li id="aa59" class="kb kc if je b jf jg jj jk jn kd jr ke jv kf jz kg kh ki kj dt translated">名字</li><li id="8903" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">年龄</li><li id="7584" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">性别</li><li id="66b4" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">种族划分</li><li id="1c33" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">生日</li><li id="7297" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">电子邮件</li><li id="789a" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">电话号码</li><li id="1487" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">地址</li><li id="a4e2" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">职业</li><li id="125a" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">业余爱好</li><li id="568c" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">眼睛的颜色</li><li id="c231" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">毛色</li><li id="66bf" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">肤色</li><li id="6800" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">高度</li><li id="4001" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">重量</li><li id="814b" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">体型</li><li id="5c0e" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">婚姻状况</li><li id="a4b0" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">配偶(如果已婚)</li><li id="83de" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">儿童</li><li id="db0c" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">最高教育水平</li><li id="93eb" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">学校</li><li id="1e80" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">程度</li><li id="f04f" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">学生贷款债务</li><li id="97f5" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">年薪</li><li id="93a7" class="kb kc if je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">宗教</li></ul><p id="a832" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">事后看来，我很可能过分使用了这个列表。但这是一个有趣的编程挑战。我的想法是，你可以用两种方法之一来做这件事。首先，您可以创建数千个概要文件，当运行代码时，只从数千个概要文件中随机返回一个。</p><p id="6443" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第二个选择，我认为会花费更少的时间，是随机产生每一个新的人……以某种程度的随机性产生每一个特征，而不依赖于任何包含完整随机特征的数据库。例如，每次运行代码时，它会从一个列表或通过其他方式生成每个特征，每次都将它们组合在一起创建一个新的用户配置文件。</p><p id="7d4e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这样做的过程中，我意识到有些特征在某种程度上依赖于其他特征。而另一些可以完全独立于其他任何东西。比如不能随便选名字和性别。否则你可能会和一个叫伊莎贝拉的男人，或者一个叫巴奇的女人在一起。这并没有什么不对，但是为了一致性，我想在一定程度上保持在社会规范之内。</p><p id="9b0b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">其他微妙的从属特征是爱好、体重/体型等。例如，如果我们随机选择这些特征，我们可能最终会得到一个爱好包括铁人三项，但体型超重的人。同样，这没有错，但关键是要生成一致的数据。</p><p id="75a9" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一个例子可能是教育/工作类型和年薪。同样，随机选择，我们可以产生一个拥有电气工程硕士学位的人，年薪为12，000美元。</p><p id="c446" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了以一种有意义的方式解决这个问题，我首先生成所有不需要相互依赖的数据。然后，根据我最初的几个特征产生的结果，我可以从一个更孤立的数据子集产生剩余的特征。</p><p id="7b72" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了开始我的Perl文件，我将使用几个本地Perl包:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="04e3" class="ky kz if ku b fv la lb l lc ld">#!/usr/bin/perl<br/>use DBI;<br/>use strict;<br/>use warnings;<br/>use lib qw(..);<br/>use JSON qw(  );<br/>use Data::Dumper;</span></pre><p id="fc4a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这个例子中，我实际上没有使用DBI，但是如果您想将每个新生成的用户写入数据库，DBI可能会派上用场。然而，我将使用lib和JSON。</p><p id="984b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，我上网找到了一个特定条目的随机生成特征列表。这些都包含在上面的github链接中。在清理数据、删除空格和添加逗号之后，我遍历列表，将每个条目放入一个数组中。然后，当我想从数组中进行随机选择时，我可以使用Perl“rand”方法获得一个随机条目。</p><p id="dae6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我从很多列表中提取数据，但是我基本上使用相同的格式从列表中提取数据。下面是一个例子，说明如何为男性和女性的名字创建列表:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="1a6a" class="ky kz if ku b fv la lb l lc ld"># declare a variable for the test txt file<br/>my $maleNames = 'maleNames.txt';<br/># connect to and open the json file<br/>open (FH, "&lt; $maleNames") or die "Can't open $maleNames for read: $!";<br/>my <a class="ae ka" href="http://twitter.com/maleLines" rel="noopener ugc nofollow" target="_blank">@maleLines</a>;<br/>while (&lt;FH&gt;) {<br/>    push (<a class="ae ka" href="http://twitter.com/maleLines" rel="noopener ugc nofollow" target="_blank">@maleLines</a>, $_);<br/>}<br/>close FH or die "Cannot close $maleNames: $!";</span><span id="ee67" class="ky kz if ku b fv le lb l lc ld">my <a class="ae ka" href="http://twitter.com/maleList" rel="noopener ugc nofollow" target="_blank">@maleList</a> = ();<br/>foreach my $x (<a class="ae ka" href="http://twitter.com/maleLines" rel="noopener ugc nofollow" target="_blank">@maleLines</a>) {<br/>  my $str = $x;<br/><a class="ae ka" href="http://twitter.com/maleList" rel="noopener ugc nofollow" target="_blank">@maleList</a> = split(',', $str);<br/>}</span><span id="f34b" class="ky kz if ku b fv le lb l lc ld"># declare a variable for the test txt file<br/>my $femaleNames = 'femaleNames.txt';<br/># connect to and open the json file<br/>open (FH, "&lt; $femaleNames") or die "Can't open $femaleNames for read: $!";<br/>my <a class="ae ka" href="http://twitter.com/femaleLines" rel="noopener ugc nofollow" target="_blank">@femaleLines</a>;<br/>while (&lt;FH&gt;) {<br/>    push (<a class="ae ka" href="http://twitter.com/femaleLines" rel="noopener ugc nofollow" target="_blank">@femaleLines</a>, $_);<br/>}<br/>close FH or die "Cannot close $femaleNames: $!";</span><span id="7a59" class="ky kz if ku b fv le lb l lc ld">my <a class="ae ka" href="http://twitter.com/femaleList" rel="noopener ugc nofollow" target="_blank">@femaleList</a> = ();<br/>foreach my $x (<a class="ae ka" href="http://twitter.com/femaleLines" rel="noopener ugc nofollow" target="_blank">@femaleLines</a>) {<br/>  my $str = $x;<br/><a class="ae ka" href="http://twitter.com/femaleList" rel="noopener ugc nofollow" target="_blank">@femaleList</a> = split(',', $str);<br/>}</span></pre><p id="481b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我可以模拟一次抛硬币，如下所示:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="d48d" class="ky kz if ku b fv la lb l lc ld">my $gender = int(rand(2));</span></pre><p id="f60a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将为性别生成一个0或1的数字。</p><p id="f060" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后我可以使用条件句:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="3f1f" class="ky kz if ku b fv la lb l lc ld">if ( $gender == 0 ) {<br/>$gender = "female";<br/>} else {<br/>$gender = "male";<br/>}</span></pre><p id="0781" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">性别是随机决定的，我们可以根据随机选择性别的结果，从男性或女性名单中随机抽取一个新记录。</p><p id="847f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">生成随机电话号码:</strong></p><p id="f4e2" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我可以做一个API调用来确定一个州的区号，一旦随机选择了一个州，但此时我并不真正了解这一点。我真正关心的是号码是电话号码格式((xxx) xxx — xxxx)。</p><p id="119a" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为此，我随机生成了10个数字，并将其连接成正确的格式:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="d532" class="ky kz if ku b fv la lb l lc ld">my $n1 = int(rand(8)+1);<br/>my $n2 = int(rand(9));<br/>my $n3 = int(rand(9));<br/>my $n4 = int(rand(9));<br/>my $n5 = int(rand(9));<br/>my $n6 = int(rand(9));<br/>my $n7 = int(rand(9));<br/>my $n8 = int(rand(9));<br/>my $n9 = int(rand(9));<br/>my $n10 = int(rand(9));</span><span id="d390" class="ky kz if ku b fv le lb l lc ld">my $phoneNumber = "($n1$n2$n3) $n4$n5$n6-$n7$n8$n9$n10";</span></pre><p id="d058" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">生成随机邮编:</strong></p><p id="1f84" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">邮政编码也是如此:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="64ef" class="ky kz if ku b fv la lb l lc ld">my $z1 = int(rand(8)+1);<br/>my $z2 = int(rand(9));<br/>my $z3 = int(rand(9));<br/>my $z4 = int(rand(9));<br/>my $z5 = int(rand(9));</span><span id="a55d" class="ky kz if ku b fv le lb l lc ld">my $zipcode = $z1 . $z2 . $z3 . $z4 . $z5;</span></pre><p id="57cc" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">生成随机邮件:</strong></p><p id="3852" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我认为可能会有点不同的邮件。例如，如果我已经生成了一个随机的名字，我可以简单地这样做:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="1726" class="ky kz if ku b fv la lb l lc ld">firstName.lastName @ emailServer . com</span></pre><p id="0b65" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然，这看起来不太可信，所以我想让电子邮件变得多种多样。</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="5632" class="ky kz if ku b fv la lb l lc ld">my <a class="ae ka" href="http://twitter.com/emails" rel="noopener ugc nofollow" target="_blank">@emails</a> = ("gmail", "hotmail", "protonmail", "yahoo", "aol");</span><span id="4d4e" class="ky kz if ku b fv le lb l lc ld">my $index = rand <a class="ae ka" href="http://twitter.com/emails" rel="noopener ugc nofollow" target="_blank">@emails</a>;<br/>my $email = $emails[$index];</span><span id="d087" class="ky kz if ku b fv le lb l lc ld">my $index2 = rand <a class="ae ka" href="http://twitter.com/adjectiveList" rel="noopener ugc nofollow" target="_blank">@adjectiveList</a>;<br/>my $adjective = $adjectiveList[$index2];</span><span id="bdaa" class="ky kz if ku b fv le lb l lc ld">my $index3 = rand <a class="ae ka" href="http://twitter.com/animalsList" rel="noopener ugc nofollow" target="_blank">@animalsList</a>;<br/>my $myAnimal = $animalsList[$index3];</span></pre><p id="7225" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每次运行代码时，将从5个列表中随机选择一个电子邮件服务。然后一个形容词和一种动物将从几百个列表中随机挑选出来。这将允许我创建电子邮件格式如下:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="9155" class="ky kz if ku b fv la lb l lc ld">fuzzy . kitten . 01 @ gmail .com</span></pre><p id="c11e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">或者</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="b394" class="ky kz if ku b fv la lb l lc ld">firstName . the . terrible @ yahoo .com</span></pre><p id="237b" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有了这些变量，我创建了5种格式类型，并在1到5之间随机选择了一个数字。根据结果，新电子邮件将获得该格式。这是它的样子:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="fcb1" class="ky kz if ku b fv la lb l lc ld">my $emailAddress = "";<br/>my $girlGuy  ="";<br/>if ($gender eq "male"){<br/>  $girlGuy = "guy";<br/>}else {<br/>  $girlGuy = "girl";<br/>}<br/>my $emailFormat = int(rand(5));<br/>if ($emailFormat == 0){<br/>$emailAddress = $lastName[0] . "." . $lastName[1] . $sN3 . $z2 . "@" . $email . ".com";<br/>} elsif ($emailFormat == 1) {<br/>  $emailAddress = $adjective . "_" . $myAnimal . $sN1 . "@" . $email . ".com";<br/>} elsif ($emailFormat == 2) {<br/>  $emailAddress = $adjective . "_" . $lastName[0] . $sN1 . "@" . $email . ".com";<br/>} elsif ($emailFormat == 3) {<br/>  $emailAddress = $newState . "_" . $girlGuy . $sN1 . $sN2 . $sN3 . "@" . $email . ".com";<br/>} elsif ($emailFormat == 4) {<br/>  $emailAddress = $adjective . "_" . $newCity . "_" . $girlGuy . $sN1 . $sN2 . $sN3 . "@" . $email . ".com";<br/>}<br/>$emailAddress =~ s/\s+//g;</span></pre><p id="8447" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je ig">生成随机作业和程度:</strong></p><p id="de85" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对我来说，另一个有趣的事情是创造一份工作和一个学位。我使用了一个随机的职位列表，并随机选择一个，类似于我创建和随机选择一个男性或女性名字的方式。然后，对于我新的随机作业，我使用Perl中的substr方法来比较该作业。我基本上做的是将职位名称的一个子串与一大串潜在学位项目进行比较。例如，如果职务是:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="425b" class="ky kz if ku b fv la lb l lc ld">Electrical Engineer</span></pre><p id="fe81" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，我可能会抓住职位的前5个字母:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="450a" class="ky kz if ku b fv la lb l lc ld">elect</span></pre><p id="efea" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">遍历列表中的所有学位项目，看是否有匹配的。如果有匹配，我会将匹配添加到这个新的随机用户拥有的学位列表中。我有学士、助理和硕士项目的列表，所以我检查了所有项目，并将匹配项放入学位数组:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="fe4f" class="ky kz if ku b fv la lb l lc ld">my $substring = substr $job, 0, 5;</span><span id="e347" class="ky kz if ku b fv le lb l lc ld">my <a class="ae ka" href="http://twitter.com/degrees" rel="noopener ugc nofollow" target="_blank">@degrees</a> = ();<br/>foreach my $x (<a class="ae ka" href="http://twitter.com/bachelorList" rel="noopener ugc nofollow" target="_blank">@bachelorList</a>) {<br/>  if (index($x, $substring) != -1) {<br/>      push <a class="ae ka" href="http://twitter.com/degrees" rel="noopener ugc nofollow" target="_blank">@degrees</a>, $x;<br/>  }<br/>}</span><span id="06d7" class="ky kz if ku b fv le lb l lc ld">foreach my $x (<a class="ae ka" href="http://twitter.com/associateList" rel="noopener ugc nofollow" target="_blank">@associateList</a>) {<br/>  if (index($x, $substring) != -1) {<br/>      push <a class="ae ka" href="http://twitter.com/degrees" rel="noopener ugc nofollow" target="_blank">@degrees</a>, $x;<br/>  }<br/>}</span><span id="bfc4" class="ky kz if ku b fv le lb l lc ld">foreach my $x (<a class="ae ka" href="http://twitter.com/masterList" rel="noopener ugc nofollow" target="_blank">@masterList</a>) {<br/>  if (index($x, $substring) != -1) {<br/>      push <a class="ae ka" href="http://twitter.com/degrees" rel="noopener ugc nofollow" target="_blank">@degrees</a>, $x;<br/>  }<br/>}</span><span id="8afc" class="ky kz if ku b fv le lb l lc ld">my $degree = "";</span><span id="d6a5" class="ky kz if ku b fv le lb l lc ld">foreach my $x (<a class="ae ka" href="http://twitter.com/degrees" rel="noopener ugc nofollow" target="_blank">@degrees</a>) {<br/>  $degree = $degree . ", " . $x;<br/>}</span></pre><p id="0184" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，我简单地将所有结果连接成一个字符串。</p><p id="f8a6" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">没有仔细检查我所做的每一个决定，我最终得到了一个结果的散列，我用Dumper打印了它。我的散列如下所示，变量作为散列值:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="5bd1" class="ky kz if ku b fv la lb l lc ld">my $json = {NAME=&gt;$name, WEIGHT=&gt;$finalWeight, HEIGHT=&gt;$finalHeight, EYE_COLOR=&gt;$eyeColor, BODY_TYPE=&gt;$bodyType, HAIR_COLOR=&gt;$hairColor, SKIN_COLOR=&gt;$skinColor, RELIGION=&gt;$myReligion, SCHOOL=&gt;$school, HIGHEST_LEVEL_OF_EDUCATION=&gt;$highestLevelOfEducation, AGE=&gt;$age, STUDENT_LOAN_DEBT=&gt;'$' . $studentLoanDebt . '.00', ANNUAL_SALARY=&gt;'$' . $annualSalary . '.00', CHILDREN=&gt;$kids, BIRTHDAY=&gt;$birthDate, GENDER=&gt;$gender, MARITAL_STATUS=&gt;$married, SPOUSE=&gt;$spouse, ADDRESS=&gt;$streetNumber . " " . $newStreet . ", " . $newCity . ", " . $newState . " " . $zipcode, PHONE=&gt;$phoneNumber, EMAIL=&gt;$emailAddress, OCCUPATION=&gt;$job, HOBBIES=&gt;$hobby1 . ", " . $hobby2 . ", " . $hobby3, DEGREE=&gt;$degree, ETHNICITY=&gt;$ethnicBackground};</span><span id="a8d9" class="ky kz if ku b fv le lb l lc ld">print Dumper $json;</span></pre><p id="0809" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我的输出通常如下所示:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="e44f" class="ky kz if ku b fv la lb l lc ld">{<br/>          'ADDRESS' =&gt; '7841 3rd Street West, Duarte, Minnesota 87604',<br/>          'GENDER' =&gt; 'female',<br/>          'SPOUSE' =&gt; 'Raleigh Teer',<br/>          'STUDENT_LOAN_DEBT' =&gt; '$6336.00',<br/>          'HAIR_COLOR' =&gt; 'Dark Brown',<br/>          'HEIGHT' =&gt; '6 feet, 10 inches',<br/>          'EMAIL' =&gt; '<a class="ae ka" href="mailto:creepy_Duarte_girl784@aol.com" rel="noopener ugc nofollow" target="_blank">creepy_Duarte_girl784@aol.com</a>',<br/>          'SKIN_COLOR' =&gt; 'Light Brown',<br/>          'RELIGION' =&gt; 'Stoicism',<br/>          'HOBBIES' =&gt; 'Golf, Tutoring Children, Photography',<br/>          'BIRTHDAY' =&gt; 'March 7, 1983',<br/>          'PHONE' =&gt; '(361) 734-5735',<br/>          'WEIGHT' =&gt; '327 lbs',<br/>          'AGE' =&gt; 35,<br/>          'MARITAL_STATUS' =&gt; 'married',<br/>          'DEGREE' =&gt; ', Bachelor of Accountancy, Master of Accountancy, Master of Accounting and Information Systems',<br/>          'ETHNICITY' =&gt; 'Chinese Australian',<br/>          'SCHOOL' =&gt; 'University of Minnesota-Duluth',<br/>          'NAME' =&gt; 'Maggie Davila',<br/>          'HIGHEST_LEVEL_OF_EDUCATION' =&gt; 'Masters Degree',<br/>          'BODY_TYPE' =&gt; 'Thick',<br/>          'EYE_COLOR' =&gt; 'Black',<br/>          'OCCUPATION' =&gt; 'Accountant',<br/>          'CHILDREN' =&gt; 5,<br/>          'ANNUAL_SALARY' =&gt; '$68077.00'<br/>        };</span></pre><p id="b54d" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是一个非常有趣的项目，即使它不是非常有用，我仍然在这个过程中学到了很多关于Perl的知识。希望你喜欢。</p></div></div>    
</body>
</html>