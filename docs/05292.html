<html>
<head>
<title>Decentralized Applications Stack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">分散式应用堆栈</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/decentralized-applications-stack-3ac9ab8c4ad7?source=collection_archive---------6-----------------------#2018-06-23">https://medium.com/hackernoon/decentralized-applications-stack-3ac9ab8c4ad7?source=collection_archive---------6-----------------------#2018-06-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/b47f8a458d7fccdd4c4daad9c41048ad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1392/format:webp/0*c0XL32HE8lQzwbaK.jpg"/></div></figure><p id="5247" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">公共区块链(作为私人的)目前的发展与互联网诞生之初的情况非常相似。互联网仅由内部网组成，即附属于某个机构或从事同一课题的一群人的专用网络。然而，这些内部网是孤立工作的，不可能相互通信和共享信息。</p><p id="a80b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在20世纪70年代初，出现了TCP/IP协议，该协议被创建来链接这些网络并允许网络间通信(因此称为“互联网”)。现在基于区块链的网络也是如此。即使是对所有人开放的公共网络，如比特币网络，也是独立于其他公共网络运行的，它们之间不可能直接通信。在目前的技术状态下，无法直接将比特币兑换成以太(由以太坊另一家公共区块链发行)。只有在连接买家和卖家的加密货币交易所，才能用比特币购买乙醚。</p><p id="e57d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在描述到目前为止出现的连接这些不同的区块链的解决方案(II)之前，简单描述一下因特网以及使用它的应用程序是如何组织的，并且应该如何传递信息(I)似乎是有意思的。这也将有助于我们更好地理解分散式网络是如何利用现有的互联网结构来发展的。</p><p id="5ea4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> I —互联网上两个应用程序之间的信息流通</strong></p><p id="5fb0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">1 —基于互联网的应用程序的通用堆栈:</p><p id="619a" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们今天所知的互联网是通过同一堆栈的若干层来工作的，这些层可以按如下方式恢复:</p><figure class="jx jy jz ka fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="fe ff jw"><img src="../Images/41490e8e85f70256b60aae1aece27058.png" data-original-src="https://miro.medium.com/v2/resize:fit:1358/format:webp/0*ybR8gzYCR_j-JPgb.jpg"/></div></div></figure><p id="187c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这些层中的每一层都包括一个或几个协议，在信息通过互联网发送之前，gaol将选择和准备这些协议。</p><p id="c9cd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您需要跟随箭头来理解信息通过这些层从发送到接收的路径。信息从被发送的栈顶开始，经过栈的不同层到达接收者。</p><p id="0c67" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">第一层是代表用户界面的应用程序。如果我们以邮箱为例，一个我们都使用的应用程序。写一封电子邮件并点击“发送”按钮会触发向收件人发送数据的过程。您的电子邮件将使用SMTP(简单邮件传输协议)协议发送。<strong class="ja hv">协议是允许几台计算机之间良好通信的规则和步骤的列表</strong>。有许多类型的协议，协议的选择取决于层和发送的数据类型。为了清楚起见，我们将集中讨论最常见的协议。在应用层，如果您发送文件，将使用文件传输协议(FTP ),如果您在网上发送查询(例如Google搜索),将使用超文本传输协议(HTTP)。</p><p id="5a22" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">下一层是传输层，其目标是组织消息</strong>的传输，而不考虑(在此阶段)路由消息的网络类型。传输层中最常见的协议是“TCP”(即“传输控制协议”)，其目标是将消息分割成多个数据包，以便能够在互联网上单独发送它们，检查所有消息是否按顺序到达，在一些消息未到达时发送新的数据包，并验证网络是否拥塞。</p><p id="fc66" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在接收消息的一方，TCP协议的作用是收集数据包，并将其重新组合以重新构成消息。</p><p id="833f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">互联网层的目标是通过互联网发送我们刚刚描述过的数据包。为此，协议“IP”(代表“互联网协议”)执行两个主要动作。首先，它根据收件人的地址“IP”和位置来识别收件人。然后，它将数据包发送到离最终接收者最近的服务器。</p><p id="9e3f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">最后，<strong class="ja hv">堆栈的最低层是网络，其目标是使用互联网网络的基础设施(wifi、电话线、光纤……)物理传输消息</strong>。</p><p id="3689" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您将在下面找到根据互联网网络堆栈层使用的不同协议的简短摘要:</p><figure class="jx jy jz ka fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="fe ff kf"><img src="../Images/e1d80516650a9fb4189aeeb75cb4cdac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*2rGd9fzSTraB1sLF.jpg"/></div></div></figure><p id="0902" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> 2 —传统应用的通用堆栈:</strong></p><p id="4317" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们在这里关注通用堆栈的第一层，即“应用”层。应用程序的三个组成要素是数据的存储、处理和通信。</p><ol class=""><li id="4779" class="kg kh hu ja b jb jc jf jg jj ki jn kj jr kk jv kl km kn ko dt translated"><strong class="ja hv">数据的存储。</strong></li></ol><p id="8e2b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">首先，区分“文件系统”(“文件系统”)和“数据库”(“数据库”)</strong>非常重要。第一个系统是一套程序，它允许你在计算机硬盘上添加文件夹并对其进行分类，而第二个系统是一套程序，它允许你组织和维护数据库。</p><p id="bb17" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">文件系统不太复杂</strong>，因为它适合存储非结构化数据，即所有数据都基于不同的格式。例如，有些文件是Word格式的，有些文件是PDF格式的，但它们没有共同的结构。因此，我们的想法是简单地将这些数据添加到文件中，并组织这些文件，以便轻松地找到数据(例如，通过索引)，就像您对任何计算机所做的那样。</p><p id="1e81" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">它与管理系统数据库</strong>的不同之处在于，它以类似的结构组织数据，我们可以将组织逻辑应用于表格的形式。换句话说，可以创建一个程序(例如基于SQL语言)，它将管理数据的自动存储和管理这些数据所需的所有其他操作。因此，MongoDB、MySQL和Cassandra等这种类型的系统实施起来更复杂，但在需要管理的数据量和需要访问数据的用户数量很重要的情况下非常适合。创建逻辑管理可以避免重复数据，并极大地保护系统。</p><p id="7b30" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然而，当多个应用程序同时使用数据库时，仍然存在这些数据的访问和更新问题。问题是组织这些不同应用程序对数据库的使用，以确保它们只使用最后更新的版本，而不在保留版本中插入它们的更改。<strong class="ja hv">更好地被称为“多版本并发控制”的过程本质上旨在根据</strong>如<strong class="ja hv">或应用</strong>的需求分配数据库的使用，并允许其同时访问。</p><p id="5e41" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">实际上，应用程序发送事务来更改数据库。“多版本并发控制”的任务是组织这些事务并避免任何冲突。正如我们将看到的，区块链的一致性机制可以定义为分布式多版本并发控制。</p><ol class=""><li id="a077" class="kg kh hu ja b jb jc jf jg jj ki jn kj jr kk jv kl km kn ko dt translated"><strong class="ja hv">数据的处理</strong></li></ol><p id="8b18" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">数据的处理对应于计算机对数据进行的所有操作。</strong>该定义包括例如将数据转换成机器可读的信息，或者在处理器和存储器之间移动数据。</p><p id="33d1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">根据应用的不同，这种数据处理可以在注册或不注册该信息状态的情况下进行。将任何计算机简化为“状态机”。这意味着计算机通过不断运行“状态函数”来不断检查是否有请求提交给他。每次提交查询时，计算机都会检测到这种状态变化并采取行动。例如，当您按下一个图标来激活一个应用程序时，您的计算机将启动该应用程序，并且一旦完成，保存该应用程序的状态现在是“启用”，直到您决定关闭该应用程序，在这种情况下，计算机将记录与该应用程序相关的新状态。</p><p id="6db2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">当一个命令只被操作，但是新的状态没有被注册，我们谈论的是一个无状态的程序，一个应用程序或者一个协议。两者的区别在于动作的记录与否。</p><ol class=""><li id="4f7c" class="kg kh hu ja b jb jc jf jg jj ki jn kj jr kk jv kl km kn ko dt translated"><strong class="ja hv">沟通</strong></li></ol><p id="5129" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如前所述，TCP和IP协议通过允许数据传输来连接不同的网络。</p><p id="225b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">然而，不管它们的值如何，这些协议都以相同的方式传输数据。该协议将信息分解成数据包，并发送这些数据包，直到它收到所有数据包都已被接收方接收和重组的确认。</p><figure class="jx jy jz ka fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="fe ff kp"><img src="../Images/8faf323a73d314a3cc6449d61c8e4ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*XdcCgaVSU55qng3a.png"/></div></div></figure><p id="01a8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> 3 —分散式应用的堆栈:</strong></p><p id="b582" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">基于区块链的分散式应用程序在结构上与我们刚刚描述的传统应用程序并不完全不同。我们已经确定了应用程序的各种组件，以便能够将它们与分散式应用程序的组件进行比较。请注意，我们将依赖比特币协议，但也特别依赖以太坊协议来说明分散式应用程序的不同层，因为这最后一个平台是为开发分散式应用程序而创建的。</p><p id="5203" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> 1 —数据的存储</strong></p><p id="4255" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如前所述，区块链是一种新型的数据库，因为它同时是分散的、透明的和受加密过程保护的。</p><figure class="jx jy jz ka fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="fe ff kq"><img src="../Images/82a22d6309cbc9fa6a40b1a46d03c91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ksQBVIMuVRV6MPeX.jpg"/></div></div></figure><p id="db94" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们刚刚解释了什么是多版本并发控制。区块链通过共识机制的作用是相同的，但是以分散的方式实现。</p><p id="11c1" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">合意机制的主要作用是组织将交易添加到区块链中。根据定义，基于区块链的网络是分散的。这意味着网络成员负责更新数据库，而不是一个可信任的第三方。共识机制的困难在于确保交易仅被添加到区块链一次，并且根据适合于网络所有成员的顺序。确保一个交易只被添加到区块链一次，以避免重复花费的问题，这对于网络的寿命确实至关重要。</p><p id="b61b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">想象一下，你收到的比特币也被另一个人收到了，通过互联网转移价值(这是比特币网络的主要目的)会立即受到质疑。</p><p id="3d8e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">当一个网络的所有成员都是匿名时，比特币网络就是这种情况，需要一种共识机制来组织向区块链</strong>添加交易，即确定哪些成员有权添加交易并获得与之相关的奖励(目前为12.5个比特币——这个数字被编程为定期减少)。</p><p id="7468" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在数据库领域中，事务用于更改数据库。比特币就是如此，因为每一笔以区块为单位添加的交易都包含一个新的输出。然后，这个输出将被添加到下一个事务的输入中，该事务也将包含一个新的输出。因此，每个事务都通过添加新的输出来修改数据库。如果你想更好地了解比特币交易，可以参考<a class="ae kr" href="https://www.blockchains-expert.com/en/4-steps-to-understand-a-bitcoin-transaction/" rel="noopener ugc nofollow" target="_blank">的文章</a>。</p><p id="7a50" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">以太坊等智能合约平台也是如此。智能合约直接保存在区块链上，并由事务(由外部帐户发送到区块链的命令)或消息(由其他智能合约发送的命令)执行。换句话说，数据库中智能合约的状态直接由事务或消息更改。</p><p id="b410" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">因此，对于区块链，负责数据库管理的程序就是汇集了网络所有操作规则的协议。其作用是定义添加到区块链的交易必须遵守的规则(大小、所需信息、有效输出、对应于公钥的私钥……)。</p><p id="ab9d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在其最初的形式(比特币的形式)中，区块链是存储数据的唯一位置。区块链由网络的所有完全成员下载，所以网络上有多少数据库就有多少完全成员。因此，成员必须不断更新它，以确保总是添加块到最新的区块链。</p><p id="ad47" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">自2009年比特币出现以来，该技术已经发展了很多，如今可以将网络信息存储在网络及其区块链外部的数据库中。IPFS就是这种情况，它通过智能合同与区块链通信。</p><ol class=""><li id="dc95" class="kg kh hu ja b jb jc jf jg jj ki jn kj jr kk jv kl km kn ko dt translated"><strong class="ja hv">数据处理</strong></li></ol><p id="d43b" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">正如我们刚才解释的那样，与最基本形式的区块链相对应的比特币区块链只提出了数据存储的去中心化。<strong class="ja hv">另外两个方面，数据的处理和通信，仍然是网络中每个成员所特有的。</strong>换句话说，这些活动并不在网络成员之间划分。</p><p id="bf23" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">随着以太坊及其去中心化虚拟机的创建，我们看到了数据处理的第一次去中心化</strong>。与比特币网络不同，以太坊协议提出在区块链的每个区块中存储交易，尤其是计算机程序，即著名的智能合约。因此，区块链成为一个智能数据库，因为它具有相对先进的计算能力。区块链变成了图灵完备。</p><p id="2653" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">这意味着存储在区块链中的计算机程序可以由用户(通过从外部账户发送的交易)或其他合同(通过从内部账户发送的消息)来操作</strong>。然而，这些命令是由以太坊虚拟机执行的，以太坊虚拟机由网络中的所有计算机组成。当智能合约运行时，网络上的所有计算机同时运行该程序，并更新区块链中智能合约的新状态。</p><p id="ce2c" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">重要的是要记住，有了以太坊，我们就进入了去中心化的第二个阶段，在这个阶段，我们可以把互不相识的人的数千台计算机聚集起来，以执行一个全球网络的程序。这也是以太坊有时被称为第一世界计算机的原因。想了解更多以太坊的操作，可以参考这篇<a class="ae kr" href="https://www.blockchains-expert.com/en/ethereum-the-world-computer/" rel="noopener ugc nofollow" target="_blank">文章。</a></p><ol class=""><li id="6b9d" class="kg kh hu ja b jb jc jf jg jj ki jn kj jr kk jv kl km kn ko dt translated"><strong class="ja hv">分散式通信</strong></li></ol><p id="8825" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">目前，分散式应用程序仍然基于互联网的通信栈(TCP/IP)来交换信息，但技术的发展可能会在不久的将来改变这一事实。</p><p id="6659" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">因此，分散式应用程序的堆栈可以这样简化:</p><figure class="jx jy jz ka fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kb kc di kd bf ke"><div class="fe ff ks"><img src="../Images/5096d6f07f45833542ec97d67e11d362.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*5OEgk0-hrMTXuo_E.png"/></div></div></figure><p id="78d5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在文章的第二部分，我们将描述区块链之间的通信方法。</p><p id="bf0e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你喜欢这篇文章，请毫不犹豫地分享到社交媒体上，并鼓掌100次！！</p></div></div>    
</body>
</html>