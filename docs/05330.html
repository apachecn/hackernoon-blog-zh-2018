<html>
<head>
<title>Form handling in React! No worries just leave it on React Reactive Form.</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">React中的表单处理！别担心，让它保持反应状态。</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/better-forms-with-react-reactive-form-431571e40a0f?source=collection_archive---------12-----------------------#2018-06-25">https://medium.com/hackernoon/better-forms-with-react-reactive-form-431571e40a0f?source=collection_archive---------12-----------------------#2018-06-25</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="8d24" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">很酷的是，如果你把所有的数据控制在一个对象中，你可以在任何时候不受任何限制地操作控件的状态。</p></blockquote><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div class="fe ff jt"><img src="../Images/e5d7e8ba22d7d794d211c1671d215315.png" data-original-src="https://miro.medium.com/v2/resize:fit:702/format:webp/1*llB7XYSksur0ltS6JxMnLQ.png"/></div></figure><p id="9d47" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">当我发布这个库<code class="eh ke kf kg kh b"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form" rel="noopener ugc nofollow" target="_blank">react-reactive-form</a></code>时，我得到了来自社区的不同反应，在&amp;尝试react之前与angular一起工作的人，只是喜欢它，但是来自React背景的人并没有感到很舒服。</p><p id="baf2" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">这个想法是在反应式表单api和反应式组件之间架起一座桥梁，这样我们就能以一种简单高效的方式控制大型复杂的表单。</p><p id="2bca" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">在RRF的最新版本中，我添加了一些react <a class="ae ki" href="https://hackernoon.com/tagged/apis" rel="noopener ugc nofollow" target="_blank"> api的</a>来创建&amp;操纵控件。因此，对于react开发人员来说，现在创建表单变得非常容易，而不需要了解太多的库。</p><h1 id="1fc1" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated"><strong class="ak">最新版本有什么新内容？🎉</strong></h1><p id="949b" class="pw-post-body-paragraph iu iv hu ix b iy lh ja jb jc li je jf kb lj ji jj kc lk jm jn kd ll jq jr js hn dt translated">新版本的<a class="ae ki" href="https://hackernoon.com/tagged/rrf" rel="noopener ugc nofollow" target="_blank"> RRF </a>包含了这些很酷的特性，这使得RRF成为在react中构建表单的完美库。</p><p id="17ee" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated"><strong class="ix hv">字段组件</strong> <br/>你可以使用这些组件创建一个新的控件或者绑定一个现有的控件。</p><ul class=""><li id="a3c6" class="lm ln hu ix b iy iz jc jd kb lo kc lp kd lq js lr ls lt lu dt translated"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FieldGroup.md" rel="noopener ugc nofollow" target="_blank"><strong class="ix hv">field group</strong></a><strong class="ix hv"><br/></strong>react组件，创建新的或可用于现有<a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FormGroup.md" rel="noopener ugc nofollow" target="_blank"> FormGroup </a>控件。</li><li id="8501" class="lm ln hu ix b iy lv jc lw kb lx kc ly kd lz js lr ls lt lu dt translated"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FieldArray.md" rel="noopener ugc nofollow" target="_blank"><strong class="ix hv">field array</strong></a><strong class="ix hv"><br/></strong>一个react组件，它创建一个新的或者可以与现有的<a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FormArray.md" rel="noopener ugc nofollow" target="_blank"> FormArray </a>控件一起使用。</li><li id="987f" class="lm ln hu ix b iy lv jc lw kb lx kc ly kd lz js lr ls lt lu dt translated"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FieldControl.md" rel="noopener ugc nofollow" target="_blank"><strong class="ix hv">field control</strong></a><strong class="ix hv"><br/></strong>一个react组件，它创建一个新的或可与现有的<a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FormControl.md" rel="noopener ugc nofollow" target="_blank"> FormControl </a>控件一起使用。</li></ul><p id="9700" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">查看下面的示例，了解这些组件的基本用途。</p><figure class="ju jv jw jx fq jy"><div class="bz el l di"><div class="ma mb l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">React Reactive Form: Simple form example</figcaption></figure><h1 id="77d1" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FormGenerator.md" rel="noopener ugc nofollow" target="_blank"> <strong class="ak">表格生成器</strong> </a></h1><p id="e4cd" class="pw-post-body-paragraph iu iv hu ix b iy lh ja jb jc li je jf kb lj ji jj kc lk jm jn kd ll jq jr js hn dt translated">最新版本的RRF引入了<code class="eh ke kf kg kh b"><a class="ae ki" href="https://github.com/bietkul/react-reactive-form/blob/master/docs/api/FormGenerator.md" rel="noopener ugc nofollow" target="_blank">FormGenerator</a></code> api，你可以通过一个字段配置生成你的表单。当你有可重用的输入组件或使用第三方库如bootstrap时，这个api是最合适的，你只需要将组件分配给你的控件。</p><p id="a91d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">有了这个api，用不了两分钟就可以完成一个大表单，但是唯一的条件是你必须准备好你的组件。😃</p><pre class="ju jv jw jx fq mg kh mh mi aw mj dt"><span id="9117" class="mk kk hu kh b fv ml mm l mn mo">const fieldConfig = {  <br/>  controls: {<br/>    username: {<br/>      render: TextInput, // A React component which renders an input<br/>      meta: {<br/>        label: 'Username'<br/>      },<br/>      options: {<br/>        validators: Validators.required<br/>      }<br/>    },<br/>    password: {<br/>      render: TextInput,<br/>      meta: {<br/>        label: 'Password',<br/>        type: 'password'<br/>      },<br/>      options: {<br/>        validators: Validators.required<br/>      }<br/>    }<br/>  }<br/>}</span></pre><figure class="ju jv jw jx fq jy"><div class="bz el l di"><div class="ma mb l"/></div><figcaption class="mc md fg fe ff me mf bd b be z ek">React Reactive Form: Simple form with Form Generator</figcaption></figure><h1 id="90ce" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated"><strong class="ak">新听众</strong></h1><p id="fa3b" class="pw-post-body-paragraph iu iv hu ix b iy lh ja jb jc li je jf kb lj ji jj kc lk jm jn kd ll jq jr js hn dt translated">RRF的新版本引入了两个新的监听器，为表单提供了更多的控制。您可以使用这些侦听器来订阅事件更改&amp;执行一些操作，如向服务器更新数据或处理其他控件的状态。</p><ul class=""><li id="f815" class="lm ln hu ix b iy iz jc jd kb lo kc lp kd lq js lr ls lt lu dt translated"><strong class="ix hv"> onValueChange <br/> </strong>每当控件上的<code class="eh ke kf kg kh b">onChange</code>事件触发时，将调用注册的观察器。</li><li id="dce0" class="lm ln hu ix b iy lv jc lw kb lx kc ly kd lz js lr ls lt lu dt translated">每当控件上触发<code class="eh ke kf kg kh b">onBlur</code>事件时，就会调用注册的观察者。</li></ul><p id="974d" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">除了这些新的侦听器之外，RRF还提供了更多的(valueChanges，statusChanges等)侦听器，这些侦听器可用于执行表单状态的动态更改。</p><p id="e3bc" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">例如:</p><pre class="ju jv jw jx fq mg kh mh mi aw mj dt"><span id="2819" class="mk kk hu kh b fv ml mm l mn mo">componentDidMount() {<br/>     this.form.get('gender').valueChanges((value) =&gt; {<br/>        if(value === 'FEMALE') {<br/>          this.form.get('age').disable();<br/>        }     <br/>     })<br/>}</span></pre><p id="1f19" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">这些监听器的常见用例有:<br/>——根据其他字段的变化禁用/启用一个输入字段。<br/> -从控制树中添加/移除控制。<br/> -设置/移除验证器</p><h1 id="ea4e" class="kj kk hu bd kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg dt translated">相关链接:</h1><p id="88d7" class="pw-post-body-paragraph iu iv hu ix b iy lh ja jb jc li je jf kb lj ji jj kc lk jm jn kd ll jq jr js hn dt translated">要知道为什么这个库比其他解决方案更好，请查看下面的文章。<br/> <a class="ae ki" href="https://hackernoon.com/introducing-reactive-forms-in-react-e6df0b84a1ea" rel="noopener ugc nofollow" target="_blank"> <strong class="ix hv">引入React反应形式</strong> </a></p><div class="mp mq fm fo mr ms"><a href="https://github.com/bietkul/react-reactive-form" rel="noopener  ugc nofollow" target="_blank"><div class="mt ab ej"><div class="mu ab mv cl cj mw"><h2 class="bd hv fv z el mx eo ep my er et ht dt translated">bietkul/react-reactive-form</h2><div class="mz l"><h3 class="bd b fv z el mx eo ep my er et ek translated">反应-反应-形式-角状反应形式。</h3></div><div class="na l"><p class="bd b gc z el mx eo ep my er et ek translated">github.com</p></div></div><div class="nb l"><div class="nc l nd ne nf nb ng jz ms"/></div></div></a></div><p id="a673" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">让我们让React反应形式更好！如果你有兴趣帮忙，欢迎并感谢所有的贡献。❤️</p><p id="28bb" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf kb jh ji jj kc jl jm jn kd jp jq jr js hn dt translated">感谢阅读！请试一试👏如果你喜欢这篇文章，不要忘记开始回购，我会保证更频繁的更新！🙏</p><figure class="ju jv jw jx fq jy"><div class="bz el l di"><div class="ma mb l"/></div></figure></div></div>    
</body>
</html>