<html>
<head>
<title>Learn Assert by building a javascript testing library</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过构建javascript测试库来学习Assert</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/learn-assert-by-building-a-javascript-testing-library-370b34634182?source=collection_archive---------25-----------------------#2018-06-27">https://medium.com/hackernoon/learn-assert-by-building-a-javascript-testing-library-370b34634182?source=collection_archive---------25-----------------------#2018-06-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="9e5a" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">用nodejs标准库构建有趣的项目。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/fcc23309bf379cd51b6d140d4e813026.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8YLBRkeWl4lvbFWmcR2pqg.png"/></div></div></figure><p id="6ffd" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">了解node js的一个方法是构建东西。很多开发人员说他们知道nodejs，因为它只是服务器端的<a class="ae kr" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> javascript </a>，但是他们中的很多人不知道如何使用Nodejs标准库。让我们从使用<code class="eh ks kt ku kv b">assert</code>库开始，构建一个简单的测试库。</p><p id="0ab7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">测试库是一个软件，它帮助我们测试我们的代码，以确保它按照预期正确运行。测试库的一个例子是<a class="ae kr" href="https://hackernoon.com/tagged/facebook" rel="noopener ugc nofollow" target="_blank">脸书</a>的<a class="ae kr" href="https://facebook.github.io/jest/" rel="noopener ugc nofollow" target="_blank"> Jest </a>。我们将借用jest测试如何编写的结构。</p><p id="41d9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">从最简单的例子开始。假设我们有一段将两个数相加的代码。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="1a11" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">预期的测试代码将会如何。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><h2 id="05a4" class="ky kz hu bd la lb lc ld le lf lg lh li ke lj lk ll ki lm ln lo km lp lq lr ls dt translated">设计测试库的结构。</h2><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="16b4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">从结构上可以看出，没有什么特别的，只有功能。我们将在expect函数中使用assert。<code class="eh ks kt ku kv b">Assert</code>用于断言。</p><p id="b9fc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们希望能够做出像<code class="eh ks kt ku kv b">expect(4).toEqual(10)</code>这样的断言，我们将利用node js标准库中可用的<code class="eh ks kt ku kv b">assert</code>库。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="f473" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">让我们看看我们在expect函数中使用的断言功能</p><p id="83c7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> assert.ok </strong> :-断言传递给<code class="eh ks kt ku kv b">ok</code>的任何表达式的计算结果为真值失败，将抛出一个错误。</p><p id="fe08" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> assert.equal </strong> :-断言两个值相等，否则抛出错误</p><p id="e3ef" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">断言两个对象或它们的子对象相等，如果相等则抛出错误</p><p id="a48f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我们需要一种方法来显示测试通过或失败时的错误和成功状态。我们将在<code class="eh ks kt ku kv b">it</code>函数中使用一个简单的<code class="eh ks kt ku kv b">try catch</code>模块。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="1f4a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这里是完整的源代码。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="333c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">我坚信你可以通过实践来学习。我遗漏了一些你可以用来练习的东西。有很多事情你可以做得更好，这里有两件事可以帮助你开始。</p><ul class=""><li id="eff4" class="lt lu hu jx b jy jz kb kc ke lv ki lw km lx kq ly lz ma mb dt translated">给测试结果着色(通过-绿色，失败-红色)</li><li id="4dd9" class="lt lu hu jx b jy mc kb md ke me ki mf km mg kq ly lz ma mb dt translated">如果测试失败，显示通过的预期值和实际值。</li></ul><p id="7dca" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">慢慢来实现这两个功能，当你完成后，打我在twitter上审查。如果你有困难，可以联系我，我很乐意帮忙。</p><p id="b8b0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">如果你觉得这篇文章有帮助，请鼓掌并分享给其他人。可以关注我的 <a class="ae kr" href="https://github.com/sadick254" rel="noopener ugc nofollow" target="_blank"> <em class="mh"> GitHub </em> </a> <em class="mh">和</em><a class="ae kr" href="https://www.linkedin.com/in/isaac-odhiambo-678b1547/" rel="noopener ugc nofollow" target="_blank"><em class="mh">LinkedIn</em></a><em class="mh">。如果你有任何想法或改进，请随时与我分享。</em></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mi kx l"/></div></figure></div></div>    
</body>
</html>