<html>
<head>
<title>Advanced React Native styling with a few lines of code</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用几行代码实现高级React本机样式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/advanced-react-native-styling-with-a-few-lines-of-code-4b6a94385015?source=collection_archive---------1-----------------------#2018-07-01">https://medium.com/hackernoon/advanced-react-native-styling-with-a-few-lines-of-code-4b6a94385015?source=collection_archive---------1-----------------------#2018-07-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6991f768d7e46a3b9d6d81348355bae1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3PzPVY97k8VOubBBTIdfqQ.png"/></div></div></figure><p id="dacf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近来到<a class="ae ka" href="https://hackernoon.com/tagged/react-native" rel="noopener ugc nofollow" target="_blank"> React Native </a>世界。但是，我对Reactjs环境有很多经验。我曾经使用<a class="ae ka" href="http://glamorous.rocks/" rel="noopener ugc nofollow" target="_blank">迷人的</a> lib(现在演变成<a class="ae ka" href="https://emotion.sh/" rel="noopener ugc nofollow" target="_blank"> Emotion.sh </a>)来维护我的Reactjs应用中的CSS样式。这正是我在React Native space中所缺少的。</p><p id="8a1c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我不想使用任何复杂的东西，因为我的React本机应用程序应该是简单的。然而，我仍然想要某种抽象，因为否则项目代码样板很容易变得混乱。主要是，我希望能够使用React本机元素，轻松修改其样式，创建可重用的组件，并在其后代中覆盖其样式。</p><h2 id="0c1a" class="kb kc hu bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">要求</h2><ol class=""><li id="45cd" class="kw kx hu je b jf ky jj kz jn la jr lb jv lc jz ld le lf lg dt translated">简单熟悉的界面。</li><li id="af4e" class="kw kx hu je b jf lh jj li jn lj jr lk jv ll jz ld le lf lg dt translated">使用React本机元素(以及任何其他React组件)。</li><li id="4148" class="kw kx hu je b jf lh jj li jn lj jr lk jv ll jz ld le lf lg dt translated">组件样式<a class="ae ka" href="https://hackernoon.com/tagged/composition" rel="noopener ugc nofollow" target="_blank">组成</a>。</li><li id="6a39" class="kw kx hu je b jf lh jj li jn lj jr lk jv ll jz ld le lf lg dt translated">不需要使用React Native <em class="lm">样式表</em>(增强的<em class="lm">样式</em>属性)。</li></ol><p id="96b6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这里有一个例子:</p><ol class=""><li id="d417" class="kw kx hu je b jf jg jj jk jn ln jr lo jv lp jz ld le lf lg dt translated">我想使用内置的<em class="lm">文本</em>组件。</li><li id="0d90" class="kw kx hu je b jf lh jj li jn lj jr lk jv ll jz ld le lf lg dt translated">继承它的风格，添加自定义的，并创建一个组件，将可在我的应用程序。</li><li id="c10a" class="kw kx hu je b jf lh jj li jn lj jr lk jv ll jz ld le lf lg dt translated">继承这个自定义组件，修改它的样式(或添加新的样式)并将其呈现在我的屏幕上。</li></ol><p id="e641" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这可以通过简单的组件抽象/组合很容易地完成:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="29de" class="kb kc hu lv b fv lz ma l mb mc">  import { Text } from 'react-native'<br/><br/>  const Headline = styled(Text)(() =&gt; {<br/>    return {<br/>      fontSize: 20,<br/>      textAlign: 'center',<br/>      margin: 10<br/>    }<br/>  })<br/><br/>  const BoldHeadline = styled(Headline)(() =&gt; {<br/>    return {<br/>      fontWeight: 'bold'<br/>    }<br/>  })</span><span id="6d14" class="kb kc hu lv b fv md ma l mb mc">  &lt;BoldHeadline {...{style: {backgroundColor: 'red'}}}&gt;My Headline&lt;/BoldHeadline&gt;</span></pre><p id="608b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们的抽象允许我们这样做，它被封装在<strong class="je hv">风格的</strong>方法中，看起来像这样:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="922e" class="kb kc hu lv b fv lz ma l mb mc">import React from 'react'<br/>import { StyleSheet } from 'react-native'<br/><br/>const styled = Component =&gt; {<br/>  const comp = styles =&gt; {<br/>    return ({ style, children, ...rest }) =&gt; {<br/>      let composed = []<br/>      if (styles) {<br/>        composed = [<br/>          ...composed,<br/>          StyleSheet.create({<br/>            styles<br/>          }).styles<br/>        ]<br/>      }<br/><br/>      if (Array.isArray(style)) {<br/>        composed = [...composed, ...style]<br/>      } else if (style) {<br/>        composed = [<br/>          ...composed,<br/>          StyleSheet.create({<br/>            style<br/>          }).style<br/>        ]<br/>      }<br/><br/>      return &lt;Component {...{ style: composed }} {...rest}&gt;{children}&lt;/Component&gt;<br/>    }<br/>  }<br/><br/>  return arg =&gt; {<br/>    if (typeof arg === 'function') {<br/>      return comp(arg())<br/>    }<br/><br/>    return comp()(arg)<br/>  }<br/>}<br/><br/>export default styled</span></pre><p id="11d7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Styled function允许我们以两种不同的方式使用其组件:</p><ol class=""><li id="8062" class="kw kx hu je b jf jg jj jk jn ln jr lo jv lp jz ld le lf lg dt translated"><strong class="je hv">作为组件包装器(用于组合)。</strong></li></ol><p id="ed09" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">它允许我们获取任何组件，覆盖它的样式并返回一个新的组件。如上例所示:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="507b" class="kb kc hu lv b fv lz ma l mb mc">const Headline = styled(Text)(() =&gt; {<br/>   return {} // your styles goes here<br/>})</span><span id="3a6c" class="kb kc hu lv b fv md ma l mb mc">const InheritedHeadline = styled(Headline)(() =&gt; {<br/>   return {} // another styles here<br/>})</span></pre><p id="f54a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.<strong class="je hv">作为成分的“增强剂”。</strong></p><p id="c9c9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您不想在组件声明级别定义任何样式，但是您希望以后能够使用<em class="lm">样式</em>属性:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="5c4e" class="kb kc hu lv b fv lz ma l mb mc">const CustomButton = styled(Button)</span><span id="26e2" class="kb kc hu lv b fv md ma l mb mc">&lt;CustomButton {...{style: {backgroundColor: 'black'}}}&gt;Label&lt;/CustomButton&gt;</span></pre><p id="d0ce" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">正如你所看到的，风格化的函数非常简单，但是它允许我们做很多事情来更好地维护组件，降低代码复杂度，提高代码可读性。</p><p id="8622" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我用上面的代码创建了名为<a class="ae ka" href="http://bit.ly/2lK3vMn" rel="noopener ugc nofollow" target="_blank"><strong class="je hv">styled-react-native</strong></a><strong class="je hv">的npm包。</strong></p><div class="me mf fm fo mg mh"><a href="https://github.com/jsifalda/styled-react-native" rel="noopener  ugc nofollow" target="_blank"><div class="mi ab ej"><div class="mj ab mk cl cj ml"><h2 class="bd hv fv z el mm eo ep mn er et ht dt translated">jsifalda/styled-react-native</h2><div class="mo l"><h3 class="bd b fv z el mm eo ep mn er et ek translated">styled-react-native -用于react本地组件及其样式组合的简单样式化</h3></div><div class="mp l"><p class="bd b gc z el mm eo ep mn er et ek translated">github.com</p></div></div><div class="mq l"><div class="mr l ms mt mu mq mv ja mh"/></div></div></a></div><p id="4606" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您也可以使用以下命令将包添加到依赖项中来开始使用它:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="6516" class="kb kc hu lv b fv lz ma l mb mc">npm install --save styled-react-native</span></pre><p id="d875" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在您的项目中:</p><pre class="lq lr ls lt fq lu lv lw lx aw ly dt"><span id="8da9" class="kb kc hu lv b fv lz ma l mb mc">import styled from "styled-react-native"<br/>const CustomText = styled(Text)</span></pre><p id="edb9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">感谢阅读！我希望这能对你有所帮助。🤩</p></div><div class="ab cl mw mx hc my" role="separator"><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb nc"/><span class="mz bw bk na nb"/></div><div class="hn ho hp hq hr"><p id="ee57" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">顺便说一下，如果你想关注更多我的代码，我现在也在Twitter上。</p><figure class="lq lr ls lt fq iv"><div class="bz el l di"><div class="nd ne l"/></div></figure></div></div>    
</body>
</html>