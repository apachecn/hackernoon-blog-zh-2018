<html>
<head>
<title>How to build a Stepper with compound components</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用复合组件构建步进器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-a-stepper-with-compound-components-6a49d90950ba?source=collection_archive---------8-----------------------#2018-07-02">https://medium.com/hackernoon/how-to-build-a-stepper-with-compound-components-6a49d90950ba?source=collection_archive---------8-----------------------#2018-07-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="5e7b" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">在本文中，我们将通过逐步为不同的视图构建一个分档器来重新审视复合组件。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/71cf815bbae2750266034a7d8a81bc1c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*urb810wPsKLaoqSE1pvdwQ.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">A Stepper component.</figcaption></figure><p id="38a3" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">上一次关于构建复合组件，Steven写了一篇文章来展示如何通过三个简单的步骤构建复合组件。他使用一个复杂的多步骤表单应用程序来演示这个概念。观众们有点困惑地回答。React社区会理解构建复合组件有多容易吗？下次在构建复合组件时了解一下！</p><p id="dee4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">嗯……让我先说这个摘要是真的。对不起，我让你失望了。我告诉过你在React中构建复合组件会很容易。如果您阅读了我的上一篇文章，您会发现构建组件分三个步骤。这方面的任务已经完成，但是附带的多步表单示例有点难以理解。</p><p id="acf0" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在本文中，您将构建一个Stepper组件，用于创建多步视图。与前一篇文章一样，复合组件可以通过三个简单的步骤编写。第一步是绘制我们想要的JSX标记，如第15到21行所示。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div></figure><p id="9ab2" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">现在您已经有了JSX模型结构，您需要确定您想要在组件中使用的道具类型。步骤组件将是接收道具的目标组件。下面列出了您想要的道具及其预期功能。</p><blockquote class="ky"><p id="1fcd" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">isActive确定步骤是否应处于活动状态</p><p id="3e19" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">显示上一个—控制“上一个”按钮的显示</p><p id="004c" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">显示下一个—控制下一个按钮的显示</p><p id="89ac" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">显示提交—控制提交按钮的显示</p><p id="1fb6" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">goToPreviousStep后退的步长函数</p><p id="db8a" class="kz la hu bd lb lc ld le lf lg lh ku ek translated">goToNextStep —前进的步进函数</p></blockquote><p id="2de4" class="pw-post-body-paragraph jz ka hu kb b kc li iv ke kf lj iy kh ki lk kk kl km ll ko kp kq lm ks kt ku hn dt translated">有了这些组件，你可以从一页跳到下一页。您可以根据步骤列表中当前活动的步骤来控制何时显示按钮。您可以在下面看到如何设置您的步骤组件。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">The Step component bundled with the display buttons.</figcaption></figure><p id="a9d4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我们的步骤组件已经准备好接收道具了。接下来，使用父组件步骤列表将所需的属性传递给它的子步骤组件。当你使用React API来传递属性时，你可以避免直接注释JSX，这样可以让代码更简洁。最后，你得到了看起来像增强的HTML。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kw kx l"/></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">The StepList component passing props to its child components, Step.</figcaption></figure><p id="0ecc" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">现在你有了它，一个由复合元件组成的步进器元件。现在，您可以在您的应用程序中创建多步流程。你可以<a class="ae kv" href="https://codesandbox.io/s/qxxo7690nj" rel="noopener ugc nofollow" target="_blank">在这个代码沙箱</a>找到一个工作演示。</p><p id="9173" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这种高级React模式的好处是代码简洁。当您以这种方式将道具传递给子组件时，您将表示层从逻辑层中分离出来，从而允许您在许多项目中重用这些组件，而不必花费大量时间来解决特定项目的需求。</p><p id="2799" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">另一件要注意的事情是，对于任何软件模式，他们都是固执己见的。一些使用React的人可能会评论说这段代码很脆弱或者不灵活，因为你不能到处添加一个<strong class="kb hv"> div </strong>。嗯，我说的没错，复合组件强制约束允许某些组件相互嵌套。但是你已经在其他语言中看到了这种强加的限制。</p><p id="a12e" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">上次你使用一个<strong class="kb hv"> ul </strong>标签时，你可能没有在<strong class="kb hv"> li </strong>标签前加上一个<strong class="kb hv"> div </strong>标签，这只是为了好玩。您不这样做的原因是因为您了解编写web标记的HTML规则。同样，当您使用复合组件模式时，为了编写干净、可重用的代码，会有一些限制。如果你不喜欢这个处方，就用最适合你需求的风格来编码…</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/58d1b4750b395391906e623657d47a24.png" data-original-src="https://miro.medium.com/v2/resize:fit:842/format:webp/1*L47_PaTXh7-M9h89KSDr4g.png"/></div></figure><p id="0220" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">与朋友分享这篇文章，让他们吸毒！</p></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><p id="ab8f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">👋🏽嗨！我是史蒂文·纳特拉。在Twitter上关注我<a class="ae kv" href="https://twitter.com/stevennatera" rel="noopener ugc nofollow" target="_blank"> @StevenNatera </a>。我积极参与了<a class="ae kv" href="https://github.com/nodox" rel="noopener ugc nofollow" target="_blank">开源社区</a>，特别是<a class="ae kv" href="https://www.gatsbyjs.org/contributors/steven-natera" rel="noopener ugc nofollow" target="_blank"> GatsbyJS </a>。我喜欢写代码、初创公司、React和Kubernetes。</p></div></div>    
</body>
</html>