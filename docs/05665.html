<html>
<head>
<title>Is it still possible to scrape Facebook data? Yes. It is!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">还有可能收集脸书的数据吗？是的。确实是！</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/is-it-still-possible-to-scrape-facebook-data-yes-it-is-fb4255ba792b?source=collection_archive---------0-----------------------#2018-07-06">https://medium.com/hackernoon/is-it-still-possible-to-scrape-facebook-data-yes-it-is-fb4255ba792b?source=collection_archive---------0-----------------------#2018-07-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0684" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这篇文章不包含任何代码，仅仅是我最近遇到的一个经历。</p><p id="8f4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">鉴于脸书承诺保护他们的用户数据，作为剑桥分析公司崩溃的后果，脸书在暂停访问全部端点约一个月后，修改了其Graph API，并最终在2018年5月1日发布了Graph API v3.0。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/2bbf94f7ff11edbefd70443413f750e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*SEAk9qlaE5LtkjKkBYvrFA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Facebook Media Release</figcaption></figure><p id="1b29" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">与此同时，一位企业主找到我，问我是否能帮他创建一个废品回收渠道。基本上，他想要的是对他的团队工作方式的流程改进，一个从选定的来源收集数据、处理它们并将它们集成到现有系统中的自动化管道。所以，我评估了他的要求，确保我能够完成，然后接受了这个任务。在技术方面没有太多挑战。困扰我的是脸书数据的获取。尽管被抓取的数据是面向公众的“公共可访问”数据，但脸书实际上删除了这个特定资源上的Graph API端点。</p><blockquote class="kg"><p id="4db9" class="kh ki hu bd kj kk kl km kn ko kp jo ek translated">没有图形API访问权==根本没有访问权！？不完全是。</p></blockquote><p id="8e2f" class="pw-post-body-paragraph ir is hu it b iu kq iw ix iy kr ja jb jc ks je jf jg kt ji jj jk ku jm jn jo hn dt translated">首先，我不理解，我想永远也不会理解脸书决定关闭公共信息端点背后的理由，你没看错吧！公共信息，它们是给公众看的。</p><p id="830d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我使用的工具是Scrapy，这是一个相当全面且易于使用的Python数据抓取库。我首先做的是尝试抓取www.facebook.com的T2，但是我很快意识到大多数数据是使用AJAX异步获取的。所以，第一次尝试失败了。</p><p id="25a9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，我试图通过模仿用户使用Selenium的行为来收集数据。如果您对此不熟悉，Selenium本质上是一个自动化浏览器的工具，允许您像人类一样控制和使用浏览器。我的Selenium所做的是:进入Facebook.com-&gt;登录-&gt;搜索关键词-&gt;向下滚动时开始抓取。嗯，这很快引起了脸书的注意，并拒绝从他们的服务器访问更多的数据。是的，脸书擅长检测机器人。</p><p id="cd1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我开始思考如果脸书不继续发送我的浏览行为会怎么样？脸书会不会检测不出我是机器人还是人类？所以我打开浏览器设置，禁用了JavaScript，看看脸书是如何在这种限制下工作的。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kw"><img src="../Images/a3825b65da67f40c57fedd2307a05948.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cAb1vWvYCm5H17T1-k_eaA.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Facebook shows this when Js is disable.</figcaption></figure><p id="f740" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">脸书建议我试试“移动优化网站”，它实际上是mobile.facebook.com的老派<a class="ae kv" href="http://mobile.facebook.com" rel="noopener ugc nofollow" target="_blank"/>，不使用任何AJAX。这当然让我想起了我的高中时代，那时智能手机是相当现代的东西，我们大多数人仍然依赖于紧凑型手机。我又做了同样的事情，去脸书- &gt;登录- &gt;搜索关键词- &gt;开始刮，现在成功了！</p><p id="66d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是啊！脸书现在更难检测我的浏览行为，他们无法知道我停在哪一行，读了哪一行，或者我在那一页上滚动了多少次，等等。移动脸书适合我的使用案例！</p><p id="2b75" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的最后和工作的手段是刮上经典的脸书。这招很管用，虽然我不知道这招能持续多久。</p><p id="4b44" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这只是最近发生在我身上的一件事。如果你正面临类似的问题，我希望这有所帮助。</p><p id="fb8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">谢谢你的热烈回应，恐怕我现在抽不出时间来完成任何任务。但是，你的拍手肯定会让我走得更远。如果你喜欢这个帖子，请随意给我鼓掌。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="kx ky l"/></div></figure></div></div>    
</body>
</html>