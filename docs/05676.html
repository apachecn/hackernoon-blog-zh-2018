<html>
<head>
<title>SASS, LESS, CSS without JavaScript in Polymer 3 with Webpack</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SASS，LESS，Polymer 3中不带JavaScript的CSS，带Webpack</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/sass-less-css-without-javascript-in-polymer-3-with-webpack-f6a3c032ea75?source=collection_archive---------11-----------------------#2018-07-06">https://medium.com/hackernoon/sass-less-css-without-javascript-in-polymer-3-with-webpack-f6a3c032ea75?source=collection_archive---------11-----------------------#2018-07-06</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="f342" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从一开始，你就不得不将你的CSS编写或注入到<a class="ae jp" href="https://hackernoon.com/tagged/html" rel="noopener ugc nofollow" target="_blank"> HTML </a>中，以便对聚合物组件进行样式化。曾经，Polymer确实包含了导入外部样式表<a class="ae jp" href="https://www.polymer-project.org/2.0/docs/devguide/style-shadow-dom#external-stylesheets" rel="noopener ugc nofollow" target="_blank">的能力，尽管这是一个实验性的特性，并且因为支持样式模块而被否决。随着Polymer 3的最新版本，我们抛弃了HTML(最终，不再有无声的错误🎉！)赞成好的ol…呃我是说好的新的</a><a class="ae jp" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a> (ES2015类)。</p><p id="386f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管如此，还是有一个问题。在HTML中，我们可以通过IDE或文本编辑器获得CSS支持。用JavaScript编写它们使得静态分析和自动完成代码变得更加困难。</p><p id="8d98" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">幸运的是，因为它是JavaScript，这意味着我们可以利用它强大的生态系统，并使用我们可用的工具。</p><p id="1b4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh jq jr js jt b">polymer-css-loader</code> <a class="ae jp" href="https://github.com/superjose/polymer-css-loader" rel="noopener ugc nofollow" target="_blank">是一个Webpack Loader </a>，它为您创建JavaScript样式，并通过将CSS导入到聚合物组件JavaScript文件中来“使CSS再次变得伟大”。</p><h1 id="d47c" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">如何使用</h1><p id="dffe" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">安装装载机:</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="6a1f" class="lf jv hu jt b fv lg lh l li lj">npm install save-dev polymer-css-loader extract-loader css</span></pre><p id="9415" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="c7cf" class="lf jv hu jt b fv lg lh l li lj">yarn add save-dev polymer-css-loader extract-loader css-loader -D</span></pre><p id="1214" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将其添加到Webpack.config文件中:</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="be6e" class="lf jv hu jt b fv lg lh l li lj">module.exports = {<br/>  entry: './src/index.js',<br/>  module: {<br/>    rules: [<br/>     {<br/>        test: /<strong class="jt hv">\.</strong>css|<strong class="jt hv">\.</strong>s(c|a)ss$/,<br/>        use: [{<br/>          loader: 'polymer-css-loader',<br/>          options: {<br/>            minify: true, // defaults to false<br/>          },<br/>        }, 'extract-loader', 'css-loader', 'sass-loader'],<br/>      },<br/>    ],<br/>  },<br/>};</span></pre><p id="8c91" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意:您可以使用sass-loader或less-loader。把polymer-css-loader留到最后。</p><p id="9aea" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">并在JavaScript组件文件中导入css</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="d297" class="lf jv hu jt b fv lg lh l li lj">import { html, PolymerElement } from '@polymer/polymer/polymer-element';<br/><br/>import './style-1.scss';<br/>// The ?name will specify the name to be used in the include.<br/>import './style-2.css?name=maria';<br/>class PolymerTestComponent extends PolymerElement {<br/>  static get template() {<br/>    return html`<br/>      &lt;style include="style-1 maria"&gt;    <br/>      &lt;/style&gt;<br/>      &lt;p&gt;This is the test component&lt;/p&gt;<br/>      &lt;p&gt;This is the propertie's value: {{prop1}} &lt;/p&gt;<br/>      &lt;div&gt;This font size should be bigger&lt;/div&gt;<br/>    `;<br/>  }<br/><br/>  static get properties() {<br/>    return {<br/>      prop1: {<br/>        type: String,<br/>        value: 'polymer3-app',<br/>      },<br/>    };<br/>  }<br/>}<br/><br/>window.customElements.define('polymer-test-component', PolymerTestComponent);</span></pre><p id="0202" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">就是这样！该文件的名称将用于<code class="eh jq jr js jt b">&lt;style include=””&gt;</code></p><h1 id="77da" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">其他功能</h1><h2 id="f6a0" class="lf jv hu bd jw lk ll lm ka ln lo lp ke jc lq lr ki jg ls lt km jk lu lv kq lw dt translated">为<style include="””">添加自定义名称&lt;/root&gt;</style></h2><p id="323e" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">通过在导入<strong class="it hv">的末尾添加<code class="eh jq jr js jt b">?name=</code>来添加自定义名称(不要用引号""来表示值)</strong>。</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="e2c6" class="lf jv hu jt b fv lg lh l li lj">import './style-1.scss?name=my-custom-style';</span><span id="144b" class="lf jv hu jt b fv lx lh l li lj">// Then:<br/>// Code omitted:<br/>static get template() {<br/>    return html`<br/>      &lt;style include="my-custom-style"&gt;</span><span id="96e4" class="lf jv hu jt b fv lx lh l li lj">      &lt;/style&gt;</span><span id="60b2" class="lf jv hu jt b fv lx lh l li lj">// Code omitted:</span></pre><h2 id="50f5" class="lf jv hu bd jw lk ll lm ka ln lo lp ke jc lq lr ki jg ls lt km jk lu lv kq lw dt translated">跳过css文件</h2><p id="714b" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">您可以通过在导入结束时添加<code class="eh jq jr js jt b">?skip</code>来跳过css文件。这个<strong class="it hv">将把CSS包含到你的Webpack包中，但是它不会被解析为一个聚合JavaScript样式文件。</strong></p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="9cb3" class="lf jv hu jt b fv lg lh l li lj">import './style-1.scss?skip';</span></pre><h2 id="2250" class="lf jv hu bd jw lk ll lm ka ln lo lp ke jc lq lr ki jg ls lt km jk lu lv kq lw dt translated">跳过所有文件，明确包含您需要的文件</h2><p id="5061" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">合并多个库时非常有用。这个<strong class="it hv">将把CSS包含到Webpack包中，但是它不会被解析为一个聚合JavaScript样式文件。</strong></p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="4963" class="lf jv hu jt b fv lg lh l li lj">entry: './src/index.js',<br/>  module: {<br/>    rules: [<br/>     {<br/>        test: /<strong class="jt hv">\.</strong>css|<strong class="jt hv">\.</strong>s(c|a)ss$/,<br/>        use: [{<br/>          loader: 'polymer-css-loader',<br/>          options: {<br/>            minify: true, // defaults to false<br/>            defaultSkip: true // will skip all the files</span><span id="1a19" class="lf jv hu jt b fv lx lh l li lj">          },<br/>        }, 'extract-loader', 'css-loader', 'sass-loader'],<br/>      },<br/>    ],<br/>  },<br/>};</span></pre><p id="3139" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，你可以用<code class="eh jq jr js jt b">?include</code>来表示你希望被加载器解析的那些。</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="7849" class="lf jv hu jt b fv lg lh l li lj">import './style-1.scss?include&amp;name=my-custom-style';</span><span id="c460" class="lf jv hu jt b fv lx lh l li lj">// Will still be included, but not in the JavaScript<br/>// Polymer-Web Components fashion<br/>import './style-2.scss' </span><span id="807b" class="lf jv hu jt b fv lx lh l li lj">// Then:<br/>// Code omitted:<br/>static get template() {<br/>    return html`<br/>      &lt;style include="my-custom-style"&gt;</span><span id="d6df" class="lf jv hu jt b fv lx lh l li lj">&lt;/style&gt;</span><span id="8966" class="lf jv hu jt b fv lx lh l li lj">// Code omitted:</span></pre><figure class="kx ky kz la fq ly"><div class="bz el l di"><div class="lz ma l"/></div></figure></div></div>    
</body>
</html>