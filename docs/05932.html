<html>
<head>
<title>Elastic Stack — A Brief Introduction</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">弹性叠加——简介</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/elastic-stack-a-brief-introduction-794bc7ff7d4f?source=collection_archive---------1-----------------------#2018-07-18">https://medium.com/hackernoon/elastic-stack-a-brief-introduction-794bc7ff7d4f?source=collection_archive---------1-----------------------#2018-07-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/0a777eb90a56c6660de207b014c15c23.png" data-original-src="https://miro.medium.com/v2/format:webp/1*oOQkHwEqrJ-xh2DxUUlBOg.jpeg"/></div></figure><p id="16e0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">如果你听说过<a class="ae jw" href="https://hackernoon.com/tagged/elastic-stack" rel="noopener ugc nofollow" target="_blank"> Elastic Stack </a>并想探索一下，或者你是一个绝对的傻瓜，那么你正在阅读正确的博文。相信看完这个你就不会这样了！我们先来了解一下什么是弹力叠，为什么需要弹力叠。</p><p id="ac87" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">什么是弹力叠？</strong></p><p id="ab50" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">ELK Stack或Elastic Stack — <code class="eh jx jy jz ka b">ELK stack</code>已被重新命名为<code class="eh jx jy jz ka b">Elastic Stack</code>。ELK stack是三个开源项目- <code class="eh jx jy jz ka b"><strong class="ja hv">E</strong>lasticsearch, <strong class="ja hv">L</strong>ogstash, and <strong class="ja hv">K</strong>ibana</code>的惊人而强大的集合。尽管这三种<a class="ae jw" href="https://hackernoon.com/tagged/technologies" rel="noopener ugc nofollow" target="_blank">技术</a>中的每一种都是独立的项目，但它们已经被构建为能够非常好地协同工作。</p><p id="6674" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="kb">弹性栈是一套完整的端到端日志分析解决方案，帮助深度</em> <strong class="ja hv"> <em class="kb">搜索</em></strong><em class="kb"/><strong class="ja hv"><em class="kb">分析</em></strong><em class="kb"/><strong class="ja hv"><em class="kb">可视化</em> </strong> <em class="kb">不同机器生成的日志。</em></p><figure class="kd ke kf kg fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="fe ff kc"><img src="../Images/89e5c796e5e72d87a4424d931f652318.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tvmj3XsqH4hJLvXnfm6sZQ.png"/></div></div><figcaption class="kl km fg fe ff kn ko bd b be z ek">Log Analysis-Search-Visualize</figcaption></figure><p id="6647" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">是的，你没看错！Elastic stack可靠、安全地从任何来源以任何格式获取数据，并实时搜索、分析和可视化这些数据。Elastic Stack提供了一种强大的机制来执行集中式日志记录，这在识别web服务器和/或应用程序相关问题中起着重要的作用。它允许您在一个位置搜索所有日志，并通过在It环境(包括web分析、商业智能、合规性和安全性的使用案例)中找到的特定时间范围内关联日志来识别跨多个服务器的问题。</p><p id="3952" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">弹性叠加是用来做什么的？</strong></p><p id="b0f4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在当今数据主导的世界中，无论组织的规模如何，每天都会有大量数据不断流入您的系统。随着数据集变得越来越大，您的分析将会变慢，从而导致洞察力迟钝。这些数据中有相当一部分是由公司的web服务器日志组成的。日志是最重要但经常被忽视的信息来源之一。每个日志文件都包含非常有价值的信息，这些信息大多是非结构化的，毫无意义。如果没有对这些日志数据进行仔细而详细的分析，组织可能会对其周围的机会和威胁视而不见。唉！</p><p id="5070" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">因此，大数据的大问题是:如何保持有价值的业务洞察力！对吗？别担心，这里是你需要一个日志分析工具的地方。</p><p id="1ff0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">弹性堆栈用户</strong></p><figure class="kd ke kf kg fq iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/2f49a0483f2f3d06838630ef3eda7c87.png" data-original-src="https://miro.medium.com/v2/format:webp/1*D-GjP7Uo1DKDT_Qd307I2g.jpeg"/></div></figure><blockquote class="kp"><p id="9a18" class="kq kr hu bd ks kt ku kv kw kx ky jv ek translated">现在，我有一个问题要问你。微软、LinkedIn、网飞、脸书和思科是如何监控他们的日志的？</p><p id="9fb8" class="kq kr hu bd ks kt kz la lb lc ld jv ek translated">答案显而易见。没错，不是别人，正是麋鹿！</p></blockquote><p id="2ee7" class="pw-post-body-paragraph iy iz hu ja b jb le jd je jf lf jh ji jj lg jl jm jn lh jp jq jr li jt ju jv hn dt translated">弹力叠的威力在于它强大的组件- <code class="eh jx jy jz ka b">Elasticsearch</code> - <code class="eh jx jy jz ka b">Logstash</code> - <code class="eh jx jy jz ka b">Kibana</code> - <code class="eh jx jy jz ka b">Beats</code> - <code class="eh jx jy jz ka b">X Pack</code>。该堆栈还包括一个名为X-Pack的付费组件和一个名为Beats的日志运送程序家族，这使得Elastic将ELK重新命名为Elastic Stack。为了更好地理解Elastic Stack，您需要理解它的组件。</p><p id="0abe" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">简单来说，弹性堆栈的工作流程可以这样表述:</p><blockquote class="lj lk ll"><p id="e0db" class="iy iz kb ja b jb jc jd je jf jg jh ji lm jk jl jm ln jo jp jq lo js jt ju jv hn dt translated">L <!-- --> ogstash和Beats家族一起收集和解析日志(比如用于SEO和web流量分析的NGINX日志)，然后这些信息被Elasticsearch索引和存储。最后，Kibana将数据可视化，使我们能够提供决策见解。是不是很神奇？</p></blockquote><h2 id="1a80" class="lp lq hu bd lr ls lt lu lv lw lx ly lz jj ma mb mc jn md me mf jr mg mh mi mj dt translated">弹性堆栈使用案例</h2><p id="df6f" class="pw-post-body-paragraph iy iz hu ja b jb mk jd je jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv hn dt translated">关于麋鹿的定义已经介绍得够多了，现在让我们看看它在解决现实生活中的问题时到底在哪里以及如何帮助我们。从跟踪简单的日志文件到全面、复杂、关键的业务分析，ELK stack将为您扮演这一角色。下面列出了一些麋鹿减轻你相关头痛的场景:</p><h2 id="88f2" class="lp lq hu bd lr ls lt lu lv lw lx ly lz jj ma mb mc jn md me mf jr mg mh mi mj dt translated">日志记录和日志分析</h2><p id="bf84" class="pw-post-body-paragraph iy iz hu ja b jb mk jd je jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv hn dt translated">ELK Stack已经成为最流行的开源日志平台。假设你必须找到一个错误。您需要登录到几台机器上，查看几个日志文件。现在假设您正在维护分布在几个节点上的大型应用程序。在这种情况下，在日志文件中搜索的过程会变得更加繁琐和混乱。是时候超越使用像grep这样的Linux工具了。</p><figure class="kd ke kf kg fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="kh ki di kj bf kk"><div class="fe ff mp"><img src="../Images/4f9ad8738300ab1de9aa9a1688b1a283.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GBhIJ9AZGH4QXEZOPJhc2A.png"/></div></div><figcaption class="kl km fg fe ff kn ko bd b be z ek"><a class="ae jw" href="https://digicm.wordpress.com/2014/12/31/mwd0701-log-management-with-elk/" rel="noopener ugc nofollow" target="_blank">https://digicm.wordpress.com/2014/12/31/mwd0701-log-management-with-elk/</a></figcaption></figure><blockquote class="lj lk ll"><p id="8963" class="iy iz kb ja b jb jc jd je jf jg jh ji lm jk jl jm ln jo jp jq lo js jt ju jv hn dt translated"><strong class="ja hv"> <em class="hu">解决方案:</em></strong><a class="ae jw" href="http://elastic.co" rel="noopener ugc nofollow" target="_blank"><strong class="ja hv"><em class="hu"/></strong>从Beats，到Logstash，再到摄取节点，Elasticsearch为您提供了大量选项来抓取数据，无论数据位于何处，并将其编入索引。尾几个文件，或者几十亿。</a></p></blockquote><p id="e6ea" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://www.searchtechnologies.com/elk-log-analytics-applications" rel="noopener ugc nofollow" target="_blank"> <strong class="ja hv">一些成功的麋鹿日志分析用例包括:</strong> </a></p><ul class=""><li id="6a44" class="mq mr hu ja b jb jc jf jg jj ms jn mt jr mu jv mv mw mx my dt translated">风险管理</li><li id="8b48" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">市场情报</li><li id="afb9" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">电子商务个性化</li><li id="5095" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">服从</li><li id="ed94" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">证券分析</li><li id="d4f9" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">欺诈检测</li></ul><h2 id="6f7d" class="lp lq hu bd lr ls lt lu lv lw lx ly lz jj ma mb mc jn md me mf jr mg mh mi mj dt translated">韵律学</h2><blockquote class="kp"><p id="3306" class="kq kr hu bd ks kt kz la lb lc ld jv ek translated">谈到指标或分析，你会立即想到什么？提示:这是一个很小的4个字母的单词，但是很强大！！</p><p id="615b" class="kq kr hu bd ks kt kz la lb lc ld jv ek translated">是的，“数据”</p></blockquote><p id="1c76" class="pw-post-body-paragraph iy iz hu ja b jb le jd je jf lf jh ji jj lg jl jm jn lh jp jq jr li jt ju jv hn dt translated">让我们以一所拥有多个系和相关院系的大学为例。要求是找出每个系的教员人数。</p><blockquote class="lj lk ll"><p id="8f63" class="iy iz kb ja b jb jc jd je jf jg jh ji lm jk jl jm ln jo jp jq lo js jt ju jv hn dt translated"><strong class="ja hv"> <em class="hu">解决方案:</em> </strong> Elasticsearch的<a class="ae jw" href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/search-aggregations.html" rel="noopener ugc nofollow" target="_blank">聚合</a>可以帮助找到查看数据的新方法。如果您在Elasticsearch中索引了院系，您可以使用术语聚合来查找在特定院系工作的教职工人数。该请求如下所示:</p></blockquote><pre class="kd ke kf kg fq ne ka nf ng aw nh dt"><span id="2e55" class="lp lq hu ka b fv ni nj l nk nl">curl -XGET "http://localhost:9200/university/faculty/_search" -d'<br/>{<br/>   <!-- -->"size": 0,<br/>   "aggregations": {<br/>      "faculty": {<br/>         "terms": {<br/>            "field": "department"<br/>         }<br/>      }<br/>   }<br/>}'</span></pre><p id="7dee" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">使用关键字<code class="eh jx jy jz ka b">aggregations </code>或<code class="eh jx jy jz ka b">aggs</code>请求聚合，<code class="eh jx jy jz ka b">department</code>是标识结果的术语，<code class="eh jx jy jz ka b">terms aggregation</code>对给定字段的不同术语进行计数。我将在以后的博客文章中讨论语法。你会得到类似这样的回答:</p><pre class="kd ke kf kg fq ne ka nf ng aw nh dt"><span id="bbe0" class="lp lq hu ka b fv ni nj l nk nl">{<br/>   "took": 1,<br/>   "timed_out": false,<br/>   "_shards": {<br/>      "total": 1,<br/>      "successful": 1,<br/>      "failed": 0<br/>   },<br/>   "hits": {<br/>      "total": 86,<br/>      "max_score": 0,<br/>      "hits": []<br/>   },<br/>   "aggregations": {<br/>      "department": {<br/>         "buckets": [<br/>            {<br/>               "key": "Mathematics",<br/>               "doc_count": 16<br/>            },<br/>            {<br/>               "key": "Information Technology",<br/>               "doc_count": 20<br/>            },<br/>            {<br/>               "key": "Geo Informatics",<br/>               "doc_count": 25<br/>            },<br/>            {<br/>               "key": "Zoology",<br/>               "doc_count": 15<br/>            },<br/>            {<br/>               "key": "Bio Technology,<br/>               "doc_count": 10<br/>            }<br/>         ]<br/>      }<br/>   }<br/>}</span></pre><p id="b1be" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">我们可以看到在“数学”<strong class="ja hv"> </strong>系工作的有<strong class="ja hv"> 16 </strong>，“信息技术”系的有<strong class="ja hv"> 20 </strong>等等。这是Elasticsearch应用于指标的所有搜索超能力。</p><h2 id="d5c7" class="lp lq hu bd lr ls lt lu lv lw lx ly lz jj ma mb mc jn md me mf jr mg mh mi mj dt translated">全文搜索</h2><p id="441d" class="pw-post-body-paragraph iy iz hu ja b jb mk jd je jf ml jh ji jj mm jl jm jn mn jp jq jr mo jt ju jv hn dt translated">ELK Stack的核心是Elasticsearch，它是一个基于JSON的RESTful搜索引擎，旨在扩展每秒数百万的事件，提供最大的可靠性。</p><p id="c839" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">一些实时应用如下:</p><ul class=""><li id="c5fd" class="mq mr hu ja b jb jc jf jg jj ms jn mt jr mu jv mv mw mx my dt translated"><strong class="ja hv">维基百科</strong>:搜索巨头维基百科使用Elasticsearch进行全文搜索。</li><li id="57e6" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated"><strong class="ja hv">Stack Overflow</strong>:Stack Overflow，这个巨大的知识共享网站依靠Elasticsearch作为支持全文搜索功能的手段，从而提供与源相关的问题和/或答案。</li><li id="9ade" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">网飞:网飞负责监控和分析客户服务相关操作和安全相关日志；严重依赖麋鹿来完成这一切。从它的自动复制或分片、漂亮的扩展模型和灵活的模式，ELK是负责任的。</li><li id="55c9" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated"><strong class="ja hv"> LinkedIn: </strong> LinkedIn，<strong class="ja hv"> t </strong>这家专注于商业的社交网络使用ELK和kafka来实时支持他们的负载，并监控性能和安全性。</li><li id="13b0" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">Medium:Medium是我最喜欢的，也是最受欢迎的现代博客发布平台之一，它每月支持大约2500万独立读者，每周支持数万篇发布的文章。它使用弹性堆栈来调试生产问题。</li><li id="6103" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">GitHub:项目主机能够通过搜索引擎查询数十亿行代码。</li><li id="c8f2" class="mq mr hu ja b jb mz jf na jj nb jn nc jr nd jv mv mw mx my dt translated">Lyft是亚马逊最大的托管弹性搜索客户。从Amazon ES转移到Elasticsearch后，为了更好的性能，它变成了自我管理和自我托管。</li></ul><p id="7f25" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这些只是很少提及的。如果您有兴趣了解更多，我建议您浏览弹性堆栈文档，以便更清楚地了解<a class="ae jw" href="https://www.elastic.co." rel="noopener ugc nofollow" target="_blank"><strong class="ja hv">【https://www.elastic.co】</strong>。</a>和<strong class="ja hv">https://www.elastic.co/use-cases</strong>和日用例</p><p id="ed74" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">欢迎在下面的评论中提出任何建议和修改！:D</p><figure class="kd ke kf kg fq iu"><div class="bz el l di"><div class="nm nn l"/></div></figure></div></div>    
</body>
</html>