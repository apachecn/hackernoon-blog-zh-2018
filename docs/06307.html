<html>
<head>
<title>Classifying Images using TensorFlow.js &amp; Keras</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用TensorFlow.js和Keras对图像分类</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/classifying-images-using-tensorflow-js-keras-58431c4df04?source=collection_archive---------9-----------------------#2018-07-30">https://medium.com/hackernoon/classifying-images-using-tensorflow-js-keras-58431c4df04?source=collection_archive---------9-----------------------#2018-07-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/1b6267621b33325c44ca84e6a648fb4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*LQL1EIosm-RUT51wiOLe2w.gif"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek"><a class="ae ih" href="http://www.fictiontofact.com/files/media/43803/neuralnet.gif" rel="noopener ugc nofollow" target="_blank">Image Source</a></figcaption></figure><div class=""/><p id="9587" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们将使用<a class="ae ih" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank">JavaScript</a>&amp;tensor flow . js构建一个深度神经网络，它可以在客户端以高精度识别图像，同时解释整个过程中使用的技术。</p><p id="0a77" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">阅读下面的文章，了解TensorFlow.js的最新动态:-</p><div class="ht hu fm fo hv kf"><a href="https://medium.freecodecamp.org/get-to-know-tensorflow-js-in-7-minutes-afcd0dfd3d2f" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab ej"><div class="kh ab ki cl cj kj"><h2 class="bd il fv z el kk eo ep kl er et ij dt translated">7分钟了解TensorFlow.js</h2><div class="km l"><h3 class="bd b fv z el kk eo ep kl er et ek translated">并了解如何在浏览器中直接运行ML/DL模型</h3></div><div class="kn l"><p class="bd b gc z el kk eo ep kl er et ek translated">medium.freecodecamp.org</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt ib kf"/></div></div></a></div><p id="974b" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">下面是最终Web应用程序的屏幕截图:</p><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div class="fe ff ku"><img src="../Images/4903f59a446f602cc9795f7ab1da0ad6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*5Nw2GU7Ekl0G2XaEDMp4hg.jpeg"/></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Screenshot of the Web App</figcaption></figure><p id="d084" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">首先，我们将创建一个文件夹<strong class="jj il">(vgg 16 _ Keras _ To _ TensorflowJS)</strong>，其中包含两个子文件夹<strong class="jj il">local server</strong>&amp;<strong class="jj il">static。localserver </strong>文件夹应当包含所有的server <a class="ae ih" href="https://hackernoon.com/tagged/nodejs" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il"> NodeJS </strong> </a>代码，static将拥有所有的CSS、HTML &amp; JS代码。</p><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/1efbcd1d58dedad09f433e4823e4ea76.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*_TUuwX9jKmLx8O6NmHD7bA.png"/></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Screenshot Showing the Folder structure</figcaption></figure><blockquote class="la lb lc"><p id="4170" class="jh ji ld jj b jk jl jm jn jo jp jq jr le jt ju jv lf jx jy jz lg kb kc kd ke hn dt translated">注意:您可以根据自己的选择命名文件夹和文件。</p></blockquote><h2 id="fe6d" class="lh li ik bd lj lk ll lm ln lo lp lq lr js ls lt lu jw lv lw lx ka ly lz ma mb dt translated"><strong class="ak">服务器</strong>配置<strong class="ak"> : </strong></h2><p id="0b41" class="pw-post-body-paragraph jh ji ik jj b jk mc jm jn jo md jq jr js me ju jv jw mf jy jz ka mg kc kd ke hn dt translated">我们将用下面的代码手动创建一个<strong class="jj il"> package.json </strong>文件</p><pre class="kv kw kx ky fq mh mi mj mk aw ml dt"><span id="31d9" class="lh li ik mi b fv mm mn l mo mp">{</span><span id="ad33" class="lh li ik mi b fv mq mn l mo mp">"name": "tensorflowjs",</span><span id="6c89" class="lh li ik mi b fv mq mn l mo mp">"version": "1.0.0",</span><span id="4ecb" class="lh li ik mi b fv mq mn l mo mp">"dependencies": {</span><span id="f02e" class="lh li ik mi b fv mq mn l mo mp">"express": "latest"</span><span id="7a81" class="lh li ik mi b fv mq mn l mo mp">}}</span></pre><p id="529d" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il"> package.json </strong> file记录我们将在该项目中使用的所有第三方包。保存<strong class="jj il"> package.json </strong>文件后，我们将在命令行中打开命令行&amp;，我们将导航到<strong class="jj il"> localserver </strong>文件夹，并将执行:-</p><pre class="kv kw kx ky fq mh mi mj mk aw ml dt"><span id="23e1" class="lh li ik mi b fv mm mn l mo mp">npm install</span></pre><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mr"><img src="../Images/fc99009bc8c2c5f53a543d5505ae4405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Mf-8wFjGxWba4k9wN_ArUw.png"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Command Line for MacOS</figcaption></figure><p id="7f60" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这样，NPM将执行并确保<strong class="jj il"> package.json </strong>中提到的所有必需的包都已安装并准备就绪。您将在<strong class="jj il"> localserver文件夹中看到一个<strong class="jj il"> node_modules </strong>文件夹。</strong></p><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div class="fe ff kz"><img src="../Images/583f045573885bb9233972cd41a24ca3.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*yhJuZPtxeGCp1xgZTtA89Q.png"/></div></figure><p id="592e" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们将用下面的代码创建一个<strong class="jj il"> server.js </strong>文件</p><figure class="kv kw kx ky fq hw"><div class="bz el l di"><div class="ms mt l"/></div></figure><p id="c508" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il"> server.js </strong>包含NodeJS代码，允许本地服务器托管我们的WebApp运行。</p></div><div class="ab cl mu mv hc mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="hn ho hp hq hr"><h2 id="0e81" class="lh li ik bd lj lk ll lm ln lo lp lq lr js ls lt lu jw lv lw lx ka ly lz ma mb dt translated">客户端配置:</h2><p id="7189" class="pw-post-body-paragraph jh ji ik jj b jk mc jm jn jo md jq jr js me ju jv jw mf jy jz ka mg kc kd ke hn dt translated">接下来我们将创建一个<strong class="jj il"> predict_with_tfjs.html </strong>。下面是相同的代码:-</p><figure class="kv kw kx ky fq hw"><div class="bz el l di"><div class="ms mt l"/></div><figcaption class="id ie fg fe ff if ig bd b be z ek">predict_with_tfjs.html</figcaption></figure><p id="7d3f" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">HTML代码完成后，我们将创建JavaScript文件，并将其命名为<strong class="jj il"> predict.js </strong>。下面是代码</p><figure class="kv kw kx ky fq hw"><div class="bz el l di"><div class="ms mt l"/></div></figure><h2 id="85a4" class="lh li ik bd lj lk ll lm ln lo lp lq lr js ls lt lu jw lv lw lx ka ly lz ma mb dt translated">型号配置:</h2><p id="ca95" class="pw-post-body-paragraph jh ji ik jj b jk mc jm jn jo md jq jr js me ju jv jw mf jy jz ka mg kc kd ke hn dt translated">一旦客户端和服务器端代码完成。我们现在需要一个DL/ML模型来预测图像。我们将训练好的模型(VGG16)从Keras导出到TensorFlow.js，并将输出保存在静态文件夹内名为VGG的文件夹中。</p><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nb"><img src="../Images/98bcae4efe063247bc3dbffd4d50afde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bPNZarCy9zbO7i7tWZYfpA.png"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Screenshort of Jupyter Notebook For Model Conversion</figcaption></figure><h2 id="6c8e" class="lh li ik bd lj lk ll lm ln lo lp lq lr js ls lt lu jw lv lw lx ka ly lz ma mb dt translated">定义类别</h2><p id="db02" class="pw-post-body-paragraph jh ji ik jj b jk mc jm jn jo md jq jr js me ju jv jw mf jy jz ka mg kc kd ke hn dt translated">我们将把<strong class="jj il"> imagenet_classes.js </strong>保存在<strong class="jj il">静态</strong>文件夹中。该文件包含所有ImageNet类的列表。<em class="ld">你可以从</em> <a class="ae ih" href="https://github.com/ADLsourceCode/TensorflowJS/blob/master/VGG16_Keras_To_TensorflowJS/static/imagenet_classes.js" rel="noopener ugc nofollow" target="_blank"> <em class="ld">这里</em> </a> <em class="ld">下载这个文件。</em></p><h2 id="335d" class="lh li ik bd lj lk ll lm ln lo lp lq lr js ls lt lu jw lv lw lx ka ly lz ma mb dt translated">测试代码</h2><p id="2ec2" class="pw-post-body-paragraph jh ji ik jj b jk mc jm jn jo md jq jr js me ju jv jw mf jy jz ka mg kc kd ke hn dt translated">所有设置完成后，我们将打开命令行并导航到<strong class="jj il"> localserver </strong>文件夹执行:</p><pre class="kv kw kx ky fq mh mi mj mk aw ml dt"><span id="9e2c" class="lh li ik mi b fv mm mn l mo mp">node server.js</span></pre><p id="949c" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们应该观察到以下输出:-</p><figure class="kv kw kx ky fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nc"><img src="../Images/1c1c6ef3db3c9cd372b2d8d6dedda447.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*K7jbNlFYiRdnITT06kBFrg.png"/></div></div></figure><p id="c4d4" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">成功实现服务器端代码后，我们现在可以去浏览器打开<a class="ae ih" href="http://localhost:8080/predict_with_tfjs.html" rel="noopener ugc nofollow" target="_blank"><strong class="jj il">http://localhost:8080/predict _ with _ tfjs . html</strong></a>。<br/>如果客户端代码没有错误，应用程序将启动，模型将自动加载。</p><p id="8a18" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一旦模型加载完毕…你就可以进行<strong class="jj il">预测</strong>。</p><blockquote class="la lb lc"><p id="42a1" class="jh ji ld jj b jk jl jm jn jo jp jq jr le jt ju jv lf jx jy jz lg kb kc kd ke hn dt translated">我的下一篇文章将涉及<strong class="jj il">金融时间序列分析</strong>使用Tensorflow.js… <a class="ae ih" href="https://goo.gl/u72j6u" rel="noopener ugc nofollow" target="_blank">敬请关注</a>。</p></blockquote><p id="3e25" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il">项目的GitHub存储库:- </strong></p><div class="ht hu fm fo hv kf"><a href="https://github.com/ADLsourceCode/TensorflowJS/tree/master/VGG16_Keras_To_TensorflowJS" rel="noopener  ugc nofollow" target="_blank"><div class="kg ab ej"><div class="kh ab ki cl cj kj"><h2 class="bd il fv z el kk eo ep kl er et ij dt translated">ADLsourceCode/TensorflowJS</h2><div class="km l"><h3 class="bd b fv z el kk eo ep kl er et ek translated">GitHub是人们构建软件的地方。超过2800万人使用GitHub来发现、分享和贡献超过…</h3></div><div class="kn l"><p class="bd b gc z el kk eo ep kl er et ek translated">github.com</p></div></div><div class="ko l"><div class="nd l kq kr ks ko kt ib kf"/></div></div></a></div><p id="4891" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il">你可以在下面的视频中看到完整的代码解释和实现:- </strong></p><figure class="kv kw kx ky fq hw"><div class="bz el l di"><div class="ne mt l"/></div><figcaption class="id ie fg fe ff if ig bd b be z ek">Source : ADL</figcaption></figure><p id="9516" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">祝你好运！👍</p></div><div class="ab cl mu mv hc mw" role="separator"><span class="mx bw bk my mz na"/><span class="mx bw bk my mz na"/><span class="mx bw bk my mz"/></div><div class="hn ho hp hq hr"><p id="c81a" class="pw-post-body-paragraph jh ji ik jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj il">感谢阅读</strong>。如果你有任何问题，请在下面的评论或者<a class="ae ih" href="https://twitter.com/I_AM_ADL" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il">推特</strong> </a>告诉我。订阅我的YouTube频道获取更多科技视频:<a class="ae ih" href="https://goo.gl/u72j6u" rel="noopener ugc nofollow" target="_blank"> <strong class="jj il"> ADL </strong> </a>。</p><figure class="kv kw kx ky fq hw"><div class="bz el l di"><div class="nf mt l"/></div></figure></div></div>    
</body>
</html>