<html>
<head>
<title>Smart Contracts on Steroids: Solving the Problems Facing Ethereum’s Solidity</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">类固醇智能合约:解决以太坊稳固性面临的问题</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/smart-contracts-on-steroids-solving-the-problems-facing-ethereums-solidity-a1f71cc260ce?source=collection_archive---------18-----------------------#2018-07-30">https://medium.com/hackernoon/smart-contracts-on-steroids-solving-the-problems-facing-ethereums-solidity-a1f71cc260ce?source=collection_archive---------18-----------------------#2018-07-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/e6efd221fa651721cabd436b74cec71e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xTkDpYhvVr6Wd0qG_ocBEQ.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><a class="ae jg" href="https://www.flickr.com/photos/ethereumclassic/26834810469" rel="noopener ugc nofollow" target="_blank">flickr</a></figcaption></figure><p id="3581" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以太坊网络目前由超过1700个分散的应用程序组成，这个数字预计在未来几年还会增长。尽管所有这些DApps都依赖智能合约来完成许多重要任务，但很明显，智能合约容易出现错误、漏洞和其他灾难性错误，迄今为止，智能合约黑客窃取的金额超过10亿美元。</p><p id="4ba2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了写一份智能合同，程序员必须学习一种全新的编程语言，叫做“<a class="ae jg" href="https://en.wikipedia.org/wiki/Solidity" rel="noopener ugc nofollow" target="_blank">可靠性</a>虽然智能合约有助于以太坊中的复杂操作，但在编写智能合约时犯简单的错误可能会导致可怕的后果，包括安全漏洞和/或非常高的交易成本。</p><p id="dda0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一个最著名的<a class="ae jg" href="https://www.coindesk.com/understanding-dao-hack-journalists/" rel="noopener ugc nofollow" target="_blank">编码糟糕的智能契约</a>的例子来自分散自治组织(DAO)。最近在奇偶校验使用的<a class="ae jg" href="https://cryptovest.com/news/parity-was-warned-in-august-about-bug-that-froze-over-500-wallets/" rel="noopener ugc nofollow" target="_blank">智能合约中也发现了一个错误</a>，它被利用并导致了50万以太网(ETH)的损失，价值超过1.69亿美元。</p><p id="3357" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">是稳健惹的祸吗？</strong></p><p id="fc64" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">随着智能合约的问题变得越来越普遍，可靠性作为以太坊网络的一个问题引起了人们的关注。不幸的是，许多依赖智能合同的新项目缺乏具有适当优化和审计智能合同所需经验的程序员。</p><p id="aaa5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，在性能方面，在执行某些复杂的智能合同时，天然气费用可能是天文数字。“气体”是以太的一个标称单位，用于以太坊网络上的操作交易。这取决于智能合同的复杂性以及合同执行时网络的拥塞情况。以太坊自动惩罚缓慢而复杂的合同，理所当然地向他们收取很高的汽油费。但是，在许多情况下，用例本质上是复杂的，这样的天然气费用阻碍了智能合同的真正采用。</p><p id="e96d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，使用以太坊智能合约来验证单个比特币交易的报头(即，scrypt操作)将花费3.7亿以太坊气——按3 Gwei的气价计算，超过10亿Gwei (1 ETH)。仅验证一次交易就需要大约500美元，这需要在100多次以太坊合约交易中完成。</p><p id="0171" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在处理用Solidity编写的智能契约时，安全性，特别是整数溢出也是一个问题。黑客现在正在检测智能合同中的漏洞，使他们能够窃取大量的加密货币。这导致了高度的<a class="ae jg" rel="noopener" href="/@peckshield/alert-new-batchoverflow-bug-in-multiple-erc20-smart-contracts-cve-2018-10299-511067db6536">安全警报</a>，因为多个ERC20令牌合同容易被黑客攻击。</p><p id="46f9" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">许多这样的黑客攻击仅仅是由于程序员在Solidity中编写代码时所犯的错误。例如，<a class="ae jg" href="https://etherscan.io/token/0xc5d105e63711398af9bbff092d4b6769c82f793d" rel="noopener ugc nofollow" target="_blank">美妆连锁(BEC) </a>在中国是一种备受瞩目的加密货币，于2018年2月23日在OKeX开始交易。它在交易的第一天飙升了4000%。从其峰值市值约700亿美元(USD)开始，价格逐渐降至4月22日的20亿美元(USD)左右，当时其交易价值突然降至零。(OKEX自<a class="ae jg" href="http://news.8btc.com/okex-suspend-bec-trading-due-to-irreversible-bug-in-smart-contract" rel="noopener ugc nofollow" target="_blank">BECs</a>停牌以来。)</p><p id="284d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是由于BEC的ERC20智能合约中的一个错误造成的。在BEC的例子中，开发人员在合同中添加了一个名为“batchTransfer()”的方法。该方法旨在促进令牌一次传输到多方(换句话说，批量传输)。</p><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kf"><img src="../Images/c4c6844c9b786f51bf33801ef55628d3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DnkOvPfUpyVQPQMbHXGT3w.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Image credit from the <a class="ae jg" rel="noopener" href="/coinmonks/alert-new-batchoverflow-bug-in-multiple-erc20-smart-contracts-cve-2018-10299-511067db6536">CVE-2018–10299 security alert</a></figcaption></figure><p id="e95d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然而，开发人员在下面一行代码中犯了一个严重的错误:</p><p id="a158" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">uint256金额= uint 256(CNT)* _值。(你可以在<a class="ae jg" rel="noopener" href="/cybermiles/building-a-safer-crypto-token-27c96a7e78fd">迈克尔·袁的中帖</a>中读到更多这方面的内容。)</p><p id="ec37" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">现在怎么办？</p><p id="0105" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">坚固性解决方案</strong></p><p id="e8f4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了解决用Solidity编写的智能合同所面临的现实世界的问题，一种令人印象深刻的语言叫做"<a class="ae jg" href="https://www.litylang.org/getting_started/" rel="noopener ugc nofollow" target="_blank"> Lity </a>"正在被创建，用于开发跨越<a class="ae jg" href="https://www.cybermiles.io/" rel="noopener ugc nofollow" target="_blank"> CyberMiles区块链</a>、分散应用程序和其他定制区块链的智能合同。尤其是，Lity旨在解决Solidity面临的性能和安全问题。</p><p id="b7b7" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Lity由一个动态可扩展语言、一个编译器和一个虚拟机运行时组成，这使它成为Solidity语言的一个发展。这意味着今天所有现存的Solidity程序都可以在CyberMiles虚拟机(CVM)上运行，而无需修改。</p><p id="3049" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">使用Lity语言的另一个好处是它比Solidity更灵活，更强大，更安全。例如，Lity支持可以通过无线方式添加的新语言功能和特性。</p><p id="9d3d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在性能方面，Lity扩展适用于特定的计算任务，可以进行高度优化。这被称为“libENI”函数，将从CyberMiles虚拟机(CVM)调用，在区块链节点上作为本机代码执行。</p><p id="e7e5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，公钥/私钥算法通常非常慢，并且在以太网上非常昂贵。许多类别的应用程序，如大多数“数据市场”，在以太坊上几乎是不可能的。然而，使用libENI，这些操作只需几毫秒(快10，000倍)，并且需要非常低的汽油费(几美分，相比之下，前面提到的执行一次<a class="ae jg" href="https://en.bitcoin.it/wiki/Atomic_cross-chain_trading" rel="noopener ugc nofollow" target="_blank">跨链交易</a>需要500美元的汽油费)。</p><p id="cdeb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Lity的计算改进对跨区块链资产交易所以及将非链数据纳入区块链交易具有重大意义。</p><p id="a5de" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">最后，Lity编译器检查ERC 20和ERC 721契约代码中的符合性和已知错误，同时在ERC 20契约中提供对ERC 223标准的支持，以防止令牌意外传输到不支持的契约地址。在虚拟机级别，Lity自动防止常见问题，如整数溢出，或将合同所有者设置为nil。</p><p id="10b2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">智能合约的未来</strong></p><p id="488a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不幸的是，稳健已经成为当今智能合约中发现的错误的一个指责来源。为了确保智能合约的未来，像Lity这样的新编程语言正在开发中。</p><p id="1afa" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">但毫无疑问，以太坊基金会正在积极寻找自主创新的方法。其中最主要的是致力于“Casper”和本地契约的实现，这是一种最终将以太坊迁移到PoS共识方法的过渡机制。以太坊基金会认为这种改变对于解决与战俘相关的各种问题是必要的。CyberMiles基金会已经声称已经找到了解决方案:一个可行的DPoS模式和litylang.org概述的CVM。比赛开始了。</p><p id="1dac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">虽然这种修改将标志着定义当今以太坊的核心技术元素之一的转变，但它的执行可能会对以太坊产生重大影响，特别是对其核心组件——智能合约。</p><p id="ab65" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">阅读更多<a class="ae jg" href="https://www.forbes.com/sites/rachelwolfson/#4698242a181c" rel="noopener ugc nofollow" target="_blank">瑞秋在《福布斯》上关于区块链和加密货币的文章</a></p><p id="5f0f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在推特上关注瑞秋，地址:<a class="ae jg" href="https://twitter.com/Rachelwolf00" rel="noopener ugc nofollow" target="_blank"> @Rachelwolf00 </a></p></div></div>    
</body>
</html>