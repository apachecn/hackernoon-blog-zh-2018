<html>
<head>
<title>A Beginner’s Guide to SideDBs and Private Data for Hyperledger Fabric Nodejs Chaincode</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Hyperledger Fabric Nodejs chain code的SideDBs和私有数据初学者指南</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/a-beginners-guide-to-sidedbs-and-private-data-for-hyperledger-fabric-nodejs-chaincode-ba20b2d8f95b?source=collection_archive---------22-----------------------#2018-07-30">https://medium.com/hackernoon/a-beginners-guide-to-sidedbs-and-private-data-for-hyperledger-fabric-nodejs-chaincode-ba20b2d8f95b?source=collection_archive---------22-----------------------#2018-07-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/c9ad5f475509fed1c0f2622642df1b38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V3n7CXIFk_YZdVxEo2aKyA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Source: <a class="ae jg" href="https://hyperledger-fabric.readthedocs.io/en/release-1.2/private-data/private-data.html" rel="noopener ugc nofollow" target="_blank">Hyperledger Fabric 1.2 Docs</a></figcaption></figure><p id="3e7d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">最新的Hyperledger Fabric版引入了存储在SideDBs中的私有数据。该解决方案为您提供了构建“符合GDPR标准”的区块链解决方案的可能性。下面的文章将向您展示如何使用这些私有数据库。如果你还不熟悉Hyperledger Fabric上的私有数据的概念，请查看由<a class="kf kg gr" href="https://medium.com/u/6f64def299ee?source=post_page-----ba20b2d8f95b--------------------------------" rel="noopener" target="_blank"> Jonas Snellinckx </a>撰写的<a class="ae jg" rel="noopener" href="/wearetheledger/private-db-a-built-in-gdpr-compliant-solution-for-hyperledger-fabric-1a082da1b301">之前的文章</a>。</p><p id="5ea6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="kh">注意:这是一篇技术文章。我们将在</em><a class="ae jg" href="https://github.com/wearetheledger/fabric-network-boilerplate" rel="noopener ugc nofollow" target="_blank"><em class="kh">Github</em></a><em class="kh">上使用我们的Hyperledger Fabric网络样板和我们的chaincode实用程序。</em></p><h1 id="a20a" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">私有数据用例</h1><p id="fa1e" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">为了演示私有集合的使用，我们将使用老爷车的例子。<code class="eh ll lm ln lo b">initLedger</code>功能将在我们的收藏中创建10款新车。网络中的任何人都可以访问和查看所有这些汽车。让我们创建一个私有存储库，我们只想与我们拥有的另一个车库共享。</p><h1 id="7b96" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">集合配置</h1><p id="d9a2" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">首先，我们需要一个集合配置文件<code class="eh ll lm ln lo b">collections_config.json</code>，其中包含集合名称和策略。策略类似于背书，这允许我们使用已经存在的策略逻辑，如OR、AND、…运算符。</p><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><h1 id="d7cf" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">写入链码</h1><p id="8d6f" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">我们正在使用的<a class="ae jg" href="https://github.com/wearetheledger/fabric-network-boilerplate" rel="noopener ugc nofollow" target="_blank"> Hyperledger样板</a>已经包含了创建和查询私有数据的功能。这就是最初的<code class="eh ll lm ln lo b">createCar</code>功能。</p><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><p id="5aac" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于向私有集合添加数据(<code class="eh ll lm ln lo b">carCollection</code>)，我们只需要指定我们想要向哪个集合添加数据。</p><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><p id="0ac2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">接下来，为了查询汽车，我们必须指定我们想要查询的私有集合。</p><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="lt lu l"/></div></figure><p id="8aa0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于删除和更新对象，您可以执行完全相同的操作。</p><h2 id="632f" class="lv kj hu bd kk lw lx ly ko lz ma mb ks js mc md kw jw me mf la ka mg mh le mi dt translated">链码最佳实践</h2><p id="d242" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">当然，你的部分数据将被存储在网络中的任何人都可以看到的链上。但是，有些数据是私有的，将存储在私有集合中，由集合配置中定义的对等方访问。</p><p id="2e73" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我们建议在公共和私有集合中使用相同的键来存储对象，这使得以后检索数据更加容易。</p><p id="622f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="kh">提示:我们的</em> <code class="eh ll lm ln lo b"><em class="kh">stubHelper</em></code> <em class="kh">实现了一个</em> <code class="eh ll lm ln lo b"><em class="kh">generateUUID</em></code> <em class="kh">，它为存储一个对象创建一个确定性的ID。</em></p></div><div class="ab cl mj mk hc ml" role="separator"><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo mp"/><span class="mm bw bk mn mo"/></div><div class="hn ho hp hq hr"><p id="d0f5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有兴趣开始自己的区块链项目，但不知道如何开始？您需要帮助开始代币销售或进行审计吗？与 <a class="ae jg" href="https://theledger.be" rel="noopener ugc nofollow" target="_blank"> <em class="kh">取得联系</em> </a> <em class="kh">。</em></p><h1 id="10bb" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">结论</h1><p id="9ba2" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">我们在这里演示了使用我们的包编写链代码是多么容易。你不需要这样做，但是这样可以加快速度。这些例子可以帮助你开始，如果你想阅读我们的文档，你可以查看我们的<a class="ae jg" href="https://github.com/wearetheledger/fabric-node-chaincode-utils" rel="noopener ugc nofollow" target="_blank"> github </a>。我们也鼓励你做出贡献，使这个包更好。👌</p><h2 id="7e83" class="lv kj hu bd kk lw lx ly ko lz ma mb ks js mc md kw jw me mf la ka mg mh le mi dt translated">接下来去哪里</h2><p id="0b37" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated"><strong class="jj hv"> → </strong> <a class="ae jg" href="https://github.com/wearetheledger/awesome-hyperledger-fabric" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv">总分类帐面料资源列表</strong> </a></p><p id="feda" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">→ <a class="ae jg" rel="noopener" href="/wearetheledger/hyperledger-fabric-typescript-boilerplate-455004d0c6c8"> <strong class="jj hv">我们的Hyperledger Fabric REST服务器Typescript样板文件</strong> </a></p><p id="3182" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv"> → </strong> <a class="ae jg" href="https://github.com/wearetheledger/fabric-network-boilerplate" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv">网络样板文件包括Nodejs链码示例</strong> </a></p><p id="26bc" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">→<a class="ae jg" href="https://github.com/wearetheledger/fabric-node-chaincode-utils" rel="noopener ugc nofollow" target="_blank"><strong class="jj hv">Github上的节点链代码实用程序</strong> </a></p><figure class="lp lq lr ls fq iv"><div class="bz el l di"><div class="mq lu l"/></div></figure></div></div>    
</body>
</html>