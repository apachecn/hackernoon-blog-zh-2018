<html>
<head>
<title>Logic Apps Watch Monitor for Run Action Failures</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">运行操作失败的逻辑应用程序监视监视器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/logic-apps-watch-monitor-for-run-action-failures-8f18ba98ef06?source=collection_archive---------50-----------------------#2018-07-30">https://medium.com/hackernoon/logic-apps-watch-monitor-for-run-action-failures-8f18ba98ef06?source=collection_archive---------50-----------------------#2018-07-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/8ea7b3b1fbc3ed1e5c7c86b398fbdb05.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iJcPJvnyGMC-CYww2gj5YQ.jpeg"/></div></div></figure><p id="b133" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这个用例是我们的一个潜在客户所面临的生产层面问题的简化版本。他们有一个逻辑<a class="ae ka" href="https://hackernoon.com/tagged/app" rel="noopener ugc nofollow" target="_blank">应用</a>在他们的业务流程中扮演着关键角色。问题是他们没有意识到逻辑应用程序中的一个<strong class="je hv">运行动作</strong>的失败。由于OAuth令牌未按预期从身份验证提供程序刷新，特定运行操作失败。</p><p id="9823" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因此，我们通过<a class="ae ka" href="http://serverless360.com/?utm_source=Serverless360_blog" rel="noopener ugc nofollow" target="_blank">无服务器360 </a>中的【手表】<a class="ae ka" href="https://hackernoon.com/tagged/monitoring" rel="noopener ugc nofollow" target="_blank">监控</a>功能提出了一个解决方案。</p><p id="5d09" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每个逻辑应用程序都有一个或多个触发器定义，随后是一系列定义工作流的运行操作。可能会出现这样的情况:触发器可能会成功，但其中一个运行操作可能会失败。这将中断工作流，立即通知运行操作失败并提供详细信息将对启动工作流有很大帮助。</p><p id="77bb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">创建了一个名为“EmailProcessor”的逻辑应用程序，其重复触发器的频率为5分钟。它有一个从共享邮箱帐户发送电子邮件的运行操作。我们已经使用对共享邮箱帐户具有必要权限的电子邮件id对此进行了身份验证。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff kb"><img src="../Images/372930f8de84926cfaa883655ace7ea4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1166/format:webp/1*430nNuRiWjY4ADXgxLMlGQ.png"/></div></div></figure><h1 id="9482" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">逻辑应用监视监视器</h1><p id="5043" class="pw-post-body-paragraph jc jd hu je b jf le jh ji jj lf jl jm jn lg jp jq jr lh jt ju jv li jx jy jz hn dt translated">此逻辑应用程序现在与Serverless360复合应用程序相关联，并且“监视”监控已启用。从这一刻起，将持续监视逻辑应用程序，并在故障发生5分钟内将警报转发到配置的通知通道(这是Serverless360中的默认通知频率，不要与上面设置的逻辑应用程序频率相混淆)。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lj"><img src="../Images/e58fe702263c9b0bec9709bc46ab025f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*8QMJIw0UNHcPmT5QWf3anQ.gif"/></div></div></figure><p id="931e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这个逻辑应用程序预计会以5分钟的频率向收件人电子邮件触发电子邮件。与客户提到的不同，我们在逻辑应用程序运行操作中没有遇到任何故障。在我们的例子中，OAuth令牌被正确刷新。</p><p id="bfc7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因此，我们强迫工作流创建一个OAuth错误。因此，我们可以检查Serverless360“监视”监视器是否可以生成警报。因此，我们删除了逻辑应用程序将用来获取OAuth令牌的API连接。现在，获取令牌的尝试肯定会失败，反过来，run操作也会失败。因此，我们收到了来自Serverless360的Logic Apps watch monitor警报——“Logic App，EmailProcessor的故障报告”。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lk"><img src="../Images/c38653923c4d28a0bab9895aa03c9bd3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4dhog_vaL2iDaVh-QDe2cg.png"/></div></div></figure><p id="f6dd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">借助Serverless360，您可以深入查看logic应用程序的运行历史，并使用运行标识符识别运行，从而更清楚地了解故障。失败运行操作的输出将详细说明失败原因。</p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ll"><img src="../Images/559d5437d5704b3dfc4b29da2c69ddad.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZTHSLTmCD39mPk-PkRmmag.png"/></div></div></figure><p id="22c4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">运行操作在2018-07-27 15:37:53失败</p><p id="79c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Logic Apps watch monitor检测到故障并在2018-07-27 15:41:35生成警报，最重要的是，警报被转发到通知渠道以采取纠正措施。</p><p id="0fc9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">同样，您可能需要在Azure Function中获得调用失败的通知。借助Serverless360，现在可以近乎实时地获得逻辑应用和Azure功能调用失败的通知。</p><p id="1704" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以使用Serverless360的其他有趣用例可以在<a class="ae ka" href="https://www.serverless360.com/blog/tag/use-case" rel="noopener ugc nofollow" target="_blank">这里</a>找到。</p><p id="6070" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lm"> Serverless360是一个操作、管理和监控Azure无服务器组件的单一平台工具。它提供了Azure Portal中没有且可能没有的高效工具。免费试用</em> <a class="ae ka" href="https://www.serverless360.com/?utm_source=Serverless360-Blog" rel="noopener ugc nofollow" target="_blank"> <em class="lm">无服务器360</em></a><em class="lm">30天！</em></p><figure class="kc kd ke kf fq iv fe ff paragraph-image"><a href="https://portal.serverless360.com/OnBoarding/Register?utm_source=medium"><div class="fe ff ln"><img src="../Images/4e56c9a174baf442f3c853dc55637722.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PgUQQNOOEbXDp38RJn_VNg.png"/></div></a></figure></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><p id="5ed4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lm">原载于2018年7月30日</em><a class="ae ka" href="https://www.serverless360.com/blog/logic-apps-watch-monitor" rel="noopener ugc nofollow" target="_blank"><em class="lm">www.serverless360.com</em></a><em class="lm">。</em></p><figure class="kc kd ke kf fq iv"><div class="bz el l di"><div class="lv lw l"/></div></figure></div></div>    
</body>
</html>