<html>
<head>
<title>Port Forwarding Your Local Development Server To The World Wide Web</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">将本地开发服务器转发到万维网的端口</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/port-forwarding-your-local-development-server-to-the-world-wide-web-3c10ed887216?source=collection_archive---------4-----------------------#2018-08-04">https://medium.com/hackernoon/port-forwarding-your-local-development-server-to-the-world-wide-web-3c10ed887216?source=collection_archive---------4-----------------------#2018-08-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="a369" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PS:小心行事，这可能很危险😃</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/51d260cee47f85272254d0f55192f3f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JVxm0DX7Ot2DT-5H3Jts4g.jpeg"/></div></div></figure><p id="d3cf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我:有没有想过你是否正在做一个项目，并且希望你可以将你的<a class="ae kb" href="https://hackernoon.com/tagged/development" rel="noopener ugc nofollow" target="_blank">开发</a>服务器镜像到<a class="ae kb" href="https://hackernoon.com/tagged/internet" rel="noopener ugc nofollow" target="_blank">互联网</a>。如果你的同事想使用你的API，或者产品经理想看看W.I.P特性，该怎么办？</p><p id="d517" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你:我有一台临时服务器闲置着。我要做的就是按下密码。或者更好的是，我可以使用像Surge (surge.sh)这样的免费服务。</p><p id="24b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我:考虑你的远程朋友也在同时编程。</p><p id="6a35" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你:哦，那可能不太好…</p><p id="ac04" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我:别担心，我的朋友，我来救你了！</p><p id="fbd2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当您运行一个开发服务器时，应用程序将自己绑定到一个本地端口，对于一个Rails项目来说可以是3000。挑战在于让互联网上的人能够访问你的端口。</p><p id="a1ae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是等等！您的ISP很可能没有授予您一个静态IP地址，也阻止了所有的传入端口。现在该怎么办？</p><p id="5836" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一个典型的开发者一生中至少用过一次AWS。现在，您在云上有了一台拥有专用公共IP的机器。网络上的任何人都可以访问你的服务器。你可以访问服务器。如果您可以将本地端口镜像到服务器，那么服务器就可以成为您的机器的网关。从技术上讲，如果你把你的端口转发给服务器，它就可以把它代理转发给web。</p><h2 id="35f4" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">TL；灾难恢复—镜像您的“本地主机:8000”</h2><ul class=""><li id="0dec" class="kx ky hu it b iu kz iy la jc lb jg lc jk ld jo le lf lg lh dt translated">在端口8000上运行Python文件服务器</li></ul><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="df83" class="kc kd hu lj b fv ln lo l lp lq">cd Desktop<br/>python -m SimpleHTTPServer</span></pre><ul class=""><li id="02e6" class="kx ky hu it b iu iv iy iz jc lr jg ls jk lt jo le lf lg lh dt translated">打开本地主机:8000。你可以看到目录的内容。</li></ul><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/a78589ead2335d18f1fe95dc75b82288.png" data-original-src="https://miro.medium.com/v2/resize:fit:838/format:webp/1*44dE61uzYcfsjsd7tlWFVQ.png"/></div></figure><ul class=""><li id="d60e" class="kx ky hu it b iu iv iy iz jc lr jg ls jk lt jo le lf lg lh dt translated">创建一个新的EC2实例。纳米配置绰绰有余</li><li id="d6fa" class="kx ky hu it b iu lv iy lw jc lx jg ly jk lz jo le lf lg lh dt translated">注意新创建的实例的公共IP地址。对我来说，是18.208.189.50</li><li id="65fe" class="kx ky hu it b iu lv iy lw jc lx jg ly jk lz jo le lf lg lh dt translated">嘘</li></ul><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="91fa" class="kc kd hu lj b fv ln lo l lp lq">chmod 400 your-key.pem<br/>ssh -i your-key.pem ubuntu@18.208.189.50</span></pre><ul class=""><li id="6c93" class="kx ky hu it b iu iv iy iz jc lr jg ls jk lt jo le lf lg lh dt translated">安装nginx服务器</li></ul><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="e508" class="kc kd hu lj b fv ln lo l lp lq">sudo apt-get update<br/>sudo apt-get install nginx<br/>sudo service nginx start</span></pre><p id="5d0f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">打开默认配置</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="e24b" class="kc kd hu lj b fv ln lo l lp lq">sudo nano /etc/nginx/sites-available/default</span></pre><p id="55ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">浏览<em class="ma">位置的</em>区块。注释掉文件访问并键入:</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="6681" class="kc kd hu lj b fv ln lo l lp lq"># try_files $uri $uri/ =404;<br/>proxy_pass http://127.0.0.1:8000;</span></pre><p id="e903" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">保存文件并重启nginx服务器</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="9ecd" class="kc kd hu lj b fv ln lo l lp lq">sudo service nginx restart</span></pre><p id="a551" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">退出实例</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="7b17" class="kc kd hu lj b fv ln lo l lp lq">exit</span></pre><p id="867a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将您的本地端口转发到服务器</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="8892" class="kc kd hu lj b fv ln lo l lp lq">ssh -i your-key.pem -R 8000:localhost:8000 ubuntu@18.208.189.50</span></pre><p id="02c5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果一切顺利，打开浏览器并导航到<a class="ae kb" href="http://18.208.189.50" rel="noopener ugc nofollow" target="_blank"><em class="ma">http://18.208.189.50</em></a></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/a6880299820a20dc3bbbdbc114be420c.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*ieNzRRtNIz1QnrrcUkUaiA.png"/></div></figure><p id="6bac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">瞧啊。</p><h1 id="b4dd" class="mc kd hu bd ke md me mf ki mg mh mi km mj mk ml kp mm mn mo ks mp mq mr kv ms dt translated">应用程序</h1><h2 id="8920" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">向远程团队公开本地Rails API以供使用</h2><p id="11c2" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc mt je jf jg mu ji jj jk mv jm jn jo hn dt translated">感谢<a class="ae kb" href="https://github.com/IBM-Cloud" rel="noopener ugc nofollow" target="_blank"> IBM Cloud </a>提供的示例Rails设置</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="421a" class="kc kd hu lj b fv ln lo l lp lq">git clone <a class="ae kb" href="https://github.com/IBM-Cloud/ruby-rails-helloworld" rel="noopener ugc nofollow" target="_blank">https://github.com/IBM-Cloud/ruby-rails-helloworld</a><br/>gem install bundler<br/>bundler install<br/>rails server<br/>## Repeat the above steps (port forwarding) but with port 3000</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mw"><img src="../Images/878acd1bb78d3658133cefeb3b0c3b91.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ldBbiPVEAZe8PRHz-oP7XA.png"/></div></div></figure><h2 id="47a8" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">React项目可以实时访问，以展示产品</h2><p id="9fee" class="pw-post-body-paragraph ir is hu it b iu kz iw ix iy la ja jb jc mt je jf jg mu ji jj jk mv jm jn jo hn dt translated">感谢安德鲁·法默给我们举了一个优雅的例子</p><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="9390" class="kc kd hu lj b fv ln lo l lp lq">git clone <a class="ae kb" href="https://github.com/ahfarmer/calculator" rel="noopener ugc nofollow" target="_blank">https://github.com/ahfarmer/calculator</a><br/>cd calculator<br/>npm install<br/>npm start<br/>## Repeat the above steps (port forwarding) but with port 3000</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff mx"><img src="../Images/5a0e70a8ede31796d217dcdccd23a606.png" data-original-src="https://miro.medium.com/v2/resize:fit:922/format:webp/1*O0wbfbwLQfZCNDjHUhCX5Q.png"/></div><figcaption class="my mz fg fe ff na nb bd b be z ek">On the Internet</figcaption></figure><h2 id="a6fa" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">通过互联网传输大文件</h2><pre class="jq jr js jt fq li lj lk ll aw lm dt"><span id="e847" class="kc kd hu lj b fv ln lo l lp lq">cd Desktop<br/>python -m SimpleHTTPServer<br/>## Repeat the above steps (port forwarding)</span></pre><figure class="jq jr js jt fq ju fe ff paragraph-image"><div class="fe ff nc"><img src="../Images/de50cbdd4372f03bb6ac8d8b7f20e4a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1024/format:webp/1*Lvgg_AcxS3a8TpIkI-aINw.png"/></div></figure><p id="b767" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你觉得这个有趣，请鼓掌😄</p><p id="1fac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你们中的一些人可能会想，为什么我一开始就发出警告，那是因为我曾经开发过一个Rails应用程序。我曾经在本地数据库中放满了有趣的种子数据。有一天，我写了这篇博客，并应用这种技术来测试和迭代我的客户的项目。不知不觉地，我向我的客户公开了我的开发环境。无论如何，他指出了这一点，他笑得很开心。此外，我们仍然使用相同的数据进行暂存😅。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="nd ne l"/></div></figure></div></div>    
</body>
</html>