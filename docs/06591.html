<html>
<head>
<title>The art of naming variables</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">命名变量的艺术</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/the-art-of-naming-variables-52f44de00aad?source=collection_archive---------3-----------------------#2018-08-07">https://medium.com/hackernoon/the-art-of-naming-variables-52f44de00aad?source=collection_archive---------3-----------------------#2018-08-07</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><blockquote class="ir is it"><p id="ed3a" class="iu iv iw ix b iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js hn dt translated">计算机科学只有两个硬东西:缓存失效和事物命名。—菲尔·卡尔顿</p></blockquote><p id="bf01" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">给事物命名确实很困难，但是为事物正确命名的回报是值得的。你见过类似这样的代码吗？</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="d944" class="kf kg hu kb b fv kh ki l kj kk">const convertObj = (x, y, z) =&gt; {<br/>    const k = Object.keys(x);<br/>    return k.map((key) =&gt; {<br/>        return {<br/>            [y]: key,<br/>            [z]: x[key],<br/>        }<br/>    });<br/>}</span></pre><p id="5655" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">这到底有什么用？您可以通过一行一行地阅读它来找出答案，但是如果变量命名正确的话，事情会变得更简单。</p><p id="ca7a" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">好的变量名是至关重要的，尤其是在动态类型语言中，你没有定义类型来帮助你理解变量。然而，当使用好的命名约定时，即使静态类型的语言也会有更好的可读性。</p><p id="73c8" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我将分享一些我多年来建立的关于命名的一般规则。我将按类型分解一些例子。让我们从数组开始。</p><h1 id="b87b" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">数组</h1><p id="8b98" class="pw-post-body-paragraph iu iv hu ix b iy li ja jb jc lj je jf jt lk ji jj ju ll jm jn jv lm jq jr js hn dt translated">数组是项目的可迭代列表，通常是同一类型的。因为它们将保存多个值，<strong class="ix hv">复数化</strong>变量名是有意义的。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="5bbf" class="kf kg hu kb b fv kh ki l kj kk">// bad<br/>const fruit = ['apple', 'banana', 'cucumber'];</span><span id="d6d4" class="kf kg hu kb b fv ln ki l kj kk">// okay<br/>const fruitArr = ['apple', 'banana', 'cucumber'];</span><span id="e2b6" class="kf kg hu kb b fv ln ki l kj kk">// good<br/>const fruits = ['apple', 'banana', 'cucumber'];</span><span id="18be" class="kf kg hu kb b fv ln ki l kj kk">// great - "names" implies strings<br/>const fruitNames = ['apple', 'banana', 'cucumber'];</span><span id="e98d" class="kf kg hu kb b fv ln ki l kj kk">// great<br/>const fruits = [{<br/>    name: 'apple',<br/>    genus: 'malus'<br/>}, {<br/>    name: 'banana',<br/>    genus: 'musa'<br/>}, {<br/>    name: 'cucumber',<br/>    genus: 'cucumis'<br/>}];</span></pre><h1 id="8b2d" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">布尔运算</h1><p id="03ac" class="pw-post-body-paragraph iu iv hu ix b iy li ja jb jc lj je jf jt lk ji jj ju ll jm jn jv lm jq jr js hn dt translated">布尔值只能保存两个值，<code class="eh lo lp lq kb b">true</code>或<code class="eh lo lp lq kb b">false</code>。鉴于此，使用类似于“<strong class="ix hv">是</strong>”、“<strong class="ix hv">有</strong>”、“<strong class="ix hv">可以</strong>”这样的前缀会帮助读者推断变量的类型。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="a05b" class="kf kg hu kb b fv kh ki l kj kk">// bad<br/>const open = true;<br/>const write = true;<br/>const fruit = true;</span><span id="de7b" class="kf kg hu kb b fv ln ki l kj kk">// good<br/>const isOpen = true;<br/>const canWrite = true;<br/>const hasFruit = true;</span></pre><p id="9390" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">谓词函数(返回布尔值的函数)呢？在命名函数之后，命名值会变得很棘手。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="d5a1" class="kf kg hu kb b fv kh ki l kj kk">const user = {<br/>    fruits: ['apple']<br/>}</span><span id="3061" class="kf kg hu kb b fv ln ki l kj kk">const hasFruit = (user, fruitName) =&gt; (<br/>    user.fruits.includes(fruitName)<br/>);</span><span id="b2a9" class="kf kg hu kb b fv ln ki l kj kk">// what do we name this boolean?<br/>const x = hasFruit(user, 'apple');</span></pre><p id="0e17" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我们不能命名布尔型<code class="eh lo lp lq kb b">hasProjectPermission</code>，因为我们已经给函数起了这个名字。在这种情况下，我喜欢用<code class="eh lo lp lq kb b">check</code>或<code class="eh lo lp lq kb b">get</code>作为谓词的前缀。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="f63a" class="kf kg hu kb b fv kh ki l kj kk">const checkHasFruit = (user, fruitName) =&gt; (<br/>    user.fruits.includes(fruitName)<br/>);</span><span id="f033" class="kf kg hu kb b fv ln ki l kj kk">const hasFruit = checkHasFruit(user, 'apple');</span></pre><h1 id="95ea" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">数字</h1><p id="0650" class="pw-post-body-paragraph iu iv hu ix b iy li ja jb jc lj je jf jt lk ji jj ju ll jm jn jv lm jq jr js hn dt translated">对于数字，想想描述数字的词。像<code class="eh lo lp lq kb b">maximum</code>、<code class="eh lo lp lq kb b">minimum</code>、<code class="eh lo lp lq kb b">total</code>这样的词会。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="25cf" class="kf kg hu kb b fv kh ki l kj kk">// bad<br/>const pugs = 3;</span><span id="f381" class="kf kg hu kb b fv ln ki l kj kk">// good<br/>const minPugs = 1;<br/>const maxPugs = 5;<br/>const totalPugs = 3;</span></pre><h1 id="f625" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">功能</h1><p id="99fc" class="pw-post-body-paragraph iu iv hu ix b iy li ja jb jc lj je jf jt lk ji jj ju ll jm jn jv lm jq jr js hn dt translated">函数应该用动词和名词来命名。当函数在资源上执行某种类型的动作时，它的名字应该反映这一点。一个好的格式是<code class="eh lo lp lq kb b">actionResource</code>。比如<code class="eh lo lp lq kb b">getUser</code>。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="d3ea" class="kf kg hu kb b fv kh ki l kj kk">// bad<br/>userData(userId)<br/>userDataFunc(userId)<br/>totalOfItems(items)</span><span id="471c" class="kf kg hu kb b fv ln ki l kj kk">// good<br/>getUser(userId);<br/>calculateTotal(items);</span></pre><p id="0ad1" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我见过的用于转换值的一个常见约定是在函数名前面加上<code class="eh lo lp lq kb b">to</code>。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="6039" class="kf kg hu kb b fv kh ki l kj kk">// I like it!<br/>toDollars('euros', 20);<br/>toUppercase('a string');</span></pre><p id="4e62" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">我喜欢的另一种常见命名模式是在迭代项目时。当在函数中接收参数时，使用数组名的单数形式。</p><pre class="jw jx jy jz fq ka kb kc kd aw ke dt"><span id="fe08" class="kf kg hu kb b fv kh ki l kj kk">// bad<br/>const newFruits = fruits.map(x =&gt; {<br/>    return doSomething(x);<br/>});</span><span id="2b8e" class="kf kg hu kb b fv ln ki l kj kk">// good<br/>const newFruits = fruits.map(fruit =&gt; {<br/>    return doSomething(fruit);<br/>});</span></pre><h1 id="d603" class="kl kg hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">总结</h1><p id="4760" class="pw-post-body-paragraph iu iv hu ix b iy li ja jb jc lj je jf jt lk ji jj ju ll jm jn jv lm jq jr js hn dt translated">对这些命名约定有所保留。如何命名变量没有一致的命名重要。如果您保持一致的命名模式，您的代码库将更容易推理，下一个开发人员将能够考虑得更少。</p><p id="25a0" class="pw-post-body-paragraph iu iv hu ix b iy iz ja jb jc jd je jf jt jh ji jj ju jl jm jn jv jp jq jr js hn dt translated">如果你有自己的命名习惯，我很乐意在评论中听到。如果你喜欢这篇文章，请随意给它一两下掌声。</p></div></div>    
</body>
</html>