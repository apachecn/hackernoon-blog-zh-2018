<html>
<head>
<title>Control AC from anywhere with smartphone — DIY Smart Home</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用智能手机随时随地控制交流电源——DIY智能家居</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/control-ac-from-anywhere-with-smartphone-diy-smart-home-d1320ac373a8?source=collection_archive---------2-----------------------#2018-08-09">https://medium.com/hackernoon/control-ac-from-anywhere-with-smartphone-diy-smart-home-d1320ac373a8?source=collection_archive---------2-----------------------#2018-08-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/ce0f7cdbcd76c349aeed28771e87027d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*ch2IYDxDyEf_61yJV2hYTw.gif"/></div></figure><p id="9065" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这款远程交流控制器可以让你用智能手机从外面测量室温和开关空调。你可以在到家之前打开空调，舒适地待在家里。让我们用<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>来制作DIY空调遥控器吧。</p><h1 id="4c8a" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">这个项目中使用的东西</h1><p id="f406" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated"><a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank">奥布尼斯</a></p><p id="f296" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">红外模块</p><p id="f8aa" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">LM32DZ</p><p id="398d" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">智能手机</p><h1 id="c0d4" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">步骤1 —设置obniz</h1><p id="bb93" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">要开始，你需要做的就是遵循三个步骤。<br/> 1。将<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>连接到wifi <br/> 2。将LED或电机等设备连接到<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank">obniz</a>T10】3。扫描<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>的二维码，开始编程。你不需要安装任何软件。</p><figure class="la lb lc ld fq iv"><div class="bz el l di"><div class="le lf l"/></div></figure><h1 id="773d" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">第二步</h1><p id="cc28" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">将IR模块和LM32DZ连接到<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>上，如下所示，并将其放置在您的家中。</p><figure class="la lb lc ld fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff lg"><img src="../Images/2bf6d0e52a0f5f7d774da3ea0cd2a67f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6D0TVdMpW9oFq9erC_-7JQ.jpeg"/></div></div></figure><h1 id="df77" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">第三步</h1><p id="17ae" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">写程序段写的程序。您需要将程序中的<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a> ID更改为您的ID。通过点击“保存&amp;打开”，可以看到房间温度。</p><figure class="la lb lc ld fq iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/b007d12589ca5d85038a8305e406e4de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/1*TU_EutZES0c9xHCmSD_IJA.gif"/></div></figure><h1 id="bb2e" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">第四步</h1><p id="38cf" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">记录空调的开/关信号。</p><p id="b514" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">示例程序包含IR接收器的注释输出代码。去掉注释，记录下你的空调开/关信号。你的信号会显示在日志里。</p><p id="5b30" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">将记录的数据数组写入您的程序。</p><h1 id="dde8" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">用它！</h1><p id="6374" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">用智能手机在网络浏览器上打开HTML。你可以在世界任何地方控制你的空调！</p><h1 id="768b" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">Obniz是什么？</h1><p id="e7a6" class="pw-post-body-paragraph iy iz hu ja b jb kv jd je jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv hn dt translated">Obniz是一个云连接物联网开发板。你可以在任何智能手机或电脑的网络浏览器上编程，命令通过互联网经由obniz cloud发送到obniz。通过wifi将Obniz连接到云，用户可以远程控制物理连接到<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>的设备。</p><figure class="la lb lc ld fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff ll"><img src="../Images/ec7d846ad4188ed63c04aadc3249a8c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*na9x8cZBk5zXxETRniOW6Q.jpeg"/></div></div></figure><p id="cd77" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> Obniz </a>有12个IO和WiFi-BLE模块。它可以通过<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>云上的API——REST或web socket API——来控制。通过互联网远程控制<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>不仅可以使用简单的IO开/关，还可以使用UART、I2C、BLE等。连接<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>只需要通过扫描二维码输入唯一ID。复杂的流程由<a class="ae jw" href="https://obniz.io/" rel="noopener ugc nofollow" target="_blank"> obniz </a>及其云完成。你可以用HTML开始编程，浏览器和电路已经集成在一起了。如果您编写一个程序来收集传感器值，您可以很容易地制作一个值的图表。</p><figure class="la lb lc ld fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="lh li di lj bf lk"><div class="fe ff lm"><img src="../Images/b5ea78a19dfcc0c6300292142960ed47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mITJL4JLbLbj6N2u08LoSg.jpeg"/></div></div></figure><p id="afd8" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">在硬件方面，每个IO都可以驱动到1A，并提供过校正保护，因此电机等高电流要求设备可以直接连接到Obniz IO。GPIO和AD可以在每个IO上使用。UART、SPI等外设可以分配给每个IO。甚至输出电压3v/5v也可以通过软件改变。大多数电气部件可以直接连接。开关、有机发光二极管显示器和BLE等嵌入部件已准备好用于项目。</p><figure class="la lb lc ld fq iv fe ff paragraph-image"><div class="fe ff ln"><img src="../Images/4495c49ebf4145114235ae29b10f7930.png" data-original-src="https://miro.medium.com/v2/resize:fit:1360/format:webp/1*Ts9cySVRaOn2YmvDwtB1Ug.jpeg"/></div></figure><h1 id="3d26" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">程序</h1><pre class="la lb lc ld fq lo lp lq lr aw ls dt"><span id="74af" class="lt jy hu lp b fv lu lv l lw lx">&lt;!-- HTML Example --&gt;</span><span id="7803" class="lt jy hu lp b fv ly lv l lw lx">&lt;html&gt;</span><span id="4842" class="lt jy hu lp b fv ly lv l lw lx">&lt;head&gt;</span><span id="e2cf" class="lt jy hu lp b fv ly lv l lw lx">&lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;</span><span id="74df" class="lt jy hu lp b fv ly lv l lw lx">&lt;link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css"&gt;</span><span id="7d3a" class="lt jy hu lp b fv ly lv l lw lx">&lt;script src="https://obniz.io/js/jquery-3.2.1.min.js"&gt;&lt;/script&gt;</span><span id="150a" class="lt jy hu lp b fv ly lv l lw lx">&lt;script src="https://unpkg.com/obniz@1.6.1/obniz.js"&gt;&lt;/script&gt;</span><span id="da15" class="lt jy hu lp b fv ly lv l lw lx">&lt;/head&gt;</span><span id="b297" class="lt jy hu lp b fv ly lv l lw lx">&lt;body&gt;</span><span id="47cc" class="lt jy hu lp b fv ly lv l lw lx">&lt;div id="obniz-debug"&gt;&lt;/div&gt;</span><span id="babe" class="lt jy hu lp b fv ly lv l lw lx">&lt;h1 id="temp"&gt;Measuring...&lt;/h1&gt;</span><span id="515d" class="lt jy hu lp b fv ly lv l lw lx">&lt;p&gt;</span><span id="66db" class="lt jy hu lp b fv ly lv l lw lx">&lt;button id="on" class="btn btn-primary btn-block"&gt;Turn ON&lt;/button&gt;</span><span id="4f3a" class="lt jy hu lp b fv ly lv l lw lx">&lt;/p&gt;</span><span id="44a9" class="lt jy hu lp b fv ly lv l lw lx">&lt;p&gt;</span><span id="919f" class="lt jy hu lp b fv ly lv l lw lx">&lt;button id="off" class="btn btn-primary btn-block"&gt;Turn OFF&lt;/button&gt;</span><span id="59f2" class="lt jy hu lp b fv ly lv l lw lx">&lt;/p&gt;</span><span id="5ad3" class="lt jy hu lp b fv ly lv l lw lx">&lt;script&gt;</span><span id="1de4" class="lt jy hu lp b fv ly lv l lw lx">var obniz = new Obniz("OBNIZ_ID_HERE");</span><span id="b3a7" class="lt jy hu lp b fv ly lv l lw lx">obniz.onconnect = async function () {</span><span id="e5f2" class="lt jy hu lp b fv ly lv l lw lx">//var sensor = obniz.wired('IRSensor', {vcc:0, gnd:3, output: 2});</span><span id="2b2f" class="lt jy hu lp b fv ly lv l lw lx">//sensor.start(function (arr) {</span><span id="8c15" class="lt jy hu lp b fv ly lv l lw lx">//  console.log('detected!!')</span><span id="0b8c" class="lt jy hu lp b fv ly lv l lw lx">//  console.log(JSON.stringify(arr));</span><span id="f864" class="lt jy hu lp b fv ly lv l lw lx">//})</span><span id="b15b" class="lt jy hu lp b fv ly lv l lw lx">// Javascript Example</span><span id="d8db" class="lt jy hu lp b fv ly lv l lw lx">var tempsens = obniz.wired("LM35DZ",   { gnd:7 , output:8, vcc:9});</span><span id="063c" class="lt jy hu lp b fv ly lv l lw lx">tempsens.onchange = function(temp){</span><span id="cdd5" class="lt jy hu lp b fv ly lv l lw lx">$("#temp").text('' + parseInt(temp)+ ' degree')</span><span id="1c66" class="lt jy hu lp b fv ly lv l lw lx">obniz.display.clear();</span><span id="fda9" class="lt jy hu lp b fv ly lv l lw lx">obniz.display.font('Avenir', 60)</span><span id="1a32" class="lt jy hu lp b fv ly lv l lw lx">obniz.display.print('' + parseInt(temp) + '℃')</span><span id="5bbc" class="lt jy hu lp b fv ly lv l lw lx">};</span><span id="9988" class="lt jy hu lp b fv ly lv l lw lx">var infraredLed = obniz.wired('InfraredLED', {anode: 1, cathode: 3});</span><span id="814d" class="lt jy hu lp b fv ly lv l lw lx">$("#on").click(function(){</span><span id="d60e" class="lt jy hu lp b fv ly lv l lw lx">// your value for ON here.</span><span id="5372" class="lt jy hu lp b fv ly lv l lw lx">infraredLed.send([])</span><span id="0b94" class="lt jy hu lp b fv ly lv l lw lx">})</span><span id="7fb8" class="lt jy hu lp b fv ly lv l lw lx">$("#off").click(function(){</span><span id="ea98" class="lt jy hu lp b fv ly lv l lw lx">// your value for OFF here</span><span id="e8b4" class="lt jy hu lp b fv ly lv l lw lx">infraredLed.send([])</span><span id="1f57" class="lt jy hu lp b fv ly lv l lw lx">})</span><span id="718f" class="lt jy hu lp b fv ly lv l lw lx">}</span><span id="d563" class="lt jy hu lp b fv ly lv l lw lx">&lt;/script&gt;</span><span id="8a93" class="lt jy hu lp b fv ly lv l lw lx">&lt;/body&gt;</span><span id="c2be" class="lt jy hu lp b fv ly lv l lw lx">&lt;/html&gt;</span></pre></div></div>    
</body>
</html>