<html>
<head>
<title>How do dApps store data?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">dApps是如何存储数据的？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-do-dapps-store-data-2968d99547a1?source=collection_archive---------5-----------------------#2018-08-11">https://medium.com/hackernoon/how-do-dapps-store-data-2968d99547a1?source=collection_archive---------5-----------------------#2018-08-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/3d91de56fdb29617d9135d28e1d9ef50.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*sNLzEq2TAEUbm2Pf"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/@nasa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">NASA</a> on <a class="ae jg" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c802" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我在尝试<a class="ae jg" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>开发时遇到的最早的问题之一是，<em class="kf">“所有东西都存放在哪里？”</em></p><p id="4ab4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我一直在关注<a class="ae jg" rel="noopener" href="/@mvmurthy/full-stack-hello-world-voting-ethereum-dapp-tutorial-part-1-40d2d0d807c2">这个可爱的教程</a>，作者是<a class="kg kh gr" href="https://medium.com/u/14d83a8fab8c?source=post_page-----2968d99547a1--------------------------------" rel="noopener" target="_blank">马赫什·穆尔蒂</a>，我想知道生产中的一切是如何运作的。</p><p id="362f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，为了在通用以太坊测试网ROPSTEN上部署，我必须首先下载整个<a class="ae jg" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>的副本，并与对等节点同步。这是有道理的，因为这就是区块链的特别之处。在不同的节点上有整个区块链的多个副本，因此可以达成共识，并且可以验证所有交易。</p><p id="6551" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然而，由于区块链的大小以千兆字节为单位，这似乎不太可行。看看大小在几兆范围内的流行的加密收集器移动应用，这显然不是正在发生的事情。</p><p id="beca" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果所有的节点都必须是一个完整的副本，那么存储像视频这样的大文件是如何工作的呢？</p><p id="c85e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">那么，这是怎么回事？</p><h1 id="4f98" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">对等文件系统</h1><p id="842e" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">IPFS是对等文件系统的一个很好的例子。IPFS不使用中央服务器，而是允许文件以点对点的方式存储，很像Bittorrent。每个文件都通过散列其内容来寻址。散列是可识别的，因为它们都以字母<em class="kf"> Qm </em>开始。给定散列，你将能够检索文件。</p><h2 id="00c1" class="ll kj hu bd kk lm ln lo ko lp lq lr ks js ls lt kw jw lu lv la ka lw lx le ly dt translated">这对我们的存储问题有什么帮助？</h2><p id="2229" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">简单。仅在区块链上存储内容哈希。因此，虽然区块链只存储散列，但是散列本身提供了一种简单的方法来检索存储的大文件。</p><p id="b69a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">珊瑚健康公司的人已经提供了一份很好的关于这方面的文章。</p><h1 id="f18d" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">分散存储(云解决方案)</h1><p id="b448" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">这是以太坊群体似乎追求的方法。据我所知，Swarm似乎也以类似Bittorrent的方式运行，为<a class="ae jg" href="https://hackernoon.com/tagged/dapps" rel="noopener ugc nofollow" target="_blank"> dApps </a>提供点对点存储。</p><p id="cb33" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">从它的<a class="ae jg" href="http://swarm-guide.readthedocs.io/en/latest/introduction.html#orange-papers" rel="noopener ugc nofollow" target="_blank">橙纸</a>，</p><blockquote class="lz ma mb"><p id="3430" class="jh ji kf jj b jk jl jm jn jo jp jq jr mc jt ju jv md jx jy jz me kb kc kd ke hn dt translated">Swarm是一个由节点组成的对等网络，通过互相贡献资源(存储、消息转发、支付处理)来提供分布式数字服务。这些贡献在对等的基础上被精确地计算，允许节点以资源交换资源，但是向消耗少于它们服务的节点提供金钱补偿。</p></blockquote><p id="dd1b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">他们的目标是用一个去中心化的版本取代带有中心化服务器的万维网。与DNS用于查找网页的方式相同，Ethereum Swarm使用一种称为ENS的智能合同，允许域名所有者注册对其内容的引用，即使所述内容不会存储在传统的集中式服务器中。</p><p id="c7e8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">老实说，这看起来像是一种革新网络的迷人方式，但我跑题了。这里的文档<a class="ae jg" href="http://swarm-guide.readthedocs.io/en/latest/architecture.html" rel="noopener ugc nofollow" target="_blank">虽然读起来很有趣。</a></p><h2 id="841f" class="ll kj hu bd kk lm ln lo ko lp lq lr ks js ls lt kw jw lu lv la ka lw lx le ly dt translated">但是，嘿，这两个听起来不是很相似吗？</h2><p id="efc6" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">他们当然知道。以至于swarm的主要作者写了一篇关于这个事实的文章。除了不同的对等管理协议和不同的底层哲学(IPFS希望尝试和集成所有现有的协议，Swarm希望与Smart Conract和Whisper一起使用，以提供一个真正分散的web)之外，一个关键的区别似乎是你可以使用Swarm作为云托管存储。你可以启动一个节点，上传，下线(他们管这个叫<em class="kf">上传，消失。</em>)你的数据还是会留在swarm上。在IPFS，你只能在你的硬盘上发布内容。</p><h1 id="48f4" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">等等，像MongoDB/RethinkDB这样的分布式NoSQL数据库呢？</h1><p id="646a" class="pw-post-body-paragraph jh ji hu jj b jk lg jm jn jo lh jq jr js li ju jv jw lj jy jz ka lk kc kd ke hn dt translated">好问题。老实说，我不确定。在MongoDB这样的数据库中，所有的节点都是平等的，相互信任。问题是一个恶意节点会导致错误的信息。这与一个叫做拜占庭容错的概念有关。</p><p id="186c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">拜占庭容错对区块链来说绝对至关重要。在典型的分布式网络中，即使几个恶意节点也会导致整个系统可靠性的破坏。拜占庭容错是指即使存在拜占庭故障，即恶意节点/传播虚假信息的节点，区块链也将继续运行。这是如何被反击的确实很有趣，但那是另外一天。</p><p id="29f9" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">BigChainDB 和<strong class="jj hv"> TiesDB </strong>为dApps提供了存储数据的替代方法，但我将在另一篇文章中更详细地介绍这些方法。</p><figure class="mf mg mh mi fq iv"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>