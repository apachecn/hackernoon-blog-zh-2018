<html>
<head>
<title>Create Your Own Ethereum Blockchain Explorer From Scratch</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从头开始创建自己的以太坊区块链浏览器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/create-your-own-ethereum-blockchain-explorer-from-scratch-2994e8f16b70?source=collection_archive---------9-----------------------#2018-08-22">https://medium.com/hackernoon/create-your-own-ethereum-blockchain-explorer-from-scratch-2994e8f16b70?source=collection_archive---------9-----------------------#2018-08-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="fa68" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">区块链的美丽在于它的区块链探索者。如果你真的拥有Ethers(以太坊的加密货币)，你就会知道<a class="ae jp" href="https://etherscan.io" rel="noopener ugc nofollow" target="_blank"> etherscan.io </a>的重要性</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/d1855f87b095876743ffc64af74fc819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*N8pKEsn_qZ5qa-sDCFm53w.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">Source: <a class="ae jp" href="https://etherscan.io/txs" rel="noopener ugc nofollow" target="_blank">https://etherscan.io/txs</a></figcaption></figure><p id="f326" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你的组织在私人以太坊<a class="ae jp" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a>上运行，那么<a class="ae jp" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>探索者将是一种享受。但是很少有人会陷入从哪里开始的困境。</p><p id="30f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本教程中，我们将使用Infura连接到以太坊的主网络。如果你掌握了这篇文章的精髓，那么你也可以为以太坊私人区块链开发一个区块链探索者。</p><h1 id="6138" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">我将使用的技术堆栈:</h1><ul class=""><li id="0899" class="le lf hu it b iu lg iy lh jc li jg lj jk lk jo ll lm ln lo dt translated"><a class="ae jp" href="https://web3js.readthedocs.io/en/1.0/index.html" rel="noopener ugc nofollow" target="_blank"> Web3.js </a>(以太坊的JavaScript API)</li><li id="0bcd" class="le lf hu it b iu lp iy lq jc lr jg ls jk lt jo ll lm ln lo dt translated"><a class="ae jp" href="https://infura.io/" rel="noopener ugc nofollow" target="_blank"> Infura </a>键</li><li id="8c3c" class="le lf hu it b iu lp iy lq jc lr jg ls jk lt jo ll lm ln lo dt translated">HTML(你也可以在前端使用React/Angular)</li></ul><pre class="jr js jt ju fq lu lv lw lx aw ly dt"><span id="9ee4" class="lz kh hu lv b fv ma mb l mc md">&lt;!DOCTYPE html&gt;<br/>&lt;html lang="en"&gt;<br/>  &lt;head&gt;<br/>    &lt;meta charset="utf-8"&gt;<br/>    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;<br/>    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;<br/>    &lt;title&gt;Blockchain Explorer&lt;/title&gt;<br/>    &lt;!-- Bootstrap --&gt;<br/>    &lt;link rel="stylesheet" href="<a class="ae jp" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css</a>" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"&gt;<br/>    &lt;!-- Styles --&gt;<br/>    &lt;style&gt;<br/>      body {<br/>        padding-top: 20px;<br/>      }<br/>      h1 {<br/>        margin: 20px 0px;<br/>      }<br/>    &lt;/style&gt;<br/>  &lt;/head&gt;<br/>  &lt;body&gt;<br/>    &lt;div class="container"&gt;<br/>      &lt;div class="row"&gt;<br/>        &lt;div class="col-lg-12 text-center" &gt;<br/>          &lt;img src="img/picture.png"&gt;<br/>          &lt;h1&gt;Blockchain Explorer&lt;/h1&gt;<br/>          &lt;h3&gt; Latest 20 blocks &lt;/h3&gt;<br/>          &lt;table class="table"&gt;<br/>            &lt;thead&gt;<br/>              &lt;tr&gt;<br/>                &lt;th scope="col"&gt;TxHash&lt;/th&gt;<br/>                &lt;th scope="col"&gt;Block&lt;/th&gt;<br/>                &lt;th scope="col"&gt;Timestamp&lt;/th&gt;<br/>                &lt;th scope="col"&gt;Gas Used&lt;/th&gt;<br/>              &lt;/tr&gt;<br/>            &lt;/thead&gt;<br/>            &lt;tbody&gt;<br/>            &lt;/tbody&gt;<br/>          &lt;/table&gt;<br/>        &lt;/div&gt;<br/>      &lt;/div&gt;<br/>    &lt;/div&gt;</span><span id="dc7c" class="lz kh hu lv b fv me mb l mc md">&lt;!-- Bootstrap --&gt;<br/>    &lt;script src="<a class="ae jp" href="https://code.jquery.com/jquery-3.2.1.slim.min.js" rel="noopener ugc nofollow" target="_blank">https://code.jquery.com/jquery-3.2.1.slim.min.js</a>" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae jp" href="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" rel="noopener ugc nofollow" target="_blank">https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js</a>" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"&gt;&lt;/script&gt;<br/>    &lt;script src="<a class="ae jp" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" rel="noopener ugc nofollow" target="_blank">https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js</a>" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"&gt;&lt;/script&gt;</span><span id="ccef" class="lz kh hu lv b fv me mb l mc md">&lt;!-- Web3 --&gt;<br/>    &lt;script src="<a class="ae jp" href="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js" rel="noopener ugc nofollow" target="_blank">https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js</a>"&gt;&lt;/script&gt;</span><span id="b025" class="lz kh hu lv b fv me mb l mc md">    &lt;script&gt;<br/>      var provider = '<a class="ae jp" href="https://mainnet.infura.io/v3/32d7425cd6b741f8a54653b6aa4c6b3c'" rel="noopener ugc nofollow" target="_blank">https://mainnet.infura.io/v3/'</a>; //Your Infura Endpoint<br/>      var web3Provider = new Web3.providers.HttpProvider(provider);<br/>      var web3 = new Web3(web3Provider);</span><span id="310b" class="lz kh hu lv b fv me mb l mc md">var latestBlock = web3.eth.blockNumber;</span><span id="805a" class="lz kh hu lv b fv me mb l mc md">// List blocks in table<br/>      for (var i = 0; i &lt; 20; i++) {<br/>        var block = web3.eth.getBlock(latestBlock - i);<br/>        var number = block.number;<br/>        var hash = block.hash;<br/>        var time = block.timestamp;<br/>        var gas = block.gasUsed;<br/>        //var sender = web3.eth.getTransaction(hash.from);<br/>        convertTimestamp(time);</span><span id="f1c6" class="lz kh hu lv b fv me mb l mc md">function convertTimestamp(time) {<br/>            var d = new Date(time * 1000), // Convert the passed timestamp to milliseconds<br/>                yyyy = d.getFullYear(),<br/>                mm = ('0' + (d.getMonth() + 1)).slice(-2),  // Months are zero based. Add leading 0.<br/>                dd = ('0' + d.getDate()).slice(-2),         // Add leading 0.<br/>                hh = d.getHours(),<br/>                h = hh,<br/>                min = ('0' + d.getMinutes()).slice(-2),     // Add leading 0.<br/>                ampm = 'AM',<br/>                time;</span><span id="9235" class="lz kh hu lv b fv me mb l mc md">if (hh &gt; 12) {<br/>                h = hh - 12;<br/>                ampm = 'PM';<br/>            } else if (hh === 12) {<br/>                h = 12;<br/>                ampm = 'PM';<br/>            } else if (hh == 0) {<br/>                h = 12;<br/>            }</span><span id="eb51" class="lz kh hu lv b fv me mb l mc md">// ie: 2014-03-24, 3:00 PM<br/>            time1 = yyyy + '-' + mm + '-' + dd + ', ' + h + ':' + min + ' ' + ampm;<br/>            return time1;<br/>        }</span><span id="293e" class="lz kh hu lv b fv me mb l mc md">        $('tbody').append("&lt;tr&gt;&lt;td&gt;" + hash + "&lt;/td&gt;&lt;td&gt;" + number + "&lt;/td&gt;&lt;td&gt;" + time1 + "&lt;/td&gt;&lt;td&gt;" + gas + "&lt;/tr&gt;");<br/>      }</span><span id="64fa" class="lz kh hu lv b fv me mb l mc md">    &lt;/script&gt;<br/>  &lt;/body&gt;<br/>&lt;/html&gt;</span></pre><p id="8ad1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果要访问您的私人区块链，请将提供商URL替换为您的私人区块链元掩码URL。</p><p id="9ead" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">实际上，我们使用的是Infura密钥来访问主以太网。Web3来查询网络。从Web3收到的JSON响应被放入HTML。仅此而已。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff mf"><img src="../Images/ea47948f5f19a4895311a04a35a1215e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RDRO7_VSgOlAkrzpvYHN6g.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">This is what it looks like</figcaption></figure><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mg mh l"/></div></figure></div></div>    
</body>
</html>