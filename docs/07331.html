<html>
<head>
<title>Speak, Translate and See with this AWS AI Services Chrome Extension</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用这个AWS人工智能服务Chrome扩展来说话、翻译和观看</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/speak-translate-and-see-with-this-aws-ai-services-chrome-extension-cba7a40edb8a?source=collection_archive---------29-----------------------#2018-08-29">https://medium.com/hackernoon/speak-translate-and-see-with-this-aws-ai-services-chrome-extension-cba7a40edb8a?source=collection_archive---------29-----------------------#2018-08-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ff4d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我学习<a class="ae jp" href="https://hackernoon.com/tagged/aws" rel="noopener ugc nofollow" target="_blank"> AWS </a>服务已经一年多了。一方面，我一直在学习如何使用它们，另一方面，我一直在博客上谈论如何轻松地使用它们。在我的博客中，我试图找到不同的用例，并思考不同的集成可能性。</p><p id="0fdf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在<a class="ae jp" href="https://hackernoon.com/serverless-allergy-checker-with-amazon-rekognition-lex-polly-dynamodb-s3-and-lambda-35fd215b51b0" rel="noopener ugc nofollow" target="_blank">我的</a> <a class="ae jp" href="http://ceyhunozgun.blogspot.com/2017/07/nobody-understands-you-theres-app-for-that-with-amazon-lex.html" rel="noopener ugc nofollow" target="_blank">以前的</a> <a class="ae jp" href="http://ceyhunozgun.blogspot.com/2017/05/look-whos-talking-creating-web-application-that-talks-with-amazon-polly.html" rel="noopener ugc nofollow" target="_blank">博客</a>中，我写过关于在web应用程序中使用Lex、Polly和Rekognition的文章。在<a class="ae jp" href="https://hackernoon.com/ai-is-hard-its-child-s-play-with-this-aws-ai-services-scratch-extension-32bed8669d36" rel="noopener ugc nofollow" target="_blank">我的上一篇文章</a>中，我开发了一个Scratch扩展，用于集成Polly和Translate与Scratch，为我们的孩子提供一种简单的人工智能教学方法。</p><p id="1dc1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这篇文章中，我将展示我们如何开发一个Google Chrome扩展来在Google Chrome中使用AWS <a class="ae jp" href="https://hackernoon.com/tagged/ai-services" rel="noopener ugc nofollow" target="_blank"> AI服务</a>。通过该扩展，您可以使用Polly大声朗读所选文本，使用Amazon Translate翻译所选内容，并使用Amazon Rekognition检测图像中的文本。</p><p id="e982" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以查看下面的扩展演示。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="jv jw l"/></div></figure><h1 id="c3fb" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">谷歌浏览器扩展</h1><p id="0bba" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">Google Chrome扩展是专门打包的web应用程序，为Google Chrome浏览器提供了额外的功能。它们托管在<a class="ae jp" href="https://chrome.google.com/webstore/category/extensions" rel="noopener ugc nofollow" target="_blank"> Chrome网络商店</a>。你可以在商店上搜索扩展，然后一键安装到你的谷歌Chrome浏览器。你可以在这里找到更多关于扩展架构的信息。</p><h1 id="268f" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">我们的分机</h1><p id="5f5f" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">你可以从<a class="ae jp" href="https://chrome.google.com/webstore/detail/speak-translate-and-see-w/hijkpjghojhbppoipnkjhkpcmcdolape?hl=en" rel="noopener ugc nofollow" target="_blank">这里</a>使用Chrome网络商店安装扩展。你可以在这里找到扩展<a class="ae jp" href="https://github.com/ceyhunozgun/awsAIChromeExtension" rel="noopener ugc nofollow" target="_blank">的源码。</a></p><p id="c3b6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们的扩展由四部分组成。清单文件、后台脚本、内容脚本和弹出页面。</p><p id="322f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">清单文件描述了扩展名。它定义了权限、将作为背景和内容脚本加载的脚本以及显示弹出页面的浏览器动作。</p><p id="6b93" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">后台脚本是调用AWS服务的主要部分。后台脚本只加载一次，并接受来自加载到页面上的内容脚本的消息。</p><p id="f7da" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">内容脚本被加载到页面上，并访问文本字段和图像等页面元素。此外，它还显示了接受输入和显示输出的对话框。它向后台脚本发送消息来调用AWS服务。</p><p id="d9dd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">弹出页面用于配置AWS凭据。获取凭证后，它们将被发送到后台脚本，以便存储在特定于扩展的存储中。</p><h1 id="9271" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">清单文件</h1><p id="32cb" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">json文件是描述Chrome扩展的清单文件。它列出了将作为后台和内容脚本加载的脚本以及所需的权限。此外，该文件中定义了弹出页面。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="la jw l"/></div><figcaption class="lb lc fg fe ff ld le bd b be z ek">The manifest file</figcaption></figure><h1 id="7635" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">背景脚本</h1><p id="0d09" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">这个脚本为扩展提供了主干。它提供对AWS服务和存储的访问。此外，它还为页面创建了上下文菜单。</p><p id="4a43" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了访问AWS服务，我们使用浏览器的<a class="ae jp" href="https://aws.amazon.com/sdk-for-browser/" rel="noopener ugc nofollow" target="_blank"> AWS JavaScript SDK。AWS凭证由弹出页面从用户处获取，并存储在特定于扩展的存储中。这种存储提供了类似localStorage API的功能。</a></p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="la jw l"/></div></figure><p id="124a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">加载扩展时会创建上下文菜单。Polly和Translate服务用于选择，因此它们的命令是为选择上下文创建的。</p><p id="5bae" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Authy token read命令是为input和textarea等可编辑元素创建的。</p><p id="ec8f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，为图像元素创建检测文本命令。</p><p id="aa30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些上下文菜单显示在参与选项卡的页面中。当用户选择一个菜单项时，在后台脚本中调用onClicked处理程序，如下所示。该处理程序将相应的消息发送到活动选项卡，以便在页面中显示对话框。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="la jw l"/></div></figure><h1 id="d49d" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">内容脚本</h1><p id="f92b" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">虽然后台脚本只加载一次，但对于每个选项卡，内容脚本会加载多次。内容脚本在后台脚本和它们被加载到的页面的页面元素之间提供了一座桥梁。</p><p id="a2d9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦加载到页面上，它就注册“contexmenu”处理程序来存储被单击的元素。</p><p id="bdd7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">一旦选择了一个菜单项，后台脚本就会发送一条消息并执行onMessage处理程序。处理程序检查扩展的状态，并调用处理消息的processContextMenu函数。每个命令都显示其对话框，用于接收用户输入并显示输出。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="la jw l"/></div></figure><p id="41bf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，使用Polly朗读所选文本的read selection命令编码如下。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="la jw l"/></div></figure><h1 id="11db" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">弹出页面</h1><p id="03d2" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">当点击Chrome工具栏中的按钮时，会显示弹出页面。该按钮在清单文件中声明。弹出页面用于配置AWS凭据。它获取凭证和AWS区域，并通过向后台脚本发送消息来保存凭证以供以后使用。弹出页面在popup.html文件中声明，如下所示。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff lf"><img src="../Images/91e9df40ea8ecba5a2a3d34e27821e70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*em_46whkM-2HMdEmSsdXAA.png"/></div></div></figure><h1 id="16cf" class="jx jy hu bd jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku dt translated">摘要</h1><p id="dd99" class="pw-post-body-paragraph ir is hu it b iu kv iw ix iy kw ja jb jc kx je jf jg ky ji jj jk kz jm jn jo hn dt translated">在这篇文章中，我展示了如何开发一个Chrome扩展，以便在Google Chrome浏览器中使用AWS AI服务。使用该扩展，您可以使用Amazon Polly阅读页面中的选定文本，使用Amazon Translate翻译文本，并使用Amazon Rekognition检测图像中的文本。</p><p id="cc64" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">未来打算增加Amazon Rekognition的名人识别和物体、场景检测功能，有兴趣请继续关注。</p><p id="6aaa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在这里找到代码<a class="ae jp" href="https://github.com/ceyhunozgun/awsAIChromeExtension" rel="noopener ugc nofollow" target="_blank">。另外，你可以在这里找到关于使用扩展</a><a class="ae jp" href="https://github.com/ceyhunozgun/awsAIChromeExtension/wiki" rel="noopener ugc nofollow" target="_blank">的详细信息。你可以从</a><a class="ae jp" href="https://chrome.google.com/webstore/detail/speak-translate-and-see-w/hijkpjghojhbppoipnkjhkpcmcdolape?hl=en" rel="noopener ugc nofollow" target="_blank">这里</a>安装分机。</p><p id="86fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢这篇文章，你可能会喜欢我上一篇关于在Scratch中使用AWS AI服务的文章:</p><div class="lm ln fm fo lo lp"><a href="https://hackernoon.com/ai-is-hard-its-child-s-play-with-this-aws-ai-services-scratch-extension-32bed8669d36" rel="noopener  ugc nofollow" target="_blank"><div class="lq ab ej"><div class="lr ab ls cl cj lt"><h2 class="bd hv fv z el lu eo ep lv er et ht dt translated">AI难？使用这个AWS人工智能服务Scratch扩展简直是小菜一碟</h2><div class="lw l"><h3 class="bd b fv z el lu eo ep lv er et ek translated">在我之前的帖子中，我提到过我们应该让我们的孩子为未来做好准备。在未来，为了成功我们的…</h3></div><div class="lx l"><p class="bd b gc z el lu eo ep lv er et ek translated">hackernoon.com</p></div></div><div class="ly l"><div class="lz l ma mb mc ly md lk lp"/></div></div></a></div><p id="2426" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你喜欢这个帖子，请鼓掌，关注并分享。</p><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="me jw l"/></div></figure></div></div>    
</body>
</html>