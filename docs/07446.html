<html>
<head>
<title>Can you solve a person detection task in 10 minutes?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你能在10分钟内解决一个人的检测任务吗？</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/can-you-solve-a-person-detection-task-in-10-minutes-74fba061194c?source=collection_archive---------3-----------------------#2018-09-02">https://medium.com/hackernoon/can-you-solve-a-person-detection-task-in-10-minutes-74fba061194c?source=collection_archive---------3-----------------------#2018-09-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="8d8c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">剧透:当然可以！💪</p><h1 id="1366" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">动机</h1><p id="3bf4" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">人物检测任务真的无处不在。如果你从事计算机视觉领域的工作，很可能你以前也面临过这个任务。你可以采取几乎任何行业和个人检测将出现。这些例子是:</p><ul class=""><li id="27a3" class="ks kt hu it b iu iv iy iz jc ku jg kv jk kw jo kx ky kz la dt translated"><strong class="it hv">自驾。</strong>识别道路场景中的行人</li><li id="8927" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated"><strong class="it hv">零售。</strong>分析超市内顾客的行为</li><li id="ab6c" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated"><strong class="it hv">时尚。</strong>识别特定品牌和穿着它们的人</li><li id="ae11" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated"><strong class="it hv">安全。限制某些人进入某些地方</strong></li><li id="ea25" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated"><strong class="it hv">手机应用。</strong>找到一个人，应用酷滤镜</li></ul><p id="1ebe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是今天的任务有多难呢？</p><p id="12e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">嗯，5年前，主流解决方案是使用opencv构建的，基于Haar-like特征之上的级联分类器。这些检测器需要时间和精力来建造，而且以今天的标准来看，检测质量并不是很好。</p><p id="09fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在深度学习时代，特征工程和简单分类器的结合被抛在脑后(至少在涉及计算机视觉时)，神经网络主导了该领域。</p><p id="ab2d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">实际上，在github 上有很多人检测的实现。比如看一下<a class="ae lg" href="https://github.com/rbgirshick/py-faster-rcnn" rel="noopener ugc nofollow" target="_blank">这个</a>和<a class="ae lg" href="https://github.com/tensorflow/models/tree/master/research/object_detection" rel="noopener ugc nofollow" target="_blank">这个</a>回购。</p><p id="d0cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尽管如此，即使在今天，仍有公司不断联系我们(<a class="ae lg" href="https://deepsystems.ai/" rel="noopener ugc nofollow" target="_blank"> DeepSystems.ai </a>)，要求我们帮助他们完成这项特殊的任务。希望在读完这篇博文后，您会发现运行person detector来完成您的任务是可行的。</p><h1 id="befe" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">让我们选择工具</h1><p id="e4a5" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">我们将使用<a class="ae lg" href="https://supervise.ly/" rel="noopener ugc nofollow" target="_blank"> Supervise.ly平台</a>来处理人员检测任务。除了促销之外，还有以下原因:</p><ul class=""><li id="a928" class="ks kt hu it b iu iv iy iz jc ku jg kv jk kw jo kx ky kz la dt translated">我们需要5分钟来得到初始解</li><li id="a7b2" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated">无需编写代码并在各种开发工具之间来回切换</li><li id="4b2f" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated">我们开箱即用:一堆预先训练好的模型、可视化和部署</li></ul><h1 id="818a" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">如何完成这项任务</h1><p id="ddc4" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">实际上，我们有两种方法来解决这个任务:(1)使用预先训练的模型或者(2)训练我们自己的人检测器。</p><p id="3589" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有了Supervise.ly，你可以两种方式都做，但是，为了简单起见，我们将专注于第一种——我们将使用基于<a class="ae lg" href="https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/detection_model_zoo.md" rel="noopener ugc nofollow" target="_blank"> NASNet的更快的R-CNN模型，它是在COCO数据集</a>上预先训练的。</p><p id="67e1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，我们的高级计划如下:</p><p id="335a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">一、设置人员探测器模型</strong></p><p id="1ef1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">二世。检测图像上的人物以检查质量</strong></p><p id="1fdc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">三世。为生产应用部署模型</strong></p><p id="ae21" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们开始…</p><h1 id="3ecb" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">逐步指南</h1><p id="9cf3" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">首先我们需要去<a class="ae lg" href="https://supervise.ly/" rel="noopener ugc nofollow" target="_blank"> Supervise.ly </a>网站，唱进去。然后，只需遵循下面的逐步指南。</p><h2 id="5d76" class="lh jq hu bd jr li lj lk jv ll lm ln jz jc lo lp kd jg lq lr kh jk ls lt kl lu dt translated"><strong class="ak">一、设置人员探测器模型</strong></h2><p id="fce1" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">设置检测机模型很容易。为此，我们需要将您的GPU机器连接到Supervise.ly，然后选择一个预先训练好的模型。</p><p id="a5a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 1。将您的GPU机器连接到Supervise.ly平台</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma mb mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/601fd770b7f32afcdd376a11a0babf25.png" data-original-src="https://miro.medium.com/v2/resize:fit:624/format:webp/1*DBH6jTuVAhdFpzPFu45d7g.png"/></div></figure><figure class="lz ma mm mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/d54b6ad01202c73e69b32444f37ec692.png" data-original-src="https://miro.medium.com/v2/resize:fit:688/format:webp/1*1Vmveqbh2jwQsVvrM3fqrg.png"/></div></figure><figure class="lz ma mn mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/8393525478af534735638bb7f5be8fd8.png" data-original-src="https://miro.medium.com/v2/resize:fit:692/format:webp/1*hHkM1384ti3M_PdcGHXuhQ.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek ms di mt mu">(1) click “connect your first node” button (2) run selected command in your terminal (3) check that your computer is connected to the platform</figcaption></figure></div><p id="5326" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">转到群集页面，单击“连接您的第一个节点”按钮(1)。然后，您将看到以下窗口(2)。只需复制命令并在您的终端中执行它。Python代理将安装在您的机器上，并显示在可用节点列表中(3)。</p><p id="5c51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 2。选择一个预先训练好的模型</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma mv mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/1546880f21fc9012876789a63ba7bb18.png" data-original-src="https://miro.medium.com/v2/resize:fit:514/format:webp/1*P6WmkZS1v8736Hugcy2H_g.png"/></div></figure><figure class="lz ma mw mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/baf1750e2b9b03bde6bcb4d1041de6d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:804/format:webp/1*JqB3lQIRD80GCwTj5B3o1A.png"/></div></figure><figure class="lz ma mx mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/faa75364bc6ddcdcd3fb41972d1ce328.png" data-original-src="https://miro.medium.com/v2/resize:fit:684/format:webp/1*ujKGJ8u_L-dsNVgB5_QuBQ.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek my di mz mu">(1) go to Model Zoo page (2) pick your detector (3) check “My Models” list</figcaption></figure></div><p id="81ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">转到“神经网络”-&gt;“模型动物园”页面(1)。你会看到一堆预先训练好的模型，用于语义分割和对象检测任务。如果您将光标悬停在“FasterRCNN NasNet”上，您将看到“添加型号”按钮(2)。点击后，该型号将出现在“我的型号”列表中(3)。</p><p id="4b31" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，更快的R-CNN探测器已经准备好了。下一步是检查它如何适用于您的图像。</p><h2 id="f90c" class="lh jq hu bd jr li lj lk jv ll lm ln jz jc lo lp kd jg lq lr kh jk ls lt kl lu dt translated">二。检测图像上的人物以检查质量</h2><p id="65a3" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">在将模型部署为API之前，最好将神经网络预测可视化，以了解它是否符合您的要求。超级简单:拖放你的图片，点击几下就可以运行推理过程。</p><p id="d594" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 1。导入您的图像</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma na mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/1271f177d8583fbef50cd399d9b0b421.png" data-original-src="https://miro.medium.com/v2/resize:fit:792/format:webp/1*ti8qxJAO32U47CIMYklUBQ.png"/></div></figure><figure class="lz ma nb mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/ab6b05f3dd84c7901c301ed8635635b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:422/format:webp/1*YTD-P-tAEhQysaJk5BDUSA.png"/></div></figure><figure class="lz ma nc mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/e88677cdbfb8df4ee22d362013407ce0.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*dRDAky3k1T9TJE-jODFWlw.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek nd di ne mu">(1) go to “Import”-&gt;”Upload” page and drag&amp;drop your images (2) define project name and start import (3) check “Projects” page</figcaption></figure></div><p id="0fb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">转到导入页面，拖放包含测试图像的文件夹(1)。命名保存图像的项目。在我们的例子中，项目名称是“test_images”。然后单击开始导入按钮(2)。导入过程完成后，转到“项目”页面，检查您的图像项目已创建(3)。</p><p id="746c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 2。运行推理过程</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma nf mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/adc9e1db27f81a0effe76aa10f6411f4.png" data-original-src="https://miro.medium.com/v2/resize:fit:728/format:webp/1*QA5ZSL4-9qcnfaFWT5IdMg.png"/></div></figure><figure class="lz ma ng mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/f469bf21f09f39654e16d8ca6b59aed0.png" data-original-src="https://miro.medium.com/v2/resize:fit:776/format:webp/1*qDd00XsLz4HbQMJBfTcAFA.png"/></div></figure><figure class="lz ma nh mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/1f9b30631f2480d23cc053530f4c0aca.png" data-original-src="https://miro.medium.com/v2/resize:fit:498/format:webp/1*PL_KLgN-9vqBfiKI69G2QA.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek ni di nj mu">(1) click “Test” button (2) choose a project (3) define inference parameters</figcaption></figure></div><p id="b034" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在让我们在您的图像上测试我们的人员检测器。转到“我的车型”页面，点击“测试”按钮(1)。然后你选择一个带有图像的项目来探测人物。在我们的例子中，它是“test_images”项目，然后单击“Next”按钮(2)。然后，我们应该指定存储检测结果的项目的名称。在我们的例子中，它是“inf_test_images”项目(3)。</p><p id="842b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">剩下的唯一事情就是选择一个推理模式。在列表中选择“推理_完整_图像”。最后一步是替换该行:</p><pre class="lv lw lx ly fq nk nl nm nn aw no dt"><span id="c5a5" class="lh jq hu nl b fv np nq l nr ns">“save_classes”: “__all__”,</span></pre><p id="3bec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用这一行:</p><pre class="lv lw lx ly fq nk nl nm nn aw no dt"><span id="01e8" class="lh jq hu nl b fv np nq l nr ns">“save_classes”: [“person”],</span></pre><p id="9699" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，点击“开始推理”按钮。</p><p id="ce01" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 3。检查结果</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma nt mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/c2c92fa54f5d3ed217c84a5003fcb077.png" data-original-src="https://miro.medium.com/v2/resize:fit:986/format:webp/1*X4XmTDzhRh_JFsQ75_HG_g.png"/></div></figure><figure class="lz ma nu mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/543cea4170bb1125da8098bb0d4526d8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1016/format:webp/1*iM-xQmkTKRmk6dizcXgGDw.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek nv di nw mu">(1) click to the resulting project (2) look at predictions</figcaption></figure></div><p id="2ccb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">推理过程完成后，您将在项目页面(1)上看到“inf_test_images”。要直观地检查结果(2)，请单击“inf_test_images”项目，然后单击该项目中的数据集。</p><p id="0a21" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">既然我们已经理解了我们的模型满足需求，那么让我们进入最后一步——模型部署。</p><h2 id="247d" class="lh jq hu bd jr li lj lk jv ll lm ln jz jc lo lp kd jg lq lr kh jk ls lt kl lu dt translated">三。为生产应用程序部署模型</h2><p id="fe1c" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">在大多数情况下，一旦我们对检测质量感到满意，我们就需要通过API使用定制环境中的模型。下面的说明描述了如何为生产应用程序部署模型。</p><p id="af8b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 1。部署人员检测模型</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma nx mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/4c8119d7c1eec427a3ee6f7ec7109718.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*JDRsBNiKcquu6EJsPjg_lA.png"/></div></figure><figure class="lz ma ny mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/8585e194c537fbaf14d80f93b13494f6.png" data-original-src="https://miro.medium.com/v2/resize:fit:484/format:webp/1*pQSosvxhTG_fMvtLqAZc8Q.png"/></div></figure><figure class="lz ma nz mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/594d7a7b3dc878a4ab6c4a8b33f5547a.png" data-original-src="https://miro.medium.com/v2/resize:fit:760/format:webp/1*SKNSeMh41PWucaYI3dpRLw.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek oa di ob mu">(1) click “Deploy” button (2) specify and submit deployment parameters (3) make sure the task is completed</figcaption></figure></div><p id="aa93" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">转到“我的型号”页面，然后单击“部署”按钮(1)。然后，在指定目标GPU机器和设备后，单击“提交”按钮(2)。结果，一个新的任务将被创建，并且，一旦它被完成(3)您可以发送API请求到您的人员检测模型。</p><p id="59b4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv"> 2。发送API请求</strong></p><div class="lv lw lx ly fq ab cb"><figure class="lz ma oc mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/3ef8349adbd8baba69d22ac31faca290.png" data-original-src="https://miro.medium.com/v2/resize:fit:1370/format:webp/1*vCwbRXmH-Yob_PdLFGqMBQ.png"/></div></figure><figure class="lz ma od mc md me mf paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><img src="../Images/09ccc7eb9e235699707045af4b310ec4.png" data-original-src="https://miro.medium.com/v2/resize:fit:632/format:webp/1*ciyPoFebEJXbHpic0EUYgA.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek oe di of mu">(1) click “Deploy API Info” item (2) get deployment information</figcaption></figure></div><p id="475e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在调用API之前，我们需要获取令牌和url信息。为此，在“集群-&gt;任务”页面上，从上下文菜单(1)中单击“部署API信息”。在下一页，您将看到通过API (2)使用我们的检测模型所需的所有信息。</p><p id="3709" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">更具体地说，在这里②我们可以看到:</p><ol class=""><li id="16a3" class="ks kt hu it b iu iv iy iz jc ku jg kv jk kw jo og ky kz la dt translated"><strong class="it hv"> API令牌。</strong><em class="oh">rsiytrsbsye 5 bixryycfbljf 13 jqvq 4 neeuuxx 2 OE 1 sdkwgdpmerjz 0 thekljadilv 8 cqrosxmvmirjvoof 025 mr8 XB 88 fesrdbbeaypk L2 mwj 1 maztj 2 fiden 4 umnp</em></li><li id="f7c7" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo og ky kz la dt translated"><strong class="it hv">网址。</strong>T10】https://app . supervise . ly/public/API/v1/models/435/deploy/upload</li></ol><p id="f1e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">3.<strong class="it hv">用法举例。</strong></p><p id="1ea0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">很明显，但我还是要说，你的API令牌和URL与上面的不同。</p><p id="3d53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，假设您有“dl_heroes.jpg”图像</p><figure class="lv lw lx ly fq ma fe ff paragraph-image"><div class="fe ff oi"><img src="../Images/1e14b19a66d18655c6286d454ff50fc1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*8OB1hzNhn4zp96tI_bNoGw.jpeg"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Yann LeCun, Geoffrey Hinton, Yoshua Bengio, Andrew Ng</figcaption></figure><p id="6650" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，如果您在终端中运行以下命令:</p><pre class="lv lw lx ly fq nk nl nm nn aw no dt"><span id="3574" class="lh jq hu nl b fv np nq l nr ns">curl -XPOST -H ‘X-API-KEY: <strong class="nl hv">YourToken</strong>’ -F ‘image=<a class="ae lg" href="http://twitter.com/mypicture" rel="noopener ugc nofollow" target="_blank">@</a><strong class="nl hv">dl_heroes.jpg</strong>;type=image/jpeg’ <strong class="nl hv">YourUrl</strong></span></pre><p id="02a1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然后，Supervise.ly会以json格式给你回检测结果:</p><pre class="lv lw lx ly fq nk nl nm nn aw no dt"><span id="3877" class="lh jq hu nl b fv np nq l nr ns">[{"tags":[],"description":"","objects":[{"bitmap":{"origin":[],"np":[]},"type":"rectangle","classTitle":"person","description":"","tags":[],"points":{"exterior":[[343,87],[493,375]],"interior":[]},"score":0.999502420425415},{"bitmap":{"origin":[],"np":[]},"type":"rectangle","classTitle":"person","description":"","tags":[],"points":{"exterior":[[0,94],[149,375]],"interior":[]},"score":0.9994213581085205},{"bitmap":{"origin":[],"np":[]},"type":"rectangle","classTitle":"person","description":"","tags":[],"points":{"exterior":[[247,96],[367,377]],"interior":[]},"score":0.9987866282463074},{"bitmap":{"origin":[],"np":[]},"type":"rectangle","classTitle":"person","description":"","tags":[],"points":{"exterior":[[138,96],[256,378]],"interior":[]},"score":0.99868243932724},{"bitmap":{"origin":[],"np":[]},"type":"rectangle","classTitle":"person","description":"","tags":[],"points":{"exterior":[[100,133],[129,177]],"interior":[]},"score":0.9136056900024414}],"size":{"width":506,"height":380}}]</span></pre><p id="a0d4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上面的Json对应于所有检测到的对象，包括坐标和置信度。可视化之后，我们得到</p><figure class="lv lw lx ly fq ma fe ff paragraph-image"><div class="fe ff oj"><img src="../Images/f38b82b9b9c084ba82c69fcc30a73090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1374/format:webp/1*nNgHfLHAgIrUQ2vnoftCwA.png"/></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Visualization of predictions returned by API</figcaption></figure><p id="2bad" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了使生活更加简单，我们提供了一个<a class="ae lg" href="https://github.com/supervisely/supervisely/blob/master/tutorials/01_person_detector_api/src/deploy_faster-rcnn_as_api.ipynb" rel="noopener ugc nofollow" target="_blank"> python笔记本</a>，它实现API调用并可视化检测结果。我们鼓励你玩它！</p><figure class="lv lw lx ly fq ma fe ff paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="fe ff ok"><img src="../Images/9d3d0d6152d640b2f596ec25d2a7e9c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R1NdeJr7c7JByvLUANY6Ww.png"/></div></div><figcaption class="mo mp fg fe ff mq mr bd b be z ek">Jupyter notebook (not much code here)</figcaption></figure><h1 id="1a20" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">回到主要问题</h1><p id="08ce" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">回想一下题目中的问题“你能在10分钟内解决一个人的检测任务吗？”</p><ul class=""><li id="2717" class="ks kt hu it b iu iv iy iz jc ku jg kv jk kw jo kx ky kz la dt translated">快速回答是肯定的，按照上面的说明做就行了。</li><li id="9033" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo kx ky kz la dt translated">更周到的回答是“看情况”，魔鬼一如既往地在细节中。</li></ul><p id="c6f6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">同样，需要进行人员检测的应用程序数量巨大。以下是导致头痛的三个最常见的因素:</p><ol class=""><li id="180a" class="ks kt hu it b iu iv iy iz jc ku jg kv jk kw jo og ky kz la dt translated"><strong class="it hv">硬件限制</strong>。对于一些应用程序来说，使用板载高端GPU的台式计算机是可以的。其他应用程序应该可以在手机或机器人内部运行。在这种情况下，我们需要使用小的&amp;快速神经网络，代价是模型精度。</li><li id="1977" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo og ky kz la dt translated"><strong class="it hv">实时需求</strong>。例如，在自动驾驶行业，软件应该实时工作。在这种情况下，最新的GPU仍然不够强大，无法运行更快的R-CNN的最新实现。因此，我们不得不再次牺牲准确性，选择更简单的模型。</li><li id="cfd4" class="ks kt hu it b iu lb iy lc jc ld jg le jk lf jo og ky kz la dt translated"><strong class="it hv">具体情况</strong>。如果我们开发一个安全应用程序，那么，很有可能，我们必须在晚上发现不受欢迎的人。不能保证开箱即用的检测机能够解决这个问题。很多其他的变化都是可能的——不同的天气，不同的拍摄角度或者一个人只有一小部分是可见的。好消息是，我们可以训练模型在特定的条件下很好地工作，但这可能需要我们做一些额外的工作。</li></ol><p id="b423" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在未来，我们将发表一系列的博客文章来解决更复杂的情况，包括自定义对象检测器的训练</p><p id="1dc6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你觉得这篇文章有趣，给它一些👏，让更多的人可以看到它！</p></div></div>    
</body>
</html>