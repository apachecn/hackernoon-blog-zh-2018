<html>
<head>
<title>Three input element properties that I discovered while reading MDN</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我在阅读MDN时发现的三个输入元素属性</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/three-input-element-properties-that-i-discovered-while-reading-mdn-662ee0b4f17c?source=collection_archive---------20-----------------------#2018-09-02">https://medium.com/hackernoon/three-input-element-properties-that-i-discovered-while-reading-mdn-662ee0b4f17c?source=collection_archive---------20-----------------------#2018-09-02</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="d3ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最近我在读推特，无意中发现了丹·阿布拉莫夫的一条推文。他分享的一小段代码引起了我的注意。它包含一些JavaScript，这些JavaScript从DOM ( <a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model" rel="noopener ugc nofollow" target="_blank">文档对象模型</a>)中访问输入元素，并读取或更改它的一些属性。让我感到兴奋和惊讶的是房产<code class="eh jq jr js jt b">defaultValue</code>。</p><p id="38f5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我立即打开<a class="ae jp" href="https://hackernoon.com/tagged/mdn" rel="noopener ugc nofollow" target="_blank"> MDN </a>来阅读更多关于<code class="eh jq jr js jt b">HTTMLInputElements</code>的属性，并偶然发现了一些我不知道的属性，这促使我写了这篇短文。</p><p id="47be" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以我们开始吧！</p><h1 id="0afa" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated"><code class="eh jq jr js jt b">defaultValue</code></h1><p id="904e" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">这是Dan的Tweet示例——让我们快速浏览一下，假设您有一些HTML，并查询一个定义了<code class="eh jq jr js jt b">value</code>属性(属性在HTML中定义，而属性属于JavaScript对象)的input元素。</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="3af5" class="lf jv hu jt b fv lg lh l li lj">&lt;input type="text" value="Hello world"&gt;</span></pre><p id="8963" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你现在可以抓住这个元素，开始摆弄它。</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="50e0" class="lf jv hu jt b fv lg lh l li lj">const input = document.querySelector('input'); console.log(input.value);        // 'Hello world'<br/>input.value = 'New value';<br/>console.log(input.value);        // 'New value' console.log(input.defaultValue); // 'Hello world'</span></pre><p id="993f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如您看到的，属性<code class="eh jq jr js jt b">value</code>中定义的值最初反映在元素属性<code class="eh jq jr js jt b">value</code>中。我完全理解。当您现在更改<code class="eh jq jr js jt b">value</code>时，您仍然可以使用<code class="eh jq jr js jt b">defaultValue</code>访问“初始值”(复选框<code class="eh jq jr js jt b">defaultChecked</code>也可用)。相当酷！</p><p id="9c06" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement#Properties" rel="noopener ugc nofollow" target="_blank">对于<code class="eh jq jr js jt b">defaultValue</code>的MDN定义</a>如下:</p><blockquote class="lk ll lm"><p id="68d8" class="ir is ln it b iu iv iw ix iy iz ja jb lo jd je jf lp jh ji jj lq jl jm jn jo hn dt translated"><em class="hu"> [It]返回/设置创建该对象的HTML中最初指定的默认值。</em></p></blockquote><p id="9293" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你愿意，你可以在<a class="ae jp" href="https://codepen.io/stefanjudis/pen/eLvMMx" rel="noopener ugc nofollow" target="_blank"> a CodePen </a>中摆弄代码。</p><h1 id="b7f4" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated"><code class="eh jq jr js jt b">indeterminate</code></h1><p id="ca06" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">这个<code class="eh jq jr js jt b">indeterminate</code>属性很吸引人。您知道复选框除了选中和未选中之外，还可以有一个额外的可视状态吗？<code class="eh jq jr js jt b">indeterminate</code>是一个属性(它没有属性),您可以使用它将这个小破折号放入您可能经常看到的复选框中。</p><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="a155" class="lf jv hu jt b fv lg lh l li lj">const input = document.querySelector('input');<br/>input.indeterminate = true;</span></pre><figure class="kx ky kz la fq ls fe ff paragraph-image"><div class="fe ff lr"><img src="../Images/2caca93c5b6fe56b5c406b8909b2af8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/0*5zkdntdihVRenby_.png"/></div></figure><p id="3257" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">将<code class="eh jq jr js jt b">indeterminate</code>设置为<code class="eh jq jr js jt b">true</code>对checkbox的值没有任何影响，我能想到的唯一合理的用例是嵌套的checkbox，就像<a class="ae jp" href="https://css-tricks.com/indeterminate-checkboxes/" rel="noopener ugc nofollow" target="_blank"> Chris Coyier在CSSTricks </a>上描述的那样。</p><p id="7a9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><code class="eh jq jr js jt b">indeterminate</code>虽然不仅仅适用于复选框。它也可以用于单选按钮和进度元素。让我们看一组单选按钮，其中没有单选按钮被选中。当您没有预选一组单选按钮中的一个元素时，它们都没有被选中，也没有被选中——因此它们都处于<code class="eh jq jr js jt b">indeterminate</code>状态。</p><p id="df0c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">酷的是，你还可以使用CSS伪类<code class="eh jq jr js jt b">:indeterminate</code>伪类来选择元素，当一个组中没有单选按钮被选中时，这可以方便地显示特定的UI组件。</p><figure class="kx ky kz la fq ls fe ff paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="fe ff lv"><img src="../Images/e7331f6417df4400b85587ca6292c8d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*AB1CtGbN8QoyHzK_.png"/></div></div></figure><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="7839" class="lf jv hu jt b fv lg lh l li lj">.msg {<br/>  display: none;<br/>}</span><span id="8f93" class="lf jv hu jt b fv ma lh l li lj">input:indeterminate ~ .msg {<br/>  display: block;<br/>}</span></pre><p id="224a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关于属性<code class="eh jq jr js jt b">indeterminate</code>有趣的是，您可以将它设置为<code class="eh jq jr js jt b">true</code>或<code class="eh jq jr js jt b">false</code>，这将影响复选框的伪类，但不会影响单选按钮的伪类。<strong class="it hv">处理单选按钮一组的实际选择状态总是正确的</strong>。</p><p id="3bdf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了完整起见，只提一下进度元素<a class="ae jp" href="https://developer.mozilla.org/de/docs/Web/HTML/Element/progress" rel="noopener ugc nofollow" target="_blank">当它们没有定义<code class="eh jq jr js jt b">value</code>属性时</a>也会匹配一个包含<code class="eh jq jr js jt b">:indeterminate</code>的选择器。</p><p id="a0b1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement#Properties" rel="noopener ugc nofollow" target="_blank">对于<code class="eh jq jr js jt b">indeterminate</code>的MDN定义</a>如下:</p><blockquote class="lk ll lm"><p id="9b31" class="ir is ln it b iu iv iw ix iy iz ja jb lo jd je jf lp jh ji jj lq jl jm jn jo hn dt translated"><em class="hu">【It】表示复选框或单选按钮没有值，处于不确定状态。复选框将外观更改为类似于第三种状态。不会影响选中属性的值，单击复选框会将该值设置为false。</em></p></blockquote><p id="c13f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你愿意，你可以在<a class="ae jp" href="https://codepen.io/stefanjudis/pen/WgpzYy" rel="noopener ugc nofollow" target="_blank"> a CodePen </a>中摆弄代码。</p><h1 id="1622" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated"><code class="eh jq jr js jt b">selectionStart</code>、<code class="eh jq jr js jt b">selectionEnd</code>和<code class="eh jq jr js jt b">selectionDirection</code></h1><p id="a84b" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">这三个属性可以用来判断用户选择了什么，使用起来非常简单。如果用户选择了输入字段中的文本，您可以使用这些来评估所选择的内容。</p><figure class="kx ky kz la fq ls fe ff paragraph-image"><div class="fe ff mb"><img src="../Images/c7e5ba8d7ce2210cb8136d6057ffc553.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/format:webp/0*m49GKXpAW548Su2U.png"/></div></figure><pre class="kx ky kz la fq lb jt lc ld aw le dt"><span id="388f" class="lf jv hu jt b fv lg lh l li lj">const input = document.querySelector('input');</span><span id="2504" class="lf jv hu jt b fv ma lh l li lj">setInterval( _ =&gt; {<br/>  console.log(<br/>    input.selectionStart,<br/>    input.selectionEnd,<br/>    input.selectionDirection;<br/>  ); // e.g. 2, 5, "forward"<br/>}, 1000);</span></pre><p id="abac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了测试这一点，我定义了一个间隔，每秒记录一次选择值。<code class="eh jq jr js jt b">selectionStart</code>和<code class="eh jq jr js jt b">selectionEnd</code>返回描述我的选择位置的数字，但是当你用鼠标或触控板选择东西时<code class="eh jq jr js jt b">selectionDirection</code>意外地返回<code class="eh jq jr js jt b">none</code>，而当你用SHIFT和箭头键或控制键选择文本时则返回<code class="eh jq jr js jt b">forward</code>或<code class="eh jq jr js jt b">backward</code>。</p><p id="67d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你愿意，你可以在<a class="ae jp" href="https://codepen.io/stefanjudis/pen/yxMjWe" rel="noopener ugc nofollow" target="_blank"> a CodePen </a>中摆弄代码。</p><p id="d0c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅此而已。:)</p><h1 id="2fc2" class="ju jv hu bd jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr dt translated">快速(和简短)的结论</h1><p id="4332" class="pw-post-body-paragraph ir is hu it b iu ks iw ix iy kt ja jb jc ku je jf jg kv ji jj jk kw jm jn jo hn dt translated">MDN是一个不可思议的资源。即使在使用<code class="eh jq jr js jt b">input</code>元素八年后，现在总有新的东西要发现，这就是我喜欢web开发的原因。就我个人而言，我尝试定期阅读随机的MDN文章(我有一个每日Slack-bot提醒我打开<a class="ae jp" href="http://bit.ly/randommdn" rel="noopener ugc nofollow" target="_blank">bit.ly/randommdn</a>)因为总有东西可以发现，我只能强烈推荐它！</p><p id="d8bc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">感谢阅读！❤️</p></div><div class="ab cl mc md hc me" role="separator"><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh mi"/><span class="mf bw bk mg mh"/></div><div class="hn ho hp hq hr"><p id="0d46" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="ln">原载于</em><a class="ae jp" href="https://www.stefanjudis.com/blog/three-input-element-properties-that-i-discovered-while-reading-mdn/" rel="noopener ugc nofollow" target="_blank"><em class="ln">www.stefanjudis.com</em></a><em class="ln">。</em></p><figure class="kx ky kz la fq ls"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>