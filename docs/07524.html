<html>
<head>
<title>Intro to Go for JavaScript Developers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript开发人员入门</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/introduction-to-go-for-javascript-developer-3e783b409e52?source=collection_archive---------6-----------------------#2018-09-04">https://medium.com/hackernoon/introduction-to-go-for-javascript-developer-3e783b409e52?source=collection_archive---------6-----------------------#2018-09-04</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/5c9b09dcf363af6bd5c393f0dbfb3996.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*75KgXkAGZ5mcwwqcjqX7Tw.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Banner by Marina Rudinsky</figcaption></figure><figure class="jg jh ji jj fq iv"><div class="bz el l di"><div class="jk jl l"/></div></figure><p id="07e5" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">从<a class="ae kk" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>到Go，我遇到了几个“<em class="kl"> whaaat？！</em>“最终成为”<em class="kl"> haaa，ok！</em>“瞬间。更确切地说，如果你是一名JavaScript/TypeScript开发人员，并且正在考虑尝试Go，那么这篇文章就是为你准备的。</p><p id="a264" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">我在<a class="ae kk" href="https://www.orbs.com" rel="noopener ugc nofollow" target="_blank"> Orbs </a>工作，这是一个面向消费者应用的<a class="ae kk" href="https://hackernoon.com/tagged/blockchain" rel="noopener ugc nofollow" target="_blank">区块链</a>，我参与了TypeScript中的参考实现——我从零开始实现了一个<a class="ae kk" href="https://github.com/orbs-network/PBFT-Typescript" rel="noopener ugc nofollow" target="_blank">共识算法</a>。最近，我们开始致力于Go语言的参考实现。我的任务是移植consensus算法——你可以在这里看到正在进行的转换代码<a class="ae kk" href="https://github.com/orbs-network/lean-helix-go" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="0bcf" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">类似</h1><ul class=""><li id="8d6b" class="lk ll hu jo b jp lm jt ln jx lo kb lp kf lq kj lr ls lt lu dt translated">像JavaScript一样，Go使用垃圾收集器。您不必进行任何内存分配/处置。</li><li id="6477" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">函数在你的日常开发中起着很大的作用。</li><li id="ce97" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">变量和函数有作用域。</li><li id="c7f3" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">你可以在函数中使用闭包。</li><li id="ee0a" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">毕竟，它是一种非常简单的语言，就像JavaScript一样，你可以定义变量、结构、函数，执行<code class="eh ma mb mc md b">for</code>循环和<code class="eh ma mb mc md b">if</code>语句。我认为围棋介于C和JavaScript之间</li></ul><h1 id="ff48" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">(大)差异</h1><p id="8804" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">除了下面的列表之外，还有许多其他的差异，但是我发现这些对于来自JavaScript背景的开发人员来说是最有趣的。</p><ul class=""><li id="ad06" class="lk ll hu jo b jp jq jt ju jx mh kb mi kf mj kj lr ls lt lu dt translated">Go是静态类型的，将在编译时检测类型错误</li><li id="97c6" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">我知道垃圾收集器是在“相似性”上面，但是在围棋上有很大的不同:GC是<strong class="jo hv"><em class="kl"/></strong><em class="kl"/><strong class="jo hv"><em class="kl">快得惊人。</em> </strong>没有滞后！</li><li id="b566" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">JavaScript基于一个运行代码的主线程(事件循环)和其他几个执行外部IO的线程。在围棋中，并发才是王道！准备好。一开始并不容易掌握，但是一旦你掌握了，你就会拥有巨大的力量。(世界正在向越来越多的核心发展)</li><li id="9a48" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">编写JavaScript并运行它是如此有趣。JavaScript被解释，代码在运行前被编译，但是谁会真的这么做呢？今天，JavaScript工具链包括许多代码分析工具，甚至像Babel或TypeScript这样的编译工具。如上所述，Go是编译的。</li><li id="1d6a" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">Go正在使用指针。是啊！指针。但是等等！不要停止阅读。<br/>为了能够正确地执行GC并避免读取/写入内存，Go指针不允许在指针上进行任何运算。你不能像在c语言中那样，在指针上做p++来将它移动到数组中的下一项。但是你确实有指针(引用)的所有其他好处</li><li id="ed1e" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">Go比JavaScript快<strong class="jo hv"><em class="kl"/></strong>！根据你的测量，它甚至可以快10倍</li><li id="c0b9" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">Go更适合服务器，而JavaScript则无处不在</li></ul></div><div class="ab cl mk ml hc mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="hn ho hp hq hr"><h1 id="17cd" class="km kn hu bd ko kp mr kr ks kt ms kv kw kx mt kz la lb mu ld le lf mv lh li lj dt translated">“哇！？哈哈，好吧”</h1><p id="13fa" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">你应该明白的一件关键事情是，围棋是非常固执己见的。例如关于语法，在Go中你<strong class="jo hv">必须</strong>将<code class="eh ma mb mc md b">{</code>放在你<code class="eh ma mb mc md b">if</code>语句中的同一行。否则将导致编译错误！</p><h2 id="4c95" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">没有OOP</h2><p id="711b" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">Go的构造方式使得类、继承和多态成为不可能(或者至少非常困难)。什么开始为"<em class="kl">我不喜欢这样！</em>“成了”<em class="kl">嗯，也许这样更好！</em>“当我明白Go是在逼你用构图而不是继承的时候。</p><h2 id="9070" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">快捷指令</h2><p id="2787" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">在围棋中，有很多捷径。感觉好像任何能用Go写的东西都用更少的字符。</p><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="9df5" class="mw kn hu md b fv no np l nq nr">// The long way<br/>var age Int = 42</span><span id="f869" class="mw kn hu md b fv ns np l nq nr">// The short way<br/>age := 42</span></pre><p id="6ad1" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">这使得你的学习曲线更加陡峭，但是如果你坚持围棋，你最终会(很可能)喜欢它。</p><h2 id="a224" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">映射/缩小</h2><p id="0ad7" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">Go是有类型的，但是<a class="ae kk" href="https://golang.org/doc/faq#generics" rel="noopener ugc nofollow" target="_blank">没有泛型</a>。这意味着您没有类似lodash的map/reduce函数。这场"<em class="kl"> Whaaat </em>"并没有以"<em class="kl">阿哈ok</em>"……<br/>这是<a class="ae kk" href="https://github.com/golang/go/issues/15292" rel="noopener ugc nofollow" target="_blank">计划好的</a>未来版本的围棋。</p><h2 id="d9dd" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">包装</h2><p id="a2b5" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">当我第一次安装Go并想创建一个项目时，我想我应该创建一个文件夹并把我所有的代码放在那里，构建它并运行…不。围棋通常不是这样操作的。你所有的项目应该在同一个全局<code class="eh ma mb mc md b">src</code>文件夹下，在一个你的项目特有的文件夹下，通常是你的Github路径(例如:<code class="eh ma mb mc md b">~/go/src/github.com/gilamran/PBFT-Typescript</code>)</p><p id="6d07" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">这种方法有很多问题，比如你的项目依赖于同一个<code class="eh ma mb mc md b">src</code>文件夹，版本成为一个大问题。</p><p id="2ba8" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">Golang确实支持<code class="eh ma mb mc md b">vendor</code>文件夹(类似于JavaScript中的<code class="eh ma mb mc md b">node_modules</code>),但是它会提取<code class="eh ma mb mc md b">master</code>分支…</p><p id="e443" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">有很多尝试来解决这个问题，但要知道，目前对Go的依赖可能是痛苦的。</p><h2 id="8e88" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">试验</h2><p id="8f1a" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">Golang热爱测试，以至于当编译器检测到测试文件时(通过文件名<strong class="jo hv"> _test.go </strong>)，会在你构建时自动排除测试代码。</p></div><div class="ab cl mk ml hc mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="hn ho hp hq hr"><h1 id="e7db" class="km kn hu bd ko kp mr kr ks kt ms kv kw kx mt kz la lb mu ld le lf mv lh li lj dt translated">句法</h1><p id="0592" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">在您开始之前，让我简单介绍一下我们的工作方式:</p><h2 id="32fc" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">基本规则</h2><ul class=""><li id="4f73" class="lk ll hu jo b jp lm jt ln jx lo kb lp kf lq kj lr ls lt lu dt translated">行不以分号结尾。</li><li id="7e6f" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">数组中的最后一项必须在值后有<code class="eh ma mb mc md b">,</code>。</li></ul><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="40e2" class="mw kn hu md b fv no np l nq nr">var arr = [3]int{<br/>  1, <br/>  2, <br/>  3,<br/>}</span></pre><ul class=""><li id="9a87" class="lk ll hu jo b jp jq jt ju jx mh kb mi kf mj kj lr ls lt lu dt translated"><code class="eh ma mb mc md b">if</code>的<code class="eh ma mb mc md b">{</code>一脉相承</li><li id="377d" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated">public/private分别由名称的第一个字母是否大写来定义。</li></ul><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="8e89" class="mw kn hu md b fv no np l nq nr">var ThisIsPublic = "You can access this variable from outside"<br/>var privateValue = "Accessible only inside the current package"</span></pre><h2 id="dfad" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">基本类型</h2><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="834b" class="mw kn hu md b fv no np l nq nr">// common types<br/>var num int = 5<br/>var pi float32 = 3.14<br/>var name string = "Gil"<br/>var isActive bool = true<br/></span><span id="edca" class="mw kn hu md b fv ns np l nq nr">// without initialisation<br/>var num int       // value is 0<br/>var pi float32    // value is 0<br/>var name string   // value is ""<br/>var isActive bool // value is false<br/>var person Person // value is nil<br/></span><span id="4c97" class="mw kn hu md b fv ns np l nq nr">// one liner<br/>var one, two, three bool<br/>var a, b, c = true, "Hi", 0.5 // you got the point<br/></span><span id="e11f" class="mw kn hu md b fv ns np l nq nr">// short version with inference<br/>num := 5 // `var` is omitted, and type is inffered</span></pre><h2 id="4a1f" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">环</h2><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="c1bf" class="mw kn hu md b fv no np l nq nr">// you should be familiar with this<br/>for i := 0; i &lt; 100; i++ {<br/>  sum += i<br/>}</span><span id="119e" class="mw kn hu md b fv ns np l nq nr">// while<br/>for sum &lt; 1000 {<br/>  sum += sum<br/>}</span><span id="4b1b" class="mw kn hu md b fv ns np l nq nr">// infinite loop<br/>for {<br/>}</span></pre><h2 id="57a6" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">流控制</h2><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="7bc0" class="mw kn hu md b fv no np l nq nr">/// yep, no parenthesis<br/>if age &lt; 18 {<br/>  return true<br/>} else {<br/>  return false<br/>}</span><span id="7c4b" class="mw kn hu md b fv ns np l nq nr">// switch no need to add `break`<br/>switch state {<br/>  case "ACTIVE" :<br/>    deactivate()<br/>  case "INACTIVE":<br/>    activate()<br/>  default:<br/>    fmt.Printf("Unknown state")<br/>}</span></pre><h2 id="13d4" class="mw kn hu bd ko mx my mz ks na nb nc kw jx nd ne la kb nf ng le kf nh ni li nj dt translated">功能</h2><pre class="jg jh ji jj fq nk md nl nm aw nn dt"><span id="e310" class="mw kn hu md b fv no np l nq nr">// simple function<br/>func add(a int, b int) int {<br/> return a + b<br/>}</span><span id="fe6b" class="mw kn hu md b fv ns np l nq nr">// multiple return values<br/>func swap(a, b int) (int, int) {<br/> return b, a<br/>}</span><span id="8246" class="mw kn hu md b fv ns np l nq nr">// named return values<br/>func namedResult(input int) (output int) {<br/>  output = 0<br/>  .<br/>  .<br/>  .<br/>  output = 42<br/>  .<br/>  .<br/>  .<br/>  return<br/>}</span></pre><p id="aa23" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">当然，这只是冰山一角。还有许多其他高级的东西，比如通道、结构和接口，但是我将把它们留到以后的文章中。</p><h1 id="7d8a" class="km kn hu bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj dt translated">结论</h1><p id="c4f3" class="pw-post-body-paragraph jm jn hu jo b jp lm jr js jt ln jv jw jx me jz ka kb mf kd ke kf mg kh ki kj hn dt translated">围棋很有意思，速度很快，GC也很惊人。当谈到并发性时，它真的闪闪发光，并且它对如何编写代码非常固执己见。不好的一面是，包管理并不引人注目，缺少泛型有点烦人。</p><p id="daab" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">所以，如果你想为服务器做点什么，并且希望它非常快地工作，Go是个不错的选择。</p></div><div class="ab cl mk ml hc mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="hn ho hp hq hr"><p id="9de6" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">喜欢你读的吗？查看我们的GitHub项目并加入社区:</p><div class="nt nu fm fo nv nw"><a href="https://github.com/orbs-network/orbs-network-go" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd hv fv z el ob eo ep oc er et ht dt translated">orbs-网络/orbs-网络-go</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">Go中Orbs平台参考实现。为orbs-network/orbs-network-go开发做出贡献，创建一个…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">github.com</p></div></div><div class="of l"><div class="og l oh oi oj of ok ja nw"/></div></div></a></div><div class="nt nu fm fo nv nw"><a href="https://github.com/orbs-network/orbs-spec" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd hv fv z el ob eo ep oc er et ht dt translated">orbs-网络/orbs-规范</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">Orbs平台协议和服务规范。为orbs-network/orbs-spec开发做出贡献，创建一个…</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">github.com</p></div></div><div class="of l"><div class="ol l oh oi oj of ok ja nw"/></div></div></a></div><div class="nt nu fm fo nv nw"><a href="https://github.com/orbs-network/orbs-network-typescript" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd hv fv z el ob eo ep oc er et ht dt translated">orbs-network/orbs-network-type script</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">Monorepo for Orbs平台参考实现—Orbs-network/Orbs-network-typescript</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">github.com</p></div></div><div class="of l"><div class="om l oh oi oj of ok ja nw"/></div></div></a></div><div class="nt nu fm fo nv nw"><a href="https://github.com/orbs-network/lean-helix-go" rel="noopener  ugc nofollow" target="_blank"><div class="nx ab ej"><div class="ny ab nz cl cj oa"><h2 class="bd hv fv z el ob eo ep oc er et ht dt translated">球体-网络/精益-螺旋-go</h2><div class="od l"><h3 class="bd b fv z el ob eo ep oc er et ek translated">精益螺旋一致性算法的Go实现- orbs-network/lean-helix-go</h3></div><div class="oe l"><p class="bd b gc z el ob eo ep oc er et ek translated">github.com</p></div></div><div class="of l"><div class="on l oh oi oj of ok ja nw"/></div></div></a></div><p id="5fc2" class="pw-post-body-paragraph jm jn hu jo b jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj hn dt translated">加入Orbs社区:</p><ul class=""><li id="80ca" class="lk ll hu jo b jp jq jt ju jx mh kb mi kf mj kj lr ls lt lu dt translated"><em class="kl">GitHub:</em>T10<em class="kl">https://github.com/orbs-network</em>T13】</li><li id="cd89" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated"><em class="kl">电报</em>:<a class="ae kk" href="https://t.me/orbs_network" rel="noopener ugc nofollow" target="_blank">https://t.me/orbs_network</a></li><li id="492f" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated"><em class="kl">推特</em>:<a class="ae kk" href="https://twitter.com/orbs_network" rel="noopener ugc nofollow" target="_blank">https://twitter.com/orbs_network</a></li><li id="34ce" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated"><em class="kl">Reddit</em>:<a class="ae kk" href="https://www.reddit.com/r/ORBS_Network/" rel="noopener ugc nofollow" target="_blank">https://www.reddit.com/r/ORBS_Network/</a></li><li id="90d0" class="lk ll hu jo b jp lv jt lw jx lx kb ly kf lz kj lr ls lt lu dt translated"><em class="kl">阅读宝珠白皮书</em>:【https://www.orbs.com/white-papers T2】</li></ul><figure class="jg jh ji jj fq iv"><div class="bz el l di"><div class="oo jl l"/></div></figure></div></div>    
</body>
</html>