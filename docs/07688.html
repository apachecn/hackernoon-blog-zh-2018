<html>
<head>
<title>6 Patterns for Continuous Delivery with Serverless Applications</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">无服务器应用连续交付的6种模式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/6-patterns-for-continuous-delivery-with-serverless-applications-84e9c64a3d50?source=collection_archive---------9-----------------------#2018-09-10">https://medium.com/hackernoon/6-patterns-for-continuous-delivery-with-serverless-applications-84e9c64a3d50?source=collection_archive---------9-----------------------#2018-09-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="8790" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">自动化仍然是关键，但也有一些曲折。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/ea92f29d56bde4f02a9e2f5ac3e6dbd0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*59y14R3kShmmARkb9c6mgg.png"/></div></div></figure><p id="fec1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">随着新兴产品公司在此基础上的发展，无服务器T2技术的采用肯定在增长。<a class="ae kr" href="https://www.cloudzero.com" rel="noopener ugc nofollow" target="_blank"> CloudZero </a>最近给<a class="ae kr" href="https://www.cloudzero.com/blog/continuous-delivery-in-the-world-of-serverless" rel="noopener ugc nofollow" target="_blank">写了一篇详细的<br/>文章</a>，讲述了他们为全无服务器系统实现持续集成和交付(<a class="ae kr" href="https://semaphoreci.com/blog/2017/07/27/what-is-the-difference-between-continuous-integration-continuous-deployment-and-continuous-delivery.html" rel="noopener ugc nofollow" target="_blank"> CI/CD </a>)的经验。</p><p id="c9e1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">无服务器是一个新的范例，在这个范例中，我们既不需要管理也不需要扩展运行我们代码的服务器。承诺是需要更少的操作工作来为客户提供价值。</p><p id="e3ba" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">问题是代码部署单元现在是一个函数，而不是任意复杂的应用程序。除了代码之外，部署还包括配置这些功能所连接的托管服务和基础设施。这意味着需要新的工具和实践来实现最佳的开发人员生产力，一如既往，这围绕着能够快速移动。正如CloudZero的本·彼得森所说:</p><blockquote class="ks"><p id="1d7b" class="kt ku hu bd kv kw kx ky kz la lb kq ek translated">我们的目标是从发货到生产的时间不超过五分钟。</p></blockquote><p id="2c07" class="pw-post-body-paragraph jv jw hu jx b jy lc iv ka kb ld iy kd ke le kg kh ki lf kk kl km lg ko kp kq hn dt translated">这是如何实现的:</p><p id="cab1" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated"><span class="l li lj lk bm ll lm ln lo lp di"> 1 </span> <strong class="jx hv">在开发和测试环境中复制您的无服务器云提供商的条件</strong>。比如<a class="ae kr" href="https://localstack.cloud/" rel="noopener ugc nofollow" target="_blank"> LocalStack </a>使用Docker在<br/> localhost上提供AWS云API(dynamo db、S3、Kinesis等)。</p><p id="6275" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated">使用一个框架来管理代码部署。例如，<a class="ae kr" href="https://serverless.com/" rel="noopener ugc nofollow" target="_blank">无服务器框架</a>提供了在任何云供应商上配置和部署应用程序的单一工作流。AWS客户可以使用SAM在代码中定义应用程序。无服务器应用程序没有单独的“构建”和“部署”步骤，因为没有开发人员需要管理的工件——这是由框架处理的，您的CI/CD工具应该本机支持此工作流。</p><p id="28ba" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated"><span class="l li lj lk bm ll lm ln lo lp di"> 3 </span> <strong class="jx hv">安全存储云密钥等秘密</strong>。例如，AWS密钥不一定能被公司的每个人访问，当然也不能被整个互联网访问。如果您使用<a class="ae kr" href="https://semaphoreci.com/?utm_source=devto&amp;utm_medium=social&amp;utm_campaign=serverless" rel="noopener ugc nofollow" target="_blank">信号量</a>进行连续交付，您可以存储和管理组织范围内的秘密，这些秘密可以跨项目重用并与团队权限混合。如果你的项目是开源的，你可以向公众提供持续的集成，但是要对公司保密。</p><p id="1083" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated">自动化测试仍然是工作流程的关键部分。前端的普通JavaScript测试工具，后端功能的Python / Go / Java工具都适用。无服务器功能很小，自动化测试应该运行得很快。</p><p id="2a72" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated"><span class="l li lj lk bm ll lm ln lo lp di">5</span>T12】拥抱多语言编程。例如，CloudZero开发人员选择的语言是Python，但他们也使用<a class="ae kr" href="https://kotlinlang.org" rel="noopener ugc nofollow" target="_blank"> Kotlin </a>和<a class="ae kr" href="https://semaphoreci.com/community/tutorials/introduction-to-gradle" rel="noopener ugc nofollow" target="_blank"> Gradle </a>围绕<a class="ae kr" href="https://aws.amazon.com/kinesis/" rel="noopener ugc nofollow" target="_blank"> AWS Kinesis </a>构建数据管道。</p><p id="2d75" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt lh translated"><span class="l li lj lk bm ll lm ln lo lp di"> 6 </span> <strong class="jx hv">将代码库(CI)的验证与交付(CD)分开</strong>。正如本·彼得森指出的:</p><blockquote class="lq lr ls"><p id="05ae" class="jv jw lt jx b jy jz iv ka kb kc iy kd lu kf kg kh lv kj kk kl lw kn ko kp kq hn dt translated">像我们的技术堆栈一样，我们管理的应用程序集也是多样化的，这包括开发工作流和部署到我们的AWS客户的要求。<a class="ae kr" href="https://semaphoreci.com" rel="noopener ugc nofollow" target="_blank"> Semaphore </a>通过沿着这些轴提供灵活性来提供帮助——支持私有回购和管理公共存储库和贡献者分支的能力，为不同分支的部署提供不同的逻辑，保持部署细节私有，以及从某些分支手动部署。支持每个分支的不同部署配置也非常有用。</p></blockquote><p id="18f6" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">关于开发和部署无服务器应用的体验的更多细节，请阅读CloudZero博客上的完整文章。</p><p id="b3fa" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">对于无服务器的有效CI/CD，您有什么建议？欢迎在评论中分享。</p><p id="3e58" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="lt">本帖原载于</em> <a class="ae kr" href="https://semaphoreci.com/blog/2018/08/22/continuous-delivery-patterns-with-serverless.html" rel="noopener ugc nofollow" target="_blank"> <em class="lt">旗语博客</em> </a>。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="lx ly l"/></div></figure></div></div>    
</body>
</html>