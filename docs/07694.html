<html>
<head>
<title>Simple Recipe to Build a Theme App in React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在React Native中构建主题应用程序的简单方法</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/simple-recipe-to-build-a-theme-app-in-react-native-8e2456f81bc5?source=collection_archive---------15-----------------------#2018-09-10">https://medium.com/hackernoon/simple-recipe-to-build-a-theme-app-in-react-native-8e2456f81bc5?source=collection_archive---------15-----------------------#2018-09-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d3e30f02eb72820dcb2eeee39d9fc065.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uu7osI-fsamG1ybgv25VAA.jpeg"/></div></div></figure><p id="ec4f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最近，我一直在开发一个React原生应用程序，它需要一个基于用户选择的可变主题。我想尽可能用最简单的方式来做这件事。到目前为止，我一直避免使用任何React Native UI工具包，如NativeBase或React Native Elements。在下面的文章中，我将和大家分享这个简单的食谱。</p><blockquote class="ka"><p id="cab5" class="kb kc hu bd kd ke kf kg kh ki kj jz ek translated">这就是我们正在建设的。到本文结束时，您将拥有一个外观相似的React原生项目。</p></blockquote><figure class="kl km kn ko kp iv fe ff paragraph-image"><div class="fe ff kk"><img src="../Images/e42854e91e269177efc5b8c1dbf499c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/1*NK6OqE6SWsT3ibxXDhkx6g.gif"/></div></figure><h1 id="8a5b" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">要求</h1><p id="f51e" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">你可以从Github repo中克隆这个应用程序来看看它是如何工作的。或者你可以一步一步跟着文章走。由你来决定。首先，使用您选择的生成器生成一个react本机应用程序。我们必须做出选择:</p><ul class=""><li id="b309" class="lt lu hu je b jf jg jj jk jn lv jr lw jv lx jz ly lz ma mb dt translated"><code class="eh mc md me mf b">react-native cli</code></li><li id="15f7" class="lt lu hu je b jf mg jj mh jn mi jr mj jv mk jz ly lz ma mb dt translated">expo-cli/CRNA</li></ul><p id="7383" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我将使用expo-cli进行演示，但如果您愿意，也可以使用CRNA(Create-React-Native-Project)。在开始之前，我们需要在项目中安装以下依赖项。</p><ul class=""><li id="6833" class="lt lu hu je b jf jg jj jk jn lv jr lw jv lx jz ly lz ma mb dt translated">回家的</li><li id="c443" class="lt lu hu je b jf mg jj mh jn mi jr mj jv mk jz ly lz ma mb dt translated">redux-logger(可选的，如果出现任何问题，您可以更好地进行调试)</li><li id="14d2" class="lt lu hu je b jf mg jj mh jn mi jr mj jv mk jz ly lz ma mb dt translated">反应-导航</li><li id="56ae" class="lt lu hu je b jf mg jj mh jn mi jr mj jv mk jz ly lz ma mb dt translated">react-native-vector-icons(仅在使用react-native-cli时安装)</li></ul><h1 id="52e0" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">入门:导航</h1><p id="83a7" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">我们只需要两个屏幕来演示。我将称他们为<code class="eh mc md me mf b">Home.js</code>和<code class="eh mc md me mf b">Theme.js</code>。两者现在都只包含样板代码。在我们使用<code class="eh mc md me mf b">react-navigation</code>连接他们之前，他们保持沉默是件好事。创建一个名为<code class="eh mc md me mf b">navigation.js</code>的新文件并导入两个组件。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/bb3066ae8633168962b730aecd2ba6ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hBNBbPck6EmD9Bq9NCAhzA.png"/></div></div></figure><p id="0e09" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh mc md me mf b">createStackNavigator</code>是<code class="eh mc md me mf b">react-navigation</code>版本2+中对<code class="eh mc md me mf b">StackNavigator</code>的替代。请注意，我们没有向主屏幕传递标题。</p><h1 id="8d4f" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">使用Redux创建商店</h1><p id="86ca" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">下一步是构建一个redux store，它将利用一个action、action creator和reducer来改变应用程序中的主题。在<code class="eh mc md me mf b">actions.js</code>中输入以下代码。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/38cb9edf1b83ccde29e9c341a04cb9ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*T86eAgIOjKi5L0xyuqIxCA.png"/></div></div></figure><p id="8451" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们只有一个动作，改变应用的主题颜色。现在减速器:</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/56afcbc52b1825a05cbd6e337e171d58.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n6CqWVOCKJw0an8y2UeqkQ.png"/></div></div></figure><p id="65c1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请注意，我们将初始状态下的原色设置为十六进制值。您也可以从应用程序的配置文件或常量文件中检索它。我们还导出了<code class="eh mc md me mf b">colors.js</code>文件，该文件包含三个不同的十六进制代码值，它们定义了不同的配色方案。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/1d90ba0b3fcbaf6c61ede8f01836f584.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bKG_BG6i7e7IvwT9p9zm5g.png"/></div></div></figure><p id="645c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，创建商店，并将其发送到<code class="eh mc md me mf b">App.js</code>，供应用程序组件使用。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/61f7a7eca24afea7536999b400ecddf0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EBI1jplYD7TB4oxkZMlp_A.png"/></div></div></figure><p id="6b40" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<code class="eh mc md me mf b">App.js</code>文件中，我们连接Redux存储来管理状态和导航。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/fe3e66b730dc43848ce55c3b6945adde.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4xA_ue2jr9WWItYKLQzCFA.png"/></div></div></figure><p id="8449" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可能想知道为什么要为这么小的应用程序使用Redux Store。我想展示的是一种实用的方法，使用React Native和Redux构建一个可运行的应用程序。管理国家是你的选择。</p><h1 id="13fb" class="kq kr hu bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln dt translated">完成应用程序</h1><p id="cf24" class="pw-post-body-paragraph jc jd hu je b jf lo jh ji jj lp jl jm jn lq jp jq jr lr jt ju jv ls jx jy jz hn dt translated">我们的React本地应用程序的最后一个组件是<code class="eh mc md me mf b">Home.js</code>和<code class="eh mc md me mf b">Theme.js</code>。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mq"><img src="../Images/56eeeb39dc2edbaaa2ba491fdb7a472d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*P08ni2pglIDyhL0h8SIgbg.png"/></div></div></figure><p id="c49a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过按下设置图标，我们可以导航到主题屏幕来更改主屏幕的背景颜色。我们也在这里传递主题画面的标题。</p><figure class="mm mn mo mp fq iv"><div class="bz el l di"><div class="mr ms l"/></div></figure><p id="1585" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">改变颜色的魔法正在<code class="eh mc md me mf b">Home.js</code>发生在这条线上:</p><figure class="mm mn mo mp fq iv"><div class="bz el l di"><div class="mr ms l"/></div></figure><p id="7c90" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们正在接收道具中的<code class="eh mc md me mf b">primaryColor</code>。在选择一个可行的选项时，<code class="eh mc md me mf b">Theme.js</code>文件将改变这个道具的值。看看下面。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mq"><img src="../Images/3faf795cd7900c163018ebc4f976218b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pqMt7rWFEqGI8H-Ml70rnQ.png"/></div></div></figure><p id="2ce0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在上面的例子中，<code class="eh mc md me mf b">handleThemeChange</code>处理我们在<code class="eh mc md me mf b">actions.js</code>中定义的唯一动作的分派。最后，我们让我们的应用程序工作。</p><figure class="mm mn mo mp fq iv fe ff paragraph-image"><div class="fe ff kk"><img src="../Images/e42854e91e269177efc5b8c1dbf499c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:798/1*NK6OqE6SWsT3ibxXDhkx6g.gif"/></div></figure><blockquote class="ka"><p id="1771" class="kb kc hu bd kd ke mt mu mv mw mx jz ek translated">您可以在这个Github资源库中找到完整的代码。👇</p></blockquote><div class="kl km kn ko kp my"><a href="https://github.com/amandeepmittal/30daysofReactNative/tree/master/rn-themes-app" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab ej"><div class="na ab nb cl cj nc"><h2 class="bd hv fv z el nd eo ep ne er et ht dt translated">amandeepmittal/30天</h2><div class="nf l"><h3 class="bd b fv z el nd eo ep ne er et ek translated">⚛️ + 📱。在GitHub上创建一个帐户，为amandeepmittal/30 days of reactive development做出贡献。</h3></div><div class="ng l"><p class="bd b gc z el nd eo ep ne er et ek translated">github.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm ja my"/></div></div></a></div></div><div class="ab cl nn no hc np" role="separator"><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns nt"/><span class="nq bw bk nr ns"/></div><div class="hn ho hp hq hr"><blockquote class="nu nv nw"><p id="a2fa" class="jc jd nx je b jf jg jh ji jj jk jl jm ny jo jp jq nz js jt ju oa jw jx jy jz hn dt translated">我的名字是<a class="ae ob" href="https://twitter.com/amanhimself" rel="noopener ugc nofollow" target="_blank">阿曼·米塔尔</a>。我是一名开发人员，负责Node.js相关web应用程序和❤️s React Native的构建和咨询。这是我的<a class="ae ob" href="http://amanhimself.me" rel="noopener ugc nofollow" target="_blank">网站</a>和<a class="ae ob" href="https://twitter.com/amanhimself" rel="noopener ugc nofollow" target="_blank">推特</a>。</p></blockquote><p id="2d2c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你不熟悉如何在React Native中使用/集成Redux，并想了解更多，你应该查看下面的文章。</p><div class="oc od fm fo oe my"><a href="https://medium.freecodecamp.org/how-to-integrate-redux-into-your-application-with-react-native-and-expo-ec37c9ca6033" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab ej"><div class="na ab nb cl cj nc"><h2 class="bd hv fv z el nd eo ep ne er et ht dt translated">如何使用React Native和Expo将Redux集成到您的应用程序中</h2><div class="nf l"><h3 class="bd b fv z el nd eo ep ne er et ek translated">Redux是React Native生态系统的重要组成部分。如果你的世界围绕着JavaScript转，你可能…</h3></div><div class="ng l"><p class="bd b gc z el nd eo ep ne er et ek translated">medium.freecodecamp.org</p></div></div><div class="nh l"><div class="of l nj nk nl nh nm ja my"/></div></div></a></div><p id="aab1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="nx">要获得关于我下一篇React Native文章的通知，请使用此表单注册我的个人时事通讯。</em> </strong></p><p id="d227" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ob" href="https://tinyletter.com/amanhimself" rel="noopener ugc nofollow" target="_blank"> <strong class="je hv">在此加入每周简讯。</strong> </a></p></div></div>    
</body>
</html>