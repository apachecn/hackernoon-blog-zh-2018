<html>
<head>
<title>How to disable MultiTouch in Cocos2d-x (Android)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何在Cocos2d-x (Android)中禁用多点触控</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-disable-multitouch-in-cocos2d-x-android-2888172f863d?source=collection_archive---------29-----------------------#2018-09-10">https://medium.com/hackernoon/how-to-disable-multitouch-in-cocos2d-x-android-2888172f863d?source=collection_archive---------29-----------------------#2018-09-10</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/a44aa895c8ce399d379466c1673ef953.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FNaJIfGWFrvF-gfG42PDYA.png"/></div></div></figure><p id="2e97" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Cocos2d-x(3.14版之前)有一个问题。如果你想在Android中使用单点触摸，你必须在Cocos2d-x中注释代码。但是当你用新版本替换Cocos2d-x时，你必须记得再次注释代码。本文将回答如何禁用所有版本的Cocos2d-x的多点触摸，而不评论代码。</p><p id="13fa" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如何通过注释这里讨论的代码<a class="ae ka" href="https://discuss.cocos2d-x.org/t/how-to-disable-multitouch/4959/9?u=pearson" rel="noopener ugc nofollow" target="_blank">来禁用多点触摸</a>。</p><p id="70e0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">合乎逻辑的假设是，为了解决这个问题，有必要移除id大于0的所有触摸。怎么做呢？</p><p id="ec04" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在安卓系统中，所有的触摸都要通过<strong class="je hv"> Cocos2dxGLSurfaceView </strong>。让我们考虑动作触地的情况。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="22c2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们只需要使用<strong class="je hv"> idDown == 0 </strong>的触控。但是有一个问题。<strong class="je hv"> mCocos2dxRenderer </strong>是私有成员，当我们继承<strong class="je hv"> Cocos2dxGLSurfaceView </strong>时，我们不能使用<strong class="je hv"> mCocos2dxRenderer </strong>。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="9772" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们考虑<strong class="je hv"> Cocos2dxRender </strong>方法<strong class="je hv"> handleActionDown、handleActionMove </strong>、<strong class="je hv"> handleActionUp </strong>和<strong class="je hv"> handleActionCancel </strong>。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="17c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这个方法使用了<strong class="je hv"> Cocos2dxRender: </strong>的静态方法</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="1ff1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">幸运的是，我们使用Java。在Java中，我们可以访问私有方法。让我们编写访问私有方法的方法。</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="d65c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在要继承<strong class="je hv"> Cocos2dxGLSurfaceView </strong>，使用<strong class="je hv"> Cocos2dxRender </strong>的静态方法，剪切touches。<strong class="je hv">真菌2dxGLSurfaceView的完整代码:</strong></p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="f899" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们应该在<strong class="je hv">AppActivity.java</strong>中改变方法<strong class="je hv"> onCreateView </strong></p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="348b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在<a class="ae ka" href="https://discuss.cocos2d-x.org/t/how-to-disable-multitouch-in-cocos2d-x/245/13" rel="noopener ugc nofollow" target="_blank">讨论过</a>这个问题后，Cocos2d-x开发者在版本≥3.14的<strong class="je hv"> Cocos2dxGLSurfaceView </strong>中增加了一个方法<strong class="je hv">setmultipletuchenabled</strong>。现在单点触摸是这样完成的:</p><figure class="kb kc kd ke fq iv"><div class="bz el l di"><div class="kf kg l"/></div></figure><p id="d503" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">好的。我们对不同版本的Cocos2d-x进行了单点触摸。</p></div></div>    
</body>
</html>