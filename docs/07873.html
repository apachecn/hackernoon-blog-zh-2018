<html>
<head>
<title>Why structured text is awesome and you totally want it in your CMS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么结构化文本很棒，你完全希望它出现在你的CMS中</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/why-structured-text-is-awesome-and-you-totally-want-it-in-your-cms-e6ecbdba2d36?source=collection_archive---------16-----------------------#2018-09-17">https://medium.com/hackernoon/why-structured-text-is-awesome-and-you-totally-want-it-in-your-cms-e6ecbdba2d36?source=collection_archive---------16-----------------------#2018-09-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/6549a4027f70ec6b7da9816d97124d96.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wb1wIGZm0U_Xjw088i5a3A.png"/></div></div></figure><div class=""/><div class=""><h2 id="3a6a" class="pw-subtitle-paragraph jc ie if bd b jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ek translated">结构化文本是处理CMS内容的更好方式。原因如下。</h2></div><p id="76a8" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">让我们先弄清楚:在<a class="ae kq" href="https://sanity.io/freecodecamp?utm_source=freecodecamp&amp;utm_medium=blog&amp;utm_campaign=jq" rel="noopener ugc nofollow" target="_blank"> sanity.io </a>我们热爱HTML。我们喜欢减价。我们每天都用这两者在网上写作。甚至这篇文章也是在Markdown中诞生的。有了这个毫无争议的开头，你大概就能看到接下来会发生什么。我们将讨论为什么你不想让markdown或者HTML存储在你的<a class="ae kq" href="https://hackernoon.com/tagged/cms" rel="noopener ugc nofollow" target="_blank"> CMS </a>中，除了代码示例。</p><p id="bd37" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">但是几乎每个人都这么做，甚至是新来的人:我们去了headlesscms.org的所有供应商，浏览了文档，还注册了那些没有提到它的人:除了两个例外，他们都将富文本存储为HTML或Markdown。如果你所做的只是使用Jekyll来渲染一个网站，或者你喜欢在React中使用<code class="eh ks kt ku kv b">dangerouslySetInnerHTML</code>,那就没问题。</p><p id="bdac" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">但是如果你想在网络之外的界面中重用你的内容。或者希望在富文本编辑器中获得更多的控制和功能。或者只是希望在流行的前端框架中更容易地呈现富文本，并让组件处理富文本内容的不同部分，那么要么必须找到一种聪明的方法来将markdown或HTML解析为您需要的内容，或者更方便的是，首先将它更合理地存储起来。</p><p id="bbad" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">这就是为什么当我们在2015年开始开发时，Sanity采用了结构化文本模型来存储富文本。现在其他CMS厂商也开始尝试了。我们很高兴这个流行起来。结构化文本对每个人都有好处。</p><p id="ae73" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">让我们言归正传。“那是怎么<strong class="jw ig">大胆</strong>的你。在结构化的文本中寻找？嗯，像这样:</p><figure class="kx ky kz la fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kw"><img src="../Images/ffcacfbf13d00019471a336efefbc20a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ad0lc0wl1CfJ9BUkOK0tfg.png"/></div></div></figure><p id="35cf" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">“先生，你疯了吗？，“你可能会说。这个复杂对象的数组比一个简单的<code class="eh ks kt ku kv b">That was **bold** of you. Amazing actually</code>好在哪里？结构化文本不是给人阅读的，而是给你的软件处理的。如果你读得稍微慢一点，你就能感受到这个<a class="ae kq" href="https://hackernoon.com/tagged/structure" rel="noopener ugc nofollow" target="_blank">结构</a>允许你做什么。像<code class="eh ks kt ku kv b">style</code>、<code class="eh ks kt ku kv b">markDefs</code>和<code class="eh ks kt ku kv b">marks</code>这样的键可以让我们以任何我们想要的方式，为任何我们想要的上下文描述文本块和内联文本。这个JSON块可以相当容易地序列化成干净的文本、<a class="ae kq" href="https://github.com/sanity-io/block-content-to-html" rel="noopener ugc nofollow" target="_blank"> HTML </a>甚至<a class="ae kq" href="https://github.com/sanity-io/block-content-to-markdown/" rel="noopener ugc nofollow" target="_blank"> Markdown </a>。或者如果你要为语音界面写东西，我们可以很容易地为<a class="ae kq" href="https://developers.google.com/actions/reference/ssml" rel="noopener ugc nofollow" target="_blank">语音合成标记语言</a> (SSML)做一个编辑器。</p><p id="6365" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">真正的力量来自于你能用<code class="eh ks kt ku kv b">markDefs</code>和<code class="eh ks kt ku kv b">marks</code>做什么。一个普通的例子是链接:</p><figure class="kx ky kz la fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff lb"><img src="../Images/e4cd1139a92752093a2c4cfccd0dee6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IDZ4UgxyOqpRZAxkVefJmw.png"/></div></div></figure><p id="0af8" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">但是，如果你想打印这个，文本，并有链接也是一个脚注呢？拯救结构化文本:</p><figure class="kx ky kz la fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff kw"><img src="../Images/8721a9bf7a8f40d09353dff70ec1dedc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-_fjD3veSh5TQeMUdTFDg.png"/></div></div></figure><p id="47f8" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">如果您后退一些，把这个对象作为一个整体来看，您会看到富文本模式在脚注的标记中重复出现。它完全是结构化的文本！换句话说，这种方法为如何以及在哪里使用文本内容提供了很多可能性。</p><p id="de28" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">想对产品条款进行A/B测试吗？嗯，现在你可以为术语“变化”添加一个标记。想用用户生成的富文本数据更容易地为组件编写单元测试吗？与解析HTML相比，这种模式轻而易举，因为解析HTML会带来各种意外和无效语法。想要调整你自己的编辑评论系统，它只在你的组织中有意义吗？结构化文本使您无需在现有的标记语言中发明新的标记就能做到这一点。</p><figure class="kx ky kz la fq hw"><div class="bz el l di"><div class="lc ld l"/></div><figcaption class="le lf fg fe ff lg lh bd b be z ek">Example of how structured text allows you to customize Sanity Studio’s editor to work for speech synthesis, used in services like <a class="ae kq" href="https://assistant.google.com/" rel="noopener ugc nofollow" target="_blank">Google Assistant</a>. We spent but a morning making it.</figcaption></figure><p id="c522" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">结构化文本也是Sanity拥有实时内容API的一个重要部分，它为我们的富文本编辑器Google Docs提供了协作能力。这也给我们提供了一种更简单的方式来<a class="ae kq" href="https://www.sanity.io/docs/new-block-editor-features" rel="noopener ugc nofollow" target="_blank">定制你从其他来源</a>粘贴的文本，如网页或Word文档，应该如何组织。也许你想在一个定制的代码块中存储代码片段，或者让你的链接作为脚注输出<a class="ae kq" rel="noopener" href="/buro-int/headless-cms-for-a-printed-pizza-book-54b39827e651">，因为你用理智来制作书籍</a>。</p><p id="6e2e" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">在内容管理系统中采用结构化文本并不是放弃HTML，而是接受这样一个事实，即您应该能够以一种对您的编辑和组织现实有意义的方式来组织您的内容，而不是通过许多标记语言中的一种来制定规范。让我们担心并帮助您完成这一部分。</p><p id="21f4" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">启动并运行，通过在您的终端中运行以下命令来测试其合理性:</p><pre class="kx ky kz la fq li kv lj lk aw ll dt"><span id="dc9c" class="lm ln if kv b fv lo lp l lq lr">npm i -g @sanity/cli &amp;&amp; sanity init</span></pre><p id="ec8c" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated">查看我们的结构化文本包，了解<a class="ae kq" href="https://github.com/sanity-io/block-content-to-react" rel="noopener ugc nofollow" target="_blank"> React </a>、<a class="ae kq" href="https://github.com/sanity-io/block-content-to-html" rel="noopener ugc nofollow" target="_blank"> HTML </a>、<a class="ae kq" href="https://github.com/sanity-io/block-content-to-hyperscript" rel="noopener ugc nofollow" target="_blank"> HyperScript </a>和<a class="ae kq" href="https://github.com/sanity-io/block-content-to-markdown" rel="noopener ugc nofollow" target="_blank"> Markdown </a>。我们还有一个把HTML转换成结构化文本的包。</p></div><div class="ab cl ls lt hc lu" role="separator"><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx ly"/><span class="lv bw bk lw lx"/></div><div class="hn ho hp hq hr"><p id="38c2" class="pw-post-body-paragraph ju jv if jw b jx jy jg jz ka kb jj kc kd ke kf kg kh ki kj kk kl km kn ko kp hn dt translated"><em class="kr">最初发表于</em><a class="ae kq" href="https://www.sanity.io/blog/why-structured-text-is-awesome-and-you-totally-want-it-in-your-cms" rel="noopener ugc nofollow" target="_blank"><em class="kr">sanity . io</em></a><em class="kr">。</em></p><figure class="kx ky kz la fq hw"><div class="bz el l di"><div class="lz ld l"/></div></figure></div></div>    
</body>
</html>