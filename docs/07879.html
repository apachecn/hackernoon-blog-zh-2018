<html>
<head>
<title>Vue.js SEO-Friendly SPAs: Tips, Tools &amp; Prerender Example</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vue.js SEO友好的spa:提示、工具和先决条件示例</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/vue-js-seo-friendly-spas-tips-tools-prerender-example-c160e0282eaf?source=collection_archive---------22-----------------------#2018-09-17">https://medium.com/hackernoon/vue-js-seo-friendly-spas-tips-tools-prerender-example-c160e0282eaf?source=collection_archive---------22-----------------------#2018-09-17</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/cafbb5d59efac5b861aa39e98daef163.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*f-Ey0tW6O_vFHz_RPZWh_A.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Photo by <a class="ae jg" href="https://unsplash.com/photos/atSaEOeE8Nk?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Steven Lelham</a> on <a class="ae jg" href="https://unsplash.com/search/photos/ranking?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ed86" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你知道Hulu的<a class="ae jg" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>失败的故事吗？</p><p id="c767" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">回到2016年，由于糟糕的JS处理，在线视频流媒体服务经历了<a class="ae jg" href="https://www.linkresearchtools.com/case-studies/hulu-javascript-fail-visibility-drop/" rel="noopener ugc nofollow" target="_blank"> 56%的可见性下降。</a></p><p id="d58e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">没有企业愿意经历的噩梦。</p><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div class="fe ff kf"><img src="../Images/f91b06efca462e7be6e19edb7b8a97e1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/0*_Z6XxG4pkAqLcUaP.gif"/></div></figure><p id="5058" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了避免这样的灾难，在使用现代JavaScript框架时，您必须知道自己在做什么。</p><p id="b691" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在Snipcart这里，<a class="ae jg" href="https://snipcart.com/blog/progressive-migration-backbone-vuejs-refactoring" rel="noopener ugc nofollow" target="_blank">我们喜欢Vue.js </a>，但是完全意识到Vue.js单页应用程序的<a class="ae jg" href="https://hackernoon.com/tagged/seo" rel="noopener ugc nofollow" target="_blank"> SEO </a>问题。</p><p id="9a54" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这篇文章中，我想向JS开发者展示让Vue SEO友好是多么容易。</p><p id="8a95" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我要说的是:</p><ul class=""><li id="7be2" class="kk kl hu jj b jk jl jo jp js km jw kn ka ko ke kp kq kr ks dt translated">你应该经常应用的一般SEO技巧。</li><li id="0fc4" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated">具体Vue.js SPA SEO问题。</li><li id="95ee" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated">通过服务器渲染和预渲染来修复它们的工具。</li><li id="efc4" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated">使用<code class="eh ky kz la lb b">prerender-spa-plugin</code>的技术Vue.js SEO示例。</li></ul><blockquote class="lc ld le"><p id="1e94" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated">这篇文章之后是另外两篇关于JS框架SEO问题的文章，<a class="ae jg" href="https://snipcart.com/blog/react-seo-nextjs-tutorial" rel="noopener ugc nofollow" target="_blank">关于React </a>和<a class="ae jg" href="https://snipcart.com/blog/angular-seo-universal-server-side-rendering" rel="noopener ugc nofollow" target="_blank"> Angular </a>。</p></blockquote><h1 id="3020" class="lj lk hu bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg dt translated">一般搜索引擎优化技巧</h1><p id="5798" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">在我们探讨特定于JavaScript SPAs的SEO问题之前，让我们先了解一下开发人员在构建搜索引擎优化站点时应该采用的最佳实践。</p><blockquote class="mm"><p id="1987" class="mn mo hu bd mp mq mr ms mt mu mv ke ek translated">正如有人已经说过的:“隐藏尸体的最好地方是谷歌搜索的第二页。”</p></blockquote><p id="fdd5" class="pw-post-body-paragraph jh ji hu jj b jk mw jm jn jo mx jq jr js my ju jv jw mz jy jz ka na kc kd ke hn dt translated">这份名单的灵感来自于一些最大的搜索引擎优化公司，如Moz、Backlinko和Ahrefs。如果你想深入了解，我已经添加了他们资源的链接。</p><h2 id="6bdb" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→元标签🏷️</h2><p id="0b12" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">Meta标签是垂手可得的果实。它们让你向搜索引擎精确地展示你的内容。</p><p id="73ed" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然而，并不是所有的标签都生来平等。你应该把精力集中在其中的几个方面，即:</p><ul class=""><li id="fbca" class="kk kl hu jj b jk jl jo jp js km jw kn ka ko ke kp kq kr ks dt translated"><strong class="jj hv">元内容类型</strong>—必须出现在每个页面上，声明您的页面字符集。</li><li id="688a" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated"><strong class="jj hv">标题</strong>—选择一个独特的标题，在准确描述页面内容的同时吸引搜索者的注意。保持简洁！</li><li id="ef7e" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated"><strong class="jj hv">元描述</strong>—它应该说服SERP(搜索引擎结果页面)访问者点击你的链接，找到他们特定研究意图的答案。</li><li id="3ebf" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated"><strong class="jj hv">视口</strong>—良好移动体验的基本要素。</li></ul><p id="936d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://moz.com/blog/seo-meta-tags" rel="noopener ugc nofollow" target="_blank"> SEO元标签</a>，作者Moz。</p><blockquote class="lc ld le"><p id="75b1" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated"><a class="ae jg" href="https://github.com/declandewet/vue-meta" rel="noopener ugc nofollow" target="_blank"> vue-meta </a>是一个在Vue 2.0组件中管理页面元数据信息的可靠工具。</p></blockquote><p id="fcf0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">社交标签</strong>也可以对SEO产生重大影响，因为它们有助于你的内容在社交平台上传播，从而增加你的SEO社交信号。所有的大平台都有特定的标签(脸书、Twitter、Pinterest、Google+)。</p><p id="cdc9" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:【Twitter、Google+、脸书等的必备社交元标签，作者Moz。</p><h2 id="4127" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→移动优化📱</h2><p id="c154" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">如果你不知道<a class="ae jg" href="https://webmasters.googleblog.com/2018/03/rolling-out-mobile-first-indexing.html" rel="noopener ugc nofollow" target="_blank">谷歌的移动优先索引</a>，好吧，这是一个警钟！谷歌现在对流畅的移动体验比桌面体验投入了更多的爱，你也应该如此。</p><p id="8b99" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://backlinko.com/mobile-seo-guide" rel="noopener ugc nofollow" target="_blank">移动搜索引擎优化:权威指南</a>，作者Backlinko。</p><blockquote class="lc ld le"><p id="ddca" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated"><a class="ae jg" href="https://www.nativescript.org/vue" rel="noopener ugc nofollow" target="_blank"> NativeScript </a>支持跨平台Vue.js移动应用。</p></blockquote><h2 id="c4f1" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→ HTTPS 🛡️</h2><p id="3cec" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">缺失的HTTPS认证或损坏的配置可能会对你的网站不利。毕竟，搜索引擎倾向于推送可信且经过认证的网站，这难道不是可以理解的吗？</p><p id="cf82" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">即使不是为了SEO，你也可能想为你的用户提供一个尽可能安全的平台。所以没有理由不符合这个标准！</p><p id="8d35" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://ahrefs.com/blog/http-vs-https-for-seo/" rel="noopener ugc nofollow" target="_blank"> HTTP与HTTPS的搜索引擎优化:你需要知道什么才能获得谷歌的青睐</a>作者ahrefs。</p><h2 id="cdd7" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→页面速度🚀</h2><p id="75a5" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">人们的注意力持续时间很短——搜索者很快就会放弃加载速度慢的页面。谷歌知道这一点，为了给搜索者提供最好的UX，它会惩罚那些速度慢的网站。</p><p id="93f7" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">谷歌机器人本身非常不耐烦，不会等待超过5秒的脚本。如果你不满足这个超时时间，你的内容就有可能得不到充分的呈现。加快速度！</p><p id="77bf" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://moz.com/learn/seo/page-speed" rel="noopener ugc nofollow" target="_blank">现场SEO:页面速度</a>，Moz著。</p><h2 id="dfea" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→网站地图🗺️</h2><p id="843f" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">对于搜索机器人来说，站点地图相当于站点架构地图。其中应该包括你认为是高质量的登陆和导航页面，值得索引。</p><p id="361e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">网站地图对于小网站来说可能没那么有用，但是它仍然是一个值得考虑的SEO工具。</p><p id="ed22" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://moz.com/blog/xml-sitemaps" rel="noopener ugc nofollow" target="_blank">XML Sitemaps:SEO工具箱中最容易被误解的工具</a>，作者Moz。</p><blockquote class="lc ld le"><p id="2162" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated">你可以通过<a class="ae jg" href="https://github.com/40818419/vue-router-sitemap" rel="noopener ugc nofollow" target="_blank"> vue-router配置</a>生成一个sitemap.xml。</p></blockquote><h2 id="8ac3" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">→链接建筑⛓️</h2><p id="b848" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">建立你的域名权威仍然是一个关键的SEO策略。谷歌怎么知道你已经成为一个权威资源？通过让其他相关领域链接到你的网站。</p><p id="8694" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这里没有什么秘密公式，<strong class="jj hv">要做到这一点，你需要努力创作出精彩的内容</strong>。其他人希望在自己的站点上共享和用作资源的内容！</p><p id="11e1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你从相关来源获得的链接越多，你的权威就会上升得越多，当涉及到排名的时候，你就会获得越多的谷歌青睐。</p><p id="f9ae" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">了解更多:<a class="ae jg" href="https://backlinko.com/link-building" rel="noopener ugc nofollow" target="_blank">SEO链接构建:权威指南</a>，Backlinko。</p><h1 id="b75d" class="lj lk hu bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg dt translated">具体的Vue.js SPA SEO问题</h1><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff np"><img src="../Images/efcd5f7fd9b7af90a4e9a0aa03ff8c06.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9cv6KmHCAFl7vjjN.gif"/></div></div></figure><p id="7cb8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在接下来的教程中，我决定使用我们在之前的帖子中制作的博客演示，因为老实说，它看起来棒极了。如果你有兴趣知道它是如何建造的，请看<a class="ae jg" href="https://snipcart.com/blog/vuejs-blog-demo" rel="noopener ugc nofollow" target="_blank">这篇文章</a>。</p><p id="8c51" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">虽然它在视觉上是一件很棒的作品，但从搜索引擎优化的角度来看，它的设置并不理想。这是一个完全的SPA，搜索引擎可能很难抓取和索引。</p><p id="eed3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这是为什么呢？</p><p id="c7a4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">单页面应用程序动态地向页面添加内容，这有它的好处，但也带来了两个重要问题:</p><ol class=""><li id="9295" class="kk kl hu jj b jk jl jo jp js km jw kn ka ko ke nq kq kr ks dt translated"><strong class="jj hv">我们真的不知道Google能够抓取并正确渲染JS </strong>到什么程度。几年来，他们一直在说谷歌机器人有能力做到这一点。然而，这些说法后面总是跟着一两个“但是”。</li><li id="4528" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke nq kq kr ks dt translated">谷歌并不是唯一的搜索引擎。如果事情仍然不稳定，我们知道一个事实，其他玩家还没有抓取JS，因此没有遇到页面的实际内容。</li></ol><p id="2b3d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">所以没办法绕过。如果你想确保你的Vue.js网站/应用程序在SERPs上排名，你必须采取行动。</p><p id="9347" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你的选择？</p><h2 id="87d7" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">服务器端渲染</h2><p id="fa80" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">通过SSR设置，您可以在Node.js环境中直接在后端完成呈现逻辑。HTML视图然后被返回到客户端，准备好提供给搜索机器人。</p><p id="d8c0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于时间敏感的应用程序来说，这是非常好的，因为您希望在服务器上卸载尽可能多的逻辑，但这是有成本的。您将需要一个健壮的基础设施来处理增加到服务器上的压力，这需要更多的开发时间。在此过程中，您还可能会降低系统速度。</p><p id="023e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">但是如果你能处理好，这绝对是更大的应用程序应该走的路。<a class="ae jg" href="https://nuxtjs.org/" rel="noopener ugc nofollow" target="_blank"> <strong class="jj hv"> Nuxt.js </strong> </a>毫无疑问是用于你的<a class="ae jg" href="https://snipcart.com/blog/cockpit-cms-tutorial-nuxtjs" rel="noopener ugc nofollow" target="_blank">服务器渲染Vue.js SPA </a>的工具。</p><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div class="fe ff nr"><img src="../Images/cb293243200944210e2e6f20ce145bc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:920/format:webp/0*ZoMDPQ-Mu42vUWXg.png"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Nuxt.js rendering process <a class="ae jg" href="https://nuxtjs.org/guide" rel="noopener ugc nofollow" target="_blank">[source]</a></figcaption></figure><h2 id="3d70" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">预渲染</h2><p id="3346" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">但是有时候，服务器端的渲染可能会感觉有些过火，就像我的演示一样。对于一个只有几个页面的小型SPA，预渲染就能很好地完成这个任务。如果你只关心搜索引擎优化，那就更是如此。</p><p id="34bd" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这样，就不需要将你的Vue.js应用附加到任何服务器上。渲染在客户端使用第三方插件完成，如:</p><ul class=""><li id="55a1" class="kk kl hu jj b jk jl jo jp js km jw kn ka ko ke kp kq kr ks dt translated"><a class="ae jg" href="https://prerender.io/" rel="noopener ugc nofollow" target="_blank"><strong class="jj hv">prerender . io</strong></a>——兼容所有最流行的JS框架，包括Vue.js。</li><li id="172a" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated"><a class="ae jg" href="https://github.com/chrisvfritz/prerender-spa-plugin" rel="noopener ugc nofollow" target="_blank"><strong class="jj hv">prerender-spa-plugin</strong></a>——一个将你的页面编译成静态页面的webpack插件。使源代码中的所有内容都可用，并且索引是轻而易举的事情。</li></ul><p id="b7e6" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">后者非常容易使用，是由Vue.js核心团队成员构建的，因此它非常适合我的用例。</p><h1 id="c552" class="lj lk hu bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg dt translated">使用预渲染的Vue.js SEO技术示例</h1><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ns"><img src="../Images/d36cc8abfa8615ae97b99c98fb1e3558.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*xKIjFGbO6zPzv6yd.jpg"/></div></div></figure><p id="b074" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">是时候修复之前展示的Vue.js博客了。使用<code class="eh ky kz la lb b"><a class="ae jg" href="https://github.com/chrisvfritz/prerender-spa-plugin" rel="noopener ugc nofollow" target="_blank">prerender-spa-plugin</a></code>，我将很快拥有一个受到谷歌青睐的Vue.js SPA。</p><p id="ed4a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><strong class="jj hv">先决条件</strong></p><ul class=""><li id="f310" class="kk kl hu jj b jk jl jo jp js km jw kn ka ko ke kp kq kr ks dt translated">Vue.js的基础知识</li><li id="5a6b" class="kk kl hu jj b jk kt jo ku js kv jw kw ka kx ke kp kq kr ks dt translated">Node.js和npm安装</li></ul><h2 id="58e4" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">1.安装prerender-spa-plugin</h2><p id="799b" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">配置插件非常简单。在这个设置中，我将只在为生产而构建时运行插件。在积极开发组件时，不需要预渲染。</p><p id="46e2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">首先从npm安装插件。</p><pre class="kg kh ki kj fq nt lb nu nv aw nw dt"><span id="21cc" class="nb lk hu lb b fv nx ny l nz oa">npm install prerender-spa-plugin</span></pre><p id="32d7" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然后，打开<code class="eh ky kz la lb b">build/build.js</code>文件。在那里，你可以找到定制的产品。您需要导入插件并在文件顶部添加以下几行:</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ob oc l"/></div></figure><p id="c527" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为什么是<code class="eh ky kz la lb b">PrerenderSPAPlugin.PuppeteerRenderer</code>？因为您需要自定义渲染器。您需要注入一些数据，让应用程序知道它何时被预渲染。有些东西，比如Disqus评论，你无法预读。</p><blockquote class="lc ld le"><p id="da95" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated">在一个100% SEO友好的应用程序中，将这些评论作为呈现在页面上的内容会更好。如果你使用静态站点生成器，你应该考虑静态用户生成内容的<a class="ae jg" href="https://staticman.net/" rel="noopener ugc nofollow" target="_blank"> Staticman </a>。</p></blockquote><p id="607f" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您需要获取所有的博客条目，并生成一个将被预先呈现的路线列表。在真实的生产场景中，您可能希望调用您的headless CMS API或提供您的内容的外部服务。在这种情况下，数据保存在简单的JSON文件中。</p><p id="8c1d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">读取<code class="eh ky kz la lb b">feed.json</code>文件并生成您的路线:</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ob oc l"/></div></figure><p id="c9e5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">将插件添加到webpack配置:</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ob oc l"/></div></figure><p id="4188" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">当站点预渲染时，您将可以访问<code class="eh ky kz la lb b">window.__PRERENDER_INJECTED.prerendered</code>变量。这将有助于排除您不想预呈现的内容。</p><p id="0922" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">您还需要指定对<code class="eh ky kz la lb b">app.rendered</code>事件的等待。</p><p id="63fe" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这个演示中，我将使用<code class="eh ky kz la lb b"><a class="ae jg" href="https://github.hubspot.com/pace/docs/welcome/" rel="noopener ugc nofollow" target="_blank">Pace</a></code>，这是一个很棒的库，可以在站点上快速添加进度条。然而，你需要确保在预渲染站点之前加载完成，否则，你将会在多个页面上看到一个随机的进度条。</p><h2 id="006d" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">2.为prerender配置Vue.js</h2><p id="61a1" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">然后，您需要在一些组件中应用一些小的更改。为此，我改变了开始配速的方式。我去掉了<code class="eh ky kz la lb b">startup.cs</code>文件，把所有东西都放在了<code class="eh ky kz la lb b">main.js</code>里。</p><p id="a91b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">打开<code class="eh ky kz la lb b">main.js</code>文件，更改<code class="eh ky kz la lb b">App</code>组件的包含方式:</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ob oc l"/></div></figure><p id="fe7c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">一旦您的主要组件安装完毕，启动<code class="eh ky kz la lb b">Pace</code>并在初始加载完成时分派<code class="eh ky kz la lb b">app.rendered</code>事件。</p><p id="b73b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你要做的最后一个更新是确保在网站被预渲染时Disqus没有被加载。</p><p id="eb0b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">打开<code class="eh ky kz la lb b">BlogPost.vue</code>文件，其中包含Disqus组件。</p><p id="c0d1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">由于最初配置<code class="eh ky kz la lb b">prerender-spa-plugin</code>的方式，您将可以访问一个变量，该变量表明站点正在被预渲染。</p><p id="4f5c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以这种方式更新<code class="eh ky kz la lb b">showComments</code>方法:</p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ob oc l"/></div></figure><h2 id="eb64" class="nb lk hu bd ll nc nd ne lp nf ng nh lt js ni nj lx jw nk nl mb ka nm nn mf no dt translated">3.构建SEO友好的Vue.js网站</h2><p id="a580" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated">现在，您已经准备好构建您的站点了。在您的终端中使用以下命令:</p><pre class="kg kh ki kj fq nt lb nu nv aw nw dt"><span id="304c" class="nb lk hu lb b fv nx ny l nz oa">npm run build</span></pre><p id="6f42" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然后，如果你查看<code class="eh ky kz la lb b">dist</code>文件夹，你应该会看到<code class="eh ky kz la lb b">read</code>文件夹中的所有帖子。已经为每个帖子生成了一个静态HTML文件:</p><figure class="kg kh ki kj fq iv fe ff paragraph-image"><div class="fe ff od"><img src="../Images/0c15e836eadd5561b783337d9c6d4e0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:554/format:webp/0*peLNQKzmocTTEZ6D.png"/></div></figure><p id="aba3" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">就是这样！多简单啊，对吧？</p><h1 id="516e" class="lj lk hu bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg dt translated">现场演示，Github回购</h1><blockquote class="lc ld le"><p id="c68c" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated"><em class="hu">看现场演示</em> <a class="ae jg" href="https://vue-blog-prerendered.netlify.com/" rel="noopener ugc nofollow" target="_blank"> <em class="hu">这里</em> </a></p><p id="415e" class="jh ji lf jj b jk jl jm jn jo jp jq jr lg jt ju jv lh jx jy jz li kb kc kd ke hn dt translated"><em class="hu">参见GitHub回购</em> <a class="ae jg" href="https://github.com/snipcart/vue-blog-demo" rel="noopener ugc nofollow" target="_blank"> <em class="hu">此处</em> </a></p></blockquote><h1 id="d69c" class="lj lk hu bd ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg dt translated">结束语</h1><p id="deaa" class="pw-post-body-paragraph jh ji hu jj b jk mh jm jn jo mi jq jr js mj ju jv jw mk jy jz ka ml kc kd ke hn dt translated"><code class="eh ky kz la lb b">prerender-spa-plugin</code>是一个整洁的插件。配置起来很容易，而且足够灵活，可以处理异步用例，就像我们用<code class="eh ky kz la lb b">Pace</code>处理的那样。</p><p id="48f1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我花了大约2个小时来弄清楚如何将所有这些东西连接在一起，并更新我们的初始应用程序以支持预渲染。</p><p id="6000" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">正如我前面提到的，这个插件很简单，最适合静态博客这样的简单应用。如果你想构建更复杂的东西，我建议你看看Nuxt！</p><p id="6709" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="lf">如果你喜欢这篇文章，请花点时间在Twitter上分享一下。有意见或问题吗？点击下面的部分！</em></p></div><div class="ab cl oe of hc og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="hn ho hp hq hr"><p id="3d48" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="lf">我最初在</em> <a class="ae jg" href="https://snipcart.com/blog/vue-js-seo-prerender-example" rel="noopener ugc nofollow" target="_blank"> <em class="lf"> the Snipcart博客</em> </a> <em class="lf">上发表了这篇文章，并在</em> <a class="ae jg" href="https://us5.list-manage.com/subscribe?u=c019ca88eb8179b7ffc41b12c&amp;id=3e16e05ea2" rel="noopener ugc nofollow" target="_blank"> <em class="lf">我们的时事通讯</em> </a> <em class="lf">上分享了它。</em></p><figure class="kg kh ki kj fq iv"><div class="bz el l di"><div class="ol oc l"/></div></figure></div></div>    
</body>
</html>