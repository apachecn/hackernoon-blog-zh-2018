<html>
<head>
<title>Dijkstra is Wrong and So am I</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">迪杰斯特拉错了，我也错了</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/dijkstra-is-wrong-and-so-am-i-f36e2fbd5ae4?source=collection_archive---------9-----------------------#2018-09-18">https://medium.com/hackernoon/dijkstra-is-wrong-and-so-am-i-f36e2fbd5ae4?source=collection_archive---------9-----------------------#2018-09-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="de09" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">我后悔使用了基于0的数组，我错了。我来跟大家分享一下为什么。</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/c7a535d250c6c8f333724d798a7bdaa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FcVkcul08gUeub_QU0qDHQ.png"/></div></div></figure><p id="7457" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">程序员<em class="kr">应该使用索引符号</em>，而不是偏移量符号。偏移量表示法是一种常见的做法，通过元素在连续内存的物理分配空间中的对应位置来描述元素在数组中的位置，逻辑上从零开始。这被简称为“基于0的索引数组”，尽管它实际上是一个偏移量。我们应该使用1作为数组的开头，因为它有以下优点:</p><ol class=""><li id="ab65" class="ks kt hu jx b jy jz kb kc ke ku ki kv km kw kq kx ky kz la dt translated">自然，列表中的第一个元素基本上对应于<code class="eh lb lc ld le b">1</code>。相反，即使是JavaScript的官方文档也明确声明“数组的第一个元素实际上是在索引0处”——这很容易被忘记，尤其是对于新手来说，并可能导致错误。</li><li id="1c12" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">数学上，封闭区间在代码中被恰当地表示为<code class="eh lb lc ld le b">for(i = 1; i &lt;= items.length; i++)</code>，因为它包含了它的端点。相反，偏移符号在技术上是一个左闭右开的区间集，用代码表示为<code class="eh lb lc ld le b">for(i = 0; i &lt; items.length; i++)</code>。这很重要，因为代码处理整数区间，因为所有元素都有固定的大小——您不能访问元素的小数部分。整数区间是闭区间，因此决定性地证明了这一重要性。</li><li id="8ba1" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">数学上，矩阵符号也是从<code class="eh lb lc ld le b">1</code>开始的。</li><li id="888e" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">那么第<code class="eh lb lc ld le b">0</code>项应该代表什么？数组本身呢？特别是对于将<code class="eh lb lc ld le b">0</code>视为falsey值的语言来说，如果<code class="eh lb lc ld le b">0 || true</code>为您提供true，那么认为<code class="eh lb lc ld le b">foo[0]</code>为您提供foo的根(也就是数组本身)也不无道理。</li><li id="6a85" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">列表中的最后一个元素基本上对应于列表的长度，因此允许用<code class="eh lb lc ld le b">items.length</code>轻松访问，而不是让<code class="eh lb lc ld le b">(items.length - 1)</code>算法在你的代码中无处不在。</li><li id="f7ee" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">负指数与正指数对称。使得<code class="eh lb lc ld le b">-1</code>和<code class="eh lb lc ld le b">1</code>分别指最后一个和第一个元素，并且在列表中只有一个项目的情况下，它匹配相同的元素。这种便利允许简单的左右访问，这是偏移符号所不提供的。</li><li id="440d" class="ks kt hu jx b jy lf kb lg ke lh ki li km lj kq kx ky kz la dt translated">元素的不存在可以用<code class="eh lb lc ld le b">0</code>来表示，它可以方便地编码为<code class="eh lb lc ld le b">if( !items.indexOf('z') ) return;</code>。相反，人们必须决定<code class="eh lb lc ld le b">if( items.indexOf('z') == -1 ) return;</code>在哲学上是否比带有偏移符号的<code class="eh lb lc ld le b">if( items.indexOf('z') &lt; 0 ) return;</code>更有意义，尽管忽略了等式的不对称性。</li></ol><p id="9c61" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">因此，我请求原谅我多年来天真、愚蠢和错误地将基于0的数组推给每个人。请原谅我，和我一起忏悔，现在起来反抗吧！分享、推文、HN/Reddit等。运动了，让我们的<em class="kr">再做阵伟大的</em>！不，我不是在耍花招，<strong class="jx hv">数学已经说话了</strong>。</p></div></div>    
</body>
</html>