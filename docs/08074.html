<html>
<head>
<title>“Trust But Verify” Your Metrics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">“信任但核实”您的指标</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/trust-but-verify-your-metrics-96565cd6d9b0?source=collection_archive---------31-----------------------#2018-09-24">https://medium.com/hackernoon/trust-but-verify-your-metrics-96565cd6d9b0?source=collection_archive---------31-----------------------#2018-09-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/446ae5ad41d36a264230ec81fa6029ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:672/format:webp/0*PV8L-Vr9fheWt-qn.jpg"/></div></figure><p id="6c68" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">让我们理所当然地认为您做了正确的事情——您已经慷慨地装备了您的系统，并且实际上正在关注您生成的指标()。摆在桌面上的问题是—“<em class="jw">您真的信任您正在生成的指标吗？</em>(提示:你不应该)</p><p id="1d7e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">让我们看一些相当简单的东西，请求/响应路径如下所示</p><figure class="jy jz ka kb fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="kc kd di ke bf kf"><div class="fe ff jx"><img src="../Images/503e58a5facf3438a3862eb802023c94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*CwpaX4I0GFY8zOnhmMs_UA.png"/></div></div></figure><p id="58a5" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">您可能认为响应时间是每个处理阶段的总和，对吗？即<code class="eh kg kh ki kj b">ResponseTime = 10 + 1 + 20 + 1 + 5 = 37ms</code>？</p><p id="70f0" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">但是，由于您不应该相信您的度量标准，您<br/> 1)也直接测量了<code class="eh kg kh ki kj b">ResponseTime</code>，并且<br/> 2)将其与它应该达到的值进行了比较，并且<br/> 3)对偏差<br/>进行了绘图/警告，您发现实际的响应时间是，比方说，<strong class="ja hv">52毫秒</strong>。</p><p id="e086" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">那是相当不同的，不是吗？至于<strong class="ja hv"> <em class="jw">为什么</em> </strong>是52毫秒，让我们来看一堆可能的问题</p><ol class=""><li id="1fa5" class="kk kl hu ja b jb jc jf jg jj km jn kn jr ko jv kp kq kr ks dt translated"><em class="jw">测量错误的东西</em>:你实际上测量了完全不同的东西。我知道，这听起来很傻，但这种情况一直都在发生，例如，你测量的是<code class="eh kg kh ki kj b">validate_user</code>间隔，而不是<code class="eh kg kh ki kj b">validate_users</code>(<a class="ae kt" href="https://dieswaytoofast.blogspot.com/2018/08/preventing-your-api-from-failing.html" rel="noopener ugc nofollow" target="_blank">API的拼写问题。耶。)</a></li><li id="5244" class="kk kl hu ja b jb ku jf kv jj kw jn kx jr ky jv kp kq kr ks dt translated"><em class="jw">不完整的仪器</em>:简单来说，你遗漏了一些东西。例如，在<code class="eh kg kh ki kj b">Analyze</code>组件前面有一个队列，您还没有插装，并且您没有测量那里的延迟。</li><li id="eb34" class="kk kl hu ja b jb ku jf kv jj kw jn kx jr ky jv kp kq kr ks dt translated"><em class="jw">系统问题</em>:哎呀。垃圾收集暂停。或者故障转移。或者重新开始。或者别的什么。</li><li id="3b3a" class="kk kl hu ja b jb ku jf kv jj kw jn kx jr ky jv kp kq kr ks dt translated"><em class="jw">意外的代码路径</em>:你的代码中有一堆路径来处理边缘情况(例如"<em class="jw">从输入中去掉分号</em>")，其中一些会触发你已经忘记的额外步骤</li><li id="00ad" class="kk kl hu ja b jb ku jf kv jj kw jn kx jr ky jv kp kq kr ks dt translated"><em class="jw">时间问题</em>:你只是做了一个关于时间的无限多的<a class="ae kt" rel="noopener" href="/@dieswaytoofast/we-dont-need-vector-clocks-we-ve-got-ntp-cowboydeveloper-3dc3883dfb55">假设，比如它单调增加，或者一切都是GMT，或者其他什么</a>。</li></ol><p id="bd75" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">这只是在测量时间的时候。这里的要点是，您应该通过多种方式来验证您的指标，<em class="jw">验证您所有的指标</em>。事实上，如果你已经这样做了，并且所有的数字都对齐了，你应该非常非常担心——你可能错过了什么！</p><p id="28a7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">所以，是的，相信你的指标，<em class="jw">在</em>你验证了它们之后…</p><p id="7182" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">()你可能会惊讶，我经常发现这种情况。你测试过你的代码吗？“T2，”——“当然，当然！”<br/><em class="jw">格拉夫纳？“老兄，得了吧，你以为我是什么人？”<br/><em class="jw">你最后一次看它是什么时候？</em>”——“嗯嗯”</em></p><p id="98b4" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><em class="jw"> ( </em> <a class="ae kt" href="https://dieswaytoofast.blogspot.com/2018/09/trust-but-verify-your-metrics.html" rel="noopener ugc nofollow" target="_blank"> <em class="jw">这篇文章也出现在我的博客上</em> </a> <em class="jw"> ) </em></p></div></div>    
</body>
</html>