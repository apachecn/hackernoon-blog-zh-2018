<html>
<head>
<title>LiDAR Basics: The Coordinate System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">激光雷达基础知识:坐标系</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/lidar-basics-the-coordinate-system-a26529615df9?source=collection_archive---------2-----------------------#2018-09-29">https://medium.com/hackernoon/lidar-basics-the-coordinate-system-a26529615df9?source=collection_archive---------2-----------------------#2018-09-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="447c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">至关重要的是，我们<a class="ae jp" href="https://hackernoon.com/tagged/familiarise" rel="noopener ugc nofollow" target="_blank">要熟悉</a>T2】激光雷达的坐标系统，以处理安装在自动驾驶汽车上的传感器生成的点云。在这篇文章中，我们将研究激光雷达使用的坐标系统。</p><p id="833c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">激光雷达——光探测和测距——用于确定物体与我们之间的精确距离。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/0c9e9a3f633c325664b466726368988e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1sk4qm2kX_w_aFZwQnHxWQ.png"/></div></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">A LiDAR calculates the distance to an object using time of flight.</figcaption></figure><p id="4e26" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当发射激光脉冲时，其发射时间和方向被记录下来。激光脉冲在空气中传播，直到碰到一个障碍物，障碍物反射部分能量。在接收到该部分能量后，传感器记录采集时间和接收到的功率。障碍物的球面坐标是利用每次扫描后传感器返回的采集时间和接收到的功率(作为反射率)来计算的。</p><p id="df97" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">由于激光雷达传感器返回球坐标中的读数，让我们复习一下球坐标系统。</p><h2 id="5cd1" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">球面坐标系</h2><p id="fc1e" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">在球坐标系中，一个点由一个距离和两个角度定义。为了表示这两个角度，我们使用方位角(θ)和极angle(ϕ)惯例。因此，一个点是由(r,θ,ϕ).</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/8d26e77ad8f87dd15e54200b539e199e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1116/format:webp/1*mayEWb3W1oe7Z8J-NVmKTA.png"/></div></figure><p id="2e12" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从上图可以看出，方位角是在X-Y平面上从X轴测量的，极角是在Z-Y平面上从Z轴测量的。</p><p id="ceee" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从上图中，我们可以得到下面的将笛卡尔坐标转换为球坐标的方程。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/c204a5f80553f11e9348da9de92afd24.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*iLXkIFshH8bf1RrlpdJ8gg.png"/></div></figure><p id="4dcc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们可以使用下面的等式从球坐标推导出笛卡尔坐标。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff li"><img src="../Images/0162e4372a66e8c65a222823fed63933.png" data-original-src="https://miro.medium.com/v2/resize:fit:292/format:webp/1*yjkFSXU1WpqzXXv-7Azcbg.png"/></div></figure><h2 id="b8a6" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">激光雷达坐标系</h2><p id="6d7e" class="pw-post-body-paragraph ir is hu it b iu lb iw ix iy lc ja jb jc ld je jf jg le ji jj jk lf jm jn jo hn dt translated">激光雷达返回球面坐标中的读数。正如您在下图中看到的，与上面讨论的约定有一点点不同。</p><p id="5192" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在传感器坐标系中，一个点由(半径r，仰角ω，方位角α)定义。仰角，ω在Z-Y平面内，从Y轴开始测量。方位角，α在X-Y平面内，从Y轴开始测量。</p><p id="d233" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">方位角取决于激光发射时的位置，并在发射时记录。激光发射器的仰角在传感器中是固定的。使用光束返回所用的时间来计算半径。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lj"><img src="../Images/7ebc7524a5deca8e46753c8d32a10349.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*-mLiFPhaI0EhVivQFrXsCA.png"/></div></figure><p id="ce9b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">笛卡尔坐标可以从下面的等式中导出。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lk"><img src="../Images/b80ddfa464eb513cf735f02bcbba189c.png" data-original-src="https://miro.medium.com/v2/resize:fit:304/format:webp/1*UNOsUf11hsqlAThgYs5YGg.png"/></div></figure><p id="432d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">笛卡尔坐标系易于操作，因此大多数时候我们需要使用上面的等式将球坐标转换为笛卡尔坐标系。</p><p id="5acf" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，有必要使用上述等式进行计算，将来自传感器的球面数据转换为笛卡尔坐标。激光雷达传感器的司机通常会为我们做这些。例如，威力登激光雷达传感器提供了一个ROS包- <a class="ae jp" href="http://wiki.ros.org/velodyne_pointcloud" rel="noopener ugc nofollow" target="_blank">威力登_点云</a>用于转换坐标系。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff ll"><img src="../Images/78f3b90e4bafdf1c83d3a6d568867e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:1284/format:webp/1*YvGzZ0duLa-0dQeu9s5llA.png"/></div><figcaption class="kc kd fg fe ff ke kf bd b be z ek">A car coordinate system with LiDAR mounted on it.</figcaption></figure><p id="211f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上图显示了安装在汽车上的传感器的笛卡尔坐标系。</p><p id="3b9e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所以在这篇文章中，我们学习了激光雷达如何计算距离和涉及的坐标系统。</p><h2 id="0937" class="kg kh hu bd ki kj kk kl km kn ko kp kq jc kr ks kt jg ku kv kw jk kx ky kz la dt translated">进一步阅读的参考资料:</h2><ul class=""><li id="5afc" class="lm ln hu it b iu lb iy lc jc lo jg lp jk lq jo lr ls lt lu dt translated">奥利弗·卡梅伦(Oliver Cameron)的博客中有一篇关于激光雷达传感器正在改变无人驾驶汽车的文章值得一读。</li><li id="55f1" class="lm ln hu it b iu lv iy lw jc lx jg ly jk lz jo lr ls lt lu dt translated">在维基百科上阅读<a class="ae jp" href="https://en.wikipedia.org/wiki/Spherical_coordinate_system" rel="noopener ugc nofollow" target="_blank">更多关于球面坐标系的</a>。</li><li id="559e" class="lm ln hu it b iu lv iy lw jc lx jg ly jk lz jo lr ls lt lu dt translated">威力登·VLP-16<a class="ae jp" href="https://velodynelidar.com/docs/manuals/63-9243%20REV%20D%20MANUAL,USERS,VLP-16.pdf" rel="noopener ugc nofollow" target="_blank">手册</a>是了解激光雷达工作原理的良好开端。</li></ul><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ma mb l"/></div></figure></div></div>    
</body>
</html>