<html>
<head>
<title>Pixelbook Revisited: Running Docker Containers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Pixelbook重访:运行Docker容器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/pixelbook-revisited-running-docker-containers-aa7c742a7dec?source=collection_archive---------3-----------------------#2018-10-01">https://medium.com/hackernoon/pixelbook-revisited-running-docker-containers-aa7c742a7dec?source=collection_archive---------3-----------------------#2018-10-01</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk ir is it iu fe ff paragraph-image"><div class="ab fr cl iv"><img src="../Images/c85fbdecb6adbb05c30891a82667d2e1.png" data-original-src="https://miro.medium.com/v2/format:webp/1*CO20-3P183ZAqrsJlF7n_A.png"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">Go and docker is a really nice combo. I’m not using any Go in this article but it’s a cute image :)</figcaption></figure><p id="36f9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">几个月前，我在<a class="ae ka" href="https://hackernoon.com/tagged/google" rel="noopener ugc nofollow" target="_blank"> Google </a> Pixelbook中写了我建立开发环境的经历。那时Linux (beta)特性只在开发频道上可用，但是现在这个特性也已经在稳定频道上发布了。</p><p id="bf83" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">虽然我确实在Pixel上写了一些不错的代码，但是一些系统更新破坏了我的VS代码安装。我能够启动应用程序，但窗口就是不呈现…看日志，应用程序似乎在工作，但处于“无头”状态。</p><p id="3e17" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我没有技能进一步调试，所以差点放弃了。但是因为我需要的特性是在稳定分支中发布的，所以我决定清洗设备并重新开始，这次是在稳定频道上。</p><p id="04b7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">顺便提一下:在这之前，我也尝试过在开发者模式下运行Pixelbook，但是我一点也不喜欢这种用户体验。每次我启动XFCE时，它都会完全打乱我在Chrome操作系统上的分辨率和颜色，让我无法在两个世界之间切换。如果你对此有不同的体验，请告诉我。</p><p id="a749" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在强力清洗之后，我已经设置了VS代码并再次运行二进制程序。我不会在这里重复步骤，但你可以参考我以前的文章或官方网站的步骤:</p><ul class=""><li id="6dc3" class="kb kc hu je b jf jg jj jk jn kd jr ke jv kf jz kg kh ki kj dt translated">VS代码:<a class="ae ka" href="https://code.visualstudio.com/docs/setup/linux" rel="noopener ugc nofollow" target="_blank">https://code.visualstudio.com/docs/setup/linux</a></li><li id="a19f" class="kb kc hu je b jf kk jj kl jn km jr kn jv ko jz kg kh ki kj dt translated">去:<a class="ae ka" href="https://golang.org/doc/install?download" rel="noopener ugc nofollow" target="_blank">https://golang.org/doc/install?download</a></li></ul><p id="681e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这次我走得更远，还安装了<a class="ae ka" href="https://hackernoon.com/tagged/docker" rel="noopener ugc nofollow" target="_blank"> Docker </a>。在这里我记录了我的经历。</p><p id="89e9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，您需要安装一些先决条件:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="cc9a" class="ky kz hu ku b fv la lb l lc ld">$ sudo apt-get update</span><span id="48d6" class="ky kz hu ku b fv le lb l lc ld">$ sudo apt-get install \<br/>    apt-transport-https \<br/>    ca-certificates \<br/>    curl \<br/>    software-properties-common</span></pre><p id="d451" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后添加Docker存储库(为简洁起见，省略了输出):</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="0702" class="ky kz hu ku b fv la lb l lc ld">$ curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</span><span id="0e47" class="ky kz hu ku b fv le lb l lc ld">$ sudo add-apt-repository \<br/>   "deb [arch=amd64] https://download.docker.com/linux/ubuntu \<br/>   $(lsb_release -cs) \<br/>   stable"</span></pre></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="90e1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">更新:</strong>这篇文章发表后，一些人报告说使用Debian的库比使用Ubuntu的有更好的体验:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="0463" class="ky kz hu ku b fv la lb l lc ld">$ curl -fsSL https://download.docker.com/linux/debian/gpg | sudo apt-key add -</span><span id="f6de" class="ky kz hu ku b fv le lb l lc ld">$ sudo add-apt-repository \<br/>   "deb [arch=amd64] https://download.docker.com/linux/debian \<br/>   $(lsb_release -cs) \<br/>   stable"</span></pre></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="3748" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后安装Docker:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="59f6" class="ky kz hu ku b fv la lb l lc ld">$ sudo apt-get update<br/>$ sudo apt-get install docker-ce</span></pre><p id="e65f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在一切都应该正常工作了，所以我们发出一个<code class="eh lm ln lo ku b">docker run hello-world</code>来测试安装:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="c71d" class="ky kz hu ku b fv la lb l lc ld">$ sudo docker run hello-world<br/>docker: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused "process_linux.go:402: container init caused \"could not create session key: function not implemented\"": unknown.<br/>ERRO[0000] error waiting for container: context canceled <br/>$</span></pre><p id="a2a9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">不对不对！看来我们可能有问题了！</p></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="2b7b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="lp">更新</em> </strong> <em class="lp">:这个问题似乎已经被ChromeOS 71.0.3578.98解决了。如果这是你的情况，请跳到下一部分。</em></p><p id="93b3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这在ChromeOS的最新版本中有所改变…上次我尝试运行docker时，它运行得很好。经过一番调查，我发现了这个问题:<a class="ae ka" href="https://bugs.chromium.org/p/chromium/issues/detail?id=860565" rel="noopener ugc nofollow" target="_blank">https://bugs.chromium.org/p/chromium/issues/detail?id=860565 </a></p><p id="39c4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">而这篇reddit的帖子总结了解决方案:<a class="ae ka" href="https://www.reddit.com/r/Crostini/comments/99jdeh/70035242_rolling_out_to_dev/e4revli/" rel="noopener ugc nofollow" target="_blank">https://www . Reddit . com/r/cros TiNi/comments/99 jdeh/70035242 _ rolling _ out _ to _ dev/E4 revli/</a></p><p id="8d6a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我甚至没有背景知识来假装我真的明白这是怎么回事，但基本上，我们在这里扰乱一些系统特权。</p><p id="14c5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">解决方法是启动Chromium Shell (Ctrl+Alt+T)并取消设置黑名单中的syscall。在按下Ctrl+Alt+T之后，你应该会在一个新的Chrome标签上看到<code class="eh lm ln lo ku b">crosh&gt;</code>提示。键入以下命令:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="27f6" class="ky kz hu ku b fv la lb l lc ld">crosh&gt; vmc start termina<br/>(termina) chronos@localhost ~ $ lxc profile unset default security.syscalls.blacklist<br/>(termina) chronos@localhost ~ $ lxc profile apply penguin default<br/>Profiles default applied to penguin<br/>(termina) chronos@localhost ~ $ lxc restart penguin</span></pre><p id="0491" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果重启似乎挂起，只需按Ctrl+C并再次运行它。对我很有效。:)</p><p id="e201" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">之后您可以关闭终端。有了这些改变，你应该可以很好地运行docker。</p></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="688d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Linux(企鹅)终端:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="c675" class="ky kz hu ku b fv la lb l lc ld">danielapetruzalek@penguin:~$ sudo docker run hello-world</span><span id="f452" class="ky kz hu ku b fv le lb l lc ld">Hello from Docker!<br/>This message shows that your installation appears to be working correctly.</span><span id="ce96" class="ky kz hu ku b fv le lb l lc ld">To generate this message, Docker took the following steps:<br/> 1. The Docker client contacted the Docker daemon.<br/> 2. The Docker daemon pulled the "hello-world" image from the Docker Hub.<br/>    (amd64)<br/> 3. The Docker daemon created a new container from that image which runs the<br/>    executable that produces the output you are currently reading.<br/> 4. The Docker daemon streamed that output to the Docker client, which sent it<br/>    to your terminal.</span><span id="ea71" class="ky kz hu ku b fv le lb l lc ld">To try something more ambitious, you can run an Ubuntu container with:<br/> $ docker run -it ubuntu bash</span><span id="650b" class="ky kz hu ku b fv le lb l lc ld">Share images, automate workflows, and more with a free Docker ID:<br/> <a class="ae ka" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/</a></span><span id="d7e0" class="ky kz hu ku b fv le lb l lc ld">For more examples and ideas, visit:<br/> <a class="ae ka" href="https://docs.docker.com/get-started/" rel="noopener ugc nofollow" target="_blank">https://docs.docker.com/get-started/</a></span><span id="99f7" class="ky kz hu ku b fv le lb l lc ld">danielapetruzalek@penguin:~$</span></pre><p id="46a0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">有用！</p></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="22e3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">更新:</strong>如果您想删除sudo，您可以执行Linux安装后步骤来创建docker组，并将您的用户添加到其中:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="ccaf" class="ky kz hu ku b fv la lb l lc ld">$ sudo groupadd docker<br/>$ sudo usermod -aG docker $USER</span></pre><p id="7112" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">感谢所有在评论中指出这一点的人。</p><h2 id="deef" class="ky kz hu bd lq lr ls lt lu lv lw lx ly jn lz ma mb jr mc md me jv mf mg mh mi dt translated">尝试更严肃的东西</h2><p id="95f5" class="pw-post-body-paragraph jc jd hu je b jf mj jh ji jj mk jl jm jn ml jp jq jr mm jt ju jv mn jx jy jz hn dt translated">因此，我们有了<code class="eh lm ln lo ku b">hello-world</code>工作，但是这对于更复杂的docker环境意味着什么呢？幸运的是，我们有大量的预构建容器图像可供选择。</p><p id="5eb6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">摆弄Apache Spark是我经常喜欢做的事情，所以我决定尝试一下<code class="eh lm ln lo ku b">jupyter/all-spark-notebook</code>图像。您可以像往常一样使用<code class="eh lm ln lo ku b">docker pull</code>:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="5691" class="ky kz hu ku b fv la lb l lc ld">$ docker pull jupyter/all-spark-notebook<br/>(output omitted for brevity) </span></pre><p id="3f24" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后运行图像，如下所示:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="308a" class="ky kz hu ku b fv la lb l lc ld">$ sudo docker run -p 8888:8888 jupyter/all-spark-notebook</span></pre><p id="b256" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于那些不熟悉docker的人来说，<code class="eh lm ln lo ku b">-p</code>参数会将容器的端口映射到主机中的某个端口。在这种情况下，我只是暴露8888端口。</p><p id="9c67" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以棘手的部分来了。我正在Chrome OS上运行的Linux容器上运行Jupyter笔记本的docker映像，该映像支持Spark。正因为如此，我没有想到在浏览器上点击<a class="ae ka" href="http://localhost:8888" rel="noopener ugc nofollow" target="_blank"> http://localhost:8888 </a>会访问Jupyter笔记本，但是我错了:</p><figure class="kp kq kr ks fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mo"><img src="../Images/7a49a4443a16f1e4c09870cae8e11e4f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DsHcx2xpBuUjc4izRaanNw.png"/></div></div></figure><p id="6a41" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">请注意，首次访问<code class="eh lm ln lo ku b">localhost:8888</code>界面时，您需要传递一个令牌。您可以在<code class="eh lm ln lo ku b">docker run</code>命令的日志输出的第一行找到它。我的情况是:</p><figure class="kp kq kr ks fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mt"><img src="../Images/b5fcc927729e128e9020986c6e3f34da.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdfOHBuYcFW91k79qfrtug.png"/></div></div></figure><p id="35c6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关于实际指向容器的<code class="eh lm ln lo ku b">localhost</code>,我有一个轻微的印象，在几个版本之前这不是那样工作的，但是我不是100%确定。然而，这是一个很大的惊喜。</p></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="eeab" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">注意:在随后的运行中，本地主机映射似乎不知何故丢失了，所以现在它似乎不稳定。一个技巧是在容器中运行<code class="eh lm ln lo ku b">ip a</code>,计算出<code class="eh lm ln lo ku b">eth0</code>的ip地址，并用它代替localhost。我只能通过重启来恢复本地主机映射。</p></div><div class="ab cl lf lg hc lh" role="separator"><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk ll"/><span class="li bw bk lj lk"/></div><div class="hn ho hp hq hr"><p id="103a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下一步是在容器中做一些工作。我要下载一个大的文本文件，并在上面运行一个经典的字数统计算法。我选择了这个文件来测试:<a class="ae ka" href="http://norvig.com/big.txt" rel="noopener ugc nofollow" target="_blank">http://norvig.com/big.txt</a></p><p id="186a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我使用<code class="eh lm ln lo ku b">wget</code>将它下载到容器中，但是你可以将它保存到Chrome OS中的“Linux文件”中，因为它最终会在容器中的用户家中。<code class="eh lm ln lo ku b">wget</code>不是默认安装的，所以我们必须先安装它，然后获取文件:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="7141" class="ky kz hu ku b fv la lb l lc ld">$ sudo apt-get install wget<br/>(...)<br/>Setting up wget (1.18-5+deb9u2) ...<br/>$ wget <a class="ae ka" href="http://norvig.com/big.txt" rel="noopener ugc nofollow" target="_blank">http://norvig.com/big.txt</a><br/>--2018-09-30 21:50:34--  http://norvig.com/big.txt<br/>Resolving norvig.com (norvig.com)... 66.96.146.129<br/>Connecting to norvig.com (norvig.com)|66.96.146.129|:80... connected.<br/>HTTP request sent, awaiting response... 200 OK<br/>Length: 6488666 (6.2M) [text/plain]<br/>Saving to: ‘big.txt’<br/><br/>big.txt               100%[=========================&gt;]   6.19M   140KB/s    in 41s     <br/><br/>2018-09-30 21:51:15 (156 KB/s) - ‘big.txt’ saved [6488666/6488666]</span></pre><p id="a174" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们重新启动容器，将Linux主目录映射到容器中的一个目录:</p><pre class="kp kq kr ks fq kt ku kv kw aw kx dt"><span id="2e1e" class="ky kz hu ku b fv la lb l lc ld">sudo docker run -p 8888:8888 -p 4040:4040 -v ~:/var/spark/input jupyter/all-spark-notebook</span></pre><p id="4cce" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在上面的命令中，为了以防万一，我还添加了公开Spark UI的端口4040的映射。</p><p id="b947" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了运行我们的工作负载，我创建了一个带有Apache Toree (Scala)内核的笔记本。我使用<code class="eh lm ln lo ku b">sys.process</code>包来帮助我们在容器内部导航。</p><figure class="kp kq kr ks fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mt"><img src="../Images/044b8653d968fa858718d7f5cabc43e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gMaUJuZO2aLKRnv_bEhlNA.png"/></div></div></figure><p id="24d9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">所以<code class="eh lm ln lo ku b">big.txt</code>文件就在那里。现在让我们试试经典的字数统计算法:</p><figure class="kp kq kr ks fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mu"><img src="../Images/0992367d26d1fa2c0788ffe1f7a1b627.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pMK9qb0fQ51B8Yr3pQCOXg.png"/></div></div></figure><p id="a486" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在这里，我使用一个正则表达式<a class="ae ka" href="https://xkcd.com/208/" rel="noopener ugc nofollow" target="_blank">通过空格和标点符号来拆分单词。现在让我们打印最常用的:</a></p><figure class="kp kq kr ks fq iu fe ff paragraph-image"><div role="button" tabindex="0" class="mp mq di mr bf ms"><div class="fe ff mv"><img src="../Images/c5372d35c3d0545f68708d1db40f22c9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*qQa7aQ-58iTgyxZwI2_4WQ.png"/></div></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">Since I haven’t filtered any stop words I guess that’s expected.</figcaption></figure><p id="a11e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我首先将其转换为数据帧以获得更好的界面，然后在cell nine上，我使用一个技巧在Jupyter笔记本上导入<code class="eh lm ln lo ku b">spark.implicits._</code>。</p><p id="15c7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最后，我使用隐式列操作符(单引号)打印结果，以降序排序。</p><h2 id="a88a" class="ky kz hu bd lq lr ls lt lu lv lw lx ly jn lz ma mb jr mc md me jv mf mg mh mi dt translated">结论</h2><p id="9bc0" class="pw-post-body-paragraph jc jd hu je b jf mj jh ji jj mk jl jm jn ml jp jq jr mm jt ju jv mn jx jy jz hn dt translated">是的，在Pixelbook(或任何现代Chromebook)上运行复杂的docker图像是完全可行的，但你仍然可能会面临一些不稳定的问题，你必须做好准备。</p><p id="d4d0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我不知道为什么绑定到localhost有时有效，有时无效，但是诊断需要一些我目前缺乏的系统和网络知识。一种解决方法是忽略<code class="eh lm ln lo ku b">localhost</code>并计算Linux <code class="eh lm ln lo ku b">penguin</code>容器的IP地址，然后直接使用它。如果到了这一步，这个Reddit可能会派上用场:<a class="ae ka" href="https://www.reddit.com/r/Crostini/comments/89x69f/is_there_a_way_to_open_ports/" rel="noopener ugc nofollow" target="_blank">https://www . Reddit . com/r/cros TiNi/comments/89x 69 f/is _ there _ a _ way _ to _ open _ ports/</a></p><p id="fe7e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在撰写本文期间，我不得不重启Pixelbook至少一次，并几次(从<code class="eh lm ln lo ku b">crosh</code>中)杀死<code class="eh lm ln lo ku b">termina</code>容器，因为启动终端快捷方式变得不负责任。请注意，如果您重新启动Chromebook，您需要再次运行删除黑名单步骤。</p><p id="fd2e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我仍在努力理解这种架构以及如何诊断平台问题。此刻我正在用<code class="eh lm ln lo ku b">crosh</code>调试<code class="eh lm ln lo ku b">termina</code>和<code class="eh lm ln lo ku b">termina</code>调试<code class="eh lm ln lo ku b">penguin</code>，但是这两者之间的关系我并不十分清楚。我想这将随着时间的推移而到来，然而，探索这一切是一次有趣的经历。</p><p id="725d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你有任何问题或意见吗？请随意使用下面的评论栏。</p><figure class="kp kq kr ks fq iu"><div class="bz el l di"><div class="mw mx l"/></div></figure></div></div>    
</body>
</html>