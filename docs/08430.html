<html>
<head>
<title>Learn to manage large Vue.js components in 4 min</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在4分钟内学会管理大型Vue.js组件</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/learn-to-manage-large-vue-js-components-in-4-min-64fc2b9b2ef9?source=collection_archive---------4-----------------------#2018-10-09">https://medium.com/hackernoon/learn-to-manage-large-vue-js-components-in-4-min-64fc2b9b2ef9?source=collection_archive---------4-----------------------#2018-10-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="ff25" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在我看来，Vue.js是目前最好的js框架。我最喜欢的特性之一是<code class="eh jp jq jr js b">.vue</code>单文件组件。管理较大的组件会变得非常困难，尤其是当您开始创建定制的子组件并添加静态资产时。这里有一些我试过的东西，你可能也会喜欢。</p><figure class="ju jv jw jx fq jy fe ff paragraph-image"><div role="button" tabindex="0" class="jz ka di kb bf kc"><div class="fe ff jt"><img src="../Images/8a817af68a01b9f75e3b4b385e7d2654.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Sn9PzazTv0hwmi677yVig.png"/></div></div><figcaption class="kf kg fg fe ff kh ki bd b be z ek">Figure 1: You when handling large components before reading this post.</figcaption></figure><h2 id="5ffb" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">一些快速基础知识</h2><p id="52da" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">这可能是你的常识，但以防万一:</p><ul class=""><li id="5064" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">使用PascalCase文件命名。<br/> <em class="ls">举例:</em> <code class="eh jp jq jr js b">ComponentName.vue</code> <br/> <a class="ae lt" href="https://vuejs.org/v2/style-guide/#Single-file-component-filename-casing-strongly-recommended" rel="noopener ugc nofollow" target="_blank">单据引用</a></li><li id="1dc6" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">为基础组件添加默认单词，如App、base或V. <br/> <em class="ls">示例:</em> <code class="eh jp jq jr js b">AppTable.vue</code> <br/> <a class="ae lt" href="https://vuejs.org/v2/style-guide/#Base-component-names-strongly-recommended" rel="noopener ugc nofollow" target="_blank">文档引用</a></li><li id="8294" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">用<code class="eh jp jq jr js b">The</code>给组件加上最多一个活动实例。<br/> <em class="ls">举例:</em> <code class="eh jp jq jr js b">TheLargeComponent.vue</code> <br/> <a class="ae lt" href="https://vuejs.org/v2/style-guide/#Single-instance-component-names-strongly-recommended" rel="noopener ugc nofollow" target="_blank"> doc引用</a></li><li id="8b1a" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">总是为你的组件使用多词名称。前缀<code class="eh jp jq jr js b">App</code>或<code class="eh jp jq jr js b">The</code>简化了这一点，但对所有组件都这样做。这是为了避免与总是一个单词的标准HTML标签冲突。<br/> <em class="ls">举例:</em> <code class="eh jp jq jr js b">MainModal.vue</code> <em class="ls">代替</em> <code class="eh jp jq jr js b">Modal.vue</code> <br/> <a class="ae lt" href="https://vuejs.org/v2/style-guide/#Multi-word-component-names-essential" rel="noopener ugc nofollow" target="_blank"> doc引用</a></li></ul><h2 id="8737" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">通常是怎么做的。</h2><p id="c608" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">这种情况我见得太多了，对于大型项目来说，这简直就是一场噩梦。所有组件都在<code class="eh jp jq jr js b">components</code>文件夹中，所有资产都在一个中心资产文件夹中，单实例子组件仅通过其父组件的名称作为前缀来表示(这在2层之后变得非常有趣)。通常看起来有点像这样:</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="b14b" class="kj kk hu js b fv md me l mf mg">components<br/>|--<!-- -->LargeComponent.vue<br/>|--LargeComponentModal.vue<br/>|--LargeComponentModalTextSection.vue<br/>|--LargeComponentModalTextSectionTitle.vue<br/>|--LargeComponentModalButton.vue<br/>|--LargeComponentModalButtonText.vue<br/>assets<br/>|--img<br/>|  |--large-component-banner.png<br/>|  |--large-component-button-bg.png</span></pre><p id="aa86" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">好了，这显然变得很混乱，我们如何解决这个问题？让我们进入第一个选项！</p><h2 id="1aeb" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">1.将组件放在它自己的文件夹中。</h2><p id="8b8b" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">我尝试的第一个选择。将文件夹命名为<code class="eh jp jq jr js b">LargeComponent</code>，并将原始组件放入其中。这里你可以做两件事。</p><p id="568d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，您可以命名组件<code class="eh jp jq jr js b">index.vue</code>，其中<em class="ls">可能</em>在您的构建系统中工作，并且具有不改变您的导入语句的巨大好处。这真的很方便，但非常粗糙，不是最稳定的解决方案。<strong class="it hv">注意:如果您在导入中指定文件扩展名，如</strong> <code class="eh jp jq jr js b"><strong class="it hv">LargeComponent.vue</strong></code>，这不起作用</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="e11a" class="kj kk hu js b fv md me l mf mg">components<br/>|--<!-- -->LargeComponent<br/>|  |--index.vue<br/>|  |--components<br/>|  |  |--LargeComponentModal.vue<br/>|  |--assets<br/>|  |  |--img<br/>|  |  |  |--banner.png</span></pre><p id="a144" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">其次，你可以用它的父文件夹来命名它，这样就可以保留它<code class="eh jp jq jr js b">LargeComponent.vue</code>，这可能是最明智的选择。这确实改变了从<code class="eh jp jq jr js b">./components/LargeComponent</code>到<code class="eh jp jq jr js b">./components/LargeComponent/LargeComponent</code>的输入，这并不理想。</p><p id="a864" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">职业选手的</strong></p><ul class=""><li id="4731" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">“组件”文件夹中的所有项目都指示并代表一个组件。</li><li id="3a93" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">其他开发人员很容易理解。</li><li id="8c60" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">子组件和资产可以用干净的相对导入来导入:<code class="eh jp jq jr js b">./assets/img/banner.png</code></li></ul><p id="a0ec" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第二种方法看起来很像这个，可能也是最简单的方法:</p><h2 id="d21d" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">2.将文件夹放在vue组件旁边。</h2><p id="3865" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">此解决方案在指定文件扩展名方面没有问题，并且不会更改导入。</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="477c" class="kj kk hu js b fv md me l mf mg">components<br/>|--<!-- -->LargeComponent.vue<br/>|--<!-- -->LargeComponent<br/>|  |--components<br/>|  |  |--LargeComponentModal.vue<br/>|  |--assets<br/>|  |  |--img<br/>|  |  |  |--banner.png</span></pre><p id="3932" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">文件本身的导入看起来有点复杂，但也非常清楚:<code class="eh jp jq jr js b">./LargeComponent/assets/img/banner.png</code>。这也使得主组件文件夹看起来更杂乱，但不一定更不清楚。</p><p id="49f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">职业选手的</strong></p><ul class=""><li id="1488" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">适用于所有构建系统，非常简单。</li><li id="9e3e" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">其他开发人员很容易理解。</li><li id="f83b" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">为组件创建文件夹时不更改导入。</li></ul><p id="1888" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，如果您使用没有指定文件扩展名的导入，还有一个我非常喜欢的不常见的例子:</p><h2 id="c826" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">3.将一个<code class="eh jp jq jr js b">index.json</code>放到你的组件文件夹中</h2><p id="4e44" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">非常简单，您只需将这个<code class="eh jp jq jr js b">index.json</code>文件放入您的组件文件夹:</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="85e2" class="kj kk hu js b fv md me l mf mg">{<br/>"name": "MY_COMPONENT_NAME",<br/>"private": true,<br/>"main": "./MY_COMPONENT_NAME.vue"<br/>}</span></pre><p id="b7f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这负责正确解析导入。您可以在components文件夹中保持一个整洁的结构，每个元素代表一个组件。您将得到这样的文件夹结构:</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="d5d8" class="kj kk hu js b fv md me l mf mg">components<br/>|--<!-- -->LargeComponent<br/>|  |--index.json<br/>|  |--LargeComponent.vue<br/>|  |--components<br/>|  |  |--LargeComponentModal.vue<br/>|  |--assets<br/>|  |  |--img<br/>|  |  |  |--banner.png</span></pre><p id="7d8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这具有上述方法的所有优点，但是当使用指定文件扩展名的导入时，它有点模糊，并且失去了它最大的优点之一。</p><p id="23ac" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">职业选手的</strong></p><ul class=""><li id="3824" class="lj lk hu it b iu iv iy iz jc ll jg lm jk ln jo lo lp lq lr dt translated">为组件创建文件夹时不更改导入。</li><li id="1124" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">所有组件数据都包含在一个文件夹中。</li><li id="b970" class="lj lk hu it b iu lu iy lv jc lw jg lx jk ly jo lo lp lq lr dt translated">相对进口更干净。</li></ul><h2 id="b981" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">奖励回合:给Vue路由器用户的提示</h2><p id="d64b" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">在构建SPA时，我非常喜欢将单实例组件放在对应于它们所属页面的文件夹中，就像这样:</p><pre class="ju jv jw jx fq lz js ma mb aw mc dt"><span id="1234" class="kj kk hu js b fv md me l mf mg">views<br/>|--SubscribeView.vue<br/>|--SubscribeView<br/>|  |--components<br/>|  |  |--TheHeader.vue<br/>|  |--assets<br/>|  |  |--header-image.png<br/>components<br/>|--<!-- -->AppButton.vue<br/>|--AppButton<br/>|  |--components<br/>|  |  |--AppButtonText.vue<br/>|  |--assets<br/>|  |  |--img<br/>|  |  |  |--button-background.png</span></pre><h2 id="e9d9" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">就是这样！</h2><p id="f8b4" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">感谢阅读，真的希望这有所帮助，如果你有建议和改进，请在评论中留下！</p><p id="213e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">建筑材料？我也喜欢制作东西，如果你想知道我在做什么，在twitter上关注我</strong><a class="ae lt" href="https://twitter.com/will_rut" rel="noopener ugc nofollow" target="_blank"><strong class="it hv"/></a><strong class="it hv">！</strong></p></div><div class="ab cl mh mi hc mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hn ho hp hq hr"><h2 id="eabe" class="kj kk hu bd kl km kn ko kp kq kr ks kt jc ku kv kw jg kx ky kz jk la lb lc ld dt translated">额外可选奖金回合:更多关于为什么！</h2><p id="229a" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">我在<a class="mo mp gr" href="https://medium.com/u/6217774c82c9?source=post_page-----64fc2b9b2ef9--------------------------------" rel="noopener" target="_blank"> Kasp </a>的评论中得到一个问题，我认为这个问题解决了帖子中可能遗漏的一点信息。答案有点长，所以我决定把它放在帖子里。问题如下:</p><blockquote class="mq mr ms"><p id="607b" class="ir is ls it b iu iv iw ix iy iz ja jb mt jd je jf mu jh ji jj mv jl jm jn jo hn dt translated">为什么要根据实例的数量来分离组件？<br/>我们目前开发Vue应用程序的方式(还没有变得那么大)是拥有一个组件文件夹和一个视图文件夹。每个视图本质上是具有一个或多个组件的页面。Components文件夹严格地包含了应用程序的基本构建块。你能告诉我什么时候会变坏吗？我在想，当页面太多时，视图文件夹可能会被淹没。</p></blockquote><p id="314d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，您可能想将单实例组件(SIC)与其他组件分开。这些SIC只是用来使构建你的页面更方便和分离逻辑。我真的很喜欢将它们包含在与视图耦合的组件文件夹中。没有其他组件会或者应该使用这些单实例组件，所以没有必要让其他视图/组件访问它们。除此之外，还有一个很大的优势，就是让视图本身更容易访问它们<em class="ls">和</em>，更清楚地表明正在发生的事情。</p><p id="e369" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这开始使你能够使用组件文件夹，就像它听起来的那样:一个充满可重用组件的文件夹，你可以在你的应用程序中的任何地方使用，而不是一个充满以“”结尾的所有内容的文件夹。vue”并且不是顶级视图。</p><p id="c0c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但你可能需要资产。当然是为了你更大的组件。把这些放在一般资产文件夹里很不方便。你<em class="ls">可以</em>把它们都放在主<code class="eh jp jq jr js b">/static</code>文件夹中，但是我个人认为为每个组件都有一个专用的文件夹是很好的，也更容易操作。</p><p id="4db0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可能已经猜到了这将会发生什么，但是您刚刚创建的用于保存该资产文件夹的文件夹是放置您正在为其创建该文件夹的组件的单实例子组件的最佳位置(最好是在一个…您猜到了<code class="eh jp jq jr js b">components</code>文件夹中！).同样，就像视图一样，没有其他组件会使用或应该使用这些视图，对于要使用视图的组件来说，应该尽可能简单明了。</p><p id="a880" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">谢谢你问这个问题，希望我的回答能澄清一些事情！</p><p id="c448" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">干杯！</p></div></div>    
</body>
</html>