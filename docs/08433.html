<html>
<head>
<title>Demystifying Pod Install and Pod Update</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭开Pod安装和Pod更新的神秘面纱</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/demystifying-pod-install-and-pod-update-1751dc35de43?source=collection_archive---------7-----------------------#2018-10-09">https://medium.com/hackernoon/demystifying-pod-install-and-pod-update-1751dc35de43?source=collection_archive---------7-----------------------#2018-10-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="18f6" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">安装和更新pod的权威指南</h2></div><p id="3a15" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code>和<code class="eh kf kg kh ki b">pod update</code>之间的区别是微妙的，你应该使用哪一个并不总是很清楚。但是，很好地理解这些命令的作用可以让您更好地控制如何在项目中管理依赖关系，所以了解它们的区别是值得的。</p><p id="5fdd" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在本文的第一部分，我会给你一个食谱列表，告诉你在一些常见的情况下是应该运行<code class="eh kf kg kh ki b">pod install</code>还是<code class="eh kf kg kh ki b">pod update</code>。然后在第二部分，我将解释为什么不同的命令做不同的事情，以及<a class="ae kj" href="https://hackernoon.com/tagged/cocoapods" rel="noopener ugc nofollow" target="_blank"> CocoaPods </a>如何使用<code class="eh kf kg kh ki b">Podfile.lock</code>文件来实现这一切。</p><h1 id="4702" class="kk kl hu bd km kn ko kp kq kr ks kt ku ja kv jb kw jd kx je ky jg kz jh la lb dt translated">第1部分:食谱</h1><p id="eed9" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated">为了让这些方法起作用，确保<code class="eh kf kg kh ki b">Podfile</code>和<code class="eh kf kg kh ki b">Podfile.lock</code>致力于源代码控制。</p><h2 id="ee5a" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您第一次在项目中设置CocoaPods，并且已经创建了您的Podfile</h2><p id="9730" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code></p><p id="7686" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将安装您在新的<a class="ae kj" href="https://hackernoon.com/tagged/podfile" rel="noopener ugc nofollow" target="_blank">pod文件</a>中指定的每个pod的最新版本*。如果还没有文件的话，它还会创建一个<code class="eh kf kg kh ki b"><em class="lv">MyProject</em>.xcworkspace</code>文件。</p><h2 id="16b3" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您在您的pod文件中添加了一个新的pod</h2><p id="c95b" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code></p><p id="928b" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将安装添加到您的pod文件中的任何新pod的最新版本*，而保持您的其他pod不变。</p><p id="4024" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果你运行<code class="eh kf kg kh ki b">pod update</code>，它会安装新的pods <em class="lv">和</em>更新你现有的pods到最新版本*。</p><h2 id="11ef" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您希望获得pod文件中所有pod的最新版本</h2><p id="2675" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod update</code></p><p id="cb06" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将检查您的所有pod，并确保每个pod的最新版本*都安装在您的项目中。</p><h2 id="67e4" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您只想获得pod文件中一个pod的最新版本</h2><p id="5070" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod update <em class="lv">SomePod</em></code></p><p id="9746" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将确保安装您指定的pod的最新版本*，同时保持您的其他pod不变。</p><h2 id="dd04" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您正在使用一个开发窗格，并希望获得您的最新更改</h2><p id="0551" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod update <em class="lv">MyDevelopmentPod</em></code></p><p id="8099" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将确保安装最新版本的pod，同时保持其他pod不变。</p><h2 id="20c4" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您已经下载了使用CocoaPods的现有项目的源代码</h2><p id="2d05" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code></p><p id="eedd" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将把Podfile中的所有pods安装到先前安装在这个源代码片段中的<em class="lv">精确版本</em>中。</p><p id="a37a" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果您运行<code class="eh kf kg kh ki b">pod update</code>，它将在pod文件中安装每个pod的最新版本*。如果最新版本与项目中的其他代码不兼容，这可能会阻止项目的构建。我建议运行<code class="eh kf kg kh ki b">pod install</code>来构建代码，然后以可控的方式更新pods。</p><h2 id="0d69" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">您正在编写一个脚本来在构建服务器上构建一个项目</h2><p id="e013" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code></p><p id="cc9d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将把pod文件中的所有pod安装在正在构建的版本中安装的确切版本上。这对于稳定的构建非常重要，因为这些是开发代码的版本，这意味着代码片段的每个构建都将使用相同的pod版本。如果您使用<code class="eh kf kg kh ki b">pod update</code>来代替，您的构建可能会在每次构建时使用不同版本的pods。</p><h2 id="0773" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">Xcode报告了与pod相关的奇怪构建错误</h2><p id="4376" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated">在更新窗格之后，或者在包含不同版本的相同窗格的项目分支之间切换之后，这种情况偶尔会发生。</p><p id="7415" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">删除<code class="eh kf kg kh ki b">/Pods</code>目录，然后运行<code class="eh kf kg kh ki b">pod install</code></p><p id="62f6" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将把Podfile中的所有pods重新安装到之前安装的版本上，通常足以解决Xcode发现的任何问题。</p><p id="5332" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有时人们建议删除<code class="eh kf kg kh ki b">/Pods</code>目录<em class="lv">和</em>文件<code class="eh kf kg kh ki b">Podfile.lock</code>，然后运行<code class="eh kf kg kh ki b">pod install</code>。这将解决Xcode的任何问题，但也会将Podfile中的每个pod升级到其最新版本*。</p><h1 id="6fe3" class="kk kl hu bd km kn ko kp kq kr ks kt ku ja kv jb kw jd kx je ky jg kz jh la lb dt translated">第2部分:它如何工作</h1><p id="2074" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code>和<code class="eh kf kg kh ki b">pod update</code>的区别在于它们如何与<code class="eh kf kg kh ki b">Podfile.lock</code>文件交互。该文件用于存储项目中当前安装的每个pod的确切版本。</p><p id="b6a0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">理解其工作原理最简单的方法就是看下图(免责声明:<em class="lv">这是一个简单的原理图而不是准确的技术图</em>)。</p><figure class="lx ly lz ma fq mb fe ff paragraph-image"><div role="button" tabindex="0" class="mc md di me bf mf"><div class="fe ff lw"><img src="../Images/8cc7d761977cfcb02305cfd8819bae6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9e32bpIlUC-iXlhHVRa3yA.png"/></div></div><figcaption class="mi mj fg fe ff mk ml bd b be z ek">Pod install vs. pod update</figcaption></figure><h2 id="a8d9" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">pod更新</h2><p id="4592" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod update</code>在检查版本时忽略<code class="eh kf kg kh ki b">Podfile.lock</code>。它会查找pod的最新可用版本*，如果尚未安装，则会进行安装。</p><h2 id="a903" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">pod安装</h2><p id="fc53" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated"><code class="eh kf kg kh ki b">pod install</code>在检查版本时首先在<code class="eh kf kg kh ki b">Podfile.lock</code>中查找。如果某个版本的pod在<code class="eh kf kg kh ki b">Podfile.lock</code>中列出，它将安装<em class="lv">那个确切的版本。</em>如果该pod未在<code class="eh kf kg kh ki b">Podfile.lock</code>中列出(或<code class="eh kf kg kh ki b">Podfile.lock</code>尚不存在)，它将按照<code class="eh kf kg kh ki b">pod update</code>的方式运行，即找到最新可用版本*并安装。</p><p id="5e50" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这两种情况下，CocoaPods都会用安装的任何新版本号更新<code class="eh kf kg kh ki b">Podfile.lock</code>。</p><p id="a37d" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这允许你在一个项目的不同安装中一致地使用pod版本(例如，当从一个存储库安装时，在多个团队成员中，或者在一个构建服务器上)，这也是为什么<code class="eh kf kg kh ki b">Podfile.lock</code>应该被提交到源代码控制中。</p><h1 id="d4e4" class="kk kl hu bd km kn ko kp kq kr ks kt ku ja kv jb kw jd kx je ky jg kz jh la lb dt translated">摘要</h1><p id="7402" class="pw-post-body-paragraph jj jk hu jl b jm lc iv jo jp ld iy jr js le ju jv jw lf jy jz ka lg kc kd ke hn dt translated">在这篇文章中，我给出了在一些常见情况下是运行<code class="eh kf kg kh ki b">pod install</code>还是<code class="eh kf kg kh ki b">pod update</code>的方法。然后，我描述了这两个命令如何以及为什么以不同的方式工作。如果你觉得它有用，请鼓掌和/或分享，并关注我的其他有用的文章。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="ebd2" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">[*]我所说的<em class="lv">最新版本</em>是指满足您的Podfile 中的需求和依赖关系的<em class="lv">最新版本。更多信息，请参见<a class="ae kj" href="https://guides.cocoapods.org/using/the-podfile.html" rel="noopener ugc nofollow" target="_blank">pod文件</a>官方指南中的<strong class="jl hv">指定pod版本</strong>部分。</em></p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="6ad0" class="pw-post-body-paragraph jj jk hu jl b jm jn iv jo jp jq iy jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Gabrielle是一名iOS专家，领导技术团队开发移动应用。关于app开发和更多内容，请在 <a class="ae kj" href="https://www.interceptip.com/contact/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">拦截IP </em> </a> <em class="lv">(原控F1)联系她，在</em>  <em class="lv">链接的</em> <a class="ae kj" href="https://www.linkedin.com/in/gabrielle-earnshaw-29284120/" rel="noopener ugc nofollow" target="_blank"> <em class="lv">上查找她，或在</em></a><a class="ae kj" href="https://twitter.com/GabEarnsh" rel="noopener ugc nofollow" target="_blank"><em class="lv">@ GabEarnsh</em></a><em class="lv">的twitter上说“嗨”。</em></p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><h2 id="1cb7" class="lh kl hu bd km li lj lk kq ll lm ln ku js lo lp kw jw lq lr ky ka ls lt la lu dt translated">阅读更多我的故事:</h2><div class="mt mu fm fo mv mw"><a rel="noopener follow" target="_blank" href="/sketch-app-sources/implementing-a-sketch-text-design-system-in-your-xcode-project-5c7cb61809a4"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hv fv z el nb eo ep nc er et ht dt translated">在Xcode项目中实现草图文本设计系统</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">在Xcode中更改文本样式就像在设计文件中一样容易</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">medium.com</p></div></div><div class="nf l"><div class="ng l nh ni nj nf nk mg mw"/></div></div></a></div><div class="mt mu fm fo mv mw"><a rel="noopener follow" target="_blank" href="/sketch-app-sources/painless-icon-generation-for-ios-apps-with-sketch-and-xcode-part-1-a169794aac8b"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hv fv z el nb eo ep nc er et ht dt translated">使用Sketch和Xcode为iOS应用程序轻松生成图标——第1部分</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">如何在几秒钟内创建你所有的图标尺寸</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">medium.com</p></div></div><div class="nf l"><div class="nl l nh ni nj nf nk mg mw"/></div></div></a></div><div class="mt mu fm fo mv mw"><a rel="noopener follow" target="_blank" href="/swift2go/next-level-swift-unit-tests-using-the-builder-pattern-d242c447d10c"><div class="mx ab ej"><div class="my ab mz cl cj na"><h2 class="bd hv fv z el nb eo ep nc er et ht dt translated">使用生成器模式的下一级Swift单元测试</h2><div class="nd l"><h3 class="bd b fv z el nb eo ep nc er et ek translated">使单元测试更容易编码、审查和维护</h3></div><div class="ne l"><p class="bd b gc z el nb eo ep nc er et ek translated">medium.com</p></div></div><div class="nf l"><div class="nm l nh ni nj nf nk mg mw"/></div></div></a></div><figure class="lx ly lz ma fq mb"><div class="bz el l di"><div class="nn no l"/></div></figure></div></div>    
</body>
</html>