<html>
<head>
<title>To Omit or Not to Omit</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">省略还是不省略</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/to-omit-or-not-to-omit-2a6da5538509?source=collection_archive---------31-----------------------#2018-10-09">https://medium.com/hackernoon/to-omit-or-not-to-omit-2a6da5538509?source=collection_archive---------31-----------------------#2018-10-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/4230f995bd7c9cc0e38cb06ba8723a45.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t0yHDg-WxGVzgTk3QiEllA.png"/></div></div></figure><div class=""/><p id="d8fa" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://hackernoon.com/tagged/semi-colons" rel="noopener ugc nofollow" target="_blank">分号</a>！不可否认，这并不是最有趣的话题，然而，这段语法却是Javscript中最有争议的特性:自动分号插入。</p><p id="0434" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，这个特性，像大多数语言版本一样，本来是对语言有用的版本，但是，由于它的实现，它的用例被认为不值得冒险。</p><p id="349e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">阿西似乎工作…但只是大部分时间。如果没有，它会让开发人员非常困惑，到处都是神秘的编译器错误。</p><p id="b5cb" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在它被引入语言后不久，它的有用性就不仅仅是被一些数字质疑了。像道格拉斯·克洛克福特这样的导师仍然在谴责这个特性，现代公司在他们公司的代码风格指南中忽略了它们，在何时或者是否应该使用分号的问题上仍然存在很大的分歧。</p><h2 id="b633" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">Javascript中分号背后的一点历史</h2><p id="5484" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated"><a class="ae ka" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> Javascript </a>是一种C风格的语言。这意味着，其语法的主要部分，如代码块的花括号或标准函数声明，直接继承自C语言。所以很自然地，分号是这种浏览器编程语言中继承的特性之一。</p><p id="18be" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">尽管如此，最终还是发布了这种语言的新特性。这被称为自动分号插入(ASI)。这个特性是为了防止代码中由于遗忘分号而导致的讨厌的解析错误。</p><p id="81be" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">ASI的一般规则是，只要语句之间有一个换行符，它就可以在编译器中很好地运行。</p><p id="8f37" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">关键词是<strong class="je ig">应该</strong>。这意味着规则也有例外。</p><p id="db39" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这就是我们要深入研究这些规则的例外的地方，以便瞥见这些虚幻的解析错误，因为它们发生在野外。希望这能给你一个确切的概念，告诉你在编写代码时什么时候应该使用分号。</p><h2 id="2f03" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">示例#1</h2><p id="6a25" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">分号插入经常失败的第一个例子是在任何类型的变量声明期间。这意味着无论你使用的是const、var还是let分号应该总是跟在声明后面。</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="9ba1" class="kb kc if lg b fv lk ll l lm ln">let lemon = {<br/>  taste: “sour”,<br/>  color: “yellow”,<br/>  texture: “idk, it’s a lemon”<br/>};</span></pre><h2 id="a004" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">实施例2</h2><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="665c" class="kb kc if lg b fv lk ll l lm ln">Function giveUserADog(){<br/>  return<br/>  {<br/>      Emotion: “eternal happiness”<br/>  }<br/>}</span></pre><p id="0a1f" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">第二个例子是一个著名的例子。因为与大多数C程序员认为的相反，这个函数将返回一个“未定义”值。当return语句的内容从下一行开始时，就会发生这种情况。在这里，ASI将return语句视为完整的，并在return语句后插入一个分号。</p><p id="c63c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是有一个快速解决方法！只需在return语句后放置一个左括号<a class="ae ka" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Grouping" rel="noopener ugc nofollow" target="_blank">和另一个括号</a>在返回代码的末尾。例如:</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="21d3" class="kb kc if lg b fv lk ll l lm ln">function giveMeMoney(){<br/>  return (<br/>    " reverse me baby ".trim()<br/>                       .split("")<br/>                       .reverse()<br/>                       .join()<br/>    )<br/>}</span></pre><p id="67d8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是一种常见的绕过ASI返回语句行为的React编程实践，适用于任何情况。</p><p id="c614" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">注意:如果你要返回一个对象或数组，只需在return语句的同一行使用左括号。</p><h2 id="78a3" class="kb kc if bd kd ke kf kg kh ki kj kk kl jn km kn ko jr kp kq kr jv ks kt ku kv dt translated">实施例3</h2><p id="4229" class="pw-post-body-paragraph jc jd if je b jf kw jh ji jj kx jl jm jn ky jp jq jr kz jt ju jv la jx jy jz hn dt translated">每当一行代码以括号开头时，就会出现下面的例子。</p><pre class="lb lc ld le fq lf lg lh li aw lj dt"><span id="4c08" class="kb kc if lg b fv lk ll l lm ln">let steak = bbq.grill("rib-eye")<br/>(function(){<br/>  ///some code and stuff<br/>})()</span></pre><p id="2a26" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">前面的语句中必须有一个分号。这是绝对必须的！如果前一行没有分号，Javascript解释器将尝试运行前一行上的对象，作为函数或属性评估器(访问数组内容时考虑括号)。</p></div><div class="ab cl lo lp hc lq" role="separator"><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt lu"/><span class="lr bw bk ls lt"/></div><div class="hn ho hp hq hr"><p id="3fa4" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">看，这有那么难吗？大概吧。语法细节可能很难学。但是如果幸运的话，它可以防止你一次又一次地犯同样的编译错误。</p><p id="3f87" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">希望这至少能帮你省下一个不必要的麻烦。</p><figure class="lb lc ld le fq hw"><div class="bz el l di"><div class="lv lw l"/></div></figure></div></div>    
</body>
</html>