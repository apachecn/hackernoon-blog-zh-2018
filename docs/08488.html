<html>
<head>
<title>React Redux-Form made easy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">反应还原-形式变得容易</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/redux-form-made-easy-345060c6a700?source=collection_archive---------1-----------------------#2018-10-11">https://medium.com/hackernoon/redux-form-made-easy-345060c6a700?source=collection_archive---------1-----------------------#2018-10-11</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="91d8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">学习如何编写一个保持redux-form复杂性的通用组件，知道只获取描述字段的JSON，并呈现一个匹配的redux-form。创建一个表单从来没有这么简单和干净。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff jp"><img src="../Images/aa90039e116d2b4edb275bbc7d8aedd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hYlXVMsG2LPZYwKkQAWCHg.jpeg"/></div></div><figcaption class="kb kc fg fe ff kd ke bd b be z ek">Photo by <a class="ae kf" href="https://unsplash.com/photos/Q5Uf3B8Ej7A?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Toa Heftiba</a> on <a class="ae kf" href="https://unsplash.com/search/photos/relax?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="7744" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">问题是:</h1><p id="1825" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated"><a class="ae kf" href="https://redux-form.com" rel="noopener ugc nofollow" target="_blank"> Redux-form </a>是一个用于呈现<a class="ae kf" href="https://hackernoon.com/tagged/react" rel="noopener ugc nofollow" target="_blank"> react </a>表单的流行库。</p><p id="027f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">正如github存储库页面中更好地描述的那样:</p><blockquote class="lj lk ll"><p id="de9a" class="ir is lm it b iu iv iw ix iy iz ja jb ln jd je jf lo jh ji jj lp jl jm jn jo hn dt translated">使用react-redux在<a class="ae kf" href="https://hackernoon.com/tagged/redux" rel="noopener ugc nofollow" target="_blank"> Redux </a>存储中保持表单状态的高阶组件</p></blockquote><p id="2d8e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你在例子中挖掘更多，你会发现它真的是一个强大的工具，可以给你任何字段的元数据，它的错误，警告，状态(原始，肮脏，感动)，字段数组等等。</p><p id="9771" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是，redux格式仍然有一些复杂性。</p><p id="0581" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，当您希望表单由状态中的值初始化时，您应该这样做:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff lq"><img src="../Images/eca0c7303c868e82699b0f68b66bd333.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F6GiYHBdtxFPAE0JYd29yw.png"/></div></div></figure><p id="23aa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，当应用程序中有许多表单组件时，您需要一种方法来为所有表单强制执行一些一致的行为，例如:对于无效和原始的表单，submit按钮被禁用。任何形式都不能重复这一逻辑。您需要一些通用组件来保存表单生成。</p><h2 id="6aba" class="lr kh hu bd ki ls lt lu km lv lw lx kq jc ly lz ku jg ma mb ky jk mc md lc me dt translated">解决方案</h2><p id="66f2" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">编写一个组件，它将获得表单字段描述和值的JSON输入。它可以只通过这个输入生成一个表单。该组件将使用redux-form，但这将是内部的，而不是外部的组件。</p><h2 id="af45" class="lr kh hu bd ki ls lt lu km lv lw lx kq jc ly lz ku jg ma mb ky jk mc md lc me dt translated">优势:</h2><ol class=""><li id="d76f" class="mf mg hu it b iu le iy lf jc mh jg mi jk mj jo mk ml mm mn dt translated">所有形式的一致行为</li><li id="91df" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">快速表单开发时间</li><li id="52b7" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">没有重复形式的样板文件</li><li id="47a4" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">代码重用</li><li id="0758" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">易于改变的形式库在未来，改变只是在较低的包装组件。不是所有其他形式的组件。</li></ol><h1 id="789d" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">让我们看看一些代码</h1><p id="250c" class="pw-post-body-paragraph ir is hu it b iu le iw ix iy lf ja jb jc lg je jf jg lh ji jj jk li jm jn jo hn dt translated">下面是一个简单的注册页面的例子，它使用了包含redux form的包装器组件</p><p id="c3e7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">首先，创建表单字段描述数组，它描述任何字段的名称、标签和验证函数。(您还可以定义一个字段类型:复选框、下拉框等)</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mt"><img src="../Images/1dda602ea77622976f687436133e0823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*07YN7XV_Jkpqf1HcKz3jsA.png"/></div></div></figure><p id="3f55" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">实现提交功能:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mu"><img src="../Images/771255fc9c63f3a123f940ab8359f4fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6bG5qjABeYG32DT70xR9Tw.png"/></div></div></figure><p id="a7c3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你这样做了，大部分工作就完成了。现在只需呈现redux-form包装器组件，它在这里调用<code class="eh mv mw mx my b">GenericReduxForm</code>并传递提交回调、字段、值、表单ID(需要在整个应用程序中是唯一的),以及一个标题(如果您希望表单显示一些漂亮的标题)。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff mz"><img src="../Images/1f7273a851ad0e20b62b6b8712a1b9f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aGV6C6SO_4h7x8Lv-GAPGw.png"/></div></div></figure><p id="015e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你建立了一个表单，仅由JSON数据，一个超级强大的表单，包含验证，提交按钮，和redux-state在里面。</p><p id="c381" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是<code class="eh mv mw mx my b">GenericReduxForm</code>的样子:</p><p id="4403" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">渲染功能:</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff na"><img src="../Images/ca375efff725fbfafb4205a2e6f67a99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R7FbCOmFDMx9afYLRVREjw.png"/></div></div></figure><p id="ca2e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，更深入地，渲染字段函数，使用redux-form组件<code class="eh mv mw mx my b">Field</code>，它可以得到一个自定义组件来渲染，在我的例子中是<code class="eh mv mw mx my b">GenericFormField</code></p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff nb"><img src="../Images/f789fd0052ea7d3b38413324dedd1ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*404V9mq9w78MMKbtdXCk-Q.png"/></div></div></figure><p id="ed68" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现场渲染本身(<code class="eh mv mw mx my b">GenericFormField)</code>):</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff nc"><img src="../Images/4377beee8b06a17fe59528d1bd9564ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Qb8cy7UIBn4s-4CiIofqg.png"/></div></div></figure><p id="ab91" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当提交按钮被禁用时。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff nd"><img src="../Images/ea31d7a88f77d35cdf2b632fce9ef01d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gVLgjColXPXMhFB1GL4QSA.png"/></div></div></figure><p id="e895" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这里，最复杂的事情是:定义redux-form props。</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff ne"><img src="../Images/fc0d08aaf9cc08cfa9af0b4b9d23f7bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*o0U6TBK_WMvvPAW2vVicxg.png"/></div></div></figure><p id="ba51" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">创建redux-form，并将其连接到商店</p><figure class="jq jr js jt fq ju fe ff paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="fe ff nf"><img src="../Images/f8eb4aac1a71b983f033fa17a0dfd48a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8E5wrFEqOkEDDvUnX_CYA.png"/></div></div></figure><p id="1b85" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，目标实现了，表单可以快速完成，实现不可知，表单库可以更改，但周围的所有组件都可以继续存在，没有任何变化，最大的好处是创建表单真的如此简单和干净。只是json，价值观和它。</p><h2 id="5054" class="lr kh hu bd ki ls lt lu km lv lw lx kq jc ly lz ku jg ma mb ky jk mc md lc me dt translated">更多精彩即将上演:</h2><ol class=""><li id="4849" class="mf mg hu it b iu le iy lf jc mh jg mi jk mj jo mk ml mm mn dt translated">FieldArray</li><li id="5f3e" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">在github中创建一个库，并将其部署到NPM</li></ol><figure class="jq jr js jt fq ju"><div class="bz el l di"><div class="ng nh l"/></div></figure></div></div>    
</body>
</html>