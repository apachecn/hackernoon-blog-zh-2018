<html>
<head>
<title>How to Develop a Boilerplate for API with Node.js, Express, and MongoDB</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用Node.js、Express和MongoDB开发API的样板文件</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-develop-a-boilerplate-for-api-with-node-js-express-and-mongodb-4c771ae1c2df?source=collection_archive---------0-----------------------#2018-10-14">https://medium.com/hackernoon/how-to-develop-a-boilerplate-for-api-with-node-js-express-and-mongodb-4c771ae1c2df?source=collection_archive---------0-----------------------#2018-10-14</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/cb62832504f4168d3322ec7ae4af108f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*p11_CrDeer8SZpQUUjGe9g.jpeg"/></div></div><figcaption class="id ie fg fe ff if ig bd b be z ek">How to Develop a Boilerplate for API with Node.js, Express, and MongoDB</figcaption></figure><div class=""/><p id="77d7" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在很大程度上，开发人员使用现成的项目代码，这些代码通常是由其他人创建的或者是很久以前开发的。这就是为什么，当谈到从头开始编写自己的项目时，开发人员的脑海中通常会充斥着以下问题。我应该从什么开始？我怎样才能让它很好地工作呢？我为什么要这么做？</p><p id="22be" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在本文中，我们想分享一些关于如何为基于Express的API设置样板文件的技巧(以StackOverflow这样的论坛应用程序为例)。</p><h1 id="99bf" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">应用程序的API。我应该从哪里开始？</h1><p id="a29a" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">首先，分析您未来应用程序的功能需求。根据它们的不同，API的结构可能会有所不同。例如，确定您的应用程序是否需要授权机制、与其他服务的集成，或者其他功能需求，如报告生成(pdf、xml、csv)、电子邮件发送等。</p><p id="02bd" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">下面是您在开始API开发之前应该考虑的主要问题。</p><ul class=""><li id="9b45" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">您的应用程序的功能要求</li><li id="e2bc" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">它将处理的数据</li><li id="172f" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">开发方法</li></ul><h1 id="3a57" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">样板可以完美吗？</h1><p id="2c52" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">首先，你必须设计一个样板文件的结构。您可以通过手动创建每个文件来做到这一点。为此，您可以使用一个实用程序(互联网上有很多这样的程序)并根据您的需要进行修改。相反，我们将走另一条路，使用<a class="ae lv" href="https://expressjs.com/en/starter/generator.html" rel="noopener ugc nofollow" target="_blank"> express-generator实用程序。</a></p><p id="cd03" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在我们已经为Express API样板开发做好了准备。</p><h1 id="93f2" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第一步。生成项目的结构</h1><p id="ec94" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">设置express-generator并为您的项目创建目录。</p><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="dd09" class="mf kf ij mb b fv mg mh l mi mj">npm install express-generator -g<br/>express &lt;your-project-name&gt;</span></pre><p id="5b19" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">由于express-generator创建了express应用程序的一般结构，它不足以满足我们的需求。我们只对API开发本身感兴趣。所以我们稍微修改一下。下面，你可以看到你应该做哪些改变。</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff mk"><img src="../Images/2f9e83b12ab3d8c408f11b2ec79673c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*fgFZnO6ekFXrA0s2"/></div></div></figure><p id="3e3e" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">左边的图片显示了生成的样板文件。右边的图片——你应该做出改变的样板文件。让我们更详细地分析一下这个项目的结构</p><ul class=""><li id="3e1e" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated"><strong class="ji ik">控制器</strong>——在这里您应该存储所有的API端点</li><li id="bd6b" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik">模型</strong> —用于存储数据模型</li><li id="e6ea" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik"> API </strong> —这里存储了您的数据与API端点的交互(我将在本文中进一步详细解释)</li><li id="975d" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik"> Utils </strong> —这里存储了应用程序的全部支持代码(电子邮件发送、pdf生成等。)</li><li id="e788" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik">中间件</strong> —您可以在这里找到该应用的所有Express中间件</li><li id="d3ef" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik"> Mongo </strong>或<strong class="ji ik"> db </strong>或<strong class="ji ik">或&lt;your databasename&gt;</strong>——它包含了你的数据库的所有工作</li><li id="a61e" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated"><strong class="ji ik">сonfig</strong>或<strong class="ji ik">。env </strong> —最好将你所有应用的设置保存在一个单独的文件中(比如<em class="ml"> js。Json </em>或者<em class="ml">。环境</em></li></ul><p id="66ed" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">有了这样的结构，你的代码将会有一个易于处理的逻辑顺序。那么下一步是什么？从哪里开始？由于API的主要任务是操作数据，我们就从这些数据开始吧。许多人跳过正确的数据组织，直接进行开发。这不是一件好事。数据(尤其是数据库)的不正确结构会在将来导致严重的问题。这就是为什么花更多的时间来设计一个健壮的数据结构比以后再抓头要好。</p><h1 id="f0a9" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">处理数据</h1><h2 id="d862" class="mf kf ij bd kg mm mn mo kk mp mq mr ko jr ms mt ks jv mu mv kw jz mw mx la my dt translated">第二步。模型声明</h2><p id="7203" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">每个API通常处理一些数据。我们未来的API也不例外。让我们从数据结构声明开始API开发。在我们的例子中，它是与方案和模型一起工作。为了更好地理解和处理您应该操作的数据，请以图形方式组织它们的结构。这将有助于你理清思路。</p><p id="edc8" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">下面是类似<a class="ae lv" href="https://stackoverflow.com/" rel="noopener ugc nofollow" target="_blank"> StackOverflow </a>的app的大概数据库。</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div class="fe ff mz"><img src="../Images/fc97307f9137a940876380b7efbc0024.png" data-original-src="https://miro.medium.com/v2/resize:fit:1174/0*u3rb4eHD7Hm3fFD8"/></div></figure><p id="f9e0" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">根据这个结构，我们声明我们的模型。因为我们使用<a class="ae lv" href="https://www.mongodb.com/" rel="noopener ugc nofollow" target="_blank"> Mongo </a>数据库来存储数据，所以让我们用<a class="ae lv" href="http://mongoosejs.com/docs/populate.html" rel="noopener ugc nofollow" target="_blank">mongose</a>来构建我们的模型。</p><p id="8882" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">目录模型将如下所示:</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div class="fe ff na"><img src="../Images/52b9b896aa56f1912c8c0101d753b58b.png" data-original-src="https://miro.medium.com/v2/resize:fit:820/0*ec0r4SYM1QR9Q345"/></div></figure><ul class=""><li id="a749" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated"><strong class="ji ik"> Schema.js </strong> —下面是该方案的一个近似实现。一切都相当简单。首先，声明模型的字段和类型。您也可以添加额外的验证和确认，您可以在<a class="ae lv" href="https://mongoosejs.com/docs/schematypes.html" rel="noopener ugc nofollow" target="_blank">文档</a>中读到</li></ul><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="8de4" class="mf kf ij mb b fv mg mh l mi mj">const mongoose = require('mongoose');<br/>const Schema = mongoose.Schema;<br/>const ObjectId = Schema.Types.ObjectId;<br/><br/>const schema = new Schema({<br/>  title: {<br/>    type: String,<br/>    required: [true],<br/>  },<br/>  description: {<br/>    type: String,<br/>    required: [true],<br/>  },<br/>  questionId: {<br/>    type: ObjectId,<br/>    ref: 'Question',<br/>  },<br/>  createdAt: {<br/>    type: Date,<br/>    required: [true],<br/>  },<br/>  createdBy: {<br/>    type: ObjectId,<br/>  }<br/>});<br/><br/>module.exports = { schema };</span></pre><p id="e80f" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">在声明了方案之后，我们只需将其导出以在“model.js”中使用。</p><ul class=""><li id="4c58" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated"><strong class="ji ik"> Model.js </strong> —猫鼬模型与方案的结合。它是在单独的文件中完成的，因为mongoose允许用不同的方法和钩子来扩展您的模型。存储所有这些数据+能够扩展的方案，将产生具有500+行的文件。不太优雅，对吧？</li></ul><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="738d" class="mf kf ij mb b fv mg mh l mi mj">// models/answers/model.js<br/>const mongoose = require('mongoose');<br/>const { schema } = require('./schema');<br/>// add hooks here<br/>schema.pre('save', function() {<br/>  return doStuff().<br/>    then(() =&gt; doMoreStuff());<br/>});<br/>const Answer = mongoose.model('Answer', schema);<br/>module.exports = { Answer };</span></pre><p id="4317" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">可以看到，这里声明了钩子<em class="ml"> (`pre (`save`)` </em>。每次保存模型时都会调用这个代码。这个<a class="ae lv" href="https://mongoosejs.com/docs/middleware.htm" rel="noopener ugc nofollow" target="_blank">【中间件】</a>用于复杂操作(如发送信件、复杂验证等)。但是，请记住，它不适合模型验证。为此，最好使用内置的<a class="ae lv" href="https://mongoosejs.com/docs/validation.html#built-in-validators" rel="noopener ugc nofollow" target="_blank">验证器</a>。</p><p id="71c7" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">用同样的方法宣布其他模型和它们的方案。</p><h1 id="616f" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">路线呢？</h1><h2 id="90a5" class="mf kf ij bd kg mm mn mo kk mp mq mr ko jr ms mt ks jv mu mv kw jz mw mx la my dt translated">第三步。控制器声明</h2><p id="2aca" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">现在让我们继续进行路线或控制器。根据您的型号划分控制器，如下所示。</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nb"><img src="../Images/928f888eb19bfcc8f53e1292f90c6efa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0XEAzfZ3PWO9DPQg"/></div></div></figure><p id="b5d5" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这样，控制器目录中的每个子目录将代表一个特定的模型。因此，每个文件将代表一个API端点。</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div class="fe ff nc"><img src="../Images/a2269b72e8f1b495df3f5a21e8410699.png" data-original-src="https://miro.medium.com/v2/resize:fit:384/0*R-g0DMKFSxpc42CV"/></div></figure><p id="a59a" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这种方法允许最大限度地分割API的代码，并且忘记了在单个文件中存储所有API端点的麻烦。下面是GET/questionsтаGET/questions:_ id实现的示例</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nd"><img src="../Images/676f3acf06fa1c0aa66112703974afd6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*hrenNlSlkqCFU2ZE"/></div></div></figure><p id="e358" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">正如您所注意到的，question是。<em class="ml"> /list.js. </em> <strong class="ji ik">这是一个现成的猫鼬模型</strong>。这个对象还包含我们的API中的所有模型。因此，您可以在任何控制器中使用任何模型，而无需导入它。</p><p id="cae9" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">它组织你的代码，使导入变得简单。让我们在下一节看看如何实现这一点。</p><h1 id="73d2" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">路线和数据。如何不迷路</h1><h2 id="f8f7" class="mf kf ij bd kg mm mn mo kk mp mq mr ko jr ms mt ks jv mu mv kw jz mw mx la my dt translated">第四步。模型和控制器的注册</h2><p id="7992" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">我们已经分析了如何在我们的API中创建模型和控制器。此外，我们还展示了如何在控制器内部使用模型。现在是时候看看如何将模型与控制器连接在一起了。这是在文件<em class="ml">中完成的。src/API/index . js</em></p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff ne"><img src="../Images/a0a78413c973168c1bf2fcf1b826d8de.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*D8xlsjd80qM97lpb"/></div></div></figure><p id="f1c4" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这里发生了三件主要的事情:</p><ol class=""><li id="8317" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd nf ln lo lp dt translated">控制器的导入和注册</li><li id="d557" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd nf ln lo lp dt translated">模型的导入和组合及其在控制器中的传输</li><li id="5bb4" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd nf ln lo lp dt translated">注册错误处理程序，它将从控制器中获取错误(在下一节中，我将展示如何实现它)</li></ol><p id="5724" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">通过这种方式，当项目增长时，您可以在一个地方注册新的模型和控制器。</p><p id="4707" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最后一步是在API中创建入口点。这将是<em class="ml">‘app . js’</em>——所谓的胶水，它将连接所有文件，允许描述附加功能，并在必要时注册静态文件。其实现如下所述。</p><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="f8ea" class="mf kf ij mb b fv mg mh l mi mj">const express = require('express');<br/><br/>const config = require('./config');<br/>const api = require('./src/api');<br/>const { mongoManager } = require('./src/mongo');<br/><br/>const app = express();<br/>mongoManager.connect();<br/><br/>// api routes v1<br/>app.use('/api/v1', api(config));<br/><br/>module.exports = app;</span></pre><p id="9f5c" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">这里发生了三件主要的事情:</p><ul class=""><li id="7d8c" class="lh li ij ji b jj jk jn jo jr lj jv lk jz ll kd lm ln lo lp dt translated">导入配置const config = require(`。/config `)；</li><li id="1a69" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">连接到我们的数据库<em class="ml">` mongo manager . connect()；`</em></li><li id="6a9c" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">在express ` <em class="ml"> app.use (`/api/v1，api (config))中注册所有控制器；`</em></li></ul><p id="ee1c" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在，Express将把<em class="ml"> `/api/v1 '中的所有请求重定向到文件` api.js` </em>(步骤4)。这个文件反过来将它们重定向到控制器(步骤3)，控制器将使用这些模型(步骤2)。</p><p id="8c7a" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在你只需要根据这些规则来扩展你的API。要运行该应用程序，只需安装“npm”软件包并运行“node”。/bin `或者在npm脚本中编写此命令。</p><h1 id="afcb" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">第五步。附加功能</h1><ul class=""><li id="8f25" class="lh li ij ji b jj lc jn ld jr ng jv nh jz ni kd lm ln lo lp dt translated">如何处理错误和bug</li></ul><p id="8f42" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">最好在应用程序的一个地方处理错误。如果您想进行一些更改(例如添加记录器、过程开发/生产模式等),这非常方便。).在我们这里，这个地方就是`<em class="ml">。/midlleware/error-handler . js `.</em></p><pre class="lw lx ly lz fq ma mb mc md aw me dt"><span id="ac0b" class="mf kf ij mb b fv mg mh l mi mj">const { APIError, InternalServerError } = require('rest-api-errors');<br/>const { STATUS_CODES } = require('http');<br/><br/>const errorHandler = (err, req, res, next) =&gt; {<br/>  const error = (err.status === 401 ||<br/>    err instanceof APIError) ? err : new InternalServerError();<br/><br/>  if (process.env.NODE_ENV !== 'production') { <br/>    // do something here<br/>  } <br/>  if (['ValidationError', 'UserExistsError'].includes(err.name)) {<br/>    // if it special error<br/>    return res.status(405).json(err);<br/>  }<br/>  // log error if needed <br/>  // logger.info('API error', { error: err });<br/><br/>  return res // return 500 for user<br/>    .status(error.status || 500)<br/>    .json({<br/>      code: error.code || 500,<br/>      message: error.message || STATUS_CODES[error.status],<br/>    });<br/>};<br/><br/>module.exports = { errorHandler };</span></pre><p id="ab8d" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">因为我们已经在<em class="ml">注册了这款处理器。src/api/index.js </em>，调用next(new Error())就够了，这个错误会到我们的处理器。</p><h1 id="500c" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">如何实现应用程序的附加功能</h1><p id="70f6" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">开发人员面临的另一项任务是提供无障碍的项目启动。</p><p id="2f11" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">对应用程序进行所谓的热重装也很好。在node.js中，你可以在<a class="ae lv" href="https://nodemon.io/" rel="noopener ugc nofollow" target="_blank"> nodemon的帮助下完成。</a></p><p id="0f9f" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">你要写一个简单的npm脚本<em class="ml">node mon—watch src—exec ' NPM run start或者sh脚本</em>。然而，有时需要同时运行几个进程，<em class="ml">，例如:</em></p><p id="2251" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">1.数据库启动(Mongo)</p><p id="c9f2" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">2.API发布</p><p id="dbd9" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">3.UI启动。</p><p id="0693" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated"><a class="ae lv" href="https://gulpjs.com/" rel="noopener ugc nofollow" target="_blank">大口</a>是这个目的的最佳选择。下面，您可以看到一个Mongo API和react-script launch的gulp文件的例子，它是用一个命令作为一个项目启动的。</p><figure class="lw lx ly lz fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff nj"><img src="../Images/4ad172d5231dd29dda6ff5bea284d1f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QLXvno3ILxaphvxBIB59Og.png"/></div></div></figure><p id="4ecb" class="pw-post-body-paragraph jg jh ij ji b jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd hn dt translated">现在创建npm脚本<em class="ml"> dev”就足够了。/node_modules/。bin/gulp run:dev" </em>然后只运行你的项目npm run dev</p><h1 id="9d42" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">技巧</h1><ul class=""><li id="6339" class="lh li ij ji b jj lc jn ld jr ng jv nh jz ni kd lm ln lo lp dt translated">总是记录你的API。由于您的API将被其他开发人员使用，因此为每个API点创建详细的文档是至关重要的。它也将把你从诸如“我在哪里能得到清单？”这样的问题中解放出来“我该怎么改变..?"</li><li id="010a" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">记录你所有的效用。因为它们将在整个项目中被所有开发人员使用，所以最好能有一个关于你的util用途的简要描述和它的用法的例子。</li><li id="9090" class="lh li ij ji b jj lq jn lr jr ls jv lt jz lu kd lm ln lo lp dt translated">保持自述文件的结构化和更新。解释如何启动项目、其结构、开发过程等是很好的。来帮助其他开发者。</li></ul><h1 id="1da4" class="ke kf ij bd kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb dt translated">摘要</h1><p id="7591" class="pw-post-body-paragraph jg jh ij ji b jj lc jl jm jn ld jp jq jr le jt ju jv lf jx jy jz lg kb kc kd hn dt translated">因此，在本文中，我们展示了如何为类似论坛的基于Express的应用程序创建样板文件。我们提供的示例是通用的，因此它们可以用作任何Express应用程序的基础。请记住，这些并不是要遵循的严格规则，而只是一些有用的提示，可以优化API的结构。</p></div></div>    
</body>
</html>