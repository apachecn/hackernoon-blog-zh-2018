<html>
<head>
<title>Vim: Squeezing the Text Editor’s Juice with More Features</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Vim:用更多的特性压榨文本编辑器的汁液</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/vim-squeezing-the-text-editors-juice-with-more-features-7481c218d01e?source=collection_archive---------13-----------------------#2018-10-15">https://medium.com/hackernoon/vim-squeezing-the-text-editors-juice-with-more-features-7481c218d01e?source=collection_archive---------13-----------------------#2018-10-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/4fa1a69dd5bd100abab1c1cb554bc6d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PwUdhpg4ULj5RKb81TKxpA.jpeg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Productivity is always one pomodoro away. Source: <a class="ae jg" href="https://pixabay.com/en/tomatoes-vegetables-red-food-5356/" rel="noopener ugc nofollow" target="_blank">Pixabay</a></figcaption></figure><p id="330c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Vim是文本编辑的瑞士军刀。它有一个几乎适用于所有用例及用户的特性和命令是不够的:它还允许你定制它，添加你认为它缺少的任何特定的东西。</p><p id="94b1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在本教程中，我们将看到如何使用其中的两个特性:<em class="kf">多窗口</em>，和<em class="kf">多vim寄存器</em>。</p><p id="d03e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">本教程假设你已经熟悉了Vim的基础知识，所以如果你不知道从哪里开始，我建议你看看<a class="ae jg" href="http://www.dataden.tech/programming/vim-text-editor-first-steps-productivity/" rel="noopener ugc nofollow" target="_blank">这篇文章</a>。</p><h1 id="6800" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">多个Vim窗口</h1><p id="de8d" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">每当我们编辑一个文件时，我们可能要做两件事:</p><ul class=""><li id="d947" class="lj lk hu jj b jk jl jo jp js ll jw lm ka ln ke lo lp lq lr dt translated">从同一个终端编辑两个不同的文件。</li><li id="f46f" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">同时编辑文件的两个不同部分。</li></ul><p id="1c54" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">幸运的是，Vim允许我们这样做，而不必在终端上打开一个新标签。</p><h1 id="031a" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">同一个文件的多个Vim窗口</h1><p id="146b" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">假设我们正在编辑一个Python脚本，其中有两个不同的函数:f1和f2，我们想同时编辑它们。</p><p id="54df" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">Vim使这变得简单:</p><ul class=""><li id="ee31" class="lj lk hu jj b jk jl jo jp js ll jw lm ka ln ke lo lp lq lr dt translated">按下<em class="kf">Ctrl+w</em>(Mac中的<em class="kf"> cmd + w </em>)。</li><li id="db07" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">按下<em class="kf"> v </em>(垂直)或<em class="kf"> h </em>(水平)。</li></ul><p id="3b8b" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这将创建一个垂直拼接，或水平拼接。这意味着文件将在当前窗口之外的另一个“窗口”中打开(在同一终端内)，光标在同一行。<br/>垂直或水平是屏幕的两种可能的“分割”,因此<em class="kf"> Ctrl + w v </em>将在两个并排的窗口中打开文件，而<em class="kf"> Ctrl + w h </em>将在一个窗口下面打开另一个窗口。</p><p id="c83d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">要在使用完一个窗口后将其关闭，只需按下:q即可退出。</p><p id="3a04" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">要在新的Vim窗口中打开一个不同的文件，我们可以键入<em class="kf">:vsplit&lt;filename&gt;</em>来有效地从单个终端编辑许多不同的文件。</p><h1 id="4c48" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">在窗口间导航</h1><p id="3394" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">现在你有两个不同的窗口指向同一个文件。无论何时你在其中一个编辑了什么，它都会自动更新另一个(不像Sublime或其他编辑器，你必须按下reload)。</p><p id="018a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">为了快速导航到我们想要编辑的功能，我们只需</p><ul class=""><li id="6863" class="lj lk hu jj b jk jl jo jp js ll jw lm ka ln ke lo lp lq lr dt translated">按/进入搜索模式。</li><li id="7830" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">键入函数的名称。</li><li id="40e0" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">按回车键。</li></ul><p id="3e18" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">这相当于在其他编辑器中做<em class="kf"> Ctrl + F </em>(在Vim中，<em class="kf"> Ctrl + F </em>的作用类似于page-down)。</p><p id="c62d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果我们想在不同的窗口之间移动光标，我们必须按下<em class="kf"> Ctrl + W </em>然后任何动作，像<em class="kf"> h </em>或<em class="kf"> l </em>来水平移动。<br/>例如，如果我们垂直打开了5个窗口，我们可以按下<em class="kf"> Ctrl + W，3l </em>向右移动3个窗口。</p><h2 id="8a30" class="lx kh hu bd ki ly lz ma km mb mc md kq js me mf ku jw mg mh ky ka mi mj lc mk dt translated">自定义Vim窗口之间的导航。vimrc文件</h2><p id="433e" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">这似乎是一个介绍<em class="kf">的好地方。vimrc </em>文件。这个小文本文件位于<em class="kf"> ~ </em>目录下，存储了您对Vim的所有配置，并允许您定制更多的文本编辑器。</p><p id="e87a" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">配置文本编辑器就像编辑这个文件一样简单，您可以用它做很多事情。您可以使用Vim编辑它，以获得最大的递归性。</p><p id="4484" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">通常你最常做的一件事就是将一个键或组合键映射到一个你觉得别扭的不同序列。</p><p id="6cf0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在这种情况下，按下<em class="kf"> Ctrl + W </em>，然后再按下<em class="kf"> h、j、k </em>或<em class="kf"> l </em>可能会有点不舒服，如果你经常这么做的话。我发现许多人做的事情(我自己也这样做)是在他们的。vimrc文件:</p><pre class="ml mm mn mo fq mp mq mr ms aw mt dt"><span id="c631" class="lx kh hu mq b fv mu mv l mw mx">nnoremap &lt;C-h&gt; &lt;C-w&gt;h<br/>nnoremap &lt;C-j&gt; &lt;C-w&gt;j<br/>nnoremap &lt;C-k&gt; &lt;C-w&gt;k<br/>nnoremap &lt;C-l&gt; &lt;C-w&gt;l</span></pre><p id="5f4c" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">以nnoremap开头的行将把一个组合键(例如，<em class="kf"> Ctrl + h </em>)映射到一个不同的组合键(例如，<em class="kf"> Ctrl+W，h </em>)。</p><p id="0d90" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我发现按Ctrl + h，j，k，l比整个序列流畅得多，而且大多数时候你只是在几个窗口之间切换。当然，如果你喜欢不同的捷径，那就走吧！这就是这个编辑器的妙处。</p><h1 id="58a4" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">多个Vim寄存器:有许多剪贴板。</h1><p id="c1e5" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">我们还可以用Vim做另一件很棒的事情:您是否发现自己经常输入某个特定的字符串？<br/>例如，你可能用</p><pre class="ml mm mn mo fq mp mq mr ms aw mt dt"><span id="0d6a" class="lx kh hu mq b fv mu mv l mw mx">import pandas as pd<br/>import seaborn as sns<br/>import tensorflow as tf</span></pre><p id="d1c1" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">不想再输入了。</p><p id="723d" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">或者可能是一个完整的片段，比如</p><pre class="ml mm mn mo fq mp mq mr ms aw mt dt"><span id="ccb2" class="lx kh hu mq b fv mu mv l mw mx">for(int i = 0; i &lt; N; i++){}</span></pre><p id="9dfd" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">对于所有这些事情，可能还有许多其他事情，如果我们可以有许多不同的缓冲区来“粘贴”字符串，这将是非常方便的。</p><p id="ebb8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">ide通常会自动完成一部分工作，但它们通常不允许我们定制可以添加哪些代码片段，只允许我们使用一些预定义的代码片段。</p><p id="47fd" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">然而，Vim有将近40种不同的缓冲区可以用于这一目的。他们每个人都像一个新的剪贴板。</p><h1 id="3a9b" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">用Vim寄存器拉取和放入</h1><p id="3377" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">我之前已经说过如何“拉”和“放”:Vim相当于复制和粘贴，只是拉出来的字符串不会进入剪贴板，而是进入Vim外部无法访问的保留内存缓冲区。</p><p id="c046" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">我撒了一点谎。不是预留缓冲，而是很多。要决定将东西拉入或放入哪个缓冲器，请按“然后键入<em class="kf">【A-Z】、【A-Z】</em>或<em class="kf">【0–9】</em>。</p><p id="ba55" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">例如，如果我们正在编辑一个文本，发现自己经常键入单词“特定”、“特别”和“文本编辑器”，我们可以这样做:</p><ul class=""><li id="6910" class="lj lk hu jj b jk jl jo jp js ll jw lm ka ln ke lo lp lq lr dt translated">按下<em class="kf"> v </em>进入视觉模式，通过移动光标选择单词(在本例中，我们使用“特定”)</li><li id="3eab" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">按下<em class="kf">p</em>选择<em class="kf"> p </em>寄存器，然后按下<em class="kf"> y </em>将其拉入。</li><li id="f1aa" class="lj lk hu jj b jk ls jo lt js lu jw lv ka lw ke lo lp lq lr dt translated">每当我们必须再次键入单词时，只需按下<em class="kf"> "p </em>说出从哪个寄存器放入，然后按下<em class="kf"> p. </em></li></ul><p id="ebc0" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果我们希望看到寄存器的内容，我们可以运行<em class="kf"> :reg </em>来列出它们，或者运行<em class="kf"> :reg </em>后跟一个用空格分隔的寄存器名称列表(例如<em class="kf"> :reg a b </em>)来单独查看每一个。</p><h1 id="a2a6" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">Vim寄存器:特殊考虑</h1><p id="da92" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">小写和大写字母指向相同的Vim寄存器。但是，使用小写名称会覆盖寄存器的内容，而大写字母告诉Vim将新字符串连接到当前内容，而不删除它。</p><p id="b8d4" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">带编号的寄存器可以像其他寄存器一样使用，但也会将文本的最后10个删除位存储为一个堆栈。当你删除一个东西时，它进入寄存器1，当你删除下一个东西时，它被移到寄存器2，以此类推，直到寄存器9被填满。</p><p id="e3e9" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">有趣的是，即使在我们关闭Vim之后，Vim寄存器仍然存在。这意味着最终，你可以添加一些非常方便的片段或行到寄存器中，并在不同的文本编辑会话中使用它们。出于这个原因，值得注意我们通常写的东西中的模式，看看我们可以用这些工具优化多少编辑过程。</p><p id="41eb" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">如果我们的寄存器的内容可以被解释为Vim命令，那么按下<em class="kf"> @r </em>(其中<em class="kf"> r </em>是寄存器的名称)将运行它们。</p><p id="c770" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">要清除Vim寄存器的内容，如果<em class="kf"> r </em>是您的寄存器名称，请按下<em class="kf"> qrq </em>。</p><h1 id="809b" class="kg kh hu bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld dt translated">结论</h1><p id="96d3" class="pw-post-body-paragraph jh ji hu jj b jk le jm jn jo lf jq jr js lg ju jv jw lh jy jz ka li kc kd ke hn dt translated">使用Vim可以节省我们大量的时间，如果我们花时间根据自己的需要定制它，那就更是如此。</p><p id="6470" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">多个Vim寄存器可以使文本编辑更快，并取代ide的“片段”功能，允许我们使用许多剪贴板。</p><p id="1373" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">多个Vim窗口允许我们编辑单个文件中紧密相连的代码片段，或者查看单个项目中的不同文件，并查看它们在一起有多合适。</p><p id="aab5" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">在编辑文件时，结合这两种工具可以极大地提高我们的工作效率。然而，寄存器位应该谨慎使用，因为它可能会使我们更加依赖于我们的环境。</p><p id="30e2" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">各位，今天就到这里。我希望你觉得这篇文章有用，或者至少有趣。如果有任何你认为我应该提到而没有提到的事情，或者有任何可以改进的地方或者是明显的错误，请让我知道。来自读者的反馈是我写作中最喜欢的部分之一，它让我对这些话题了解得更多。</p><p id="917e" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated">你已经用过这些功能了吗？我们的Vim寄存器中存储了哪些有用的东西？我应该在另一篇文章中介绍哪些其他功能？请在评论中告诉我！</p><p id="bc32" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="kf">关注我的</em> <a class="ae jg" href="http://www.medium.com/@strikingloo" rel="noopener"> <em class="kf">中型</em> </a> <em class="kf">和</em><a class="ae jg" href="http://twitter.com/strikingloo" rel="noopener ugc nofollow" target="_blank"><em class="kf">Twitter</em></a><em class="kf">继续阅读更多面向开发人员和数据科学家的教程、技巧和窍门。如果您喜欢这篇文章，请与一位程序员朋友分享！</em></p></div><div class="ab cl my mz hc na" role="separator"><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd ne"/><span class="nb bw bk nc nd"/></div><div class="hn ho hp hq hr"><p id="2aa8" class="pw-post-body-paragraph jh ji hu jj b jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke hn dt translated"><em class="kf">最初发布于</em><a class="ae jg" href="http://www.datastuff.tech/programming/vim-squeezing-text-editors-juice-with-more-features/" rel="noopener ugc nofollow" target="_blank"><em class="kf">www . data stuff . tech</em></a></p></div></div>    
</body>
</html>