<html>
<head>
<title>How to build iPhone Calculator using Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Flutter构建iPhone计算器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-build-iphone-calculator-using-flutter-fe934ce78d7e?source=collection_archive---------8-----------------------#2018-10-16">https://medium.com/hackernoon/how-to-build-iphone-calculator-using-flutter-fe934ce78d7e?source=collection_archive---------8-----------------------#2018-10-16</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/25be901f7cc93994da50dea4c31ea168.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*mxhWjjbpxPu39cKW.jpg"/></div></div></figure><p id="2d42" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在Flutter中创建iPhone系统计算器的复制品是一个简单的想法。设计并不复杂，程序逻辑也是众所周知的。</p><p id="f820" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们把重点放在UI设计上，因为逻辑很难教。</p><p id="345b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你可以看看我们的<a class="ae ka" href="https://github.com/sayonetech/flutter_calculator" rel="noopener ugc nofollow" target="_blank"> Git回购</a>来获得一个完整的想法。</p><h1 id="666e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">使用Flutter构建iPhone计算器应用程序</h1><p id="abf7" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">这是我们要设计的用户界面。</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/6f136947a58c9a461049cb58fca6fda3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jy9ZZiLqzkxqIVgp.png"/></div></div></figure><p id="4359" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，让我们将这个视图分解成一些组件。</p><ol class=""><li id="3677" class="li lj hu je b jf jg jj jk jn lk jr ll jv lm jz ln lo lp lq dt translated">操作数、运算符、结果和按钮使用column小部件垂直对齐。</li><li id="ff23" class="li lj hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">现在，我们使用5行部件来水平排列按钮。</li><li id="2b8f" class="li lj hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">按钮有不同的设计。因此，我们需要为每种类型创建单独的小部件。</li></ol><p id="5ae2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">数字按钮是这样设计的:</p><pre class="le lf lg lh fq lw lx ly lz aw ma dt"><span id="9b0c" class="mb kc hu lx b fv mc md l me mf">import 'package:flutter/material.dart';</span><span id="22c3" class="mb kc hu lx b fv mg md l me mf">class NumberButton extends StatelessWidget {<br/> NumberButton({this.text,this.onPressed});</span><span id="7682" class="mb kc hu lx b fv mg md l me mf">final String text;<br/> final Function onPressed;</span><span id="ce5d" class="mb kc hu lx b fv mg md l me mf">@override<br/> Widget build(BuildContext context) {<br/>   return Padding(<br/>       padding: const EdgeInsets.all(5.0),<br/>       child: RawMaterialButton(<br/>           shape: const CircleBorder(),<br/>           constraints: BoxConstraints.tight(Size(60.0, 60.0)),<br/>           onPressed:onPressed,<br/>         child: Text(<br/>           text,<br/>           style: TextStyle(color: Colors.white, fontSize: 20.0),<br/>         ),<br/>         fillColor: Color.fromRGBO(56, 54, 56, 1.0),<br/>           ));<br/> }<br/>}</span></pre><p id="8ccf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">数字按钮是一个无状态小部件，它接受一个字符串“text”和一个函数“onPressed”。它是使用RawMaterialButton实现的，因为我们需要按钮的尺寸特别大。给定的形状是一个大小为60的圆。</p><p id="1428" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Zero按钮的UI有点不同，所以我为它创建了一个定制的小部件。</p><pre class="le lf lg lh fq lw lx ly lz aw ma dt"><span id="b9de" class="mb kc hu lx b fv mc md l me mf">import 'package:flutter/material.dart';</span><span id="145c" class="mb kc hu lx b fv mg md l me mf">class ZeroButton extends StatelessWidget {<br/>  ZeroButton({this.onPressed});</span><span id="c096" class="mb kc hu lx b fv mg md l me mf">final Function onPressed;<br/>  @override<br/>  Widget build(BuildContext context) {<br/>    return Padding(<br/>      padding: const EdgeInsets.all(5.0),<br/>      child: Container(<br/>        height: 60.0,<br/>        width: MediaQuery.of(context).size.width / 2.5,<br/>        decoration: BoxDecoration(<br/>            borderRadius: BorderRadius.circular(25.0),<br/>            color: Color.fromRGBO(56, 54, 56, 1.0)),<br/>        child: MaterialButton(<br/>          onPressed: onPressed,<br/>          child: Text(<br/>            "0",<br/>            style: TextStyle(color: Colors.white, fontSize: 20.0),<br/>          ),<br/>        ),<br/>      ),<br/>    );<br/>  }<br/>}</span></pre><p id="d674" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">零按钮的宽度是相对于屏幕宽度给出的。</p><p id="53a8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在有一个二元运算符按钮和一元运算符按钮，它们只是在文本颜色、背景颜色和动作上有所不同。</p><pre class="le lf lg lh fq lw lx ly lz aw ma dt"><span id="c64b" class="mb kc hu lx b fv mc md l me mf">import 'package:flutter/material.dart';</span><span id="75b9" class="mb kc hu lx b fv mg md l me mf">class BinaryOperatorButton extends StatelessWidget {<br/>  BinaryOperatorButton({this.onPressed,this.text});</span><span id="012c" class="mb kc hu lx b fv mg md l me mf">final text;<br/>  final Function onPressed;</span><span id="1808" class="mb kc hu lx b fv mg md l me mf">@override<br/>  Widget build(BuildContext context) {<br/>    return Padding(<br/>        padding: const EdgeInsets.all(5.0),<br/>        child: RawMaterialButton(<br/>          shape: const CircleBorder(),<br/>          constraints: BoxConstraints.tight(Size(60.0, 60.0)),<br/>          onPressed:onPressed,<br/>          child: Text(<br/>            text,<br/>            style: TextStyle(color: Colors.white, fontSize: 20.0),<br/>          ),<br/>          fillColor: Colors.orange,<br/>        ));<br/>  }</span><span id="0bca" class="mb kc hu lx b fv mg md l me mf">}</span></pre><p id="56c8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于一元运算符按钮:</p><pre class="le lf lg lh fq lw lx ly lz aw ma dt"><span id="4993" class="mb kc hu lx b fv mc md l me mf">import 'package:flutter/material.dart';</span><span id="3d78" class="mb kc hu lx b fv mg md l me mf">class UnaryOperatorButton extends StatelessWidget {</span><span id="7214" class="mb kc hu lx b fv mg md l me mf">UnaryOperatorButton({this.text,this.onPressed});</span><span id="4b97" class="mb kc hu lx b fv mg md l me mf">final String text;<br/>  final Function onPressed;</span><span id="82af" class="mb kc hu lx b fv mg md l me mf">@override<br/>  Widget build(BuildContext context) {<br/>    return Padding(<br/>        padding: const EdgeInsets.all(5.0),<br/>        child: RawMaterialButton(<br/>          shape: const CircleBorder(),<br/>          constraints: BoxConstraints.tight(Size(60.0, 60.0)),<br/>          onPressed:onPressed,<br/>          child: Text(<br/>            text,<br/>            style: TextStyle(color: Colors.black, fontSize: 20.0),<br/>          ),<br/>          fillColor: Colors.grey,<br/>        ));<br/>  }<br/>}</span></pre><p id="d976" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在整个布局是在calculator.dart中完成的。下面给出了它的构建方法。</p><pre class="le lf lg lh fq lw lx ly lz aw ma dt"><span id="c1c2" class="mb kc hu lx b fv mc md l me mf">@override<br/>Widget build(BuildContext context) {<br/>  return new Scaffold(<br/>    backgroundColor: Theme.of(context).primaryColor,<br/>    body: SafeArea(<br/>      child: Padding(<br/>        padding: const EdgeInsets.all(8.0),<br/>        child: Column(<br/>          children: &lt;Widget&gt;[<br/>            Expanded(<br/>              child: Container(<br/>                child: Align(<br/>                  alignment: Alignment.bottomRight,<br/>                  child: Column(<br/>                    crossAxisAlignment: CrossAxisAlignment.end,<br/>                    mainAxisAlignment: MainAxisAlignment.end,<br/>                    children: &lt;Widget&gt;[<br/>                      operand1 != null<br/>                          ? SingleChildScrollView(<br/>                              scrollDirection: Axis.horizontal,<br/>                              child: Text(<br/>                                operand1 is double<br/>                                    ? operand1.toStringAsFixed(2)<br/>                                    : operand1.toString(),<br/>                                style: _whiteTextStyle,<br/>                                textAlign: TextAlign.right,<br/>                              ),<br/>                            )<br/>                          : Container(),<br/>                      operator != null<br/>                          ? Text(<br/>                              operator.toString(),<br/>                              style: _whiteTextStyle,<br/>                              textAlign: TextAlign.right,<br/>                            )<br/>                          : Container(),<br/>                      operand2 != null<br/>                          ? Text(<br/>                              operand2.toString(),<br/>                              style: _whiteTextStyle,<br/>                              textAlign: TextAlign.right,<br/>                            )<br/>                          : Container(),<br/>                      result != null<br/>                          ? Divider(<br/>                              height: 5.0,<br/>                              color: Colors.white,<br/>                            )<br/>                          : Container(),<br/>                      result != null<br/>                          ? SingleChildScrollView(<br/>                              scrollDirection: Axis.horizontal,<br/>                              child: Text(<br/>                                result is double<br/>                                    ? result.toStringAsFixed(2)<br/>                                    : result.toString(),<br/>                                style: _whiteTextStyle,<br/>                                textAlign: TextAlign.right,<br/>                              ),<br/>                            )<br/>                          : Container(),<br/>                    ],<br/>                  ),<br/>                ),<br/>              ),<br/>            ),<br/>            Row(<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: &lt;Widget&gt;[<br/>                UnaryOperatorButton(<br/>                  text: "AC",<br/>                  onPressed: () {<br/>                    _otherOperationAction(OtherOperation.clear);<br/>                  },<br/>                ),<br/>                UnaryOperatorButton(<br/>                  text: plus_or_minus_sign,<br/>                  onPressed: (){_unaryOperationAction(UnaryOperation.changeSign);},<br/>                ),<br/>                UnaryOperatorButton(<br/>                  text: percent_sign,<br/>                  onPressed: (){_unaryOperationAction(UnaryOperation.percent);},<br/>                ),<br/>                BinaryOperatorButton(<br/>                  text: divide_sign,<br/>                  onPressed: () {<br/>                    _binaryOperationAction(BinaryOperation.divide);<br/>                  },<br/>                )<br/>              ],<br/>            ),<br/>            Row(<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: &lt;Widget&gt;[<br/>                NumberButton(<br/>                    text: "7",<br/>                    onPressed: () {<br/>                      _numberButtonAction("7");<br/>                    }),<br/>                NumberButton(<br/>                    text: "8",<br/>                    onPressed: () {<br/>                      _numberButtonAction("8");<br/>                    }),<br/>                NumberButton(<br/>                    text: "9",<br/>                    onPressed: () {<br/>                      _numberButtonAction("9");<br/>                    }),<br/>                BinaryOperatorButton(<br/>                  text: multiply_sign,<br/>                  onPressed: () {<br/>                    _binaryOperationAction(BinaryOperation.multiply);<br/>                  },<br/>                )<br/>              ],<br/>            ),<br/>            Row(<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: &lt;Widget&gt;[<br/>                NumberButton(<br/>                    text: "4",<br/>                    onPressed: () {<br/>                      _numberButtonAction("4");<br/>                    }),<br/>                NumberButton(<br/>                    text: "5",<br/>                    onPressed: () {<br/>                      _numberButtonAction("5");<br/>                    }),<br/>                NumberButton(<br/>                    text: "6",<br/>                    onPressed: () {<br/>                      _numberButtonAction("6");<br/>                    }),<br/>                BinaryOperatorButton(<br/>                  text: minus_sign,<br/>                  onPressed: () {<br/>                    _binaryOperationAction(BinaryOperation.subtract);<br/>                  },<br/>                )<br/>              ],<br/>            ),<br/>            Row(<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: &lt;Widget&gt;[<br/>                NumberButton(<br/>                    text: "1",<br/>                    onPressed: () {<br/>                      _numberButtonAction("1");<br/>                    }),<br/>                NumberButton(<br/>                    text: "2",<br/>                    onPressed: () {<br/>                      _numberButtonAction("3");<br/>                    }),<br/>                NumberButton(<br/>                    text: "3",<br/>                    onPressed: () {<br/>                      _numberButtonAction("3");<br/>                    }),<br/>                BinaryOperatorButton(<br/>                  text: add_sign,<br/>                  onPressed: () {<br/>                    _binaryOperationAction(BinaryOperation.add);<br/>                  },<br/>                )<br/>              ],<br/>            ),<br/>            Row(<br/>              mainAxisAlignment: MainAxisAlignment.spaceBetween,<br/>              children: &lt;Widget&gt;[<br/>                ZeroButton(onPressed: (){_zeroButtonAction();},),<br/>                BinaryOperatorButton(<br/>                  text: ".",<br/>                  onPressed: () {<br/>                    _otherOperationAction(OtherOperation.addDecimal);<br/>                  },<br/>                ),<br/>                BinaryOperatorButton(<br/>                  text: equal_sign,<br/>                  onPressed: () {<br/>                    _otherOperationAction(OtherOperation.equals);<br/>                  },<br/>                )<br/>              ],<br/>            ),<br/>          ],<br/>        ),<br/>      ),<br/>    ),<br/>  );</span></pre><h1 id="7a3d" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">最终结果</h1><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/1aa44503239df47e5e02757cc2ddfa7b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*4jJfxQCFSMQ3HL5L.jpg"/></div></div></figure><p id="b223" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是它在两台设备上的外观。我们的颤振实验取得了良好的效果。SayOne移动团队自2017年以来一直致力于Flutter。我们从未如此热衷于任何其他技术。在接下来的几天里，请继续关注我们对Flutter的更多实验！</p><p id="7ffb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你有兴趣了解更多关于我们的颤振项目，并想尝试一下，写信给我们在hello@sayonetech.com<a class="ae ka" href="mailto:hello@sayonetech.com" rel="noopener ugc nofollow" target="_blank">或访问</a><a class="ae ka" href="https://www.sayonetech.com/contact/" rel="noopener ugc nofollow" target="_blank"> SayOne </a>。</p></div><div class="ab cl mh mi hc mj" role="separator"><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm mn"/><span class="mk bw bk ml mm"/></div><div class="hn ho hp hq hr"><p id="4387" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="mo">最初发布于</em><a class="ae ka" href="https://www.sayonetech.com/blog/how-build-iphone-calculator-using-flutter/" rel="noopener ugc nofollow" target="_blank"><em class="mo">https://www . sayone tech . com/blog/how-build-iphone-calculator-using-flutter/</em></a><em class="mo">。</em></p></div></div>    
</body>
</html>