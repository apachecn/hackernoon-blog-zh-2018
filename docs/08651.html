<html>
<head>
<title>Conditional JavaScript for Experts</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">面向专家的条件JavaScript</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/conditional-javascript-for-experts-d2aa456ef67c?source=collection_archive---------0-----------------------#2018-10-18">https://medium.com/hackernoon/conditional-javascript-for-experts-d2aa456ef67c?source=collection_archive---------0-----------------------#2018-10-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="7995" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">掌握较短代码的条件表达式</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/683a1c1651182d06164284d670f807f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uru6V6HxRDJlMBLAWrfltQ.jpeg"/></div></div></figure><p id="e87e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">条件是每种编程语言语法的一个非常重要的方面。如果你已经用任何一种流行的语言对进行了<a class="ae kr" href="https://hackernoon.com/tagged/programming" rel="noopener ugc nofollow" target="_blank">编程，你应该已经熟悉了<code class="eh ks kt ku kv b">if..elif..else</code>或<code class="eh ks kt ku kv b">switch</code>条件语句。它们对程序中的决策非常有用。</a></p><p id="4300" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">例如，假设一个宝箱被设计成只有格莱德(<em class="kw">就是我</em>)能够打开它。该逻辑可以用编程方式表示(用Python ),如下所示:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="deb3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">尽管前面的代码片段是用Python语法编写的，但本文严格针对的是<a class="ae kr" href="https://hackernoon.com/tagged/javascript" rel="noopener ugc nofollow" target="_blank"> JavaScript </a>。然而，这里展示的大多数技术也可以应用于其他一些编程语言。</p><p id="d87c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">从这一刻起，我保证你不会在这篇文章中找到任何一行用JavaScript之外的其他编程语言的语法编写的代码。</p><p id="ab90" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在本文中，更多的重点将放在JavaScript中的条件表达式(使用逻辑操作符)上，以及如何使用它们来使代码比条件语句更短。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="62af" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">表达式与语句</h1><p id="6cf1" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">在继续之前，您需要能够区分JavaScript中的表达式和语句。这里有一个非常简单的类比:</p><blockquote class="md"><p id="bb21" class="me mf hu bd mg mh mi mj mk ml mm kq ek translated">表达式对于JavaScript就像短语对于语法一样，而语句对于JavaScript就像句子对于语法一样。</p></blockquote><p id="3598" class="pw-post-body-paragraph jv jw hu jx b jy mo iv ka kb mp iy kd ke mq kg kh ki mr kk kl km ms ko kp kq hn dt translated"><strong class="jx hv">一个<em class="kw">表达式</em>是JavaScript引擎可以计算并产生一个值的任何短语。</strong></p><p id="380f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">例如:</strong>文字、赋值、函数表达式、逻辑、按位或算术运算、对象属性访问、函数调用、求值等。</p><p id="656f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">以下代码片段显示了一些JavaScript表达式:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="d617" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">一个<em class="kw">语句</em>是JavaScript引擎可以执行的任何句子或命令，以使某事发生或引起一些副作用。</strong></p><p id="5c50" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">例如:</strong>条件句、变量或函数声明、循环、抛出、返回、try/catch/finally等。</p><p id="b4f4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">一些JavaScript表达式，如<em class="kw">赋值</em>和<em class="kw">函数调用</em>可能有副作用，因此通常可以用作语句(<strong class="jx hv"> <em class="kw">表达式语句</em> </strong>)。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="ad9b" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">条件和布尔值</h1><p id="e34b" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">每个条件的关键要求是<strong class="jx hv">条件</strong>。<code class="eh ks kt ku kv b">condition</code>决定了程序中要做出的决定。</p><p id="b69f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在JavaScript中，这个<code class="eh ks kt ku kv b">condition</code>可以是任何有效的表达式。通常，这个<code class="eh ks kt ku kv b">condition</code>表达式，不管它有多复杂，都会被求值为两个值之一，称为<strong class="jx hv">布尔值</strong>:或者是<code class="eh ks kt ku kv b">true</code>或者是<code class="eh ks kt ku kv b">false</code>。</p><p id="73cc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">正确理解JavaScript引擎如何将这些<code class="eh ks kt ku kv b">condition</code>表达式转换为布尔值对于编写正确且可预测的条件逻辑是必要的。</p><p id="7c5a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这里有两个基本概念可以帮助我们理解这种转换:</p><ul class=""><li id="9888" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated">识别<em class="kw">真值</em>和<em class="kw">假值</em></li><li id="1a16" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated">理解逻辑运算中的<em class="kw">短路</em></li></ul></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="ec63" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">真实vs虚假</h2><p id="6a0d" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">JavaScript中的每个值都可以被分类为<em class="kw">真值</em>或<em class="kw">假值</em>。JavaScript中的<em class="kw"> falsy </em>值如下:</p><ul class=""><li id="5acb" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><code class="eh ks kt ku kv b">''</code>或<code class="eh ks kt ku kv b">""</code>或<code class="eh ks kt ku kv b">``</code> ( <em class="kw">空弦</em>)</li><li id="6e84" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">0</code>或<code class="eh ks kt ku kv b">-0</code> ( <em class="kw">数字0 </em>)</li><li id="64d6" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">null</code></li><li id="7a09" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">undefined</code></li><li id="7de3" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">NaN</code></li><li id="4145" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">false</code></li></ul><p id="e1f3" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">除此列表中的值之外的所有其他值都是真值。每当JavaScript需要一个布尔值时，<em class="kw"> truthy </em>值被隐式强制为<code class="eh ks kt ku kv b">true</code>，而<em class="kw"> falsy </em>值被隐式强制为<code class="eh ks kt ku kv b">false</code>。</p><p id="a3f7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">然而，如果您想要谨慎或明确地对待类型强制，您可以使用本机<code class="eh ks kt ku kv b">Boolean</code>函数将任何值转换为其对应的布尔值。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="3ea7" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">您也可以使用逻辑<strong class="jx hv">而非</strong> ( <code class="eh ks kt ku kv b">!</code>)运算符将值转换为布尔值。<code class="eh ks kt ku kv b">!</code>运算符将其操作数转换为逆布尔值，因此，它总是计算为布尔值。</p><p id="fd2c" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">使用<code class="eh ks kt ku kv b">!</code>运算符对真值计算为<code class="eh ks kt ku kv b">false</code>，对假值计算为<code class="eh ks kt ku kv b">true</code>。要将一个值转换成相应的布尔值，需要使用两次<code class="eh ks kt ku kv b">!</code>操作符。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="ab30" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">短路</h2><p id="0bda" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated"><strong class="jx hv">和</strong> ( <code class="eh ks kt ku kv b">&amp;&amp;</code>)和<strong class="jx hv">或</strong> ( <code class="eh ks kt ku kv b">||</code>)逻辑运算符都需要两个操作数，用于对操作数执行布尔运算。</p><p id="1d34" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">假设两个操作数是布尔值(<code class="eh ks kt ku kv b">true</code>或<code class="eh ks kt ku kv b">false</code>)，</p><ul class=""><li id="b532" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><code class="eh ks kt ku kv b">&amp;&amp;</code>运算只有当两个操作数都是<code class="eh ks kt ku kv b">true</code>时才返回<code class="eh ks kt ku kv b">true</code>，否则返回<code class="eh ks kt ku kv b">false</code>。</li><li id="5d61" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated"><code class="eh ks kt ku kv b">||</code>只有当两个操作数都是<code class="eh ks kt ku kv b">false</code>时，运算才返回<code class="eh ks kt ku kv b">false</code>，否则返回<code class="eh ks kt ku kv b">true</code>。</li></ul><p id="1cf9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">注意，<code class="eh ks kt ku kv b">&amp;&amp;</code>操作符比<code class="eh ks kt ku kv b">||</code>操作符具有更高的优先级，因此，通常首先被求值。因此，当它们在一个表达式中一起使用时，您可以使用括号(<code class="eh ks kt ku kv b">()</code>)进行分组，以改变求值顺序。考虑下面的代码片段:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="3013" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">使用这些运算符时，总是计算第一个操作数。然而，根据评估第一个操作数的结果，可能永远不会评估第二个操作数。这种行为被称为<strong class="jx hv"> <em class="kw">短路</em> </strong>。</p><p id="3f7a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><code class="eh ks kt ku kv b">&amp;&amp;</code>和<code class="eh ks kt ku kv b">||</code>操作并不总是产生布尔值。一般来说，它们可以产生任何值。下面是基于<em class="kw">短路</em>的更简洁的行为描述:</p><ul class=""><li id="cb59" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><code class="eh ks kt ku kv b">&amp;&amp;</code>运算符首先计算其第一个操作数。如果结果值为<em class="kw">真值</em>，则计算第二个操作数并返回其值。但是，如果第一个操作数的值是<em class="kw"> falsy </em>，则第二个操作数永远不会被求值，它只是从第一个操作数返回<em class="kw"> falsy </em>值。</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><ul class=""><li id="dd01" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><code class="eh ks kt ku kv b">||</code>运算符首先计算其第一个操作数。如果结果值为<em class="kw">真值</em>，则不会计算第二个操作数，只会从第一个操作数返回<em class="kw">真值</em>。但是，如果第一个操作数的值是<em class="kw"> falsy </em>，它会计算第二个操作数并返回其值。</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="c213" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">用表达式替换语句</h1><p id="5df3" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">现在，您对<em class="kw">短路</em>概念以及<code class="eh ks kt ku kv b">condition</code>表达式如何转换为布尔值有了清晰的理解。</p><p id="0f1b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">接下来，您将看到如何将一些条件语句转换成简单的表达式。您还将看到这种转换如何使您的代码看起来更紧凑、更简短。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="46e4" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">1.简单的If语句</h2><p id="da28" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">通过利用<em class="kw">短路</em>的概念，非常简单的<code class="eh ks kt ku kv b">if</code>语句可以很容易地用条件表达式替换。考虑下面的代码片段:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="e0ed" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在这个代码片段中，<code class="eh ks kt ku kv b">if</code>语句确保只有当条件评估为<code class="eh ks kt ku kv b">true</code>时，才会调用<code class="eh ks kt ku kv b">deletePost()</code>函数。</p><p id="c9ea" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这个简单的<code class="eh ks kt ku kv b">if</code>语句可以替换为一个非常简单的条件表达式，如下面的代码片段所示:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="2f35" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">尽管这个条件表达式的工作方式与前面的<code class="eh ks kt ku kv b">if</code>语句相似，但它们实际上是不同的。</p><p id="ebf8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="kw">条件表达式产生一个值，这意味着它可以被赋给一个变量，或者用在任何其他需要值的地方。</em></p><p id="ac03" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">请记住，像这样使用条件表达式意味着您必须非常小心短路警告。很有可能一个操作数没有被求值，就像我们在上一节短路中看到的那样。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="2daf" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">2.If…Else语句</h2><p id="c845" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">考虑以下用于确定密码强度的伪代码片段:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="01c2" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这个代码片段的意图非常简单—检查密码是否超过7个字符。如果是，则将<code class="eh ks kt ku kv b">strength</code>变量设置为<code class="eh ks kt ku kv b">“Strong”</code>，否则设置为<code class="eh ks kt ku kv b">“Weak”</code>。</p><p id="ee08" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">前面的代码片段可以缩短为:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="0aaf" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这段代码片段只在一行中做了前一段代码所做的事情。这看起来已经很不错了。以下代码片段尝试检查条件表达式的计算。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="1712" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">有一种更好的方式来编写这种<code class="eh ks kt ku kv b">if...else</code>条件表达式——使用<strong class="jx hv"> <em class="kw">条件运算符</em> </strong>也称为<strong class="jx hv"> <em class="kw">三元运算符</em> </strong>。其语法如下所示:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="a57f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">因此，可以使用三元运算符重写前面的代码片段，如下所示:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="7479" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="kw">虽然使用逻辑运算符的代码片段与使用三元运算符的代码片段工作方式相似(对于本例)，但重要的是要知道它们不是替代品。</em></p><p id="4791" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">除了您确实知道自己在做什么之外，在这种情况下使用三元运算符会安全得多。</p><p id="a2e8" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">考虑下面的代码片段来理解在这种情况下使用逻辑运算符的危险:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="455f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这是另一个非常熟悉的条件语句，通常可以在跨浏览器AJAX库中找到。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="f3a4" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">使用逻辑操作符，前面的代码片段可以改写成这样(<em class="kw">缩进是为了提高可读性</em>):</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="9971" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">但是，使用三元运算符，它可以写成这样:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="7b26" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="kw">注意，在这段代码中，三元运算符是嵌套的，这对于处理更复杂的</em> <code class="eh ks kt ku kv b"><em class="kw">if...else</em></code> <em class="kw">条件</em>很有用。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="d2ac" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">提示和快捷方式</h1><p id="26eb" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">在本节中，您将看到一些有用的提示和快捷方式，它们在使用条件和逻辑运算符时会很有用。</p></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="bf22" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">规范化为布尔值</h2><p id="f546" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">您已经看到了如何显式地将一个JavaScript值转换成它的等价布尔值，要么使用本机的<code class="eh ks kt ku kv b">Boolean</code>函数，要么使用<em class="kw">double</em><strong class="jx hv"><em class="kw">NOT</em></strong>(<code class="eh ks kt ku kv b">!!</code>)运算符。</p><p id="657a" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">假设你想规范化<code class="eh ks kt ku kv b">value</code>，这样你总是得到一个布尔值，如下所示:</p><ul class=""><li id="64bc" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated">如果<code class="eh ks kt ku kv b">value</code>是布尔值，则原样返回<code class="eh ks kt ku kv b">value</code>。</li><li id="92ce" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq my mz na nb dt translated">如果<code class="eh ks kt ku kv b">value</code>不是布尔值，默认为您选择的布尔值——或者<code class="eh ks kt ku kv b">true</code>或者<code class="eh ks kt ku kv b">false</code>。</li></ul><p id="4cd0" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">下面的代码片段展示了如何做到这一点(这里使用了<em class="kw">函数</em>):</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="7ddc" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">德摩根定律</h2><p id="6e9a" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">如果你熟悉布尔代数，你应该已经知道德摩根的<strong class="jx hv"><em class="kw"/></strong><em class="kw">定律</em>。这些规律也适用于JavaScript逻辑操作符。</p><p id="56dc" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">以下代码片段演示了这些定律:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="fa40" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">布尔恒等式</h2><p id="1ac4" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">在处理布尔型时，有一些已知的恒等式始终为真。假设<code class="eh ks kt ku kv b">A</code>、<code class="eh ks kt ku kv b">B</code>和<code class="eh ks kt ku kv b">C</code>是布尔值，下面的代码片段显示了其中的一些恒等式。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h2 id="11c0" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">多重三元运算符</h2><p id="6f5e" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">您在前面的代码片段中已经看到，三元运算符可以嵌套起来处理更复杂的<code class="eh ks kt ku kv b">if...else</code>条件逻辑。</p><p id="9f51" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">但是，关于三元运算符的优先级和结合性，您需要知道一些事情，以便能够在复杂表达式中有效地使用它们。</p><ul class=""><li id="7758" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><strong class="jx hv">三元运算符的优先级<em class="kw">低于逻辑运算符和大多数其他运算符</em></strong>。因此，当它与优先级更高的运算符一起使用时，最后才进行计算。</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><ul class=""><li id="0377" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq my mz na nb dt translated"><strong class="jx hv">三元运算符有一个<em class="kw">从右到左</em>结合律</strong>。因此，当在同一个表达式中使用多个三元运算符时，它们是从右向左解析的。</li></ul><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure><p id="ff86" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">当在一个表达式中使用多个三元运算符时，可能需要使用括号(<code class="eh ks kt ku kv b">()</code>)来改变求值顺序。这里有一个例子:</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="kx ky l"/></div></figure></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="3c50" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">为专家提供更多JavaScript</h1><p id="b451" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">如果您对揭示可以改进JavaScript代码的其他方法的相关文章感兴趣，请不要犹豫，通读这些文章:</p><ol class=""><li id="af90" class="mt mu hu jx b jy jz kb kc ke mv ki mw km mx kq nv mz na nb dt translated"><a class="ae kr" href="https://codeburst.io/cool-javascript-shortcuts-and-tips-for-everyday-use-66cd174ab216" rel="noopener" target="_blank"> <strong class="jx hv">超酷的JavaScript快捷键和日常使用技巧</strong> </a></li><li id="3c69" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq nv mz na nb dt translated"><a class="ae kr" href="https://medium.freecodecamp.org/https-medium-com-gladchinda-hacks-for-creating-javascript-arrays-a1b80cb372b" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv">创建JavaScript数组的技巧</strong> </a></li><li id="72f7" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq nv mz na nb dt translated"><a class="ae kr" href="https://blog.logrocket.com/javascript-es6-5-new-abstractions-to-improve-your-code-54a369e82407" rel="noopener ugc nofollow" target="_blank"> <strong class="jx hv"> JavaScript ES6: 5改进您代码的新抽象</strong> </a></li><li id="96c2" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq nv mz na nb dt translated"><a class="ae kr" href="https://codeburst.io/es6-destructuring-the-complete-guide-7f842d08b98f" rel="noopener" target="_blank"> <strong class="jx hv"> ES6解构:完整指南</strong> </a></li><li id="2583" class="mt mu hu jx b jy nc kb nd ke ne ki nf km ng kq nv mz na nb dt translated"><a class="ae kr" href="https://blog.logrocket.com/javascript-typeof-2511d53a1a62" rel="noopener ugc nofollow" target="_blank"><strong class="jx hv"/></a>的JavaScript类型</li></ol></div><div class="ab cl kz la hc lb" role="separator"><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le lf"/><span class="lc bw bk ld le"/></div><div class="hn ho hp hq hr"><h1 id="6b65" class="lg lh hu bd li lj lk ll lm ln lo lp lq ja lr jb ls jd lt je lu jg lv jh lw lx dt translated">结论</h1><p id="beae" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">阅读完本文后，我相信您现在能够识别代码中的哪些区域可以像专家一样应用这些技巧和技术来改进代码。</p><h2 id="e7d3" class="nh lh hu bd li ni nj nk lm nl nm nn lq ke no np ls ki nq nr lu km ns nt lw nu dt translated">鼓掌并跟随</h2><p id="dc06" class="pw-post-body-paragraph jv jw hu jx b jy ly iv ka kb lz iy kd ke ma kg kh ki mb kk kl km mc ko kp kq hn dt translated">如果你觉得这篇文章很有见地，如果你不介意的话，请随意鼓掌。</p><p id="904e" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">你也可以在Medium ( <a class="nw nx gr" href="https://medium.com/u/ddcd0e9719e5?source=post_page-----d2aa456ef67c--------------------------------" rel="noopener" target="_blank"> Glad Chinda </a>)上关注我，获取更多对你有帮助的有见地的文章。也可以在推特上关注我(<a class="ae kr" href="https://twitter.com/@gladchinda" rel="noopener ugc nofollow" target="_blank"> @gladchinda </a>)。</p><p id="3e2f" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv"> <em class="kw">享受编码……</em></strong></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ny ky l"/></div></figure></div></div>    
</body>
</html>