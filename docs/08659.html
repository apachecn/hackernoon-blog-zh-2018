<html>
<head>
<title>Text Yourself the NASA Picture of the Day With Standard Library and Node.js</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用标准库和Node.js给自己发一条NASA每日图片的短信</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/text-yourself-the-nasa-picture-of-the-day-with-standard-library-and-node-js-226f6ca48adc?source=collection_archive---------8-----------------------#2018-10-18">https://medium.com/hackernoon/text-yourself-the-nasa-picture-of-the-day-with-standard-library-and-node-js-226f6ca48adc?source=collection_archive---------8-----------------------#2018-10-18</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/d6c7221596862c30a5c6bbc582f125c1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*aUCLxxSlMh5V_aGH.jpg"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek"><strong class="bd jg">The APoD for 10/16/2018</strong>: Jupiter in Ultraviolet from Hubble</figcaption></figure><blockquote class="jh ji jj"><p id="7daa" class="jk jl jm jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated">我:天空不是☁️的极限</p><p id="65c4" class="jk jl jm jn b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki hn dt translated"><strong class="jn hv">陌生人</strong>:图片或者我不相信你<em class="hu">🙄</em></p></blockquote><p id="ab40" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">基于上面的对话，我将向你展示如何用<a class="ae km" href="https://www.stdlib.com" rel="noopener ugc nofollow" target="_blank">标准库</a>获得NASA高度渴望的<strong class="jn hv">天文图片</strong> (APoD)🌑 ⭐️</p><p id="3809" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">如果你不熟悉<a class="ae km" href="https://www.stdlib.com" rel="noopener ugc nofollow" target="_blank">标准库</a>，我们是一个无服务器平台，可以让<strong class="jn hv">每个人</strong> <em class="jm"> </em>(是的，<em class="jm">每个人</em>！致电所有项目经理、设计师、营销团队、销售人员、职业健康和工程师…🙋)<em class="jm"> </em>在几秒钟内构建、发布和集成可扩展的API。在我们的在线文本编辑器<a class="ae km" href="https://code.xyz" rel="noopener ugc nofollow" target="_blank"> Code.xyz </a>的帮助下，你可以在浏览器上完成所有这些工作。</p><h2 id="b267" class="kn ko hu bd kp kq kr ks kt ku kv kw kx kj ky kz la kk lb lc ld kl le lf lg lh dt translated">要求</h2><ul class=""><li id="38ed" class="li lj hu jn b jo lk js ll kj lm kk ln kl lo ki lp lq lr ls dt translated"><a class="ae km" href="https://www.stdlib.com" rel="noopener ugc nofollow" target="_blank">标准库</a>账号(免费)</li><li id="9a05" class="li lj hu jn b jo lt js lu kj lv kk lw kl lx ki lp lq lr ls dt translated"><a class="ae km" href="https://api.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> NASA </a> API密匙(免费)</li></ul><p id="4677" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated"><a class="ae km" href="https://www.stdlib.com" rel="noopener ugc nofollow" target="_blank">标准库</a>提供了大量易于使用的API模板。为了检索APoD API模板，转到<a class="ae km" href="https://code.xyz" rel="noopener ugc nofollow" target="_blank"> Code.xyz </a>并搜索<code class="eh ly lz ma mb b">astronomy-picture-of-the-day by @eileenzhong</code>💁</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mc"><img src="../Images/f4a22b6a8685462318f1f5b783a96554.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A83-gXgFOMpKsFbGw4ek1w.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">APoD template</figcaption></figure><p id="2c2b" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">命名您的API:</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mh"><img src="../Images/955fda1ea64e3a2cb1473a057d3863ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Qw5iS2XZcISnxtLzWpdhug.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Name your API</figcaption></figure><p id="b1a6" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">发送APoD到你的手机前的最后一步！</p><p id="7412" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">您需要正确配置<code class="eh ly lz ma mb b">env.json</code>文件。你会注意到有两组变量。然而，我们将把代码部署到<code class="eh ly lz ma mb b">dev</code>环境中，所以我们只需要提供<code class="eh ly lz ma mb b">dev</code>变量。</p><p id="ca45" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">首先，插入您的标准库库令牌(<code class="eh ly lz ma mb b">STDLIB_LIBRARY_TOKEN</code>):</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/70317fdd541299a1147cf5c103b91693.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IugtoiQ_cm74DI3ByFsNTw.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Right click to access this context menu</figcaption></figure><p id="b01c" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">然后，插入你的<a class="ae km" href="https://api.nasa.gov/" rel="noopener ugc nofollow" target="_blank"> NASA </a> API密匙。完成后，您的<code class="eh ly lz ma mb b">env.json</code>文件应该如下所示:</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mj"><img src="../Images/c623c9182afe8ca862cc1b5e81c7120f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*550a1_WyhsMxbtsftBefXg.png"/></div></div></figure><p id="2f83" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">这就是你要做的所有设置！</p><p id="5180" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">要运行该程序，请单击“调试”以显示参数输入区。输入您的电话号码，包括国家代码:</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mk"><img src="../Images/97c3ddb0271fca0863e419d0932567e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*to7zqRZplUCknfV9sIWvGA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Don’t forget the country code!</figcaption></figure><p id="82e5" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">当你点击“运行”时，你会收到美国宇航局的当天天文图片！🚀</p><p id="826d" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">这还不是最酷的部分。</p><p id="aeca" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">我们不想每天都点击“运行”来把这条短信发送到我们的手机上。谢天谢地，<a class="ae km" href="https://www.stdlib.com" rel="noopener ugc nofollow" target="_blank">标准库</a>有一个任务调度器，你可以定制一个调度来自动<em class="jm">魔法</em>盟友调用你新创建的API。</p><p id="b329" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">在<a class="ae km" href="https://code.xyz" rel="noopener ugc nofollow" target="_blank"> Code.xyz </a>中，点击“任务”选项卡。然后，您可以输入电话号码，并根据自己的喜好定制日程安排:</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ml"><img src="../Images/fb2e778578b243cc167df0fb418fdf00.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8BxLtqAKYtvvLlhDSq4vw.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Create a scheduled task for your API</figcaption></figure><p id="8c16" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated"><em class="jm">建议:将任务安排为每天执行一次，因为APoD是</em> <strong class="jn hv"> <em class="jm">日</em> </strong> <em class="jm">的天文图像的缩写，因此，图像在一天中不会改变。</em></p><p id="c2fc" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">当您对设置满意时，单击蓝色的“调度任务”按钮来调度您的API。</p><p id="fe63" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">就是这样！如果你认识一个☝️、两个✌️或五个🖐人，他们会喜欢每天的天文照片，你可以为他们安排不同的任务(每个电话号码一个)。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><h2 id="76be" class="kn ko hu bd kp kq kr ks kt ku kv kw kx kj ky kz la kk lb lc ld kl le lf lg lh dt translated">奖金部分</h2><p id="66b9" class="pw-post-body-paragraph jk jl hu jn b jo lk jq jr js ll ju jv kj mt jy jz kk mu kc kd kl mv kg kh ki hn dt translated">如果你已经走了这么远，你应该得到奖励🌈现在，不要太激动(实际上——一定要激动🙃).只需2行代码，您就可以向您的朋友发送随机报价和APoD！</p><figure class="md me mf mg fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mw"><img src="../Images/c52f0fcbd85ec75fa6a284520e5469e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hU93lh3CeZ9Frcfrhk9zVA.png"/></div></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">APoD and a random Paul Jacques Grillo quote</figcaption></figure><p id="a2e6" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">我们将使用WordPress的API来抽取一个随机引用:<code class="eh ly lz ma mb b"><a class="ae km" href="http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&amp;filter[posts_per_page]=1." rel="noopener ugc nofollow" target="_blank">http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&amp;filter[posts_per_page]=1</a></code> <a class="ae km" href="http://quotesondesign.com/wp-json/posts?filter[orderby]=rand&amp;filter[posts_per_page]=1." rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="md me mf mg fq iv"><div class="bz el l di"><div class="mx my l"/></div><figcaption class="jc jd fg fe ff je jf bd b be z ek">Add lines <strong class="ak">11</strong> and <strong class="ak">12</strong> to send a random quote with the APoD text</figcaption></figure><p id="b3bd" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">不要担心第12行的所有正则表达式。WordPress API只是返回一些在MMS中不能很好播放的HTML标签📱</p><p id="fda8" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">或者，你可以用你想发送给你朋友的任何文本块来替换变量<code class="eh ly lz ma mb b">quote</code>的值:<code class="eh ly lz ma mb b">const quote = "Hi friend."</code></p><p id="c0af" class="pw-post-body-paragraph jk jl hu jn b jo jp jq jr js jt ju jv kj jx jy jz kk kb kc kd kl kf kg kh ki hn dt translated">尽情享受吧！</p></div></div>    
</body>
</html>