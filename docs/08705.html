<html>
<head>
<title>Evolving agents to solve XOR in Pixling World</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">进化智能体解决像素世界中的异或问题</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/evolving-agents-to-solve-xor-in-pixling-world-6460c71e7840?source=collection_archive---------18-----------------------#2018-10-19">https://medium.com/hackernoon/evolving-agents-to-solve-xor-in-pixling-world-6460c71e7840?source=collection_archive---------18-----------------------#2018-10-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="e8cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">训练一个神经<a class="ae jp" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a>来执行<a class="ae jp" href="https://hackernoon.com/tagged/xor" rel="noopener ugc nofollow" target="_blank">异或</a>基本上是机器学习的Hello世界，由于我的进化模拟器中的像素(代理)都有神经网络作为大脑，我认为在我的游戏中实现它应该非常简单。这篇博文会告诉你怎么做(别担心，真的很简单)。如果你想继续，你可以在<a class="ae jp" href="https://pixling.world" rel="noopener ugc nofollow" target="_blank"> https://pixling.world </a>创建一个账户，它是免费的，完全在浏览器中运行，所以不需要安装任何东西。你也可以在这里看到这个<a class="ae jp" href="https://pixling.world/KXHEQJnqlGCFmMALGgHlb" rel="noopener ugc nofollow" target="_blank">的完成版本</a>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff jq"><img src="../Images/15c1a865645d9a6bb67c0c8ef96d3505.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*_TqgZyQqtLDNqLj9KgDZRQ.png"/></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">Pixlings performing XOR (True is ax, False is bucket, the small one is a newly born Pixling). You can have up to 1M of these guys running at 60 updates per second on a decent gaming machine, as the whole simulation runs on the GPU.</figcaption></figure><p id="c779" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们要做的事情的概要是，我们将在每一步给每个像素一个XOR“问题”,如果他们解决了问题，我们将通过让他们繁殖来奖励他们。如果他们回答错误，我们会杀了他们。这给了他们很大的动力，让他们很快变得非常擅长异或运算。</p><h2 id="9008" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">为我们的像素解决一个问题</h2><p id="0a2e" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我们将使用所谓的“环境”来创建像素的异或问题。对于世界上的每个单元，每个环境都有一个浮点值，所以如果我们创建两个浮点值，并将值随机化为0或1，我们就可以得到像素需要对其执行XOR运算的两个值。然后，他们必须使用我们将给予他们的两个能力中的一个来给出答案(稍后将详细介绍)，例如，如果像素化的环境值是0和1，如果他们不想被杀死，他们应该使用真实能力，因为0 xor 1是1。</p><p id="7e0a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你还没有创建世界，点击“创建世界”，然后点击顶部的绿色编辑按钮，创建一个名为“A”的环境(或者你想要的任何东西，只要记住它就行)。在eachStep部分，我们将首先添加一个带有If开关的“SetValue ”,它根据随机数的结果将值设置为0或1。这将创建一个环境，其中每个单元在每个步骤中随机为1或0。您可以将“displayMaxValue”设置为1，以便更容易看到值，或者更改“visibility”以完全隐藏环境渲染，因为过一会儿闪烁的颜色会有点烦人。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lc"><img src="../Images/9fd3b75b0e9a9b004ad2c9f848632060.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*RAxFFpIVgbA2l6L2RsOgww.png"/></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">This is the configuration we’re going for. You can check that it’s working by hitting run in the panel to the right.</figcaption></figure><p id="4bfa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">复制这个环境，这样网络就有两个输入。你可以通过右键点击左侧边栏中其名称旁边的小方块，选择“复制”(惊喜惊喜)来复制。点击更新保存这些更改。</p><h2 id="81ea" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">解决问题的工具</h2><p id="4672" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">接下来，我们将为像素创造两种能力，名为“真”和“假”。我们希望他们根据当前细胞的输入选择一个或另一个，如果他们选择正确，我们会奖励他们。进入技能编辑器，添加一个新技能。在Actions部分，我们需要一个“If else”语句来判断他们是否猜对了，所以对于“真正的”能力，您需要如下所示的内容:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="fe ff ld"><img src="../Images/13c93fef79fdb783755a4832c9618508.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hfSADQtt-iFRZZpHDmgXMg.png"/></div></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">If the Pixlings use this ability in the correct situation (when they’re on a cell where A != B) they’ll be rewarded by getting to Reproduce. If they use the ability in the wrong situation they die though.</figcaption></figure><p id="1565" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">复制能力来创造“假”能力，除了比较应该是==而不是！=.</p><p id="e866" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">快好了！接下来，我们只需要创建一个新的像素，我们可以使用克隆到世界上。转到“小精灵动物园”标签，添加一个新的小精灵。将它的能力设置为你刚才创造的两个能力。我们也希望我们的世界比默认的要大一点，所以在高级选项卡中至少将它更改为300x300。点击更新，将您的更改写入您的世界。</p><h2 id="8df0" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">让我们运行它！</h2><p id="0460" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">太好了，你现在可以开始模拟了！如果它还没有运行，点击顶部的播放按钮，设置速度至少超。然后点击“Pixling zoo”面板中的“Spawn Pixlings”按钮(图标是一个小Pixling baby)(这个与编辑世界对话框中的不同)。点击世界来产生一些小精灵。你可以改变底部的“半径”设置来同时繁殖很多。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff li"><img src="../Images/79747be8aba304724644f24a7c6ef2a7.png" data-original-src="https://miro.medium.com/v2/resize:fit:592/format:webp/1*ZNTIQkKwQEI1NuNjY8148g.png"/></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">Use this button to spawn new Pixlings.</figcaption></figure><p id="9674" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最初它们的体重完全随机，所以它们很可能会很快死去。如果你生了一堆，你应该会有一些表现不错的，很快你就会有一个充满像素的世界，就像这样:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="fe ff lj"><img src="../Images/4028229e5d3372fab40396f6ddeeeafe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GHPEoVigtAqQ-YOeX-mDVg.png"/></div></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">Pixlings are colored to make it easier to see which “species” they belong to. Each time they reproduce their color is slightly changed, so you can easily see which ones are closely related and not. Video of this here: <a class="ae jp" href="https://youtu.be/-7U5f7XrzuE" rel="noopener ugc nofollow" target="_blank">https://youtu.be/-7U5f7XrzuE</a></figcaption></figure><p id="f895" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是没有填满。为什么？事实证明，我们的世界有一个非常基本的问题。默认的神经网络只有一层，我们需要至少两层来执行XOR。再次点击“编辑世界”按钮，浏览到“像素动物园”标签，在这里你可以将大脑图层设置为2。再运行一段时间，您应该会得到类似这样的结果:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="le lf di lg bf lh"><div class="fe ff lk"><img src="../Images/063bb5ab63460f1ea69cd7d2b048d431.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lyruaykgFEaeI24qRqf4GQ.png"/></div></div><figcaption class="jy jz fg fe ff ka kb bd b be z ek">Much better. Video here: <a class="ae jp" href="https://youtu.be/sbf-Mnk1njo" rel="noopener ugc nofollow" target="_blank">https://youtu.be/sbf-Mnk1njo</a></figcaption></figure><p id="ccf4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">即世界上几乎没有剩余空间。这意味着像素在执行异或运算方面非常出色！(记住，如果他们错了一次，就会被处以死刑，所以他们有很多动力去做好这件事)。就是这样，如果你已经跟着做了，你现在应该有你自己的XORing Pixlings种类了！</p><h2 id="29e6" class="kc kd hu bd ke kf kg kh ki kj kk kl km jc kn ko kp jg kq kr ks jk kt ku kv kw dt translated">最后一点</h2><p id="b0b1" class="pw-post-body-paragraph ir is hu it b iu kx iw ix iy ky ja jb jc kz je jf jg la ji jj jk lb jm jn jo hn dt translated">我在构建时遇到的一件奇怪的事情是，较小的网络似乎表现更差(即需要更长的时间来发展)。我猜这是因为一个更大的网络有更多的方法来解决这个问题，而一个小的网络只有少量的“解决方案”,所以需要更长的时间来找到这些。</p><p id="cb37" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，这只是一个小的，相当技术性的，演示你可以在Pixling世界中构建什么。但是你可以做更多的事情。你可以创造任何东西，从有植物、食草动物和食肉动物的生态系统到复杂的天气动力学，从T2到T4，只是简单美丽的模拟。看你的了！要了解更多，你可以<a class="ae jp" href="https://hackernoon.com/how-to-run-1m-neural-network-agents-at-60-steps-per-second-in-a-browser-183c6213156b" rel="noopener ugc nofollow" target="_blank">阅读我是如何实现它的</a>，或者查看<a class="ae jp" href="http://wiki.pixling.world" rel="noopener ugc nofollow" target="_blank"> wiki </a>。</p><p id="cf30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">希望你喜欢！</p><p id="ab4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">弗雷德里克</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="ll lm l"/></div></figure></div></div>    
</body>
</html>