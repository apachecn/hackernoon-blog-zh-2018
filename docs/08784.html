<html>
<head>
<title>UTXO (Unspent Transaction Output) and Account Model Comparison v. 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">UTXO(未用交易输出)和账户模型比较v. 2</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/utxo-and-account-model-comparison-v-2-cdf9669c6c0d?source=collection_archive---------10-----------------------#2018-10-23">https://medium.com/hackernoon/utxo-and-account-model-comparison-v-2-cdf9669c6c0d?source=collection_archive---------10-----------------------#2018-10-23</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/c88e71bed1806a239d9dad6bb7e531d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:924/format:webp/1*JR6uyEFLTPKxO5AFi_U2-A.jpeg"/></div></figure><p id="1cbd" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">任何金融体系的基础都是资产管理方法。如果没有对可用余额的清晰理解，就不可能使用资产。如果平台不允许跟踪用户余额，传统会计中应用的复式记账法或分散式系统会计中青睐的三式记账法将不适用于区块链平台。</p><p id="13cb" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">目前，两种流行的平衡模型是:未用交易输出(UTXO)和帐户模型。第一个模型是在用户之间移动的资产的有向图，第二个模型是具有当前网络状态的数据库。</p><h1 id="2efd" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">UTXO与客户模型</h1><p id="3933" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated">第一个模型的主要优势是每个硬币的唯一性，而第二个模型提供了更简单的智能合约实现。由于这两个方面对现代系统都很重要，因此选择一种模式而不是另一种模式是不合理的。应用于流行产品的解决方案证实了这一点。标签。1展示了最流行的区块链所使用的模型。</p><h2 id="fbc1" class="kz jx hu bd jy la lb lc kc ld le lf kg jj lg lh kk jn li lj ko jr lk ll ks lm dt translated">热门区块链设计对比</h2><pre class="ln lo lp lq fq lr ls lt lu aw lv dt"><span id="6d18" class="kz jx hu ls b fv lw lx l ly lz">+----------+---------------+-----------+-----------------+<br/>|          | Balance Model | Consensus | Smart Contracts |<br/>+----------+---------------+-----------+-----------------+<br/>| Bitcoin  | UTXO          | PoW       | -               |<br/>| Ethereum | Account       | PoW/PoS   | +               |<br/>| EOS      | Account       | DPoS      | +               |<br/>| Tron     | UTXO+Account  | DPoS      | +               |<br/>| Qtum     | UTXO+AAL      | PoS       | +               |<br/>| ICON     | Account+?     | LFT (BFT) | +               |<br/>+----------+---------------+-----------+-----------------+</span></pre><p id="b2c3" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">标签。1.热门区块链设计对比</p><p id="0c6e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">需要注意的是，几乎所有的新系统都有混合平衡模型，而以太坊和EOS使用的是纯账户模型。</p><h2 id="858b" class="kz jx hu bd jy la lb lc kc ld le lf kg jj lg lh kk jn li lj ko jr lk ll ks lm dt translated">UTXO和帐户模型的优缺点</h2><p id="83a9" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated"><strong class="ja hv"> UTXO型号</strong></p><ul class=""><li id="e667" class="ma mb hu ja b jb jc jf jg jj mc jn md jr me jv mf mg mh mi dt translated">新地址的私密性更高，硬币没有主人</li><li id="fffb" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">通过分片更容易扩展</li><li id="85fc" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">很难使用智能合同状态</li><li id="966a" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">允许使用多线程进行计算</li><li id="9803" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">资产流动完全透明</li></ul><p id="b1ae" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">账户模型</strong></p><ul class=""><li id="2778" class="ma mb hu ja b jb jc jf jg jj mc jn md jr me jv mf mg mh mi dt translated">需要存储所有账户状态</li><li id="0a6c" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">更高效的存储使用</li><li id="0e10" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">直观清晰的方法</li><li id="f93f" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">轻型客户端可以更容易地分析状态</li><li id="2de8" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">高度的可替代性；更难追踪资产</li><li id="95b3" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">为了防止状态机存储随机数，删除未使用的地址</li><li id="957c" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">在公共区块链中不方便跟踪内部交易</li><li id="b9e9" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mf mg mh mi dt translated">每个事务都必须有一个随机数</li></ul><p id="da2f" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv"> UTXOs pros </strong></p><ol class=""><li id="4c0d" class="ma mb hu ja b jb jc jf jg jj mc jn md jr me jv mo mg mh mi dt translated"><strong class="ja hv">更高的隐私度</strong>。如果用户为他们收到的每笔交易使用一个新地址，通常很难将帐户相互联系起来。这极大地影响了货币，而不是任意的DApps，因为后者经常需要跟踪用户复杂的捆绑状态。因此，用户状态划分方案不像货币那样简单。</li><li id="509a" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mo mg mh mi dt translated"><strong class="ja hv">可行的可扩展性范例</strong>。理论上，UTXOs与某些类型的可伸缩性范例更兼容，因为可能只有一些硬币的所有者可以维护所有权的Merkle证明。这意味着，即使所有人(包括所有者)都决定丢弃这些数据，那么只有所有者自己受到伤害。在帐户范例中，丢失Merkle树中与帐户对应的部分将使得无法处理引用该帐户的消息，甚至包括传入的交易。然而，还有其他不依赖于UTXO的可伸缩性范例。</li></ol><p id="474e" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">账户范式利弊</strong></p><ol class=""><li id="f7dc" class="ma mb hu ja b jb jc jf jg jj mc jn md jr me jv mo mg mh mi dt translated"><strong class="ja hv">大型仓储经济</strong>。例如，如果一个帐户有5个UTXO，那么从UTXO模型切换到帐户模型会将空间需求从(20 + 32 + 8) * 5 = 300字节(20个用于地址，32个用于txid，8个用于值)减少到20 + 8 + 2 = 30字节(20个用于地址，8个用于值，2个用于nonce(见下文))。实际上，存款远没有这么多，因为账户需要存储在Patricia树中(见下文)，但它们仍然非常可观。此外，交易可以更小(例如以太坊中的100个字节，而比特币中的200–250个字节)，因为每个交易只需要进行一次引用、签名并产生一个输出。</li><li id="e0b7" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mo mg mh mi dt translated"><strong class="ja hv">更强的替代性</strong>。由于没有区块链级别的特定硬币来源的概念，建立一个红名单/黑名单方案并根据硬币的来源区分硬币在技术上和法律上都变得不太实际。</li><li id="0500" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mo mg mh mi dt translated"><strong class="ja hv">简约</strong>。帐户模型更容易编码和理解，尤其是在使用更复杂的脚本的情况下。尽管可以通过以下两个概念将任意分散的应用程序硬塞进UTXO范式。首先是为脚本提供一种能力，限制一个给定的UTXO可以转移到哪种UTXO。第二，还要求开销包括脚本评估的应用程序状态根更改的Merkle树证明。然而，与简单地使用帐户相比，这使得这种范式更加复杂和丑陋。</li><li id="39c1" class="ma mb hu ja b jb mj jf mk jj ml jn mm jr mn jv mo mg mh mi dt translated"><strong class="ja hv">恒光客户端参考</strong>。通过以特定方向遍历状态树，轻客户端可以在任何时候访问与帐户相关的所有数据。在UTXO范例中，引用随着每个事务而改变，这对于试图使用上述state-root-in-UTXO传播机制的长期运行的DApps来说是一个特别麻烦的问题。</li></ol><p id="4d07" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated"><strong class="ja hv">账户模式弊端</strong></p><p id="b3e2" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">account范式的一个弱点是，为了防止重放攻击，每个交易都必须有一个“nonce”。该帐户跟踪所使用的随机数，并且只接受其随机数在所使用的最后一个随机数之后的交易。这意味着即使不再使用的帐户也不能从帐户状态中删除。这个问题的一个简单解决方案是要求事务包含一个块号，使它们在一段时间后不可重放，并定期重置nonces。矿工或其他用户将需要“ping”未使用的账户，以便将它们从状态中移除，因为作为区块链协议本身的一部分，否则进行全面清理的成本太高。</p><h1 id="6e4d" class="jw jx hu bd jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt dt translated">结论</h1><p id="1d68" class="pw-post-body-paragraph iy iz hu ja b jb ku jd je jf kv jh ji jj kw jl jm jn kx jp jq jr ky jt ju jv hn dt translated">据观察，这两个模型大致相同。每一种都有其明显的利弊。社区意见再次证明了这一点，甚至显示出对这两种类型的偏好。然而，现在流行的趋势是使用混合范例。考虑将UTXO用于余额、将状态用于契约的混合模型是合理的。我们还建议从改进认证的动态字典中学习AVL+树，在使用优化的证明模型方面应用于加密货币[<a class="ae mp" href="https://eprint.iacr.org/2016/994.pdf" rel="noopener ugc nofollow" target="_blank">https://eprint.iacr.org/2016/994.pdf</a>。</p><figure class="ln lo lp lq fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mq"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure><p id="ce90" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">HashEx网站:【https://hashex.org T2】</p><p id="d2ad" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">通过LinkedIn与我联系【https://www.linkedin.com/in/dmitrymishunin/ T4】</p><figure class="ln lo lp lq fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="mr ms di mt bf mu"><div class="fe ff mq"><img src="../Images/731acf26f5d44fdc58d99a6388fe935d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6gfnVvkMRFtjVsWF7vkClA.png"/></div></div></figure></div></div>    
</body>
</html>