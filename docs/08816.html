<html>
<head>
<title>Animating widgets in Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">åœ¨Flutterä¸­åˆ¶ä½œéƒ¨ä»¶åŠ¨ç”»</h1>
<blockquote>åŸæ–‡ï¼š<a href="https://medium.com/hackernoon/animating-widgets-in-flutter-413882881e98?source=collection_archive---------8-----------------------#2018-10-24">https://medium.com/hackernoon/animating-widgets-in-flutter-413882881e98?source=collection_archive---------8-----------------------#2018-10-24</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="15a7" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Flutteræ˜¯è°·æ­Œçš„ç§»åŠ¨åº”ç”¨SDKï¼Œç”¨äºåœ¨åˆ›çºªå½•çš„æ—¶é—´å†…åœ¨iOSå’ŒAndroidä¸Šåˆ¶ä½œé«˜è´¨é‡çš„åŸç”Ÿç•Œé¢ã€‚Flutterçš„åŠ¨ç”»æ”¯æŒå¯ä»¥è½»æ¾å®ç°å¤šç§åŠ¨ç”»ç±»å‹ã€‚è¿™ç¯‡æ–‡ç« æè¿°äº†å¦‚ä½•åœ¨Flutterä¸­åˆ¶ä½œçª—å£å°éƒ¨ä»¶çš„åŠ¨ç”»ã€‚</p><h2 id="fd0e" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">åŠ¨ç”»ç±»å‹</h2><ul class=""><li id="7491" class="kk kl hu it b iu km iy kn jc ko jg kp jk kq jo kr ks kt ku dt translated"><strong class="it hv">è¡¥é—´åŠ¨ç”»</strong></li></ul><p id="0693" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨è¡¥é—´åŠ¨ç”»ä¸­ï¼Œæˆ‘ä»¬å¿…é¡»å®šä¹‰åŠ¨ç”»çš„å¼€å§‹ç‚¹å’Œç»“æŸç‚¹ã€æ—¶é—´è½´ä»¥åŠå®šä¹‰è¿‡æ¸¡æ—¶é—´å’Œé€Ÿåº¦çš„æ›²çº¿ã€‚æ¡†æ¶è®¡ç®—ä»èµ·ç‚¹åˆ°ç»ˆç‚¹çš„ä¸­é—´å€¼ã€‚</p><ul class=""><li id="d803" class="kk kl hu it b iu iv iy iz jc kv jg kw jk kx jo kr ks kt ku dt translated"><strong class="it hv">åŸºäºç‰©ç†çš„åŠ¨ç”»</strong></li></ul><p id="ca30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨åŸºäºç‰©ç†çš„åŠ¨ç”»ä¸­ï¼Œè¿åŠ¨ç±»ä¼¼äºçœŸå®ä¸–ç•Œçš„è¡Œä¸ºã€‚å½“æˆ‘ä»¬ä»åœ°é¢ä»¥ä¸€ä¸ªè§’åº¦æŠ•æ·ä¸€ä¸ªçƒæ—¶ï¼Œå®ƒå°†è·ŸéšæŠ›å°„ä½“è¿åŠ¨ã€‚æ‰€æœ‰çš„è®¡ç®—ï¼Œå¦‚é£è¡Œæ—¶é—´å’Œæ—…è¡Œè·ç¦»ï¼Œéƒ½å°†æ ¹æ®ç‰©ç†å®šå¾‹æ¥è®¡ç®—ã€‚</p><h2 id="300e" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">ä¸ºåŠ¨ç”»å‡†å¤‡è¯¾ç¨‹</h2><p id="0505" class="pw-post-body-paragraph ir is hu it b iu km iw ix iy kn ja jb jc ky je jf jg kz ji jj jk la jm jn jo hn dt translated">æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶ï¼Œå¹¶ä»¥ä¸€å®šçš„æ—¶é—´é—´éš”é‡å¤æ›´æ–°å…¶çŠ¶æ€ï¼Œä»¥ä½¿å…¶å…·æœ‰åŠ¨ç”»æ•ˆæœã€‚</p><p id="a48c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ä¸ºäº†åˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶ï¼Œæˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç±»æ¥æ‰©å±•<code class="eh lb lc ld le b">StatefulWidget</code>ç±»å¹¶è¦†ç›–å®ƒçš„<code class="eh lb lc ld le b">createState()</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ª<code class="eh lb lc ld le b">State</code>å®ä¾‹ã€‚</p><figure class="lg lh li lj fq lk fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lf"><img src="../Images/ea987978653d691e770c6d687abc69f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*BtUJF9aYAmth2zqAlVCfWg.png"/></div></div></figure><p id="d816" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ä¸æˆ‘ä»¬çš„æœ‰çŠ¶æ€å°éƒ¨ä»¶ç›¸å…³è”çš„çŠ¶æ€å¯¹è±¡å¿…é¡»æ‰©å±•<code class="eh lb lc ld le b">State</code>ç±»ï¼Œå¹¶ä¸”è¿˜ä½¿ç”¨ä¸€ä¸ªåä¸º<code class="eh lb lc ld le b">SingleTickerProviderStateMixin</code>çš„mixinã€‚æˆ‘ä»¬è¦†ç›–äº†buildæ–¹æ³•ï¼Œåœ¨è¯¥æ–¹æ³•ä¸­æˆ‘ä»¬åˆ›å»ºäº†å°†è¦åˆ¶ä½œåŠ¨ç”»çš„å°éƒ¨ä»¶å¯¹è±¡ã€‚</p><figure class="lg lh li lj fq lk fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff lr"><img src="../Images/d4625de2966af99278a3d7d7e8fb27ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Uq6y14ThDO1gZhcfE94VFg.png"/></div></div></figure><h2 id="815e" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">åˆ›å»ºè¡¥é—´åŠ¨ç”»</h2><p id="5ed9" class="pw-post-body-paragraph ir is hu it b iu km iw ix iy kn ja jb jc ky je jf jg kz ji jj jk la jm jn jo hn dt translated">åœ¨è¡¥é—´åŠ¨ç”»ä¸­ï¼Œæˆ‘ä»¬éœ€è¦æä¾›ä¸¤ä¸ªä¸åŒçš„å€¼:å¼€å§‹å€¼å’Œç»“æŸå€¼ã€‚ç„¶åï¼ŒFlutterå°†è‡ªåŠ¨ç”Ÿæˆä¸€ç»„ä¸­é—´å€¼ã€‚æˆ‘ä»¬å°†è¿™äº›ä¸­é—´å€¼åº”ç”¨äºå°éƒ¨ä»¶çš„ä»»ä½•å±æ€§ï¼Œä»¥ä½¿å…¶å…·æœ‰åŠ¨ç”»æ•ˆæœã€‚</p><p id="d94a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¥é—´åŠ¨ç”»ï¼Œå°†ä¸€ä¸ªå°éƒ¨ä»¶ä»å±å¹•çš„å·¦è¾¹ç¼˜ç§»åŠ¨åˆ°å±å¹•çš„å³è¾¹ç¼˜ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å¿…é¡»æ¿€æ´»å°éƒ¨ä»¶çš„<code class="eh lb lc ld le b">left</code>å±æ€§ã€‚æ‰€æœ‰ä¸­é—´å€¼éƒ½åˆ†é…ç»™å°éƒ¨ä»¶çš„<code class="eh lb lc ld le b">left</code>å±æ€§ã€‚</p><p id="4c58" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ä¸ºäº†åˆ›å»ºå’Œæ§åˆ¶åŠ¨ç”»ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª<em class="ls">åŠ¨ç”»</em>å¯¹è±¡å’Œä¸€ä¸ª<em class="ls">åŠ¨ç”»æ§åˆ¶å™¨</em>å¯¹è±¡ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="4ade" class="jp jq hu le b fv lx ly l lz ma">Animation&lt;double&gt; <strong class="le hv">animation</strong>;<br/>AnimationController <strong class="le hv">controller</strong>;</span></pre><p id="69a5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨æˆ‘ä»¬ç±»çš„<em class="ls"> initState </em>æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†<em class="ls">åŠ¨ç”»æ§åˆ¶å™¨</em>ã€‚å®ƒæœŸæœ›ä¸€ä¸ª<code class="eh lb lc ld le b">TickerProvider</code>å¯¹è±¡ä½œä¸ºå®ƒçš„è¾“å…¥ä¹‹ä¸€ã€‚ç”±äºæˆ‘ä»¬çš„ç±»æ­£åœ¨ä½¿ç”¨<code class="eh lb lc ld le b">SingleTickerProviderStateMixi </code> mixinï¼Œæˆ‘ä»¬å¯ä»¥å°†<em class="ls">è¿™ä¸ª</em>ä¼ é€’ç»™å®ƒã€‚å¦ä¸€ä¸ªå‚æ•°æ˜¯<em class="ls">æŒç»­æ—¶é—´</em>å±æ€§æ¥æŒ‡å®šåŠ¨ç”»çš„æŒç»­æ—¶é—´ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="ecd6" class="jp jq hu le b fv lx ly l lz ma"><strong class="le hv">controller </strong>= <strong class="le hv">new </strong>AnimationController(vsync: <strong class="le hv">this</strong>,<br/>    duration: <strong class="le hv">new </strong>Duration(seconds: 5));</span></pre><p id="83b9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åˆ›å»ºä¸€ä¸ª<code class="eh lb lc ld le b">Tween</code>å¯¹è±¡ï¼ŒæŒ‡å®šåŠ¨ç”»çš„å¼€å§‹å’Œç»“æŸå€¼ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="c475" class="jp jq hu le b fv lx ly l lz ma">Tween tween = <strong class="le hv">new </strong>Tween&lt;double&gt;(begin: 0.0, end: 400.0);</span></pre><p id="c28c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ä½¿ç”¨è¡¥é—´å¯¹è±¡åˆ›å»ºåŠ¨ç”»å¯¹è±¡ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="d63f" class="jp jq hu le b fv lx ly l lz ma"><strong class="le hv">animation </strong>= tween.animate(<strong class="le hv">controller</strong>);</span></pre><p id="699e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">animationå¯¹è±¡ä¸ºè·‘é©¬ç¯çš„æ¯ä¸€æ¬¡è·³åŠ¨ç”Ÿæˆä¸€ä¸ªåŠ¨ç”»äº‹ä»¶ã€‚ä¸ºäº†å¤„ç†äº‹ä»¶ï¼Œæˆ‘ä»¬ä½¿ç”¨addListener()æ–¹æ³•ã€‚åœ¨äº‹ä»¶å¤„ç†ç¨‹åºä¸­è°ƒç”¨setState()æ–¹æ³•æ¥æ›´æ–°å°éƒ¨ä»¶çš„çŠ¶æ€å¹¶é‡æ–°ç»˜åˆ¶å®ƒã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="3d75" class="jp jq hu le b fv lx ly l lz ma"><strong class="le hv">animation</strong>.addListener(() {<br/>  setState(() {<br/>  });<br/>});</span></pre><p id="e9f3" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">ä¸ºäº†å¯åŠ¨åŠ¨ç”»ï¼Œæˆ‘ä»¬è°ƒç”¨åŠ¨ç”»æ§åˆ¶å™¨çš„forward()æ–¹æ³•ã€‚å¦‚æœæˆ‘ä»¬æƒ³è®©åŠ¨ç”»é‡å¤æ’­æ”¾ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨repeat()æ–¹æ³•ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="22de" class="jp jq hu le b fv lx ly l lz ma">controller.repeat();</span></pre><p id="2ea8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åŠ¨ç”»ç°åœ¨å‡†å¤‡å¥½äº†ã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒåº”ç”¨äºä»»ä½•å°éƒ¨ä»¶ã€‚</p><figure class="lg lh li lj fq lk fe ff paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="fe ff mb"><img src="../Images/805bc1972e621b9b41837e8ebc04d596.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mZQMzcWuvOnx2u9DjPEbmQ.png"/></div></div></figure><h2 id="1762" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">å°†åŠ¨ç”»åº”ç”¨åˆ°å°éƒ¨ä»¶</h2><p id="8036" class="pw-post-body-paragraph ir is hu it b iu km iw ix iy kn ja jb jc ky je jf jg kz ji jj jk la jm jn jo hn dt translated">ç°åœ¨æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå°éƒ¨ä»¶ï¼Œå¹¶å°†åŠ¨ç”»å€¼åº”ç”¨äºå®ƒä¸€ä¸ªå±æ€§ã€‚</p><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="49c8" class="jp jq hu le b fv lx ly l lz ma">child: <strong class="le hv">new </strong>Stack(<br/>    children: &lt;Widget&gt;[<br/>      <strong class="le hv">new </strong>Positioned(<br/>          child: FlutterLogo(),<br/>          height: 100.0,<br/>          width: 100.0,<br/>          left: <strong class="le hv">animation</strong>.<strong class="le hv">value</strong>,<br/>          top: 100.0  <br/>      )<br/>    ])</span></pre><p id="2868" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å·²ç»å°†åŠ¨ç”»å€¼åˆ†é…ç»™å°éƒ¨ä»¶çš„å·¦ä¾§å±æ€§ã€‚</p><h2 id="a9b6" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">åŠ¨ç”»æ•ˆæœ</h2><p id="459f" class="pw-post-body-paragraph ir is hu it b iu km iw ix iy kn ja jb jc ky je jf jg kz ji jj jk la jm jn jo hn dt translated">å°†æ­¤widgetæ·»åŠ åˆ°åº”ç”¨ç¨‹åºçš„ä»»ä½•å±å¹•ä¸­ã€‚è¿™æ˜¯å®ƒçš„æ ·å­:</p><figure class="lg lh li lj fq lk fe ff paragraph-image"><div class="fe ff mc"><img src="../Images/0a3632def2be41acf8c6c25c4cf9c392.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/1*JJaNs74lGf8pDEZNOjJ8cQ.gif"/></div><figcaption class="md me fg fe ff mf mg bd b be z ek">Flutter Animation</figcaption></figure><h2 id="b678" class="jp jq hu bd jr js jt ju jv jw jx jy jz jc ka kb kc jg kd ke kf jk kg kh ki kj dt translated">å®Œå…¨ç </h2><pre class="lg lh li lj fq lt le lu lv aw lw dt"><span id="1cf1" class="jp jq hu le b fv lx ly l lz ma"><strong class="le hv">import 'package:flutter/animation.dart'</strong>;<br/><strong class="le hv">import 'package:flutter/material.dart'</strong>;</span><span id="46b5" class="jp jq hu le b fv mh ly l lz ma"><strong class="le hv">class </strong>AnimationApp <strong class="le hv">extends </strong>StatefulWidget {<br/>  @override<br/>  State&lt;StatefulWidget&gt; createState() {<br/>    <strong class="le hv">return new </strong>AnimationState();<br/>  }<br/>}</span><span id="1980" class="jp jq hu le b fv mh ly l lz ma"><strong class="le hv">class </strong>AnimationState <strong class="le hv">extends </strong>State&lt;AnimationApp&gt; <strong class="le hv">with </strong>SingleTickerProviderStateMixin {</span><span id="b279" class="jp jq hu le b fv mh ly l lz ma">Animation&lt;double&gt; <strong class="le hv">animation</strong>;<br/>  AnimationController <strong class="le hv">controller</strong>;</span><span id="133b" class="jp jq hu le b fv mh ly l lz ma">@override<br/>  Widget build(BuildContext context) {<br/>    <strong class="le hv">return new </strong>Container(<br/>        color: Colors.<em class="ls">white</em>,<br/>        child: <strong class="le hv">new </strong>Stack(<br/>            children: &lt;Widget&gt;[<br/>              <strong class="le hv">new </strong>Positioned(<br/>                  child: FlutterLogo(),<br/>                  height: 100.0,<br/>                  width: 100.0,<br/>                  left: <strong class="le hv">animation</strong>.<strong class="le hv">value</strong>,<br/>                  top: 100.0<br/>              )<br/>            ])<br/>    );<br/>  }</span><span id="4660" class="jp jq hu le b fv mh ly l lz ma">@override<br/>  <strong class="le hv">void </strong>initState() {<br/>    <strong class="le hv">super</strong>.initState();<br/>    <strong class="le hv">controller </strong>= <strong class="le hv">new </strong>AnimationController(vsync: <strong class="le hv">this</strong>,<br/>        duration: <strong class="le hv">new </strong>Duration(seconds: 4));</span><span id="c802" class="jp jq hu le b fv mh ly l lz ma">Tween tween = <strong class="le hv">new </strong>Tween&lt;double&gt;(begin: 0.0, end: 400.0);<br/>    <strong class="le hv">animation </strong>= tween.animate(<strong class="le hv">controller</strong>);</span><span id="9c3c" class="jp jq hu le b fv mh ly l lz ma"><strong class="le hv">animation</strong>.addListener(() {<br/>      setState(() {<br/>      });<br/>    });</span><span id="0bd7" class="jp jq hu le b fv mh ly l lz ma"><strong class="le hv">controller</strong>.repeat();</span><span id="d7c0" class="jp jq hu le b fv mh ly l lz ma">}<br/>}</span></pre><p id="61ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="ls">æ„Ÿè°¢é˜…è¯»ã€‚å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·éšæ„ç‚¹å‡»é‚£ä¸ªæŒ‰é’®ğŸ‘å¸®åŠ©å…¶ä»–äººæ‰¾åˆ°å®ƒã€‚</em></p><p id="275f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="ls">æœ¬æ–‡æ˜¯ç§»åŠ¨æŠ€æœ¯ç›¸å…³ç³»åˆ—æ–‡ç« çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœæ‚¨æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªç§»åŠ¨åº”ç”¨ç¨‹åºå¼€å‘å›¢é˜Ÿï¼Œè¯·è”ç³»æˆ‘ä»¬:</em><a class="ae mi" href="mailto:info@47billion.com" rel="noopener ugc nofollow" target="_blank"><em class="ls">ã€info@47billion.com</em></a><em class="ls">ã€‚</em></p></div></div>    
</body>
</html>