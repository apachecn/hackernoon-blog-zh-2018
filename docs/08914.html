<html>
<head>
<title>5 cool things you can do with the Sanity CLI</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Sanity CLI可以做的5件很酷的事情</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/5-cool-things-you-can-do-with-the-sanity-cli-39030e91d040?source=collection_archive---------10-----------------------#2018-10-28">https://medium.com/hackernoon/5-cool-things-you-can-do-with-the-sanity-cli-39030e91d040?source=collection_archive---------10-----------------------#2018-10-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="793d" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">我们💖克丽丝。所以我们不断赋予自己新的能力。了解你可以用你的理智项目在终端中做的5件很酷的事情。最后一个是御心术，我们保证！😇</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/35fa50468f66f38d1cf5adb4d3ccf1b3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t40_MeHpD55L892RmAGa_g.jpeg"/></div></div></figure><p id="37e9" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">在<a class="ae kr" href="https://www.sanity.io" rel="noopener ugc nofollow" target="_blank">理智总部</a>，我们在航站楼里生活和呼吸。老实说，我们一直在开发Sanity CLI <a class="ae kr" href="https://hackernoon.com/tagged/tool" rel="noopener ugc nofollow" target="_blank">工具</a>,因为我们每天都用它来与我们的结构化内容进行交互。我想借此机会分享一些你可以用它做的很酷的事情。</p><p id="8f42" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><strong class="jx hv">在终端中运行</strong> <code class="eh ks kt ku kv b"><strong class="jx hv">npm install --global @sanity/cli</strong></code> <strong class="jx hv">安装CLI，运行</strong> <code class="eh ks kt ku kv b"><strong class="jx hv">sanity init</strong></code> <strong class="jx hv">开始项目。</strong></p><h1 id="eac3" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">1.查询您的数据</h1><pre class="jk jl jm jn fq lo kv lp lq aw lr dt"><span id="620b" class="ls kx hu kv b fv lt lu l lv lw">sanity documents query "*[_type == 'post']{_id, title}"</span></pre><p id="cf62" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">您可以使用<a class="ae kr" href="https://www.sanity.io/docs/documents" rel="noopener ugc nofollow" target="_blank"> sanity documents命令</a>做一些事情，但是我们使用最多的一个命令是用于查询数据集的<a class="ae kr" href="https://www.sanity.io/docs/data-store/how-queries-work" rel="noopener ugc nofollow" target="_blank">命令。在你的项目文件夹中运行这个会让你的数据在终端中打印出来。如果你加上<code class="eh ks kt ku kv b">--pretty</code>，你也会得到一些漂亮的高光。这对于测试查询和探索您的内容非常方便，但是如果您仔细想想，这也是在您的内容上使用这些UNIX超级能力的一种方式。例如，您可以使用它来</a><a class="ae kr" href="https://www.sanity.io/blog/exporting-your-structured-content-as-csv-using-jq-in-the-command-line" rel="noopener ugc nofollow" target="_blank">将您的数据导出到csv文件</a>。我经常使用它，所以我在我的<a class="ae kr" rel="noopener" href="/@rajsek/zsh-bash-startup-files-loading-order-bashrc-zshrc-etc-e30045652f2e">外壳配置</a>中添加了<code class="eh ks kt ku kv b">alias sdq="sanity documents query"</code>。</p><h1 id="2a0c" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">2.以简洁的包形式导出数据集</h1><pre class="jk jl jm jn fq lo kv lp lq aw lr dt"><span id="9d22" class="ls kx hu kv b fv lt lu l lv lw">sanity dataset export &lt;datasetName&gt;</span></pre><p id="a0b6" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">结构化内容管理系统的全部意义在于，它应该能够很容易地将您的内容从中提取出来。通常这是通过查询API来获得您想要的内容，但是有时，您希望所有的内容一次打包好。该命令将您的所有文档导出到一个<code class="eh ks kt ku kv b">.ndjson</code>-文件中，并将您的资产导出到一个专用文件夹中。它下载一个gzip文件，您也可以使用<code class="eh ks kt ku kv b">sanity dataset import</code>将该文件导入到一个新的数据集。例如，您还可以解包文件，对所有数据运行查找并替换全部操作，然后再次将<code class="eh ks kt ku kv b">dataset.ndjson</code>文件导入数据集。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lx"><img src="../Images/98a45e09ae218cd9454d55060dc6cdf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*jlL9vzHY0WXUO8Ku"/></div></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">Getting <em class="mc">ALL THE DATA</em></figcaption></figure><h1 id="e84d" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">3.管理CORS设置</h1><pre class="jk jl jm jn fq lo kv lp lq aw lr dt"><span id="ab93" class="ls kx hu kv b fv lt lu l lv lw">sanity cors add <a class="ae kr" href="http://localhost:8000" rel="noopener ugc nofollow" target="_blank">http://localhost:8000</a></span></pre><p id="7499" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><a class="ae kr" href="https://www.sanity.io/docs/browser-security-and-cors" rel="noopener ugc nofollow" target="_blank"> CORS是个东西</a>。当你正在建立你的新前端时，很容易忘记它。那么有一个简单的方法从命令行添加一个新的CORS原点就很好了。你也可以把<code class="eh ks kt ku kv b">delete</code>和<code class="eh ks kt ku kv b">list</code>他们赶出去。</p><h1 id="29a3" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">4.获得项目的概述</h1><p id="b1c9" class="pw-post-body-paragraph jv jw hu jx b jy md iv ka kb me iy kd ke mf kg kh ki mg kk kl km mh ko kp kq hn dt translated">由于你可以拥有尽可能多的免费开发者计划，并且开始一个新的项目是非常容易的，所以用不了多久你的账户中就会有一些项目。然后，有一个简单的方法列出所有项目，并提供一些与您的帐户相关的关键信息，这很好。</p><h1 id="c635" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">5.在您最喜欢的编辑器中创建和编辑文档</h1><pre class="jk jl jm jn fq lo kv lp lq aw lr dt"><span id="26f3" class="ls kx hu kv b fv lt lu l lv lw">sanity documents create --id myDocId --watch --replace</span></pre><p id="c9fe" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">这个命令是我最喜欢的。它会创建一个新文档，在您终端中设置的编辑器中打开它(我的是<code class="eh ks kt ku kv b">export EDITOR='code -w'</code>)，并允许您在文档同步到数据存储时实时编辑该文档。如果您将一个现有的文档id放在<code class="eh ks kt ku kv b">myDocId</code>位置，您将获得该文档并能够编辑它。运行<code class="eh ks kt ku kv b">sanity documents create --help</code>来了解更多关于这个命令的功能。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mi mj l"/></div><figcaption class="ly lz fg fe ff ma mb bd b be z ek">It’s truly headless when you can edit content live from your favorite editor.</figcaption></figure><p id="f33b" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated">通过在您的终端中运行以下命令，开始使用<a class="ae kr" href="https://www.sanity.io" rel="noopener ugc nofollow" target="_blank"> Sanity </a>:</p><pre class="jk jl jm jn fq lo kv lp lq aw lr dt"><span id="b098" class="ls kx hu kv b fv lt lu l lv lw">npm install -g @sanity/cli &amp;&amp; sanity init</span></pre></div><div class="ab cl mk ml hc mm" role="separator"><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp mq"/><span class="mn bw bk mo mp"/></div><div class="hn ho hp hq hr"><p id="5657" class="pw-post-body-paragraph jv jw hu jx b jy jz iv ka kb kc iy kd ke kf kg kh ki kj kk kl km kn ko kp kq hn dt translated"><em class="mr">原载于</em><a class="ae kr" href="https://www.sanity.io/blog/5-cool-things-you-can-do-with-the-sanity-cli" rel="noopener ugc nofollow" target="_blank"><em class="mr">www . sanity . io</em></a><em class="mr">。</em></p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ms mj l"/></div></figure></div></div>    
</body>
</html>