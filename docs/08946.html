<html>
<head>
<title>Demystifying Registers</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">揭秘寄存器</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/demystifying-registers-23dea1e83702?source=collection_archive---------27-----------------------#2018-10-29">https://medium.com/hackernoon/demystifying-registers-23dea1e83702?source=collection_archive---------27-----------------------#2018-10-29</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div role="button" tabindex="0" class="hx hy di hz bf ia"><div class="fe ff hs"><img src="../Images/f402a941f19f9e0ff19c8ca82d4bd316.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*SNwKxwWktRvsFrqT.jpg"/></div></div></figure><div class=""/><p id="bd21" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们到引擎盖下，了解一下寄存器。</p><p id="aac1" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">寄存器是处理器用来更有效地处理数据的内部存储器存储位置。如果没有寄存器，处理器将被迫在任何时候与控制总线进行交互，以便从存储器中读取或写入数据。</p><p id="da24" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">寄存器类似于变量，除了在任何给定的架构上都有固定数量的寄存器。寄存器存储用于处理的数据元素，而不必深入研究和访问存储器。更具体地说，每个寄存器都是CPU中存储单个数据的特殊位置。通常，寄存器保存的指针引用内存中的其他位置，寄存器之间的值移动非常常见。32位IA-32架构中有10个不同的寄存器。这些寄存器分为三类。</p><ol class=""><li id="1b13" class="ka kb if je b jf jg jj jk jn kc jr kd jv ke jz kf kg kh ki dt translated">通用寄存器</li><li id="524e" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">控制寄存器-比较和数学计算</li><li id="cbd6" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz kf kg kh ki dt translated">段寄存器——存储不同段(代码、数据和堆栈)的起始地址</li></ol><p id="e44c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通用寄存器可以进一步细分为以下子组:</p><ul class=""><li id="f081" class="ka kb if je b jf jg jj jk jn kc jr kd jv ke jz ko kg kh ki dt translated">数据寄存器-算术、逻辑和其他操作</li><li id="2af2" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz ko kg kh ki dt translated">指针寄存器-指向堆栈和内存中的位置</li><li id="42b2" class="ka kb if je b jf kj jj kk jn kl jr km jv kn jz ko kg kh ki dt translated">变址寄存器-变址寻址</li></ul><p id="793c" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最常见的32位寄存器是EAX、EBX、ECX和EDX。</p><p id="2e4e" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">寄存器有效地利用了空间。事实上，32位寄存器的下半部分可以用作16位或8位寄存器。</p><p id="fcc7" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">例如，AX是主累加器寄存器。它通常用于输入输出和大多数算术指令中。例如，在乘法运算中，根据特定操作数的大小，一个操作数存储在EAX、AX或AL寄存器中。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff kp"><img src="../Images/9beda4c72bd6f52c88e8f1ee9d974104.png" data-original-src="https://miro.medium.com/v2/resize:fit:1124/format:webp/0*o2khTVzeC2Ql4epW.jpg"/></div></figure><p id="4ea8" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一个特别重要的通用寄存器是eax寄存器。Eax有两个常见的用途，存储函数的返回值和作为特定计算的特殊寄存器。Eax是一个易失性寄存器；也就是说，一旦函数返回，寄存器不能保证保留其值。这意味着在函数返回后，处理器可以使用这个寄存器空间来存储不同的数据。但是，在函数的作用域中，eax在函数返回之前被设置为函数的返回值。下面是一个设置为返回3的函数:</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="4744" class="kz la if kv b fv lb lc l ld le">return 3;  // Return the value 3</span></pre><p id="39dd" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">以下是汇编中的相同代码:</p><pre class="kq kr ks kt fq ku kv kw kx aw ky dt"><span id="309c" class="kz la if kv b fv lb lc l ld le">mov eax, 3 ; Set eax (the return value) to 3<br/>ret        ; Return</span></pre><p id="b769" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">另一个重要的通用语域是esp语域。esp寄存器存储一个指向堆栈顶部的指针。请注意，堆栈在虚拟内存中朝着堆的方向向下增长。</p><figure class="kq kr ks kt fq hw fe ff paragraph-image"><div class="fe ff lf"><img src="../Images/a7571c1b4c62f1c0ad5617ccded6f2e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/0*33ONZA1AH9t7Oyy9.png"/></div></figure><p id="c622" class="pw-post-body-paragraph jc jd if je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">希望你对收银机感觉更舒服。简单地说，它们只是CPU中为特定类型的数据保留的特殊位置。当函数求值并最终终止时，这些值是不断变化的。</p></div></div>    
</body>
</html>