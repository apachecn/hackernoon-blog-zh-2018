<html>
<head>
<title>How to use Firebase with Flutter</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何将Firebase与Flutter一起使用</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-use-firebase-with-flutter-2c9838d5f0d6?source=collection_archive---------7-----------------------#2018-10-31">https://medium.com/hackernoon/how-to-use-firebase-with-flutter-2c9838d5f0d6?source=collection_archive---------7-----------------------#2018-10-31</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/3234d4470f61725c957bd2335e8ba40d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QybiijG3EKfiINDa-kvolA.png"/></div></div></figure><p id="1b3a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本文展示了用Firebase在Flutter中构建一个框架应用程序所需的所有步骤。</p><p id="fca9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">谷歌的Flutter SDK可用于开发应用程序，为Android和iOS平台提供原生UI体验。要用Flutter写app，就得用Dart编程语言。</p><p id="ffa4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Firebase实时数据库是一个云托管的数据库，数据存储为JSON。它为后端数据库提供了直接从客户端构建丰富的协作应用程序的安全访问。数据保存在本地设备上，而离线和实时事件继续触发，为最终用户提供响应体验。当设备重新连接到互联网时，实时后端数据库会自动与客户端离线时发生的本地数据更改同步，同时自动合并任何冲突。</p><h2 id="3cdd" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">创建Firebase项目</h2><ol class=""><li id="3547" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">在firebase控制台中创建一个firebase项目。</li></ol><p id="96d8" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">【https://console.firebase.google.com T4】</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lh"><img src="../Images/98b09f793badbc98171d8519b71d01fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1002/format:webp/1*Z1siwHjLyDITNoPcgO9I4Q.png"/></div></figure><p id="8cbb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.完整的平台特定配置</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lm"><img src="../Images/047ea2c9c0a2ffb3f8c19117626e8b4d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1380/format:webp/1*KbLWNg7MPBqzGTe2NtL8Pw.png"/></div></figure><p id="4e73" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ln"> iOS </em> </strong></p><ul class=""><li id="1600" class="kv kw hu je b jf jg jj jk jn lo jr lp jv lq jz lr ld le lf dt translated">将iOS应用程序注册到firebase，IOS捆绑包Id在Xcode项目和firebase控制台中必须相同。</li></ul><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff ls"><img src="../Images/4d90a307bf1cfd97a5ef8d6eb68f9ef1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*e35A9Ggt9HbszMm_tbQX8Q.png"/></div></figure><ul class=""><li id="bd4c" class="kv kw hu je b jf jg jj jk jn lo jr lp jv lq jz lr ld le lf dt translated">下载应用程序的配置文件，并将其添加到项目文件夹中。</li></ul><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/dcd00c9e7dedcaaf56adda2e44ad5940.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*vQEku4jXlD0kUJLPXUoBMQ.png"/></div></figure><ul class=""><li id="d0ec" class="kv kw hu je b jf jg jj jk jn lo jr lp jv lq jz lr ld le lf dt translated">将firebase依赖项添加到项目中</li></ul><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/c3423686065c2e783c7495efc6c78ee5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1078/format:webp/1*lTeE4rxggSaXpqk7hA1SHA.png"/></div></figure><p id="8fba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv"> <em class="ln">安卓</em> </strong></p><ul class=""><li id="6542" class="kv kw hu je b jf jg jj jk jn lo jr lp jv lq jz lr ld le lf dt translated">注册你的安卓应用。在firebase控制台的项目中使用包名。</li></ul><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/d4025c612c0e3afc717534825e6ac128.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*M7KAWeWcsq1aN4PwzpWTaA.png"/></div></figure><ul class=""><li id="3394" class="kv kw hu je b jf jg jj jk jn lo jr lp jv lq jz lr ld le lf dt translated">下载配置文件<code class="eh lv lw lx ly b">GoogleService-Info.plist</code>放在app模块根目录下。</li></ul><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lz"><img src="../Images/c7dde42cda46f7daabdddf63d984d0a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Xy2Ptgf5ngT1oojy8EL9pA.png"/></div></div></figure><h2 id="d916" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">创建颤振项目</h2><ol class=""><li id="4065" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">使用<code class="eh lv lw lx ly b">flutter create</code>命令创建一个新项目。</li></ol><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="d00b" class="ka kb hu ly b fv me mf l mg mh">$ flutter create flutter_with_firebase</span></pre><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mi"><img src="../Images/e2cd45befe2ef596898e12a891714b66.png" data-original-src="https://miro.medium.com/v2/resize:fit:766/format:webp/1*dshWjjsEdWgqT3TD_FhQ8g.png"/></div></div></figure><p id="aa2f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.打开ios/Runner.xcworkspace。保留xcode项目中与firebase控制台上定义的相同的包标识符，并将GoogleService-info.plist保存在Runner文件夹中</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff mj"><img src="../Images/83faa068ebf481339b630f129c45a72b.png" data-original-src="https://miro.medium.com/v2/resize:fit:562/format:webp/1*JZ6luhZS6GS1Egl_hhPsvg.png"/></div></figure><p id="1a94" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.在你的IDE或编辑器中，打开文件<code class="eh lv lw lx ly b">pubspec.yaml</code>。为<strong class="je hv"> firebase_database </strong>和<strong class="je hv">添加依赖关系</strong>保存文件。</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="2728" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">dependencies:<br/>  flutter:<br/>    sdk: </strong>flutter<br/>  <strong class="ly hv">firebase_database: </strong>1.0.3</span></pre><p id="e052" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">4.在IDE或命令行中，将其当前目录设置为Flutter应用程序目录，运行以下命令。</p><p id="74d2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><code class="eh lv lw lx ly b">flutter packages get</code></p><h2 id="20d9" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">设置</h2><ol class=""><li id="7a0f" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">firebase的导入依赖项。</li></ol><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="0e84" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">import 'package:firebase_database/firebase_database.dart'</strong>;</span></pre><p id="2330" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.创建databaseReference对象以使用数据库。</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="44d3" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">final databaseReference </strong>= FirebaseDatabase.<em class="ln">instance</em>.reference();</span></pre><p id="30f6" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.创建一个有4个按钮的屏幕。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/85b4897b7366212526ae8ed49dcb5ae9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*DU6ypvVAJoM3bEssF_r4gA.png"/></div></figure><h2 id="a8fa" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">创建记录</h2><p id="2c7c" class="pw-post-body-paragraph jc jd hu je b jf kx jh ji jj ky jl jm jn mk jp jq jr ml jt ju jv mm jx jy jz hn dt translated">1.单击“创建记录”按钮时，将调用Create Record()方法。</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="7d37" class="ka kb hu ly b fv me mf l mg mh">RaisedButton(<br/>    child: Text(<strong class="ly hv">'Create Record'</strong>),<br/>    onPressed: () {<br/>      createRecord();<br/>    },<br/>),</span></pre><p id="f05c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.在createRecord()中，我们在数据库中创建两条演示记录。</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="cecd" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">void </strong>createRecord(){<br/>  <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">"1"</strong>).set({<br/>    <strong class="ly hv">'title'</strong>: <strong class="ly hv">'Mastering EJB'</strong>,<br/>    <strong class="ly hv">'description'</strong>: <strong class="ly hv">'Programming Guide for J2EE'<br/>  </strong>});<br/>  <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">"2"</strong>).set({<br/>    <strong class="ly hv">'title'</strong>: <strong class="ly hv">'Flutter in Action'</strong>,<br/>    <strong class="ly hv">'description'</strong>: <strong class="ly hv">'Complete Programming Guide to learn Flutter'<br/>  </strong>});<br/>}</span></pre><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mn"><img src="../Images/5395581d513ccb7b569f429e600e5c19.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*c9qrlfZKkXWqrX34Ce3dmg.png"/></div></div></figure><h2 id="6b07" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">查看记录</h2><ol class=""><li id="1f74" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">单击“查看记录”按钮，调用getData()方法。</li></ol><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="a7bf" class="ka kb hu ly b fv me mf l mg mh">RaisedButton(<br/>    child: Text(<strong class="ly hv">'View Record'</strong>),<br/>    onPressed: () {<br/>      getData();<br/>    },<br/>)</span></pre><p id="9059" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.在getData()中，我们从数据库中检索所有记录。</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="c593" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">void </strong>getData(){<br/>  <strong class="ly hv">databaseReference</strong>.once().then((DataSnapshot snapshot) {<br/>    print(<strong class="ly hv">'Data : </strong>${snapshot.<strong class="ly hv">value</strong>}<strong class="ly hv">'</strong>);<br/>  });<br/>}</span></pre><p id="4043" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">3.它们打印在控制台上</p><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="9934" class="ka kb hu ly b fv me mf l mg mh"><em class="ln">Data : [{title: Mastering EJB, description: Programming Guide for J2EE}, {title: Flutter in Action, description: Complete Programming Guide to learn Flutter}]</em></span></pre><h2 id="c2f8" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">更新记录</h2><ol class=""><li id="6f34" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">单击“更新记录”按钮时，将调用updateData()方法。</li></ol><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="aaac" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">void </strong>updateData(){<br/>  <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">'1'</strong>).update({<br/>    <strong class="ly hv">'description'</strong>: <strong class="ly hv">'J2EE complete Reference'<br/>  </strong>});<br/>}</span></pre><p id="3448" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.将标题'<em class="ln">掌握EJB' </em>的描述从'<em class="ln">J2EE节目指南</em>更新为'<strong class="je hv">T5】J2EE完全参考 </strong> <em class="ln"> ' </em></p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mo"><img src="../Images/623f032d70a8bdcff8a985c42fdbee37.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vFPMcq0P1p9Vf2LTixYCww.png"/></div></div></figure><h2 id="dd41" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">删除记录</h2><ol class=""><li id="8e1f" class="kv kw hu je b jf kx jj ky jn kz jr la jv lb jz lc ld le lf dt translated">单击“删除记录”按钮时，将调用deleteData()方法。</li></ol><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="8261" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">void </strong>deleteData(){<br/>  <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">'1'</strong>).remove();<br/>}</span></pre><p id="389b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">2.它从数据库中删除记录。</p><figure class="li lj lk ll fq iv fe ff paragraph-image"><div class="fe ff mp"><img src="../Images/5913e194999f0b0753d0337149bcbccb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1308/format:webp/1*o9kti6rJfHO3LGAtGFSfmQ.png"/></div></figure><h2 id="4c1c" class="ka kb hu bd kc kd ke kf kg kh ki kj kk jn kl km kn jr ko kp kq jv kr ks kt ku dt translated">完全码</h2><pre class="li lj lk ll fq ma ly mb mc aw md dt"><span id="af51" class="ka kb hu ly b fv me mf l mg mh"><strong class="ly hv">import 'package:flutter/material.dart'</strong>;<br/><strong class="ly hv">import 'package:firebase_database/firebase_database.dart'</strong>;</span><span id="4917" class="ka kb hu ly b fv mq mf l mg mh"><strong class="ly hv">class </strong>FirebaseDemoScreen <strong class="ly hv">extends </strong>StatelessWidget {</span><span id="7f76" class="ka kb hu ly b fv mq mf l mg mh">  <strong class="ly hv">final databaseReference </strong>= FirebaseDatabase.<em class="ln">instance</em>.reference();</span><span id="ac52" class="ka kb hu ly b fv mq mf l mg mh">  @override<br/>  Widget build(BuildContext context) {<br/>    getData();<br/>    <strong class="ly hv">return </strong>Scaffold(<br/>        appBar: AppBar(<br/>            title: Text(<strong class="ly hv">'Firebase Connect'</strong>),<br/>            ),<br/>        body: Center(<br/>            child: Column(<br/>                crossAxisAlignment: CrossAxisAlignment.<strong class="ly hv">stretch</strong>,<br/>                children: &lt;Widget&gt;[</span><span id="6ecc" class="ka kb hu ly b fv mq mf l mg mh">                  RaisedButton(<br/>                      child: Text(<strong class="ly hv">'Create Record'</strong>),<br/>                      onPressed: () {<br/>                        createRecord();<br/>                      },<br/>                  ),</span><span id="2143" class="ka kb hu ly b fv mq mf l mg mh">                  RaisedButton(<br/>                      child: Text(<strong class="ly hv">'View Record'</strong>),<br/>                      onPressed: () {<br/>                        getData();<br/>                      },<br/>                  ),<br/>                  RaisedButton(<br/>                      child: Text(<strong class="ly hv">'Udate Record'</strong>),<br/>                      onPressed: () {<br/>                        updateData();<br/>                      },<br/>                  ),<br/>                  RaisedButton(<br/>                      child: Text(<strong class="ly hv">'Delete Record'</strong>),<br/>                      onPressed: () {<br/>                        deleteData();<br/>                      },<br/>                  ),<br/>                ],<br/>            )<br/>        ), <em class="ln">//center<br/>    </em>);<br/>  }</span><span id="7bab" class="ka kb hu ly b fv mq mf l mg mh">  <strong class="ly hv">void </strong>createRecord(){<br/>    <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">"1"</strong>).set({<br/>      <strong class="ly hv">'title'</strong>: <strong class="ly hv">'Mastering EJB'</strong>,<br/>      <strong class="ly hv">'description'</strong>: <strong class="ly hv">'Programming Guide for J2EE'<br/>    </strong>});<br/>    <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">"2"</strong>).set({<br/>      <strong class="ly hv">'title'</strong>: <strong class="ly hv">'Flutter in Action'</strong>,<br/>      <strong class="ly hv">'description'</strong>: <strong class="ly hv">'Complete Programming Guide to learn Flutter'<br/>    </strong>});<br/>  }<br/>  <strong class="ly hv">void </strong>getData(){<br/>    <strong class="ly hv">databaseReference</strong>.once().then((DataSnapshot snapshot) {<br/>      print(<strong class="ly hv">'Data : </strong>${snapshot.<strong class="ly hv">value</strong>}<strong class="ly hv">'</strong>);<br/>    });<br/>  }</span><span id="d451" class="ka kb hu ly b fv mq mf l mg mh">  <strong class="ly hv">void </strong>updateData(){<br/>    <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">'1'</strong>).update({<br/>      <strong class="ly hv">'description'</strong>: <strong class="ly hv">'J2EE complete Reference'<br/>    </strong>});<br/>  }</span><span id="9fb9" class="ka kb hu ly b fv mq mf l mg mh">  <strong class="ly hv">void </strong>deleteData(){<br/>    <strong class="ly hv">databaseReference</strong>.child(<strong class="ly hv">'1'</strong>).remove();<br/>  }<br/>}</span></pre><p id="1234" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ln">感谢阅读。如果你喜欢这篇文章，请随意点击那个按钮👏帮助其他人找到它。</em></p><p id="275f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ln">本文是移动技术相关系列文章的一部分。如果您正在寻找一个移动应用开发团队来构建您的解决方案，请通过</em><a class="ae lg" href="mailto:info@47billion.com" rel="noopener ugc nofollow" target="_blank"><em class="ln">info@47billion.com</em></a><em class="ln">联系我们。</em></p></div></div>    
</body>
</html>