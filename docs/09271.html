<html>
<head>
<title>Testing the Waters of AWS EC2 C5D Instances</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">测试AWS EC2 C5D实例的Waters</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/testing-the-waters-of-aws-ec2-c5d-instances-d408fe995af0?source=collection_archive---------21-----------------------#2018-11-09">https://medium.com/hackernoon/testing-the-waters-of-aws-ec2-c5d-instances-d408fe995af0?source=collection_archive---------21-----------------------#2018-11-09</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/cd32cb6c59ace4e95dfbcfd4a09388d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FiCJSRuWCkDBgnNM_SWDaQ.jpeg"/></div></div></figure><p id="f6d1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">自从亚马逊宣布AWS EC2 C5D实例以来，我们TotalCloud.io作为AWS的实践者，一直在深入研究它的技术细节。我们发现了一些有趣的东西，我们愿意为了更大的利益分享我们的发现。</p><h1 id="dcc9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">C5D简介:带有本地NVMe存储的AWS EC2实例</h1><p id="16e5" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">对于那些不知道的人，AWS EC2 C5D实例是高性能块存储实例。据称，它们将于2018年5月推出，非常适合需要访问高速、低延迟本地存储的应用。这使得它成为media vertical最喜欢的例子。如果你想了解更多关于它的应用和其他细节，<a class="ae ka" href="https://blog.totalcloud.io/testing-the-waters-of-aws-ec2-c5d-instances/" rel="noopener ugc nofollow" target="_blank">点击这里</a>。</p><h1 id="2165" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">试验</h1><p id="f2b6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">为了测试C5D实例的性能，我们在US-east 1地区推出了一个C5D.large实例，其中包含9GB Amazon Elastic Block Store+50GB Amazon EC2 NVMe实例存储。</p><p id="5d50" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在同一个区域和可用性区域，我们启动了一个具有54 GB EBS卷的C5.large实例和一个T2.small实例进行比较，其中没有NACLs，并在实例之间打开了安全组。所有实例运行的都是亚马逊Linux 2 OS (ami-0a5e707736615003c)，截至2018年10月打了最新补丁。</p><blockquote class="le lf lg"><p id="cb16" class="jc jd lh je b jf jg jh ji jj jk jl jm li jo jp jq lj js jt ju lk jw jx jy jz hn dt translated"><strong class="je hv"> <em class="hu">在我们向您介绍基准测试结果之前，让我们先来看看C5D之间的定价比较。大，C5。大T2。小型按需实例:</em> </strong></p></blockquote><figure class="lm ln lo lp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ll"><img src="../Images/074a926d96a0aa4ef8e9c14621cb3819.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*alWMenXbfJ3ozaVP36Ohqg.png"/></div></div></figure><p id="823a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们运行Sysbench工具来计算20，000以内的所有素数，以比较C5D实例与C5实例以及最流行的实例类型T2的纯计算性能。</p><h1 id="ab7d" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">以下是我们在所有三个实例上运行的测试类型:</h1><ul class=""><li id="acd8" class="lq lr hu je b jf kz jj la jn ls jr lt jv lu jz lv lw lx ly dt translated">为了运行CPU测试，我们使用了SysBench工具，进行单线程CPU测试。</li><li id="fb92" class="lq lr hu je b jf lz jj ma jn mb jr mc jv md jz lv lw lx ly dt translated">为了测量磁盘性能，我们使用了Sysbench文件IO基准测试(使用随机读/写)。由于这些实例可能会爆炸，我们进行了一些测试来耗尽IO平衡。在耗尽IO平衡之前，我们使用IOping来测试延迟。然后，使用FIO，我们尝试排空天平，并在爆破桶被清空和重新填充时测试性能。</li><li id="b802" class="lq lr hu je b jf lz jj ma jn mb jr mc jv md jz lv lw lx ly dt translated">为了对典型文件服务器工作负载的性能进行基准测试，我们使用了blogbench分数。</li><li id="1201" class="lq lr hu je b jf lz jj ma jn mb jr mc jv md jz lv lw lx ly dt translated">为了运行网络测试并演示TCP/IP延迟，我们使用了100个icmp数据包的平均延迟。此外，我们使用iperf测试设备之间的带宽。</li><li id="e700" class="lq lr hu je b jf lz jj ma jn mb jr mc jv md jz lv lw lx ly dt translated">为了得到一个更加“真实”的测试，我们使用phoronix测试套件来运行一个基准编译器测试(编译Linux)。这提供了跨文件系统的真实磁盘IO以及一般的系统和CPU性能。磁盘IO通常是机器性能的一个制约因素，但它在很大程度上取决于您正在运行的特定工作负载。</li></ul><h1 id="a7c9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结果如下:</h1><figure class="lm ln lo lp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff me"><img src="../Images/8eb451786d5af7e22917fa620ae1a832.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wWUYBUUaGOG9o1CIAeVUA.png"/></div></div></figure><h1 id="b15f" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">以下是我们的主要观察结果:</h1><p id="1c0a" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">#1 |所有CPU的得分相同，因为所有三个实例的CPU能力相同。</p><p id="f1b5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">#2 |由于nvme磁盘，C5D在文件IO方面远远优于C5和T2，其读写能力几乎是C5实例的4倍。AWS对C5和T2使用相同的底层磁盘技术。因此，C5和T2的结果是相似的。</p><p id="c938" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">#3 |磁盘延迟测量(IOping)显示，nvme磁盘的延迟是C5的一半。这是一个巨大的差异，对于实时分析等延迟敏感型工作负载具有重要意义。</p><p id="5d06" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">#4 |正如所料，C5D和C5实例的网络度量基本相同，但在T2实例上有显著改进。</p><p id="880c" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">#5 |编译时间很有趣。此时，任务遇到了CPU瓶颈。虽然C5D每次都更快，但很难找到一个可重复的真实任务来真正扩展新nvme磁盘的能力。</p><p id="68d5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">#6 |测试表明，CPU 100%最大限度地编译Linux。这说明C5D要快一点。尽管编译Linux C5D是一个非常磁盘密集型的操作，但是在我们的测试用例中，CPU是任务的最终瓶颈。</p><figure class="lm ln lo lp fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mf"><img src="../Images/0a4575861aff5f3af654177f0b820bef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8IKsdBgNobKz-UawfbHVmw.png"/></div></div></figure><p id="8236" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了增加这些测试，C5实例花费了8.10秒来解包Linux内核。C5D花了8.06秒解包。</p><h1 id="0ed2" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">总结</h1><p id="9ac8" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">为了对C5D进行基准测试，在一周内进行了几次测试。大型实例的性能。希望这些测试结果能给你新C5D实例的真实视角。</p><p id="cf2a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您想了解更多关于这些测试结果的信息，请写信至tech@totalcloud.io或发推文至<a class="ae ka" href="https://twitter.com/totalcloudio" rel="noopener ugc nofollow" target="_blank"> @totalcloudio </a>。另外，请分享你对这篇文章的看法。我们很想听听你的想法。</p></div><div class="ab cl mg mh hc mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="hn ho hp hq hr"><p id="388b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lh">原载于2018年11月9日</em><a class="ae ka" href="http://blog.totalcloud.io/testing-the-waters-of-aws-ec2-c5d-instances/" rel="noopener ugc nofollow" target="_blank"><em class="lh">blog . total cloud . io</em></a><em class="lh">。</em></p></div></div>    
</body>
</html>