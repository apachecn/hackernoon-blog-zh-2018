<html>
<head>
<title>Debugging Node Services in Kubernetes With Linkerd 2.0</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Linkerd 2.0调试Kubernetes中的节点服务</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/debugging-node-services-in-kubernetes-with-linkerd-2-0-f878382fb380?source=collection_archive---------27-----------------------#2018-11-13">https://medium.com/hackernoon/debugging-node-services-in-kubernetes-with-linkerd-2-0-f878382fb380?source=collection_archive---------27-----------------------#2018-11-13</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="283b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Node是微服务最流行的语言之一。随着Kubernetes的兴起，越来越多的节点开发者被要求将他们的服务部署到Kubernetes集群中。但是在Kubernetes上安全地部署和运行节点服务需要什么呢？在这篇文章中，我们关注一个特定但重要的组件:我如何理解我在Kubernetes上的节点服务发生了什么，以及当出现问题时我如何调试它？</p><p id="72f2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此时，您可能会想，我不能只使用Kubernetes仪表板吗？不幸的是，虽然Kubernetes可以在节点故障或软件崩溃的情况下自动保持您的服务，但它实际上并不知道您的服务是否正常运行<em class="jq">。</em>事实上，一项服务可能会返回500个或花费太长时间来响应，Kubernetes仪表盘将显示所有绿灯。</p><p id="57dc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这就是为什么Kubernetes经常与Linkerd之类的东西结合使用。Linkerd是一个<em class="jq">服务sidecar </em>，它增强了任何Kubernetes服务，为运行时调试、诊断和可靠性提供零配置“黄金指标”仪表板和UNIX风格CLI <a class="ae jp" href="https://hackernoon.com/tagged/tools" rel="noopener ugc nofollow" target="_blank">工具</a>。(Linkerd还可以作为一个<em class="jq">服务网</em>，运行在多个服务上，提供一个统一的遥测、安全和控制层。)</p><p id="efb2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Linkerd通过插入一个超轻代理(&lt;10mb) into each pod of a service, and automatically sending traffic to and from that pod through its proxy. These proxies provide telemetry data to, and receive signals from, a control plane. Because the proxy runs alongside your application and is transparent, there are zero code changes required. And, of course, Linkerd is completely open source, Apache v2 licensed, and is hosted by the Cloud Native Computing Foundation–just like Kubernetes itself.</p><p id="6dd0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">In this tutorial, we’ll walk you through deploying Linkerd 2.0 to a Kubernetes cluster and using it to debug failures in an example application.</p><p id="ea08" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(If you don’t have a Kubernetes cluster, don’t worry! Take a look at <a class="ae jp" href="https://github.com/kubernetes/minikube" rel="noopener ugc nofollow" target="_blank"> minikube </a>)来工作，或者查看这篇博客文章的<a class="ae jp" href="https://www.katacoda.com/grampelberg/scenarios/nodevoto" rel="noopener ugc nofollow" target="_blank">交互式教程</a>，您可以直接从浏览器运行它。)</p><p id="31ab" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们将部署的演示应用程序由多个服务组成，这些服务允许为喜爱的gif投票。这些服务通过gRPC进行通信，并且都是用Javascript编写的。你可以在<a class="ae jp" href="https://github.com/sourishkrout/nodevoto" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查看源代码。</p><p id="95d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该应用程序由以下4个服务组成:</p><ul class=""><li id="2d28" class="jr js hu it b iu iv iy iz jc jt jg ju jk jv jo jw jx jy jz dt translated"><a class="ae jp" href="https://github.com/sourishkrout/nodevoto/blob/master/services/nodevoto-web" rel="noopener ugc nofollow" target="_blank"> nodevoto-web </a> : Web前端和REST API</li><li id="4240" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated">用于查找和列出gif的gRPC API</li><li id="7e19" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated"><a class="ae jp" href="https://github.com/sourishkrout/nodevoto/blob/master/services/nodevoto-voting" rel="noopener ugc nofollow" target="_blank"> nodevoto-voting </a>:用于投票和排行榜的gRPC API</li><li id="78e8" class="jr js hu it b iu ka iy kb jc kc jg kd jk ke jo jw jx jy jz dt translated"><a class="ae jp" href="https://github.com/sourishkrout/nodevoto/blob/master/services/nodevoto-web/voteBot.js" rel="noopener ugc nofollow" target="_blank">投票机器人</a>:流量生成器</li></ul><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff kf"><img src="../Images/f7afbb01902a9a37ecb28f5b73d00fbf.png" data-original-src="https://miro.medium.com/v2/resize:fit:466/format:webp/1*GpDj-2zfMxDNLO67KeziAQ.png"/></div></figure><p id="b03d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个应用程序有一个主要的bug，我们将使用Linkerd的web dashboard和类似UNIX的CLI工具来调试这个bug。</p><h1 id="012b" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">步骤1:安装演示应用程序🚀</h1><p id="5287" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">在我们安装Linkerd之前，让我们安装Nodevoto演示应用程序。在笔记本电脑的终端窗口中，运行:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="5e86" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个命令为Nodevoto下载Kubernetes清单，并使用<code class="eh ls lt lu lv b">kubectl</code>将其应用到您的Kubernetes集群。Nodevoto由运行在<code class="eh ls lt lu lv b">nodevoto</code>名称空间中的几个服务组成。您可以通过运行以下命令来查看服务:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="599f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您还可以通过运行以下命令实时查看应用程序:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="6db6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">(如果你看到类似<code class="eh ls lt lu lv b">kubectl: command not found</code>的东西，说明你没有正确设置Kubernetes。)</p><p id="6247" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在应用周围点一下。您应该会看到应用程序的某些部分被破坏了！(提示—点击几次左上角的投票按钮，看看会发生什么)。当然，如果你看一下Kubernetes的仪表板，你会看到一切都是绿色的——所有的pod都在运行。</p><p id="22a6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是一种非常常见的失败场景:Kubernetes认为一切正常，但是您知道应用程序正在返回错误，因为您可以看到它们。在接下来的几个步骤中，我们将指导您如何使用Linkerd来诊断问题。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/b3c6b5379274c81d59dd6fba156c016d.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/0*skSeNLgjQOLNNzDm.gif"/></div></figure><h1 id="e582" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">步骤2:安装Linkerd的CLI</h1><p id="290b" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">我们将从在您的本地机器上安装Linkerd的命令行界面(CLI)开始。访问<a class="ae jp" href="https://github.com/linkerd/linkerd2/releases/" rel="noopener ugc nofollow" target="_blank"> Linkerd发布页面</a>，或者直接运行:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="4dd0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">安装完成后，将<code class="eh ls lt lu lv b">linkerd</code>命令添加到您的路径中:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="0964" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们通过运行以下命令来验证您的集群是否为Linkerd做好了准备:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="fa53" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因为有许多不同类型的Kubernetes集群，以及无数种配置它们的方法。这个方便的命令将报告任何会影响您安装Linkerd的问题。希望一切看起来都没问题，你已经准备好进入下一步了。</p><p id="c56a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">注意:如果你的Kubernetes集群在GKE上启用了RBAC，你将需要一个额外的步骤:你必须首先授予你的Google Cloud账户一个<code class="eh ls lt lu lv b">cluster-admin</code>的<code class="eh ls lt lu lv b">ClusterRole</code>，以便安装控制平面。为此，请运行:</p><pre class="kg kh ki kj fq lx lv ly lz aw ma dt"><span id="3ee7" class="mb ko hu lv b fv mc md l me mf">kubectl create clusterrolebinding cluster-admin-binding-$USER \<br/>  --clusterrole cluster-admin \<br/>  --user=$(gcloud config get-value account)</span></pre><h1 id="97a2" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">步骤3:将Linkerd的控制面板安装到集群上</h1><p id="f211" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">在这一步中，我们将在您的集群上将Linkerd的轻量级控制平面安装到它自己的名称空间(<code class="eh ls lt lu lv b">linkerd</code>)中。为此，请运行:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="51fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这个命令生成一个Kubernetes清单，并使用<code class="eh ls lt lu lv b">kubectl</code>将其应用到您的Kubernetes集群。(在应用之前，请随意阅读完整的清单。)</p><p id="941d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">根据您的连接速度，您的Kubernetes集群可能需要一分钟来下载Linkerd容器映像并启动它们。此时，您可以通过运行以下命令来验证一切安装是否正确:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="210c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该命令将一直等到Linkerd安装并运行。</p><p id="4b9d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，让我们来看看Linkerd的仪表板！只需运行:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="a3c2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您看到类似下面的截图，Linkerd现在正在您的集群上运行。🎉</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/5d676094c8e6ff87292835bf17846117.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*8x0tZfk6sHWnO3unICEGoA.png"/></div></figure><h1 id="dfc5" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">步骤4:将Linkerd添加到Nodevoto web服务中</h1><p id="d828" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">此时，我们已经在<code class="eh ls lt lu lv b">linkerd</code>名称空间中安装了控制面板，并且在<code class="eh ls lt lu lv b">nodevoto</code>名称空间中安装了nodevoto演示应用程序。但是我们实际上还没有将Linkerd添加到我们的服务中。让我们开始吧。</p><p id="6e38" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这个例子中，让我们假设我们是<code class="eh ls lt lu lv b">web</code>服务的所有者。这么说吧，其他服务，像<code class="eh ls lt lu lv b">gif</code>和<code class="eh ls lt lu lv b">voting</code>，都是其他团队的——我们不想碰它们。虽然在这个例子中这些是本地服务，但是它们完全有可能是由一个完全独立的实体拥有的远程API。</p><p id="0342" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有几种方法可以将Linkerd添加到我们的服务中。出于演示目的，最简单的方法是这样做:</p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="lq lr l"/></div></figure><p id="82c1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">该命令从Kubernetes检索<code class="eh ls lt lu lv b">web</code>服务的清单，通过<code class="eh ls lt lu lv b">linkerd inject</code>运行该清单，然后将其重新应用到Kubernetes集群。<code class="eh ls lt lu lv b">linkerd inject</code>命令添加到清单中，以包括数据平面的代理。和<code class="eh ls lt lu lv b">install</code>一样，<code class="eh ls lt lu lv b">inject</code>是纯文本操作。这意味着您可以在使用它之前检查输入和输出。由于<code class="eh ls lt lu lv b">web</code>是一个部署，Kubernetes非常友好地一次一个pod地慢慢推出服务——这意味着<code class="eh ls lt lu lv b">web</code>可以在我们添加Linkerd时实时提供流量服务！</p><p id="58e9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们现在有一个服务侧柜运行在<code class="eh ls lt lu lv b">web</code>服务上！</p><h1 id="6b56" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">步骤5:为了乐趣和利益进行调试</h1><p id="0b4e" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">恭喜你！现在，在Kubernetes集群上运行了一个完整的gRPC应用程序，并且在<code class="eh ls lt lu lv b">web</code>服务上安装了Linkerd。不幸的是，当您使用该应用程序时，它会失败——所以现在让我们使用Linkerd来跟踪这些错误。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff mg"><img src="../Images/598e68246f66744947b61cef1ba5904e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1eBQalazqC7omKJf5Rv0-A.png"/></div></div></figure><p id="1b3d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您看一下Linkerd仪表板(通过运行<code class="eh ls lt lu lv b">linkerd dashboard</code>，您应该看到<code class="eh ls lt lu lv b">nodevoto</code>名称空间中的所有服务都出现了。由于<code class="eh ls lt lu lv b">web</code>上安装了Linkerd服务sidecar，您还会看到成功率、每秒请求数和延迟百分比。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/c6cf824ba492939909e20bf6fe64ec0a.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*RzNdNQ8qgJTV0v5uYG-Mbg.png"/></div></figure><p id="f64e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这很酷，但请注意成功率远低于100%！点击<code class="eh ls lt lu lv b">web</code>让我们调试。</p><p id="4658" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您现在应该看到web服务的部署页面。您将看到的第一件事是web从<code class="eh ls lt lu lv b">vote-bot</code>(包含在Nodevoto清单中的一个服务，用于持续生成低水平的实时流量)获取流量，并且有两个输出依赖项<code class="eh ls lt lu lv b">gif</code>和<code class="eh ls lt lu lv b">voting</code>。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff lw"><img src="../Images/514ef63235d9e3a9b803e3a968cd4372.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*ORuyOZnQbieJLiC42L2etw.png"/></div></div></figure><p id="a79a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">gif服务正在100%运行，但是投票服务正在失败！相关服务中的故障可能正是web返回错误的原因。</p><p id="7232" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们在页面上再向下滚动一点，我们会看到<code class="eh ls lt lu lv b">web</code>正在接收的所有流量端点的实时列表。这很有趣:</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff ml"><img src="../Images/a83b4cc163a155e3fc3ef8ab8f0e877a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bsvYPOYgv2ibJz-KoAo65A.png"/></div></div></figure><p id="5343" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有两个调用没有达到100%:第一个是vote-bot对<code class="eh ls lt lu lv b">/api/vote</code>端点的请求。第二个是从<code class="eh ls lt lu lv b">web</code>到<code class="eh ls lt lu lv b">voting</code>对<code class="eh ls lt lu lv b">VoteCartoonHalloweenGhost</code>的请求。很有意思！由于<code class="eh ls lt lu lv b">/api/vote</code>是一个传入请求，而<code class="eh ls lt lu lv b">VoteCartoonHalloweenGhost</code>是一个传出请求，这是一个很好的线索，表明来自<code class="eh ls lt lu lv b">voting</code>的响应是导致问题的原因！</p><p id="50e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">最后，如果我们点击🔬图标，我们将看到与该端点匹配的请求的实时列表。这允许我们确认请求失败(它们都有<a class="ae jp" href="https://godoc.org/google.golang.org/grpc/codes#Code" rel="noopener ugc nofollow" target="_blank"> gRPC状态码2 </a>，指示一个错误)。</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div role="button" tabindex="0" class="mh mi di mj bf mk"><div class="fe ff mm"><img src="../Images/c2d2a3e51e9122d19f5212ae86fdd920.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_Utc_XDSt9cYa9DJsTtPfQ.png"/></div></div></figure><p id="7a5d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此时，我们有了与<code class="eh ls lt lu lv b">voting</code>服务所有者对话所需的弹药。我们已经在他们的服务上发现了一个持续返回错误的端点，并且在系统中没有发现其他明显的故障源。</p><h1 id="1523" class="kn ko hu bd kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk dt translated">想要更多吗？</h1><p id="3e15" class="pw-post-body-paragraph ir is hu it b iu ll iw ix iy lm ja jb jc ln je jf jg lo ji jj jk lp jm jn jo hn dt translated">在本教程中，我们向您展示了如何在集群上安装Linkerd，将它作为服务边盘添加到一个服务中，同时该服务正在接收实时流量！—并使用它来调试运行时问题。但这只是冰山一角。</p><p id="9202" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，我们上面使用web UI所做的一切也可以通过纯CLI命令来完成，例如<code class="eh ls lt lu lv b">linkerd top</code>、<code class="eh ls lt lu lv b">linkerd stat</code>和<code class="eh ls lt lu lv b">linkerd tap</code>。</p><p id="5728" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另外，你注意到我们看的第一页上的小Grafana图标了吗？Linkerd附带了针对所有这些指标的自动Grafana仪表板，允许您以时间序列格式查看您在Linkerd仪表板中看到的一切。看看吧！</p><figure class="kg kh ki kj fq kk fe ff paragraph-image"><div class="fe ff lw"><img src="../Images/c3ede3f594dc98168174d995ecd9dbff.png" data-original-src="https://miro.medium.com/v2/resize:fit:600/format:webp/1*hVF9XHwIf4p8ZOBAuJEHOQ.png"/></div></figure><p id="1b6b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Linkerd有一个蓬勃发展的采纳者和贡献者社区，我们希望您能成为其中的一员。更多信息，请查看<a class="ae jp" href="https://linkerd.io/docs" rel="noopener ugc nofollow" target="_blank">文档</a>和<a class="ae jp" href="https://github.com/linkerd/linkerd" rel="noopener ugc nofollow" target="_blank"> GitHub </a>回购，加入<a class="ae jp" href="https://slack.linkerd.io/" rel="noopener ugc nofollow" target="_blank"> Linkerd Slack </a>和邮件列表(<a class="ae jp" href="https://lists.cncf.io/g/cncf-linkerd-users" rel="noopener ugc nofollow" target="_blank">用户</a>、<a class="ae jp" href="https://lists.cncf.io/g/cncf-linkerd-dev" rel="noopener ugc nofollow" target="_blank">开发者</a>、<a class="ae jp" href="https://lists.cncf.io/g/cncf-linkerd-announce" rel="noopener ugc nofollow" target="_blank">宣布</a>)，当然，在Twitter上关注<a class="ae jp" href="https://twitter.com/linkerd" rel="noopener ugc nofollow" target="_blank"> @linkerd </a>！我们等不及让你加入了！</p></div><div class="ab cl mn mo hc mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hn ho hp hq hr"><p id="6f7d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">原载于2018年11月13日</em><a class="ae jp" href="https://blog.linkerd.io/2018/11/13/debugging-node-services-in-kubernetes-with-linkerd-2-0/" rel="noopener ugc nofollow" target="_blank"><em class="jq">blog . linkerd . io</em></a><em class="jq">。</em></p><figure class="kg kh ki kj fq kk"><div class="bz el l di"><div class="mu lr l"/></div></figure></div></div>    
</body>
</html>