<html>
<head>
<title>Git got big files or keys? Break out BFG</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Git有大文件或密钥吗？冲出BFG</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/git-got-big-files-or-keys-break-out-bfg-a1c6e1f0fe90?source=collection_archive---------18-----------------------#2018-11-15">https://medium.com/hackernoon/git-got-big-files-or-keys-break-out-bfg-a1c6e1f0fe90?source=collection_archive---------18-----------------------#2018-11-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/0faa1de44127a74733edf61aaefce716.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*MsBQtYpbZNJrbBW5J6uXDQ.png"/></div></figure><p id="52af" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">每个人都搞砸了，今天的错误是在gitignore处理它之前向git添加了一个大文件。因此，github拒绝推送，甚至在从git中“移除”文件之后。原因是文件仍然存在于git(history)中。是时候收拾残局了，让BFG破土而出，从轨道上用核武器摧毁它。-可悲的是，这意味着java是不可或缺的恶魔。BFG可以在下面找到，并且需要安装一个java jdk。</p><div class="jw jx fm fo jy jz"><a href="https://rtyley.github.io/bfg-repo-cleaner/" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">BFG回购清洁工由rtyley</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">git-filter-branch的一个更简单、更快速的替代方法，用于删除大文件和从git历史记录中删除密码。</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">rtyley.github.io</p></div></div></div></a></div><p id="a867" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">首先，让我们来看看BFG回购清道夫。欢迎回来，希望有一些阅读。BFG回购-清洁将用于清理大文件，这也可以用来清理敏感数据，有人不小心添加到回购。“咳咳”aws键。它通过重写git历史并删除文件的所有痕迹来实现这一点。像许多事情一样，git有时最好不要解释它的神奇之处，直接进入主题。</p><p id="fec7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">TLDR:哦，我的天…就这么做吧…黑魔法随之而来。</p><figure class="ki kj kk kl fq iv"><div class="bz el l di"><div class="km kn l"/></div></figure><p id="13e7" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">欢迎从盲目运行在互联网上找到的命令回来，一切工作正常吧？是时候分析一下刚刚发生的事情了。前期工作是设置BFG并将其加载到环境中。<br/>在主文件夹中创建一个文件夹结构来存储jar。<br/>然后下载jar并创建一个符号链接，这样当添加新版本时，旧的符号链接可以被删除和重置。<br/>这并不完全需要，但肯定会有所帮助。<br/>接下来，该文件夹被添加到bash_profile文件中的path env变量中。<br/>然后让bash_profile使用新路径和新文件夹。不要求做所有这些，但是，说实话，这种情况会发生不止一次，最好在将来做这些。之后，回购被克隆(很可能它已经存在，所以不要担心。<br/>然后运行git垃圾收集。<br/>下一步移出目录，因为BFG需要在当前目录之外运行。<br/>触发应该被nuked的文件或通配符中的BFG传入。<br/>放回文件夹中。<br/>终止get引用日志，它清除了BFG做的一些事情<br/>最后git垃圾收集清除了剩余的cruft。</p><p id="8f58" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">也就是说，文件已经被删除，并且它们存在的所有历史已经被清除。当与git hook和regex结合使用时，这种类型的过程对于文件中的特定内容(如密钥等)特别有用。它也可以很容易地连接到詹金斯建立管道，以保护人们免受自己。祝你好运，如果有疑问，就拿出那把“该死的”大枪</p><p id="9efa" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">额外收获:julia evans写了一本很棒的杂志，讲述了一些关于git的其他事情</p><div class="jw jx fm fo jy jz"><a href="https://jvns.ca/blog/2018/10/27/new-zine--oh-shit--git-/" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">新杂志:哦，妈的，饭桶！</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">你好！上周，凯蒂·塞勒-米勒和我发行了一本名为《哦，妈的，饭桶》的新杂志。它有一堆普通的git…</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">jvns.ca</p></div></div><div class="ko l"><div class="kp l kq kr ks ko kt iw jz"/></div></div></a></div><p id="93c9" class="pw-post-body-paragraph iy iz hu ja b jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv hn dt translated">(提及的所有内容的链接:)</p><div class="jw jx fm fo jy jz"><a href="https://help.github.com/articles/removing-sensitive-data-from-a-repository/" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">从存储库用户文档中删除敏感数据</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">如果您将敏感数据(比如密码或SSH密钥)提交到Git存储库中，您可以将其从历史记录中删除…</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">help.github.com</p></div></div></div></a></div><div class="jw jx fm fo jy jz"><a href="https://rtyley.github.io/bfg-repo-cleaner/" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">BFG回购清洁工由rtyley</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">git-filter-branch的一个更简单、更快速的替代方法，用于删除大文件和从git历史记录中删除密码。</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">rtyley.github.io</p></div></div></div></a></div><div class="jw jx fm fo jy jz"><a href="https://git-scm.com/docs/git-reflog" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">Git - git-reflog文档</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">“show”子命令(在没有任何子命令的情况下，这也是默认命令)显示引用的日志…</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">git-scm.com</p></div></div><div class="ko l"><div class="ku l kq kr ks ko kt iw jz"/></div></div></a></div><div class="jw jx fm fo jy jz"><a href="https://git-scm.com/docs/git-gc" rel="noopener  ugc nofollow" target="_blank"><div class="ka ab ej"><div class="kb ab kc cl cj kd"><h2 class="bd hv fv z el ke eo ep kf er et ht dt translated">Git - git-gc文档</h2><div class="kg l"><h3 class="bd b fv z el ke eo ep kf er et ek translated">如果包的数量超过gc.autoPackLimit的值，那么现有的包(标有. keep文件的包除外…</h3></div><div class="kh l"><p class="bd b gc z el ke eo ep kf er et ek translated">git-scm.com</p></div></div><div class="ko l"><div class="kv l kq kr ks ko kt iw jz"/></div></div></a></div></div></div>    
</body>
</html>