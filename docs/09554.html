<html>
<head>
<title>Switch Between Light and Dark Mode in macOS Mojave Command Line</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在macOS Mojave命令行中切换亮暗模式</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/switch-between-light-and-dark-mode-in-macos-mojave-command-line-b969cb3d020b?source=collection_archive---------10-----------------------#2018-11-22">https://medium.com/hackernoon/switch-between-light-and-dark-mode-in-macos-mojave-command-line-b969cb3d020b?source=collection_archive---------10-----------------------#2018-11-22</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div class="fe ff ir"><img src="../Images/74c61ba5a8e29485a41ed0baa3de32a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*A0VO5ixl17-mLQJV6RdiRg.gif"/></div><figcaption class="iy iz fg fe ff ja jb bd b be z ek">Switch Mac theme using Command line</figcaption></figure><p id="3b32" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我最近更新了我的Mac到MacOs Mojave。它带有各种升级，黑暗主题就是其中之一。</p><p id="f8f9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">来自硬编码Linux用户的背景，我喜欢任何黑色和黑暗的东西。我喜欢Mac的新黑暗主题，只有一个问题。</p><p id="402f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">每当我需要切换主题为亮或暗，我需要去外观屏幕并选择它。嗯，没那么有效率，所以我做了一个小的命令行工具，把主题切换成亮或者暗。</p><p id="cbc0" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">一如既往，与你分享我是如何做到的。</p><h1 id="9b98" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">问题是</h1><p id="229a" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">我们需要设法通过命令行在Mac中进行系统调用，以实现我们想要的，我在为Mac开发应用程序方面没有太多经验，这是一个问题。</p><p id="a8af" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">但是，我确实有Node.js方面的专业知识，我想我可以找到一种使用Node.js库或API进行系统调用的方法。</p><h1 id="1ca0" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">解决方案</h1><p id="270b" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">我确实找到了一个用于MacOs的Javascript自动化工具。感谢<a class="ae ld" href="https://www.npmjs.com/~sindresorhus" rel="noopener ugc nofollow" target="_blank"> sindresorhus </a>开发了这个工具。</p><p id="c3ba" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这个工具允许我们使用Node.js执行Mac的任何系统级命令，它被称为<strong class="je hv"> run-jxa </strong></p><p id="1ccd" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">此外，有一个npm模块正在使用run-jxa来更改Mac中的主题。我将使用它，并将其与Node.js的命令行功能结合起来。</p><p id="c69b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">相关:<a class="ae ld" href="https://codeforgeek.com/2015/09/command-line-application-nodejs/" rel="noopener ugc nofollow" target="_blank">使用Node.js开发命令行应用</a></p><p id="9143" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们编码吧。</p><h1 id="8754" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">密码</h1><p id="fc85" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">下面是package.json。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="5986" class="ln kb hu lj b fv lo lp l lq lr">{<br/> “name”: “macdarkmode”,<br/> “version”: “1.0.0”,<br/> “description”: “”,<br/> “main”: “index.js”,<br/> “scripts”: {<br/> “test”: “echo “Error: no test specified” &amp;&amp; exit 1"<br/> },<br/> “keywords”: [],<br/> “author”: “”,<br/> “license”: “ISC”,<br/> “dependencies”: {<br/> “dark-mode”: “³.0.0”<br/> },<br/> “bin”: {<br/> “darkmode”: “index.js”<br/> }<br/> }</span></pre><p id="3a95" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">下面是处理命令行输入并相应地切换主题的代码。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="ab93" class="ln kb hu lj b fv lo lp l lq lr">#!/usr/bin/env node<br/> const darkMode = require(‘dark-mode’);</span><span id="96eb" class="ln kb hu lj b fv ls lp l lq lr">async function main() {</span><span id="e885" class="ln kb hu lj b fv ls lp l lq lr">let darkmodeflag = await darkMode.isDark();<br/> if(process.argv[2] === undefined || [‘true’, ‘false’].indexOf(process.argv[2]) === -1) <br/> return console.log(‘Invalid command…run darkmode true | false to toggle between themes’);{<br/> }<br/> if(process.argv[2] === ‘true’) {<br/> // enable dark mode<br/> if(darkmodeflag) {<br/> return console.log(‘dark mode is already enabled’);<br/> }<br/> await darkMode.enable();<br/> console.log(‘Dark mode is enabled…’);<br/> } else {<br/> // disable dark mode<br/> if(!darkmodeflag) {<br/> return console.log(‘dark mode is already disabled’);<br/> }<br/> await darkMode.disable();<br/> console.log(‘Dark mode is disable…’);<br/> }<br/> }</span><span id="33ea" class="ln kb hu lj b fv ls lp l lq lr">//execute the function</span><span id="5f08" class="ln kb hu lj b fv ls lp l lq lr">main();</span></pre><p id="4fab" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您可以通过像这样直接运行index.js文件来测试代码。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="1b53" class="ln kb hu lj b fv lo lp l lq lr">node index.js true // true to switch to dark mode, false to light mode</span></pre><figure class="le lf lg lh fq iv fe ff paragraph-image"><div class="fe ff lt"><img src="../Images/11179d7a6ea7b051129b7fac5426c5ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/0*NSimVejrWWLAyA_C"/></div></figure><p id="08eb" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">或者使用以下命令将其安装到您的计算机中。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="de6c" class="ln kb hu lj b fv lo lp l lq lr">npm i -g</span></pre><p id="5ac9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后从终端或命令提示符运行此命令。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="18f0" class="ln kb hu lj b fv lo lp l lq lr">darkmode true</span></pre><p id="89b3" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">或者切换到照明模式。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="1502" class="ln kb hu lj b fv lo lp l lq lr">darkmode false</span></pre><p id="ad88" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">享受吧。</p><h1 id="c151" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">奖金</h1><p id="dcf0" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">我已经在npm上发布了这个，所以如果你安装了Node.js，你可以使用下面的命令安装命令行包。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="c2dd" class="ln kb hu lj b fv lo lp l lq lr">sudo npm i -g macdarkmode</span></pre><p id="b52a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">安装完成后，运行此命令切换到黑暗模式。</p><p id="1dad" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">Mac将询问您是否允许执行系统级命令，单击确定。</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div class="fe ff lu"><img src="../Images/ddd81d7d102bb4173590aa6269351c8f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1064/0*X3VUwA0oZPiIdKnd"/></div></figure><p id="5e09" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在此之后，Mac主题将根据您的输入命令切换到暗或亮。</p><h1 id="c830" class="ka kb hu bd kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx dt translated">摘要</h1><p id="5708" class="pw-post-body-paragraph jc jd hu je b jf ky jh ji jj kz jl jm jn la jp jq jr lb jt ju jv lc jx jy jz hn dt translated">这个项目是出于无奈而做的，因此没有遵循最佳实践。这只是为了好玩，所以请尽情享受，如果你喜欢，请在评论中告诉我。</p><p id="aded" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="lv">原载于2018年11月22日</em><a class="ae ld" href="https://codeforgeek.com/2018/11/switch-between-light-and-dark-mode-in-macos-mojave-w/" rel="noopener ugc nofollow" target="_blank"><em class="lv">codeforgeek.com</em></a><em class="lv">。</em></p></div></div>    
</body>
</html>