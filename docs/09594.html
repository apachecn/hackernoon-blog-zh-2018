<html>
<head>
<title>Building a Location-based App with React Native</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用React Native构建基于位置的应用程序</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-develop-a-location-based-application-using-react-native-ce819814925d?source=collection_archive---------3-----------------------#2018-11-26">https://medium.com/hackernoon/how-to-develop-a-location-based-application-using-react-native-ce819814925d?source=collection_archive---------3-----------------------#2018-11-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="944c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当我们在要求访问我们位置的弹出窗口上点击“允许”时，会有什么好处？一些应用提供了更好的体验，比如脸书推荐附近的活动。其他——不知道设备位置就无法正常工作，如优步或谷歌地图。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/6d45d976044d7ace024020dcafaf87ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*60ktdEoFKREKlVs1NXeHPw.png"/></div></div></figure><blockquote class="kc kd ke"><p id="4c78" class="ir is jp it b iu iv iw ix iy iz ja jb kf jd je jf kg jh ji jj kh jl jm jn jo hn dt translated">这篇关于<a class="ae ki" href="https://djangostars.com/blog/how-to-develop-a-location-based-application-using-react-native/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=building%20a%20location-based%20app" rel="noopener ugc nofollow" target="_blank">用react native构建基于位置的应用</a>的文章是由Julia Korsun撰写的。</p></blockquote><p id="531b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些基于位置的应用程序使用设备位置来启用和控制一些功能。从送外卖到找我的iPhone，基于位置的应用程序只要知道我们在哪里，就能帮助我们完成日常任务。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kj"><img src="../Images/1f419ce8e6546d57279a2a476238e9db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*V_j918VTUfiRuy96"/></div></div></figure><p id="e286" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">位置可以是主要功能，如Tinder或者辅助，比如在Instagram中:上传照片时，Instagram会给你建议一个地方，这样你就可以标记你的位置。不管是不是主要功能，位置确实提升了用户体验。</p><p id="7554" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本文中，我将告诉您基于位置的应用程序的主要技术组件，您将了解如何使用React Native开发一个应用程序。首先，我简单描述一下React Native，并将其与原生app开发进行比较。然后，我将分享在应用程序中收集和显示位置的方法，最后，在一篇短文中，我将描述一些设计挑战以及React Native如何应对这些挑战。</p><h1 id="ebf1" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">你可能也喜欢</h1><div class="li lj fm fo lk ll"><a href="https://djangostars.com/blog/building-backend-location-based-service/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=youmayalsolike" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab ej"><div class="ln ab lo cl cj lp"><h2 class="bd hv fv z el lq eo ep lr er et ht dt translated">为基于位置的服务构建后端时需要考虑什么</h2><div class="ls l"><h3 class="bd b fv z el lq eo ep lr er et ek translated">如果你快速浏览各种类别的应用程序，如医疗保健、游戏、金融等，就会发现该设备…</h3></div><div class="lt l"><p class="bd b gc z el lq eo ep lr er et ek translated">djangostars.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz ka ll"/></div></div></a></div><h1 id="8dc9" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">基于位置的应用程序开发工具:React Native</h1><p id="8e5c" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">在这一部分，我将简要描述React原生框架，它的优缺点，以及为什么它非常适合构建基于位置的应用程序。React Native是一个开源的JavaScript框架，允许开发人员使用其本机行为创建跨平台的应用程序。</p><p id="c66d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种描述中的行为是什么？让我解释一下。iOS和Android是不同的——它们的界面不同，动画不同，很多东西都不同。为iOS和Android开发相同的应用程序需要开发两个独立的应用程序。这曾经是一个费力的过程，但使用React Native，开发人员只需编写一个代码，就可以在两个平台上正常工作。</p><p id="cd90" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这使得企业可以向iOS和Android用户提供他们的应用程序，这意味着更大的市场份额。这就是为什么许多公司更喜欢React Native——他们负担不起开发两个独立的应用程序，或者对他们的用户使用的是iOS还是Android充满信心。考虑到跨平台市场有可能在2020年增长到800亿美元，这对创业公司来说似乎是一个理性的选择。</p><p id="9215" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">现在，我将解释React Native在开发基于位置的应用程序方面的优缺点。</p><h1 id="8ba2" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">反应本土专业人士</h1><ul class=""><li id="5df4" class="mf mg hu it b iu ma iy mb jc mh jg mi jk mj jo mk ml mm mn dt translated"><strong class="it hv">跨平台。与其为每个系统(iOS和Android)编写单独的代码，不如构建一个来运行它们。你也不设计不同的用户界面和UX。</strong></li><li id="0b4e" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated"><strong class="it hv">高性能。</strong> React Native使用原生控件和模块。代码与相应的本机iOS和Android组件进行交互，并将代码呈现给本机API。本机API是重点——通过使用独立于UI的线程，它提高了应用程序的性能。</li><li id="57e6" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated"><strong class="it hv">开源。</strong>React原生社区每天都在增长，开源组件的数量也在增长。这允许在社区成员之间共享经验，改进框架，并找到现有缺陷的解决方案。所有这些结合起来加速了开发过程。</li><li id="a6d8" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated">它省钱。前三点总结成一个相当大的优势——React Native为您省钱。这比构建两个独立的应用程序更快，因此测试和发布MVP花费的时间更少。</li></ul><p id="94cd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，有些情况下你可能不想使用React Native。</p><p id="fa37" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它们包括:</p><ul class=""><li id="da16" class="mf mg hu it b iu iv iy iz jc mt jg mu jk mv jo mk ml mm mn dt translated"><strong class="it hv">不需要跨平台app。</strong>如果你知道你的受众更喜欢某个特定的平台，我建议你选择原生开发。首先，该应用将被定制以匹配操作系统的细节，其次，你将能够使用平台特定的功能，如ARKit for iOS。</li><li id="8028" class="mf mg hu it b iu mo iy mp jc mq jg mr jk ms jo mk ml mm mn dt translated"><strong class="it hv">你需要比React原生提供更多的API。</strong>我特别不喜欢的一点是React Native支持的原生API数量有限。尽管如此，还是有足够的东西来构建一个基于位置的应用程序。如果您需要其他代码，您可以使用本机代码桥接它们。</li></ul><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kj"><img src="../Images/bbe4da55232b7f74829823a6894a6a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*VXveylzubvi9nF_i"/></div></div></figure><h1 id="0c4a" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">如何收集和显示用户位置</h1><p id="decc" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">这一部分是关于收集和显示位置数据。根据你的应用程序的具体情况，你会选择一种特定的方式。</p><h1 id="6571" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">收集位置数据</h1><p id="c6b4" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">我挑选了三种方法来收集设备位置。</p><p id="d27e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">注意:</em>这是一个通用概述，帮助您了解何时选择每种情况以及它们之间的差异。</p><h1 id="1640" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">使用React本机API</h1><p id="384d" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">有一个<a class="ae ki" href="https://w3c.github.io/geolocation-api/" rel="noopener ugc nofollow" target="_blank">本地JavaScript API </a>可以识别设备的位置。它很容易安装和使用，但有一个'<em class="jp">但</em> ' —它既不在后台工作，也不显示位置提供商(3G，Wi-Fi，GPS)。</p><h1 id="f187" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">反应-本地-背景-地理定位</h1><p id="fbc0" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">它是一个包，可以确定设备在0到1000米(0.6英里)范围内的位置。这需要更多的电池能量，但另一方面，这取决于您配置跟踪位置的频率。该软件包还集成了SQLite —您可以存储记录的位置数据，并通过HTTP将其同步到您的数据库。</p><pre class="jr js jt ju fq mw mx my mz aw na dt"><span id="dbed" class="nb kl hu mx b fv nc nd l ne nf">import { NativeModules, DeviceEventEmitter, PermissionsAndroid } from 'react-native'  <br/>import Config from 'react-native-config'  <br/>import get from 'lodash/get'  <br/>const { GeoLocation } = NativeModules</span><span id="9aac" class="nb kl hu mx b fv ng nd l ne nf">class BackgroundGeoLocation {  <br/>  constructor(token, user_id) {<br/>    this.state = null<br/>  }<br/>  start(dispatch, nextState) {<br/>    this.dispatch = dispatch<br/>    const token = get(nextState, 'session.data.token')<br/>    const user_id = get(nextState, 'user.data.user_id')<br/>    const id = get(nextState, 'user.data.id')<br/>    this.state = {<br/>      user_id,<br/>      token,<br/>    }</span><span id="ded9" class="nb kl hu mx b fv ng nd l ne nf">return PermissionsAndroid.check(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION)<br/>      .then(is_granted =&gt; is_granted === PermissionsAndroid.RESULTS.GRANTED<br/>        ? is_granted<br/>        : PermissionsAndroid.requestMultiple([<br/>          PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION,<br/>          PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION,<br/>        ])<br/>      )<br/>      .then(_ =&gt; PermissionsAndroid.check(PermissionsAndroid.PERMISSIONS.ACCESS_COARSE_LOCATION))<br/>      .then(is_granted =&gt; is_granted === PermissionsAndroid.RESULTS.GRANTED ? true : new Error())<br/>      .then(_ =&gt; setTimeout(() =&gt; GeoLocation.startService(token, user_id, id, `${Config.API_URL}/live/car-tracking/gps-pos/`), 300))<br/>      .catch(e =&gt; console.log(e))<br/>  }<br/>  stop() {<br/>    return GeoLocation.stopService()<br/>      .then(_ =&gt; console.log(_))<br/>  }</span><span id="dd60" class="nb kl hu mx b fv ng nd l ne nf">handleLocationChange(geo) {<br/>    console.log(geo)<br/>  }<br/>}</span><span id="fe09" class="nb kl hu mx b fv ng nd l ne nf">export default BackgroundGeoLocation</span></pre><p id="3328" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">作为一个软件包，它需要定期维护和更新，但是在GitHub上有一个来自软件包创建者的支持频道。</p><p id="e119" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">注:</em>套餐价格:iOS —免费；安卓——一个应用300美元。</p><h1 id="d85d" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">Combo:将本机代码连接到JavaScript API</h1><p id="d17e" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">第一种方法(使用本地JavaScript API)的主要问题可以通过添加本地代码来解决，该代码将在一个单独的线程中启动前台服务。这正是我们在<a class="ae ki" href="https://djangostars.com/case-studies/azyan/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=developing%20our%20food%20delivery" rel="noopener ugc nofollow" target="_blank">开发我们的送餐产品Azyan </a>时所做的。部分原因是，我们选择这种方式是因为React Native可以很容易地将本机代码连接到React Native组件。</p><pre class="jr js jt ju fq mw mx my mz aw na dt"><span id="ba05" class="nb kl hu mx b fv nc nd l ne nf">package com.djangostars.azyan;</span><span id="636d" class="nb kl hu mx b fv ng nd l ne nf">import android.app.Notification;  <br/>import android.app.NotificationChannel;  <br/>import android.app.NotificationManager;  <br/>import android.content.Context;  <br/>import android.content.Intent;  <br/>import android.content.pm.PackageManager;  <br/>import android.location.Criteria;  <br/>import android.location.Location;  <br/>import android.location.LocationManager;  <br/>import android.os.Build;  <br/>import android.support.v4.content.ContextCompat;</span><span id="b97e" class="nb kl hu mx b fv ng nd l ne nf">import com.facebook.react.bridge.Arguments;  <br/>import com.facebook.react.bridge.Promise;  <br/>import com.facebook.react.bridge.ReactApplicationContext;  <br/>import com.facebook.react.bridge.ReactContextBaseJavaModule;  <br/>import com.facebook.react.bridge.ReactMethod;  <br/>import com.facebook.react.bridge.WritableMap;  <br/>import com.facebook.react.bridge.WritableNativeMap;</span><span id="0487" class="nb kl hu mx b fv ng nd l ne nf">/**<br/> * Created by AGulchenko on 5/7/18.<br/> */</span><span id="7c6a" class="nb kl hu mx b fv ng nd l ne nf">public class GeoLocationModule extends ReactContextBaseJavaModule {  <br/>    public static final String CHANNEL_ID = "ExampleService_Channel";<br/>    public GeoLocationModule(ReactApplicationContext reactContext) {<br/>        super(reactContext);<br/>        if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {<br/>            NotificationChannel channel = new NotificationChannel(CHANNEL_ID,"testName", NotificationManager.IMPORTANCE_DEFAULT);<br/>            NotificationManager manager = reactContext.getSystemService(NotificationManager.class);<br/>            manager.createNotificationChannel(channel);<br/>        }<br/>    }</span><span id="7952" class="nb kl hu mx b fv ng nd l ne nf">@Override<br/>    public String getName() {<br/>        return "GeoLocation";<br/>    }</span><span id="c472" class="nb kl hu mx b fv ng nd l ne nf">@ReactMethod<br/>    public void startService(String token, String user_id, String id, String url_string, Promise promise) {<br/>        WritableMap result = Arguments.createMap();<br/>        result.putString("ststus", "success");<br/>        try {<br/>            Intent serviceIntent = new Intent(getReactApplicationContext(), GeoLocationService.class);<br/>            serviceIntent.putExtra("token", token);<br/>            serviceIntent.putExtra("user_id", user_id);<br/>            serviceIntent.putExtra("id", id);<br/>            serviceIntent.putExtra("url_string", url_string);<br/>            getReactApplicationContext().startService(serviceIntent);<br/>            promise.resolve(result);<br/>        } catch (Exception e) {<br/>            e.printStackTrace();<br/>            promise.reject("rrrrr",e);<br/>            return;<br/>        }</span><span id="098a" class="nb kl hu mx b fv ng nd l ne nf">}</span><span id="4c00" class="nb kl hu mx b fv ng nd l ne nf">@ReactMethod<br/>    public void stopService(Promise promise) {<br/>        String result = "Success";<br/>        try {<br/>            Intent serviceIntent = new Intent(getReactApplicationContext(), GeoLocationService.class);<br/>            getReactApplicationContext().stopService(serviceIntent);<br/>        } catch (Exception e) {<br/>            promise.reject(e);<br/>            return;<br/>        }<br/>        promise.resolve(result);<br/>    }</span><span id="1d1f" class="nb kl hu mx b fv ng nd l ne nf">@ReactMethod<br/>    public void getLocation( Promise promise) {<br/>        WritableMap res = Arguments.createMap();<br/>        try {<br/>            LocationManager locationManager = null;</span><span id="92c2" class="nb kl hu mx b fv ng nd l ne nf">locationManager = (LocationManager) this.getReactApplicationContext().getSystemService(Context.LOCATION_SERVICE);<br/>            int permissionCheck = ContextCompat.checkSelfPermission(this.getReactApplicationContext(),<br/>                    android.Manifest.permission.ACCESS_FINE_LOCATION);<br/>            if (permissionCheck == PackageManager.PERMISSION_GRANTED) {<br/>                Criteria criteria = new Criteria();<br/>                String bestProvider = locationManager.getBestProvider(criteria, false);<br/>                Location location = locationManager.getLastKnownLocation(bestProvider);<br/>                if(location != null) {<br/>                    res.putDouble("latitude", location.getLatitude());<br/>                    res.putDouble("longitude", location.getLongitude());<br/>                    promise.resolve(res);<br/>                }</span><span id="87f9" class="nb kl hu mx b fv ng nd l ne nf">}<br/>        } catch (Exception e) {<br/>            promise.reject(e);<br/>            return;<br/>        }<br/>    }<br/>}</span></pre><p id="0854" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">获得访问位置数据的许可有时会带来麻烦，但这些麻烦是可以忍受的。React Native没有太大的麻烦就解决了问题。</p><p id="b47d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不同的系统在不同的阶段要求访问位置数据的权限:iOS在你第一次打开一个应用时要求权限；安卓——下载后。如果我们使用本地代码，这可能会带来麻烦，然而，React Native使用<em class="jp">检查对位置数据的访问</em>模块简化了这个过程。它允许访问位置数据而不触发许可警报。</p><h1 id="ea4b" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">阅读完整的Azyan案例研究:</h1><figure class="jr js jt ju fq jv fe ff paragraph-image"><a href="https://djangostars.com/case-studies/azyan/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=azyan_banner"><div class="fe ff nh"><img src="../Images/fc6109afb604720a5fc4e0d1d04c63a9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCH0LbMYVz3RLz3VoRP3-Q@2x.png"/></div></a></figure><blockquote class="kc kd ke"><p id="9d19" class="ir is jp it b iu iv iw ix iy iz ja jb kf jd je jf kg jh ji jj kh jl jm jn jo hn dt translated"><a class="ae ki" href="https://djangostars.com/blog/how-to-develop-a-location-based-application-using-react-native/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=read%20on%20ds%20blog" rel="noopener ugc nofollow" target="_blank"> <em class="hu">在</em> <strong class="it hv"> <em class="hu"> Django Stars博客上阅读原文。</em> </strong> </a></p></blockquote><h1 id="d47b" class="kk kl hu bd km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh dt translated">显示位置</h1><p id="6318" class="pw-post-body-paragraph ir is hu it b iu ma iw ix iy mb ja jb jc mc je jf jg md ji jj jk me jm jn jo hn dt translated">位置数据并不总是精确的。你一定见过这样的东西:</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff kj"><img src="../Images/0e06fb71479f2bf4df52fda513425470.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*T3XoCiek94nwjpw-"/></div></div></figure><p id="6461" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这是可能发生的原因:该设备从三个来源收集位置数据:Wi-Fi、手机和GPS，后者是最不准确的。我们的设备一直在检查是否有良好的互联网连接。如果没有，设备将启用GPS。如果从4G到GPS有一个快速的飞跃，这个设备就<em class="jp">’</em>丢了。</p><p id="6009" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">为了解决这个问题，我推荐Google的<em class="jp">融合位置客户端</em>。它允许您设置位置数据更新的时间和距离:例如，每50米和每10秒更新一次数据。您将避免嘈杂的数据，因为这个API将所有设备位置与道路和人行道匹配。然而，如果设备离这两者都很远，它就不会有效。</p><p id="1827" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">关于设计的几句话</strong></p><p id="0012" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在这个简短的部分中，我将告诉您构建基于位置的应用程序可能会遇到的障碍，以及如何使用React本地组件来解决它们。</p><p id="8ab9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">React Native允许以简单的方式显示地图。用于<em class="jp">材料设计</em>的It UI组件简化了工程师的工作。我们将使用材料设计来创建一个谷歌地图包装器，然后React Native将根据每个平台的特定功能来调整它们。</p><p id="e0c5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jp">无限列表</em>是React的一个原生特性，可以生成无限的搜索结果列表。在优步，如果你开始输入一个地址，你会得到从你输入的开始的所有目的地。所以试试<em class="jp">第三大道</em>，它会显示周围所有的第三大道。这样的列表并不是无止境的——它们只是在我们向下滚动时载入更多的结果。<em class="jp">平面列表— </em>另一个内置UI组件包括固定的页眉、页脚和搜索分隔符。如果您要从头开始创建这样的结果列表，这将比构建一个完整的React原生应用程序花费更多的时间。</p><pre class="jr js jt ju fq mw mx my mz aw na dt"><span id="4dd4" class="nb kl hu mx b fv nc nd l ne nf">&lt;FlatList  <br/>        data={get(props, 'order.data.items', [])}<br/>        renderItem={listItem}<br/>        keyExtractor={({ id }) =&gt; id}<br/>        style={style.list}<br/>      /&gt;</span><span id="c77d" class="nb kl hu mx b fv ng nd l ne nf">function listItem({ item: { quantity, name } }) {  <br/>  return (<br/>    &lt;View style={style.main}&gt;<br/>      &lt;Text style={[style.count, style.listItemText]}&gt;{quantity}&lt;/Text&gt;<br/>      &lt;Text style={[style.listItemText, style.name]}&gt;{name}&lt;/Text&gt;<br/>    &lt;/View&gt;<br/>  )<br/>}</span></pre><p id="5303" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">底线</strong></p><p id="38d6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果您打算构建一个基于位置的应用程序，React Native可能是正确的选择。如果大部分描述的优势对你来说都是真的，那就去对这项技术及其能力做更深入的研究吧。</p><p id="c745" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我现在鼓励你多关注你使用的应用程序。你会惊讶地发现，大多数人都要求允许进入你的位置。对于许多公司来说，了解用户位置以提供高质量和更面向用户的服务是至关重要的。你为什么不试试？</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><a href="https://djangostars.com/services/mobile-app-development/?utm_source=medium&amp;utm_medium=hackernoon.com&amp;utm_campaign=location-based%20app%20with%20react%20native&amp;utm_content=banner_end"><div class="fe ff ni"><img src="../Images/da4e4e9f8b0e35dad04f65bdac98bbae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Em3kwOGRgu3FLaKpXJGzLw.png"/></div></a></figure><blockquote class="nj"><p id="3f71" class="nk nl hu bd nm nn no np nq nr ns jo ek translated">如果你觉得这篇文章有用，请点击👏下面的按钮:)</p></blockquote></div></div>    
</body>
</html>