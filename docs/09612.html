<html>
<head>
<title>How to Protect Angular Code Against Theft and Reverse-Engineering</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何保护角码免遭盗窃和逆向工程</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/how-to-protect-angular-code-against-theft-and-reverse-engineering-7fe218641afe?source=collection_archive---------21-----------------------#2018-11-26">https://medium.com/hackernoon/how-to-protect-angular-code-against-theft-and-reverse-engineering-7fe218641afe?source=collection_archive---------21-----------------------#2018-11-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/5fdc3e88bac61830707b9e40e584d02a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fcANEG93yLjnVF8T.jpg"/></div></div></figure><p id="b761" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><a class="ae ka" href="https://angular.io/" rel="noopener ugc nofollow" target="_blank"> Angular </a>是最流行的JavaScript框架之一。自2016年Angular 2发布以来，谷歌在短短两年内已经发布了<strong class="je hv"> 5个新的主要版本</strong>。</p><p id="f4c4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这种基于TypeScript的框架能够轻松开发web和移动前端应用程序。</p><p id="28fc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">随着这么多新的Angular应用程序的发布，<strong class="je hv">我们希望确保每个开发人员都可以用最具弹性的混淆和保护形式来轻松保护他们的代码</strong>。</p><p id="b243" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">本教程将在几分钟内解释如何将Jscrambler无缝集成到Angular的构建过程中。如果你是Angular的新手，一定要阅读官方的<a class="ae ka" href="https://angular.io/guide/quickstart" rel="noopener ugc nofollow" target="_blank">快速入门</a>。</p><h1 id="c89c" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">先决条件</h1><p id="ff94" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">将Jscrambler恰当地集成到Angular构建过程中只需要做两件事:<strong class="je hv">创建Angular应用</strong>和<strong class="je hv">配置Jscrambler </strong>。我们将在下面强调这两者。</p><h1 id="5e2e" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">如何创建角度应用程序</h1><p id="71c6" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">出于本教程的目的，我们将使用一个<strong class="je hv"> Angular 7.0 </strong>样板应用程序。如果你正在保护一个使用Angular 5或更早版本构建的应用，请参考我们的<a class="ae ka" href="https://docs.jscrambler.com/code-integrity/frameworks-and-libraries/angular" rel="noopener ugc nofollow" target="_blank">文档</a>。我们还有专门针对AngularJS的<a class="ae ka" href="https://blog.jscrambler.com/how-to-protect-your-angular-js-application-with-jscrambler/" rel="noopener ugc nofollow" target="_blank">教程</a>。</p><p id="9480" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">首先，我们需要使用npm安装Angular CLI:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="67e7" class="ln kc hu lj b fv lo lp l lq lr">npm install -g @angular/cli</span></pre><p id="e932" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ls"> Angular CLI </em>将下载并安装最新Angular版本所需的所有依赖项——在本例中是版本7。</p><p id="6da2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我们准备创建样板应用程序，它将作为本教程的基础。安装完成后，使用<code class="eh lt lu lv lj b">ng</code>命令创建这个新应用程序:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="8aca" class="ln kc hu lj b fv lo lp l lq lr">ng new angular-boilerplate</span></pre><p id="ae14" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在安装过程中，系统会提示您决定是否要添加角度布线，您还可以选择样式表格式。选择最适合您的选项，等待安装完成。出于本教程的考虑，我们使用默认选项。</p><p id="ce9f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，我们可以提供这个新创建的样板应用程序:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="72cb" class="ln kc hu lj b fv lo lp l lq lr">cd angular-boilerplate<br/>ng serve</span></pre><p id="b561" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这就是我们拥有一个实用的<em class="ls"> Angular </em> app所需要的一切。在浏览器中运行应用程序，检查是否一切就绪。默认情况下，它会在<code class="eh lt lu lv lj b"><a class="ae ka" href="http://localhost:4200/." rel="noopener ugc nofollow" target="_blank">http://localhost:4200/</a></code> <a class="ae ka" href="http://localhost:4200/." rel="noopener ugc nofollow" target="_blank">运行。</a></p><p id="9d51" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果您需要更多入门信息，请参考<a class="ae ka" href="https://angular.io/docs" rel="noopener ugc nofollow" target="_blank">官方文档</a>。您也可以运行<code class="eh lt lu lv lj b">ng help</code>来检查所有可用的命令。</p><p id="e1cf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们的<em class="ls"> Angular </em>应用程序的基础项目结构如下:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="9fae" class="ln kc hu lj b fv lo lp l lq lr">angular-boilerplate/<br/>|-- angular.json<br/>|-- package-lock.json<br/>|-- package.json<br/>|-- tsconfig.json<br/>|-- tslint.json<br/>|-- dist/<br/>| |-- angular-boilerplate/<br/>|-- e2e/<br/>| |-- src/<br/>|-- node_modules/<br/>|-- src/<br/>| |-- app/<br/>| |-- assets/<br/>| |-- environments/</span></pre><ul class=""><li id="f0ea" class="lw lx hu je b jf jg jj jk jn ly jr lz jv ma jz mb mc md me dt translated"><code class="eh lt lu lv lj b">angular.json</code>包含工作区中所有项目的所有CLI配置。这里定义了CLI使用的构建、服务和测试工具的选项。</li><li id="17ed" class="lw lx hu je b jf mf jj mg jn mh jr mi jv mj jz mb mc md me dt translated"><code class="eh lt lu lv lj b">package.json</code>包含所有与npm相关的配置，如依赖关系、版本和脚本。</li><li id="c290" class="lw lx hu je b jf mf jj mg jn mh jr mi jv mj jz mb mc md me dt translated"><code class="eh lt lu lv lj b">src</code>目录展示了应用程序的所有源代码。然后构建源代码并打包到<code class="eh lt lu lv lj b">dist</code>目录中。构建完成后，我们受保护的HTML和JavaScript文件将放在这里。</li></ul><h1 id="7ce9" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">如何配置Jscrambler</h1><p id="221b" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">Jscrambler的所有配置将驻留在一个文件中:<code class="eh lt lu lv lj b">.jscramblerrc</code>。因此，我们需要创建这个文件来指定我们希望使用的转换。</p><p id="c873" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">最快的方法是通过Jscrambler网络应用。在那里，创建一个新的应用程序。现在，在<em class="ls">应用模式</em>选项卡中，选择语言规范和应用类型。接下来，选择您想要的转换(检查<em class="ls">模板</em>和<em class="ls">微调</em>选项卡)。在本教程中，我们将选择<em class="ls">模糊</em>模板。如果您在这些步骤中需要帮助，请参考我们的<a class="ae ka" href="https://blog.jscrambler.com/jscrambler-101-how-to-use-the-cli/" rel="noopener ugc nofollow" target="_blank">指南</a>。</p><p id="23fc" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，我们只需下载一个包含所有这些配置的JSON文件，它将只用于快速获得所需的设置。</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div class="fe ff mk"><img src="../Images/8ac07432279a594fd36cde7bca2df6b8.png" data-original-src="https://miro.medium.com/v2/resize:fit:678/format:webp/0*XAP5fzLp3LURNQoZ.png"/></div></figure><p id="af61" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，让我们在Angular项目的根文件夹中创建一个名为<code class="eh lt lu lv lj b">.jscramblerrc</code>的新文件。打开我们刚刚下载的<code class="eh lt lu lv lj b">jscrambler.json</code>文件，将其所有内容复制到<code class="eh lt lu lv lj b">.jscramblerrc</code>文件中。在此之后，我们只需在<code class="eh lt lu lv lj b">.jscramblerrc</code>中添加两个新的区段，即<code class="eh lt lu lv lj b">filesSrc</code>和<code class="eh lt lu lv lj b">filesDest</code>(见下文)。您最终的<code class="eh lt lu lv lj b">.jscramblerrc</code>文件应该是这样的:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="5dfd" class="ln kc hu lj b fv lo lp l lq lr">{<br/> "keys": {<br/>   "accessKey": &lt;ACCESS_KEY_HERE&gt;,<br/>   "secretKey": &lt;SECRET_KEY_HERE&gt;<br/> },<br/> "applicationId": &lt;APP_ID_HERE&gt;,<br/> "filesSrc": [<br/>   "./dist/**/*.html",<br/>   "./dist/**/*.js"<br/> ],<br/> "filesDest": "./",<br/> "params": [<br/>   {<br/>     "name": "whitespaceRemoval"<br/>   },<br/>   {<br/>     "name": "identifiersRenaming",<br/>     "options": {<br/>       "mode": "SAFEST"<br/>     }<br/>   },<br/>   {<br/>     "name": "dotToBracketNotation"<br/>   },<br/>   {<br/>     "name": "deadCodeInjection"<br/>   },<br/>   {<br/>     "name": "stringConcealing"<br/>   },<br/>   {<br/>     "name": "functionReordering"<br/>   },<br/>   {<br/>     "options": {<br/>       "freq": 1,<br/>       "features": [<br/>         "opaqueFunctions"<br/>       ]<br/>     },<br/>     "name": "functionOutlining"<br/>   },<br/>   {<br/>     "name": "propertyKeysObfuscation"<br/>   },<br/>   {<br/>     "name": "regexObfuscation"<br/>   },<br/>   {<br/>     "name": "booleanToAnything"<br/>   }<br/> ],<br/> "areSubscribersOrdered": false,<br/> "applicationTypes": {<br/>   "webBrowserApp": true,<br/>   "desktopApp": false,<br/>   "serverApp": false,<br/>   "hybridMobileApp": false,<br/>   "javascriptNativeApp": false,<br/>   "html5GameApp": false<br/> },<br/> "languageSpecifications": {<br/>   "es5": true,<br/>   "es6": false,<br/>   "es7": false<br/> },<br/> "useRecommendedOrder": true,<br/> "jscramblerVersion": "5.&lt;X&gt;"<br/>}</span></pre><p id="9a6b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">因为我们是通过Jscrambler Web应用程序直接获得这些信息的，所以我们的<code class="eh lt lu lv lj b">accessKey</code>、<code class="eh lt lu lv lj b">secretKey</code>和<code class="eh lt lu lv lj b">applicationId</code>字段已经被填充了。如果您希望手动检索它们，请参考我们的<a class="ae ka" href="https://blog.jscrambler.com/jscrambler-101-first-use/" rel="noopener ugc nofollow" target="_blank">指南</a>。</p><p id="418f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">值得注意的是，<code class="eh lt lu lv lj b">params</code>部分指定了将用于保护Angular应用程序的变换。<strong class="je hv">您可以通过在Web应用程序中选择或手动设置来手动选择这些选项</strong>。您可以在这里找到所有可用转换的文档。</p><p id="670e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">您也可以更改<code class="eh lt lu lv lj b">filesSrc</code>来匹配您需要/想要保护的文件。对于我们的例子——以及所有Angular应用——我们建议保护所有的<code class="eh lt lu lv lj b">.html</code>和<code class="eh lt lu lv lj b">.js</code>文件。当然，随着对项目的更好理解，你可以确定什么是关键的和必要的保护。</p><p id="2f0f" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过使用<code class="eh lt lu lv lj b">filesDest: './'</code>，我们发送保护的文件将被它们的受保护版本覆盖。</p><h1 id="124b" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">在构建过程中集成Jscrambler</h1><p id="6c86" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">将Jscrambler集成到Angular构建过程中有两种主要方式:<strong class="je hv"> Angular CLI </strong>和<strong class="je hv"> Webpack </strong>。我们将在下面讨论这两个问题。</p><h1 id="063a" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">通过Angular CLI集成Jscrambler</h1><p id="0919" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">使用Angular CLI可能是生成您的构建的最常见方式。我们将使用样板应用程序来展示如何将Jscrambler集成到构建过程中。</p><p id="1838" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们与<em class="ls"> Jscrambler </em>集成的第一步是安装<a class="ae ka" href="https://github.com/jscrambler/jscrambler/tree/master/packages/jscrambler-cli" rel="noopener ugc nofollow" target="_blank"> Jscrambler API客户端</a>。只需运行:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="d6a0" class="ln kc hu lj b fv lo lp l lq lr">npm install jscrambler --save-dev</span></pre><p id="b03a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了通过Angular CLI将Jscrambler集成到我们应用程序的构建过程中，我们需要在<code class="eh lt lu lv lj b">package.json</code>的<em class="ls">脚本</em>部分创建一个CLI钩子。该部分应该如下所示:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="492e" class="ln kc hu lj b fv lo lp l lq lr">"scripts": {<br/>  "ng": "ng",<br/>  "start": "ng serve",<br/>  "build": "ng build",<br/>  "build:prod": "ng build --prod &amp;&amp; jscrambler",<br/>  "test": "ng test",<br/>  "lint": "ng lint",<br/>  "e2e": "ng e2e"<br/>},</span></pre><p id="d46e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">特定的<code class="eh lt lu lv lj b">"build:prod": "ng build --prod &amp;&amp; jscrambler"</code>钩子将在构建过程完成后触发<code class="eh lt lu lv lj b">jscrambler</code>命令。</p><p id="8fd5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了使这个命令可执行，<strong class="je hv">我们需要将之前创建的</strong> <code class="eh lt lu lv lj b"><strong class="je hv">.jscramblerrc</strong></code> <strong class="je hv">文件放在我们项目的根文件夹</strong>中。</p><p id="1e40" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">我们现在已经准备好通过Angular CLI保护我们的代码并构建我们的应用程序:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="1d3c" class="ln kc hu lj b fv lo lp l lq lr">npm run build:prod</span></pre><p id="d397" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这将在<code class="eh lt lu lv lj b">dist/&lt;app-name&gt;</code>上创建生产文件。</p><p id="706a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">你完了！现在，您所有的HTML和JavaScript文件都受到Jscrambler的保护，可以防止代码窃取和逆向工程。</p><h1 id="b4bc" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">通过Webpack集成Jscrambler</h1><p id="1120" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">随着Angular 6和更高版本不再使用<code class="eh lt lu lv lj b">ng eject</code>命令，要使用Webpack构建过程，您必须使用angular-builder扩展底层构建配置。</p><p id="01d5" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">在本教程中，我们将使用<a class="ae ka" href="https://github.com/meltedspark/angular-builders/tree/master/packages/custom-webpack#custom-webpack-config-object" rel="noopener ugc nofollow" target="_blank"> custom-webpack </a> builder，但也可以随意使用任何其他方法，只要您认为它更适合您的用例。</p><p id="d049" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">让我们安装构建器:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="4ee5" class="ln kc hu lj b fv lo lp l lq lr">npm i -D @angular-builders/custom-webpack</span></pre><p id="a7bf" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这样做之后，我们现在应该创建我们的Webpack配置文件，该文件将被合并到内置配置中。对于开发和生产版本，您可能希望至少有两种不同的配置。</p><p id="8c9d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">对于我们的生产配置，我们将只包括<a class="ae ka" href="https://github.com/jscrambler/jscrambler/tree/master/packages/jscrambler-webpack-plugin" rel="noopener ugc nofollow" target="_blank"> Jscrambler Webpack插件</a>，它应该使用以下命令安装:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="d95f" class="ln kc hu lj b fv lo lp l lq lr">npm i --save-dev jscrambler-webpack-plugin</span></pre><p id="6b2b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了简单起见，我们将开发webpack配置留空，最终的生产配置如下所示:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="0235" class="ln kc hu lj b fv lo lp l lq lr">const JscramblerWebpack = require('jscrambler-webpack-plugin');</span><span id="a87b" class="ln kc hu lj b fv ml lp l lq lr">module.exports = {<br/>  plugins: [<br/>    new JscramblerWebpack({<br/>     chunks: ['main']<br/>    })<br/>  ]<br/>};</span></pre><p id="5938" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><strong class="je hv">注意，我们只保护包含所有应用程序逻辑的主块</strong>。</p><p id="65ad" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">为了开始使用这些新的webpack配置，我们将更新<code class="eh lt lu lv lj b">angular.json</code>文件上的构建选项。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="71e8" class="ln kc hu lj b fv lo lp l lq lr">...<br/> "architect": {<br/>   "build": {<br/>     "builder": "<a class="ae ka" href="http://twitter.com/angular" rel="noopener ugc nofollow" target="_blank">@angular</a>-builders/custom-webpack:browser",<br/>     "options": {<br/>       "customWebpackConfig": {<br/>         "path": "./extra-webpack.config.js"<br/>        },<br/>        …<br/>     },<br/>     "configurations": {<br/>       "production": {<br/>         "customWebpackConfig": {<br/>           "path": "./extra-webpack.config.prod.js"<br/>         },<br/>         …<br/>         "vendorChunk": true,<br/>   ...</span></pre><p id="25b2" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过将<code class="eh lt lu lv lj b">vendorChunk</code>标志设置为true，所有的供应商内容将被生成到一个单独的包文件中。这是可选的。</p><p id="8fa9" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">相应地更新用于生产的<code class="eh lt lu lv lj b">package.json</code>构建脚本，它应该如下所示:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="be57" class="ln kc hu lj b fv lo lp l lq lr">"scripts": {<br/>  "ng": "ng",<br/>  "start": "ng serve",<br/>  "build": "ng build",<br/>  "build:prod": "ng build --prod",<br/>  "test": "ng test",<br/>  "lint": "ng lint",<br/>  "e2e": "ng e2e"<br/>},</span></pre><p id="7348" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">通过这些步骤，产品构建<code class="eh lt lu lv lj b">npm run build:prod</code>将使用Jscrambler Webpack客户端来保护您的代码，并使用之前定义的<code class="eh lt lu lv lj b">.jscramblerrc</code>。</p><h1 id="695d" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">测试受保护的Angular应用</h1><p id="d53b" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated">您可以对新保护的应用程序进行测试，以检查一切是否运行成功。为此，您首先需要安装一个本地服务器，应用程序可以在其中运行:</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="c4a3" class="ln kc hu lj b fv lo lp l lq lr">npm install http-server -g</span></pre><p id="dc5d" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">然后，你需要设置你的Angular应用程序的文件在这个本地服务器上运行。</p><pre class="le lf lg lh fq li lj lk ll aw lm dt"><span id="32b8" class="ln kc hu lj b fv lo lp l lq lr">http-server ./dist/angular-boilerplate/</span></pre><p id="722e" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，您应该能够在终端上看到，您可以在两个端口上运行这个服务器。一个是公开可用的，另一个是特定于您的机器的。</p><p id="83d7" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">打开提供的URL，您的应用程序将在浏览器中启动。</p><p id="c6a4" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">现在，您可以查看受保护文件的外观。这可以简单地通过打开浏览器的调试器并从“Sources”选项卡打开文件来实现。受保护的代码应该如下所示:</p><figure class="le lf lg lh fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff mm"><img src="../Images/19724616876db7e6f514674186c989bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*fysrWx1tVzcZXYPE.jpg"/></div></div></figure><h1 id="3170" class="kb kc hu bd kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky dt translated">结论</h1><p id="3e63" class="pw-post-body-paragraph jc jd hu je b jf kz jh ji jj la jl jm jn lb jp jq jr lc jt ju jv ld jx jy jz hn dt translated"><em class="ls"> Angular </em>是一个流行且不断发展的框架，<strong class="je hv">使开发者能够通过利用数据绑定、服务和依赖注入的约定来创建可靠的web和移动应用</strong>。</p><p id="5134" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">如果你正在构建需要防止代码窃取、逆向工程、盗版、授权违规甚至恶意软件注入的应用程序，Jscrambler是一个重要的补充。</p><p id="3e9b" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">正如我们已经展示的，将Jscrambler集成到Angular的构建过程中是非常简单的。如果您需要更多帮助，请随时<a class="ae ka" href="mailto:support@jscrambler.com" rel="noopener ugc nofollow" target="_blank">联系我们</a>！</p></div><div class="ab cl mn mo hc mp" role="separator"><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms mt"/><span class="mq bw bk mr ms"/></div><div class="hn ho hp hq hr"><p id="51ca" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated"><em class="ls">最初发表于</em><a class="ae ka" href="https://blog.jscrambler.com/how-to-protect-angular-code-against-theft-and-reverse-engineering/" rel="noopener ugc nofollow" target="_blank"><em class="ls">blog.jscrambler.com</em></a><em class="ls">。</em></p></div></div>    
</body>
</html>