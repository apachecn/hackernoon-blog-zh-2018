<html>
<head>
<title>Build Android Chatbot with Dialogflow (API.ai)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Dialogflow (API.ai)构建Android聊天机器人</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/build-android-chatbot-with-dialogflow-api-ai-97d15eefe6?source=collection_archive---------2-----------------------#2018-11-27">https://medium.com/hackernoon/build-android-chatbot-with-dialogflow-api-ai-97d15eefe6?source=collection_archive---------2-----------------------#2018-11-27</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="0033" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在本文中，我们将分享将<a class="ae jp" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> dialogflow </a> chatbot集成到您的<a class="ae jp" href="https://hackernoon.com/tagged/android" rel="noopener ugc nofollow" target="_blank"> Android </a>应用程序中的步骤。为android应用程序构建一个示例<a class="ae jp" href="https://hackernoon.com/tagged/chatbot" rel="noopener ugc nofollow" target="_blank">聊天机器人</a>只需要<a class="ae jp" href="https://dialogflow.com/" rel="noopener ugc nofollow" target="_blank"> Dialogflow </a>和<a class="ae jp" href="https://www.kommunicate.io/" rel="noopener ugc nofollow" target="_blank">komunicate。</a></p><p id="77c9" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">下面是一个使用Dialogflow在android中开发的<strong class="it hv">komunicate支持机器人</strong>的例子。我们实际上在我们的网站上使用这个机器人。如果你想看机器人的现场表演，点击<a class="ae jp" href="https://www.kommunicate.io/" rel="noopener ugc nofollow" target="_blank">这里</a>。</p><p id="47ff" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">可操作的富消息驱动的机器人可以根据用户是否在聊天中进行一般查询、技术查询或安排演示来回复。</p><p id="b48f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">创建免费聊天机器人</strong> </a></p><p id="319f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">您可以使用现有的dialogflow bot或checkout <a class="ae jp" href="https://docs.kommunicate.io/docs/bot-samples" rel="noopener ugc nofollow" target="_blank"> bot samples </a>来构建自己的合格bot。从<a class="ae jp" href="https://docs.kommunicate.io/samples/kommunicate-support-bot-sample.zip" rel="noopener ugc nofollow" target="_blank">这里</a>下载通信支持机器人，并导入到你的Dialogflow账户。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/40341f2fe964c72e5e95328845a01aa4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ADlkuKcKt0RMCn20.png"/></div></div></figure><h1 id="779c" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">第一步:在<a class="ae jp" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank">通信</a>中设置一个账户</h1><p id="b1a9" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">这相当简单。你可以在<a class="ae jp" href="https://www.kommunicate.io" rel="noopener ugc nofollow" target="_blank">com municate</a>获得一个免费账号。注册并导航到<a class="ae jp" href="https://dashboard.kommunicate.io/bot" rel="noopener ugc nofollow" target="_blank">机器人部分</a>。点击对话框中的<strong class="it hv">设置</strong>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lf"><img src="../Images/d107e9aa33d3a9472fce9a9fac2e684a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1230/format:webp/0*GhcNpEAnm94Zica5.png"/></div></figure><p id="154d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">上传您的Dialogflow提供的客户端密钥。如果您使用的是Dialogflow V1，您可以复制粘贴您的客户端和开发令牌。不过，我们建议使用Dialogflow V2获得最新的功能。</p><h1 id="3ec6" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">第二步:将Dialogflow集成的Android聊天机器人SDK安装到您的应用程序中</h1><h1 id="43de" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">将Android SDK添加到您的应用中</h1><p id="3d71" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">在你的Android应用中安装Kommunicate既简单又快捷。Kommunicate SDK附带预配置的dialogflow集成。</p><p id="8937" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">安装</strong></p><pre class="jr js jt ju fq lg lh li lj aw lk dt"><span id="ad83" class="ll kd hu lh b fv lm ln l lo lp"><strong class="lh hv">implementation</strong> 'io.kommunicate:kommunicate:1.9.0'</span></pre><p id="d3d0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">初始化SDK<br/></strong>Gradle sync完成通信依赖后，您可以通过调用以下方法来初始化SDK:</p><pre class="jr js jt ju fq lg lh li lj aw lk dt"><span id="4ec7" class="ll kd hu lh b fv lm ln l lo lp">Kommunicate.init(context, APP_ID);</span></pre><p id="acb5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">你可以在<a class="ae jp" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank">通信仪表板</a>上注册获得APP_ID。<br/>如需完整文档，请参考此处的<a class="ae jp" href="https://docs.kommunicate.io/docs/android-installation" rel="noopener ugc nofollow" target="_blank"/>。</p><h1 id="f184" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">带有Dialogflow聊天机器人的示例Android应用程序</h1><p id="cb30" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">这是一个集成了dialogflow聊天机器人的android应用程序示例。<a class="ae jp" href="https://github.com/Kommunicate-io/Kommunicate-Android-Chat-SDK" rel="noopener ugc nofollow" target="_blank">下载</a>并在android studio中运行。</p><h1 id="72f4" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">第三步:使用Dialogflow集成聊天机器人启动Android聊天应用程序</h1><p id="3abb" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">现在，您可以通过聊天屏幕向dialogflow发送有效负载，并从Dialogflow代理获得文本响应。<br/>komunicate提供了一个现成的聊天用户界面，因此在这一步中只需要启动聊天屏幕。</p><p id="0911" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"><strong class="it hv">30天免费试用</strong> </a></p><p id="0de6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">以下是使用Dialogflow bot启动聊天的说明:</p><pre class="jr js jt ju fq lg lh li lj aw lk dt"><span id="a446" class="ll kd hu lh b fv lm ln l lo lp">List&lt;String&gt; agentList = new ArrayList();<br/>agentList.add("agent1@yourdomain.com"); //add your agentID</span><span id="ac5a" class="ll kd hu lh b fv lq ln l lo lp">List&lt;String&gt; botList = new ArrayList();<br/>botList.add("bot1"); //enter your integrated bot Ids</span><span id="7b66" class="ll kd hu lh b fv lq ln l lo lp">Kommunicate.launchSingleChat(context, "Support", Kommunicate.getVisitor(), false, true, agentList, botList, new KmCallback(){<br/>                    @Override<br/>                    public void onSuccess(Object message) {<br/>                        Log.d(context, "ChatLaunch", "Success : " + message);<br/>                    }</span><span id="0ef3" class="ll kd hu lh b fv lq ln l lo lp">@Override<br/>                    public void onFailure(Object error) {<br/>                        Log.d(context, "ChatLaunch", "Failure : " + error);<br/>                    }<br/>                });</span></pre><p id="e101" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅此而已！运行Android应用程序并与Dialogflow bot聊天。您可以通过几个简单的步骤轻松地将Dialogflow集成到Android应用程序中。如果您需要更多信息，您可以查看<a class="ae jp" href="https://docs.kommunicate.io/docs/android-installation" rel="noopener ugc nofollow" target="_blank">通信文档。</a></p><h1 id="546d" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">Dialogflow Android SDK</h1><p id="94c8" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">Dialogflow提供了Android客户端SDK，可以轻松地将语音识别与API集成在一起。Android设备上的AI自然语言处理API。如果您希望开发自己的聊天实现，并在不使用kommunicate SDK的情况下将dialogflow直接集成到您的android应用程序中，请集成以下SDK。<br/><a class="ae jp" href="https://github.com/dialogflow/dialogflow-android-client" rel="noopener ugc nofollow" target="_blank">Github—dialog flow Android客户端SDK </a></p><p id="07fa" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在此阅读有关dialogflow和bot集成的更多信息:</p><ol class=""><li id="4b6e" class="lr ls hu it b iu iv iy iz jc lt jg lu jk lv jo lw lx ly lz dt translated"><a class="ae jp" href="https://www.kommunicate.io/blog/how-to-integrate-bot-using-dialogflow-in-kommunicate-1ac32911a7d0/" rel="noopener ugc nofollow" target="_blank">将Dialogflow (Api.ai) Bot集成到网站</a></li><li id="c7c9" class="lr ls hu it b iu ma iy mb jc mc jg md jk me jo lw lx ly lz dt translated"><a class="ae jp" href="https://www.kommunicate.io/blog/beginners-guide-to-creating-chatbots-using-dialogflow/" rel="noopener ugc nofollow" target="_blank">使用Dialogflow创建聊天机器人的初学者指南</a></li></ol><p id="a169" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae jp" href="https://dashboard.kommunicate.io/signup" rel="noopener ugc nofollow" target="_blank"> <strong class="it hv">免费试用</strong> </a></p><p id="b2a1" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">本文原载<a class="ae jp" href="https://www.kommunicate.io/blog/build-chatbot-with-dialogflow-android-sdk/" rel="noopener ugc nofollow" target="_blank">此处</a>。</p><figure class="jr js jt ju fq jv"><div class="bz el l di"><div class="mf mg l"/></div></figure></div></div>    
</body>
</html>