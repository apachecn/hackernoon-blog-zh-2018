<html>
<head>
<title>What is Serverless — Part 4: Fission — An Open Source Serverless Framework for Kubernetes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">什么是无服务器——第4部分:裂变Kubernetes的开源无服务器框架</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/what-is-serverless-part-4-fission-an-open-source-serverless-framework-for-kubernetes-7f025517774a?source=collection_archive---------15-----------------------#2018-11-30">https://medium.com/hackernoon/what-is-serverless-part-4-fission-an-open-source-serverless-framework-for-kubernetes-7f025517774a?source=collection_archive---------15-----------------------#2018-11-30</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><figure class="fi fk is it iu iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff ir"><img src="../Images/a149995b6af196fd36b826fc5b1e3f97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*YBn6O5KDWBI3KCcv.jpg"/></div></div></figure><p id="747a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">这是一个由5部分组成的博客系列。参见<a class="ae ka" href="https://platform9.com/blog/what-is-serverless-and-what-it-means-for-you-part-1/" rel="noopener ugc nofollow" target="_blank">第一部分</a>、<a class="ae ka" href="https://platform9.com/blog/what-is-serverless-part-2-challenges-and-considerations-for-choosing-the-right-serverless-solution/" rel="noopener ugc nofollow" target="_blank">第二部分</a>和<a class="ae ka" href="https://platform9.com/blog/what-is-serverless-part-3-kubernetes-and-serverless/" rel="noopener ugc nofollow" target="_blank">第三部分</a>。</p></div><div class="ab cl kb kc hc kd" role="separator"><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg kh"/><span class="ke bw bk kf kg"/></div><div class="hn ho hp hq hr"><p id="4b1a" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">裂变是一个用于无服务器功能的Kubernetes原生开源框架。有了这个免费的功能即服务(FaaS)解决方案，开发人员可以轻松地编码、部署和操作无服务器应用程序，这些应用程序从一开始就是生产就绪的——而无需了解任何关于Kubernetes的知识。它还允许It运营人员在自己的后院(在任何基础架构上)实现类似Lambda的体验(来自AWS的无服务器服务),而没有锁定风险或产生额外的云成本。</p><p id="83e1" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">由Platform9和Kubernetes社区中的其他贡献者构建，裂变专注于开发人员生产力和加速价值实现。裂变使开发人员能够编写高效、可移植和高性能的无服务器应用程序，这些应用程序可以在任何Kubernetes集群上即时运行——无论是在本地还是在云中。</p><h1 id="779d" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">无服务器开发人员工作流程:</h1><ol class=""><li id="7def" class="lg lh hu je b jf li jj lj jn lk jr ll jv lm jz ln lo lp lq dt translated">开发人员很容易用任何语言编写短命的函数</li><li id="391f" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">将它们映射到触发器(消息队列、计时器、HTTP请求或其他事件触发器)</li><li id="e320" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">这些功能可以立即部署到Kubernetes集群上——无需构建容器，无需管理Docker注册中心。</li><li id="5139" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">当一个事件触发该函数时，它会随所需的底层基础设施一起被实例化。</li><li id="cb7f" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">当函数空闲了一段时间(可配置的)后，就会释放资源。</li></ol><h1 id="4d42" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">裂变架构:</h1><figure class="lx ly lz ma fq iv fe ff paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="fe ff lw"><img src="../Images/a767a223d42be036d3f3af77b563cbe7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Y5-yIK01bRH3N7vO.png"/></div></div></figure><p id="d166" class="pw-post-body-paragraph jc jd hu je b jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv jw jx jy jz hn dt translated">裂变建筑</p><ol class=""><li id="6c23" class="lg lh hu je b jf jg jj jk jn mb jr mc jv md jz ln lo lp lq dt translated">裂变被设计成一组微服务。控制器跟踪功能、HTTP路由、事件触发器和环境图像。池管理器(poolmgr)管理空闲环境容器的池，将函数加载到这些容器中，并在它们空闲时终止函数实例。路由器接收HTTP请求，并将它们路由到函数实例，如果需要，从池管理器请求一个实例。</li><li id="f11e" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">控制器服务于裂变API。所有其他组件都监视控制器的更新。路由器被公开为负载平衡器或节点端口类型的Kubernetes服务，这取决于Kubernetes集群所在的位置。当路由器收到一个请求时，它会在缓存中查找这个请求是否已经有了它应该路由到的服务。如果没有，它将查找请求映射到的函数，并向poolmgr请求一个实例。poolmgr有一个空闲pod池；它选择一个，将函数装入其中(通过向pod中的sidecar容器发送请求)，并将pod的地址返回给路由器。路由器通过代理将请求发送到此pod。pod被缓存起来以供后续请求使用，如果它闲置了几分钟，就会被终止。</li><li id="68f8" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">裂变支持在任何Kubernetes集群上轻松部署无服务器功能。函数执行逻辑上离散的短期任务，可用于部署简单的应用程序。</li><li id="0600" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">利用无服务器范例开发更复杂的应用程序需要组合交互的无服务器功能。这通常是一个复杂而耗时的过程。裂变工作流可以轻松编排一系列无服务器功能来创建应用程序，从而显著加快无服务器应用程序的创建。</li><li id="8309" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">工作流通过定义一系列任务、决策和循环，提供了一种集成和组合无服务器功能的优雅方式。函数可以按顺序或并行组合。一个函数的输出可以发送到另一个函数的输入，“if”语句、循环，甚至是对其他函数进行操作的函数。</li><li id="a640" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">通过Fluentd和InfluxDB支持裂变日志记录。裂变使用一个Fluentd配置，使它从任何裂变荚源日志，并把它们放在一个数据库InfluxDB。得益于InfluxDB，用户默认情况下不需要安装整个ELK栈，而且它是轻量级的，部署起来也很简单。您可以从裂变CLI查询日志，“裂变功能日志–名称…”。</li><li id="60ab" class="lg lh hu je b jf lr jj ls jn lt jr lu jv lv jz ln lo lp lq dt translated">通过Prometheus支持监控，显示函数调用计数、错误计数、调用持续时间、(直方图)调用开销、响应大小、冷启动、函数存活时间等指标。</li></ol><h1 id="3884" class="ki kj hu bd kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf dt translated">要了解更多关于裂变的知识，并安装开源框架亲自试用，请访问<a class="ae ka" href="https://fission.io/" rel="noopener ugc nofollow" target="_blank">https://fission.io/</a></h1><p id="7b08" class="pw-post-body-paragraph jc jd hu je b jf li jh ji jj lj jl jm jn me jp jq jr mf jt ju jv mg jx jy jz hn dt translated">在本系列的最后一部分，我们将回顾常见类型的无服务器应用程序的参考体系结构，以及如何从一些非常适合无服务器功能的用例开始。</p></div></div>    
</body>
</html>