<html>
<head>
<title>Two pillars of automated testing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">自动化测试的两大支柱</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/two-pillars-of-automated-testing-13d0c2c6a7c?source=collection_archive---------2-----------------------#2018-12-05">https://medium.com/hackernoon/two-pillars-of-automated-testing-13d0c2c6a7c?source=collection_archive---------2-----------------------#2018-12-05</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="8a21" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当你的团队被要求<a class="ae jp" href="https://www.xkcd.com/1428/" rel="noopener ugc nofollow" target="_blank">快速行动并打破常规</a>时，方法论的纯粹性会很快让位于冲刺速度的实用主义。然而，这句话——曾经是脸书的信条——并不意味着我们可以在质量保证部门冒险。这实际上是对我们的一个告诫，要睁开眼睛去寻找新的机会，而不是闭上眼睛，祈祷事情会保持不变。这是一种具有颠覆性的战斗口号，要求快速尝试(并在必要时抛弃)新事物。</p><p id="cfa4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这些与测试和QA有什么关系？</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff jq"><img src="../Images/d52380be9337cbbfdaf3fddebf245583.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RO9SC_W-ZTz3_NfFAIeQMQ.jpeg"/></div></div></figure><p id="9145" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">相当多。根据我们的经验，QA是开发领域中进展最慢的学科之一。这适用于市场的供应方和需求方。新的测试技术很少能在第一时间进入市场。同样，产品团队没有能力、时间和意愿去寻找新工具也不常见。这并不奇怪，因为许多QA团队有一个测试库语料库，他们不能简单地忘记。</p><p id="9355" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这些都是为了鼓励你去了解一个叫做<a class="ae jp" href="https://www.cypress.io/" rel="noopener ugc nofollow" target="_blank"> Cypress </a>的测试框架，它惹怒了市场领导者<a class="ae jp" href="https://www.seleniumhq.org/" rel="noopener ugc nofollow" target="_blank"> Selenium </a>的几根羽毛。你可能听说过。就时间而言，Cypress刚刚离开Beta，我们认为这将是对比两个框架采取的非常不同的方法的一个合适的时机。在本帖中，我们将回顾它们的主要区别，其中大部分源于开发人员做出的一组较小的设计选择。</p><h1 id="81a6" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">历史速成班</h1><p id="254b" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">Selenium最初是由Jason Huggins在2004年开发的，从那以后一直在维护和更新，以应对技术的变化。一路走来，一个超级团队围绕着这项技术。Cypress是由Brian Mann和他的超级团队开发的，它的第一次提交是在四年前。Selenium和Cypress现在都是<a class="ae jp" href="https://github.com" rel="noopener ugc nofollow" target="_blank">开源</a>。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lf"><img src="../Images/7994fdd23738fb2d5fe2f3a8946b16e2.png" data-original-src="https://miro.medium.com/v2/resize:fit:400/0*4kvLX4YDsrVgDDGG"/></div></figure><figure class="jr js jt ju fq jv fe ff paragraph-image"><div class="fe ff lg"><img src="../Images/4cda1bbadc68abd99f42eeb9ac9a86bc.png" data-original-src="https://miro.medium.com/v2/resize:fit:806/0*NrXa2pXwP7ump_QJ"/></div></figure><h1 id="0188" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">体系结构</h1><p id="80d7" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">从架构上来说，这两者是截然相反的，正是这些架构上的差异可能会影响你的偏好，而不是其他任何东西。</p><p id="311f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Selenium由一个名为WebDriver的组件组成，该组件可以管理和控制一个(特定的)浏览器，以及一组确定用哪种语言编写测试的绑定。当测试运行时，至少涉及三个过程:</p><ul class=""><li id="7086" class="lh li hu it b iu iv iy iz jc lj jg lk jk ll jo lm ln lo lp dt translated">网络驱动</li><li id="485e" class="lh li hu it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp dt translated">浏览器驱动程序</li><li id="0ae4" class="lh li hu it b iu lq iy lr jc ls jg lt jk lu jo lm ln lo lp dt translated">浏览器本身</li></ul><p id="9656" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">众所周知，这些进程之间的网络开销会导致测试执行缓慢。即使您在同一台机器上运行所有的东西，网络开销仍然存在——在本地，Selenium使用127.0.0.1环回接口。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lv"><img src="../Images/37d0e67eb47303ddd636cc29363276b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8r6RwRzjPOIYtA1nbWkxQ.jpeg"/></div></div></figure><p id="2eeb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Cypress采用了一种不同的方法，并作为一个单一的整体应用程序来提供——您需要做的唯一选择是通过npm还是以独立模式安装它。选择npm可以让您访问测试套件中的其他生态系统——实际上在Cypress的后面是Node.js服务器进程(在独立模式下，它是嵌入式的)。大多数人选择npm路线，但独立模式可能适合在评估时进行短暂的访问。</p><p id="c335" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Cypress在浏览器内部运行测试<em class="lw"/>并且可以访问DOM，甚至是测试中的应用程序，这种配置除了其他方面之外，还能让它运行得非常快。但是不要忘记，拥有后端Node.js进程意味着它也可以在浏览器之外执行需要更高权限的任务。这意味着与后端进程(如数据库或另一个服务器)进行通信需要一些额外的工作。</p><p id="9dd5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这种取舍意味着Cypress只能支持JavaScript，永远不会支持其他的，而Selenium目前有Java、C#、Ruby、Python和JavaScript (node)的绑定，目前在Alpha中。对于一些人来说，这将是一个杀手级的特性，也可能是一些团队不得不立即拒绝Cypress的原因。</p><h1 id="61e1" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">火花</h1><p id="f90c" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">古怪的测试——在完全相同的应用程序状态下可能通过也可能失败的测试——是测试人员和<a class="ae jp" href="https://www.a1qa.com/services/testing_automation/" rel="noopener ugc nofollow" target="_blank"> QA工程师</a>的克星。Cypress用重试和超时逻辑包装所有的DOM查询，开发者声称这种逻辑对真正的web应用更有效，导致了<em class="lw">测试片</em>的大量减少。</p><p id="5404" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Cypress团队还声称，尽管Selenium在支持今天的web方面取得了令人印象深刻的进展，但Cypress对现代异步单页面应用程序的支持使其更适合当前的开发工作流和应用程序设计模式。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff lx"><img src="../Images/f52c1415ca94041030c449af4edce256.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*H-sVpwEOco-03_Xn3BTrng.jpeg"/></div></div></figure><h1 id="d485" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">代码、库和入门</h1><p id="2342" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">Selenium和Cypress都要求用编程语言编写测试。这听起来可能是显而易见的，但是有一些测试产品使用其他模型，例如，通过基于GUI的测试记录器。在Cypress的例子中，语言必须是JavaScript。抛开语言战争不谈，Selenium提供了一种选择，而且，正确地说，它更像是一个库，而不是像Cypress这样的框架。Selenium继续与许多单元测试框架和断言库很好地集成，而使用Cypress，选择仅限于Mocha、Chai和Sinon。</p><p id="8e59" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">因此，开箱即用的Cypress更容易上手，因为所有东西都已经捆绑在一起了。Selenium需要做更多的准备，考虑哪些配套技术最适合您的用例。这不是一个巨大的减速带，但它可能会有所不同，尤其是当你试图评估多个选项时。</p><h1 id="8c43" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">排除故障</h1><p id="e684" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">Cypress直接面向开发人员和QA工程师，并且有一个很棒的调试故事。因为它与应用程序在同一个运行循环中执行，所以它可以访问变量、代码和浏览器提供的东西，如文档、窗口和调试器。一旦您熟悉了它的异步特性，进入调试器就很简单了。如果您正在寻找测试脚本中的一个bug，它还可以自动拍摄DOM的快照，并让您“时间旅行”到更早的应用程序状态。</p><p id="97ce" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">使用WebDriver/Selenium，调试不是特别直观。当您遇到问题时，在运行所有测试后，您得到的只是一个HTTP错误响应。此时，您的应用程序消失了，浏览器也关闭了——然而，您必须以某种方式直观地了解HTTP错误的原因。这可能会令人沮丧。</p><figure class="jr js jt ju fq jv fe ff paragraph-image"><div role="button" tabindex="0" class="jw jx di jy bf jz"><div class="fe ff ly"><img src="../Images/73372cd33da8bc67244ec688f800987e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*JpxrnBDy3f_dHAgSVikdRQ.jpeg"/></div></div></figure><h1 id="197b" class="kc kd hu bd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz dt translated">底线</h1><p id="14d6" class="pw-post-body-paragraph ir is hu it b iu la iw ix iy lb ja jb jc lc je jf jg ld ji jj jk le jm jn jo hn dt translated">文字和清单的比较似乎不能公正地对待这些伟大的测试解决方案。你必须根据自己的需求来体验它们。对某些人来说可能是一个令人叫绝的特性或架构怪癖，对其他人来说可能根本没有任何区别，甚至是一种好处。</p><p id="59c0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当然，我们很兴奋，Cypress的到来意味着多年来第一次，又一个开源自动化测试游戏出现了。但毫无疑问，Selenium是一个非常成功的故事，在可预见的未来仍将对许多人至关重要——它缓解了Cypress当前功能中的几个漏洞，如跨浏览器测试和多语言支持。</p><p id="0d63" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你的团队用的是Selenium，我们不能告诉你是否应该改用Cypress，但是我们可以告诉你的是，你应该去求，借，或者偷<em class="lw">时间</em>去查。然后，也许在一个小的、定义良好的新产品功能上真正尝试一下，而不是在你的整个应用程序上。也许，最终，明智的决定将是同时使用<em class="lw">和</em>两种技术？</p><p id="6724" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">继续吧。动作要快。打碎东西。</p></div></div>    
</body>
</html>