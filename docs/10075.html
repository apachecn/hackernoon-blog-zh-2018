<html>
<head>
<title>NEM Blockchain Faucet and Transactions using ReasonML</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">NEM区块链龙头和使用ReasonML的交易</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/nem-blockchain-faucet-and-transactions-using-reasonml-lets-get-this-bread-pt-2-36e5d06aaf99?source=collection_archive---------2-----------------------#2018-12-15">https://medium.com/hackernoon/nem-blockchain-faucet-and-transactions-using-reasonml-lets-get-this-bread-pt-2-36e5d06aaf99?source=collection_archive---------2-----------------------#2018-12-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="22c1" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">这篇文章解释了如何让一些虚拟的汁液以被称为XEM的货币形式流动。包括使用NEM SDK的交易。让我们吃面包吧🥖😎</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/8581f2243c489a74abfe3fd6793f82c7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xPwfXjRuYKvuFy4pXSr8Rw.jpeg"/></div></div></figure><blockquote class="jv jw jx"><p id="4455" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">本文是上一篇<a class="ae kv" rel="noopener" href="/@matej.sima/reasonml-and-nem-blockchain-crashcourse-8c8b540ed522"> ReasonML和NEM区块链的后续；我们去买面包吧🥖😎</a>。要查看本文中解释的步骤的工作情况，有必要完成第一篇文章中的教程。</p></blockquote><h1 id="46ab" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">目标</h1><p id="a79d" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">我们的目标是将XEM从一个账户转移到另一个账户——为此，我们需要创建两个账户，并使用一个<strong class="kb hv">龙头</strong>将XEM填入其中。</p><blockquote class="jv jw jx"><p id="1643" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">如果你只想了解水龙头，你可以完全跳过回溯时间部分</p></blockquote><h1 id="c445" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">倒退时间</h1><p id="1a6a" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">如果您已经阅读了上一篇文章，那么您已经得到了如下所示的文件结构——我们将使用它来集成水龙头。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/2b00d0e15f6b694fef19f67781d9c9a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vsw2RwwzlxlEcP1SnL6pMw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Result file structure, from the previous article from this series.</figcaption></figure><p id="2017" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">感谢<a class="ae kv" href="https://twitter.com/44uk_i3" rel="noopener ugc nofollow" target="_blank"> @44uk_i3 </a>，<a class="ae kv" href="https://github.com/44uk/nem2-faucet" rel="noopener ugc nofollow" target="_blank"> NEM2龙头</a>的存在。我们现在就进行设置，让我们从克隆存储库开始，克隆完成后，创建一个docker文件，我们可以用它来启动存储库。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/03cfb3cee50e14c724d37144aa039774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YNgbYnJxOJRF33DOcIBRZw.png"/></div></div></figure><h1 id="6b8f" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">水龙头文件</h1><p id="9dfd" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">下一个合乎逻辑的步骤是构建一个图像，我们可以在其中实际运行水龙头。我们将需要nodejs——所以让我们使用与我们在上一篇文章中使用的ReasonML环境相同的版本。(节点:11.4)</p><p id="d67d" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">然后，我们将不得不填写一些ENV变量，以便水龙头正常工作。让我们仔细研究变量，并解释如何以及在哪里获得所需的值。</p><h2 id="19f1" class="md kx hu bd ky me mf mg lc mh mi mj lg lq mk ml li ls mm mn lk lu mo mp lm mq dt translated"><strong class="ak"> API_HOST: </strong></h2><p id="7652" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">这将是我们的NEM Rest网关运行的容器的docker- <a class="ae kv" href="https://hackernoon.com/tagged/network" rel="noopener ugc nofollow" target="_blank">网络</a> URL，我们知道在我们的设置中，容器的名称是<strong class="kb hv">catapult-service-bootstrap _ Rest-gateway _ 1</strong></p><h2 id="5247" class="md kx hu bd ky me mf mg lc mh mi mj lg lq mk ml li ls mm mn lk lu mo mp lm mq dt translated">API _端口:</h2><p id="e317" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">这是默认网关端口，<strong class="kb hv"> 3000 </strong>。</p><h2 id="06f7" class="md kx hu bd ky me mf mg lc mh mi mj lg lq mk ml li ls mm mn lk lu mo mp lm mq dt translated">私钥:</h2><p id="a01f" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">这是一个帐户的私钥，在我们的catapult堆栈启动时生成。所谓的涅墨西斯地址的一部分，预先填充了xem。</p><p id="8e28" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">如何找到所需的私钥？第一步是发射弹射器。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><p id="6184" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">然后导航到<strong class="kb hv">catapult-service-bootstrap/build/generated-addresses/addresses . YAML</strong>，寻找<strong class="kb hv">涅墨西斯_地址</strong>。</p><p id="032e" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">拿你找到的第一个私钥来说，它应该有足够的xem来填充我们的水龙头。</p><p id="0bd3" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">所以我们的价值值将是:</p><p id="e2dc" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">f1 c 69759140256420 EB 42 cf 39906 a 01 DD 02 a 57 FB 6d 0676 AE 134343 a 13 a1 CBC 21</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/c6cf40b5a8fdf0b8293a72baa40e5085.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*sL_RSa1BRNgMtPAraR4dyQ.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">List of generated nemesis addresses, which are pre-populated with xem</figcaption></figure><h2 id="9b11" class="md kx hu bd ky me mf mg lc mh mi mj lg lq mk ml li ls mm mn lk lu mo mp lm mq dt translated"><strong class="ak">RECAPTCHA _ CLIENT _ SECRET&amp;</strong>RECAPTCHA _ SERVER _ SECRET</h2><p id="e2c0" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">水龙头功能谷歌的recaptcha，所以如果你的水龙头是公共的，它将受到保护，免受某些类型的滥用。</p><p id="4a68" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们能从哪里得到那些秘密？导航到<a class="ae kv" href="https://www.google.com/recaptcha/intro/v3.html" rel="noopener ugc nofollow" target="_blank">谷歌的recaptcha网站</a>。并进入管理界面。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/31cb61bfea7e02c9f85b44db8952508b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lx0DfVo3-IPMO90g3-MiTw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Navigating to recaptcha’s admin interface</figcaption></figure><p id="11ff" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">一旦你进入，填写你的站点信息，在我们的例子中是localhost / 127.0.0.1，同意条款和条件，并确认。你将被导航到一个页面，在那里我们可以最终为我们的水龙头的recaptcha提取秘密。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/f8703c2e2a5b6b236875f9d0f4169b74.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*51VTM9KoR58w1MyJ1x0W2A.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Registering a site for recaptcha</figcaption></figure><p id="b4f4" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们的秘密将会在下面的彩色区域显现出来。</p><p id="c91e" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated"><strong class="kb hv">RECAPTCHA _ CLIENT _ SECRET</strong>=<strong class="kb hv">站点密钥</strong></p><p id="7757" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated"><strong class="kb hv">RECAPTCHA _ SERVER _ SECRET</strong>=<strong class="kb hv">秘密密钥</strong></p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/b1d2b8626072d3b90456f02134dae337.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9FrBEd1ZnQg5GBM-mZNF_A.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Retrieving site &amp; secret key from recaptcha admin</figcaption></figure><p id="a4f0" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">有了所有的秘密，对于我们的环境配置，让我们编写docker文件本身，这样我们就可以构建一个映像来运行我们的水龙头。</p><blockquote class="jv jw jx"><p id="fb00" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">我们之前已经创建了Dockerfile文件，现在我们只需填写它</p></blockquote><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><p id="89e3" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们已经准备好回到终端，建立我们的形象，打开水龙头。我们将使用一个<strong class="kb hv"> run-in-docker.sh </strong>文件，类似于上一篇文章中创建的文件。</p><blockquote class="jv jw jx"><p id="0d71" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">首先确保你的弹射器已经启动并运行</p></blockquote><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Build our faucet docker image</figcaption></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Create a run-in-docker.sh script</figcaption></figure><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Contents of nem2-faucet/run-in-docker.sh</figcaption></figure><p id="0bfb" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">为了完成水龙头安装，让我们安装它的依赖项。使用<strong class="kb hv"> run-in-docker.sh </strong>运行<strong class="kb hv"> npm安装</strong>。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/4917f05a36e5985c09ab6d7224a40cbe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4nitYYgID4MWbvtHMLhelg.png"/></div></div></figure><h1 id="2d5f" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">该喝点果汁了🥤</h1><p id="ab22" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">如果命运对我们有利，我们现在应该可以打开水龙头了。</p><p id="064f" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">首先，让我们使用nem2-cli创建一个帐户，在那里我们可以发送一些甜蜜的xem。</p><blockquote class="jv jw jx"><p id="38cf" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">启动一个安装了nem2-cli的docker容器，最好是<strong class="kb hv"> app/run-in-docker.sh. </strong>关于如何创建nem区块链账户/钱包的详细说明，可以在第一篇文章中找到<a class="ae kv" rel="noopener" href="/@matej.sima/reasonml-and-nem-blockchain-crashcourse-8c8b540ed522">。</a></p><p id="58ce" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">故障排除</strong></p><p id="4e64" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">如果你在catapult服务上遇到麻烦，你可以从2018年7月开始使用<a class="ae kv" href="https://github.com/tech-bureau/catapult-service-bootstrap/commit/44b32b7e1875af45a73c25b6829dc32efc345de9" rel="noopener ugc nofollow" target="_blank">这个提交</a>来运行docker-compose up。</p><p id="3227" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">你可以通过运行<strong class="kb hv">来清理所有的构建文件和其他由catapult产生的“混乱”。/clear-弹射器目录中的所有</strong>。</p><p id="8ea6" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">不要忘了更新水龙头的私有密钥env变量，并在每次清除和构建catapult服务时重建docker映像——因为涅墨西斯地址会改变。</p></blockquote><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/0d7f9bff147ca900f0360445e71d4c6e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*n_hAi80k9yAo408nHmByRg.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Generate a new account using nem2-cli</figcaption></figure><p id="5588" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们将使用该帐户来验证我们的水龙头是否按预期工作。让我们现在打开水龙头。使用<strong class="kb hv">ne m2-水龙头/run-in-docker.sh </strong>并运行以下命令。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/fe65726981e99fb1020bfea08f3bb093.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*l8X9Q8MKX3k9j-dxMvTDFw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Starting the faucet via command line</figcaption></figure><p id="0b43" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">在您最喜欢的浏览器中导航到<a class="ae kv" href="http://localhost:9000" rel="noopener ugc nofollow" target="_blank"> http://localhost:9000 </a>，以验证水龙头是否按预期运行。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/3df3f29f37d13d41a3b428c6a003318d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TgM1bvtu-hZn0tPOkgQwjw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Faucet loaded as expected</figcaption></figure><h1 id="4e4a" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">将XEM从水龙头转移到您的NEM帐户</h1><p id="5484" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">在前面的步骤中，我们已经创建了一个NEM帐户，公共地址为<strong class="kb hv">SD 5 boy-KFIWDU-pts jek-64 rvg 2-CQGQYQ-63 uxen-DDKU</strong>。</p><p id="7b10" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">让我们用水龙头，送一些XEM到我们的地址。填写表格，然后点击认领。别忘了说服<a class="ae kv" href="https://hackernoon.com/tagged/google" rel="noopener ugc nofollow" target="_blank">谷歌</a>你不是机器人🤖。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/12d1db11452132015d344d15eb920af6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dgkKMrDzuZMZkonyZCT1jA.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">Sending XEM from the faucet, to our new account</figcaption></figure><p id="2aae" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们如何验证XEM确实到达了我们的地址？我们可以使用nem2-cli来查看我们的平衡。让我们使用<strong class="kb hv"> app/run-in-docker.sh </strong>并使用nem2-cli检查我们帐户的余额。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/f5edf5467264f0ceb23211ef9c4f035f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RwLY4h7XY0pGK2W5t02LCw.png"/></div></div><figcaption class="lx ly fg fe ff lz ma bd b be z ek">XEM successfully arrived from the faucet, to our account.</figcaption></figure><p id="cb4b" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">恭喜你，你已经成功地从水龙头里转了1000 XEM到你自己的账户里。现在你已经准备好交易和探索NEM区块链了！</p><h1 id="477a" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">该行动了💸</h1><p id="57f3" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">既然我们口袋里已经有了足够的'<a class="ae kv" href="https://www.urbandictionary.com/define.php?term=Rack" rel="noopener ugc nofollow" target="_blank">机架</a>，我们可以尝试使用NEM2-SDK通过编程转移XEM。</p><p id="f13d" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">让我们从创建第二个帐户开始，在那里我们可以转移我们的虚拟货币。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff lw"><img src="../Images/65fe30b50866fa97cc827a01ee4c73fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IjmW30BBVAUe2O06y3-O4Q.png"/></div></div></figure><p id="1e44" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">现在我们有两个账户，保存在两个配置文件下:<strong class="kb hv">我的_账户</strong><em class="ka">(1000 xem)</em><strong class="kb hv"/>和<strong class="kb hv">我的_其他_账户</strong> <em class="ka"> (0 xem) </em>。</p><p id="1834" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">让我们写一个ReasonML脚本，把一些xem从一个转移到另一个。</p><h2 id="05e0" class="md kx hu bd ky me mf mg lc mh mi mj lg lq mk ml li ls mm mn lk lu mo mp lm mq dt translated">流动</h2><p id="1837" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">首先，我们需要定义收件人的地址，在我们的例子中，它将是我们的新/第二个帐户。</p><p id="7ae8" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated"><strong class="kb hv">收件人地址</strong>:<strong class="kb hv"/><em class="ka">SB7COE-YWEP7K-LAKHJX-vpm bl 5–4 piyu 7-ktna 7j-lyy 3</em></p><p id="eee7" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">然后，我们需要持有1000xem的帐户的私钥，因为将使用它来签署交易。</p><p id="554c" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated"><strong class="kb hv">私钥</strong>:<em class="ka">5 EBA FD 9 f 3258188 E6 C1 F2 AC 44 cfbf 89 BF 352878 fecc 517847d 4953 ad 7518 eedd</em></p><p id="0152" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">接下来，我们必须指定要发送的金额，我们将发送100xem，因为现在是圣诞节，我们感觉很慷慨。</p><p id="68e1" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated"><strong class="kb hv">XEM发送金额</strong> : <em class="ka"> 100 </em></p><p id="f4d1" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">除此之外，我们只需要指定我们的REST网关URL，但是我们之前已经做了很多次，您将在代码中看到。</p><p id="0bd1" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">在我们的ReasonML代码中完成的事情:</p><ol class=""><li id="151c" class="mr ms hu kb b kc kd kf kg lq mt ls mu lu mv ku mw mx my mz dt translated">将收件人地址转为NEM帐户</li><li id="bf1c" class="mr ms hu kb b kc na kf nb lq nc ls nd lu ne ku mw mx my mz dt translated">将私钥转入NEM账户，用于签署交易</li><li id="2745" class="mr ms hu kb b kc na kf nb lq nc ls nd lu ne ku mw mx my mz dt translated">定义转移事务对象，包括截止日期、接收者、要转移的马赛克(在我们的例子中只有XEM)、消息和网络</li><li id="08a6" class="mr ms hu kb b kc na kf nb lq nc ls nd lu ne ku mw mx my mz dt translated">使用我们的私钥创建的NEM帐户签署交易。</li><li id="fa9e" class="mr ms hu kb b kc na kf nb lq nc ls nd lu ne ku mw mx my mz dt translated">向区块链网络宣布交易</li></ol><blockquote class="jv jw jx"><p id="5c2d" class="jy jz ka kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">下面显示的大部分文件都是类型定义，一旦NEM-SDK提供了一个合理的映射/版本，这些都将消失。但是现在，我们可以自己指定类型，所以JS-interop可以完美地工作。</p></blockquote><p id="204c" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">让我们创建一个新文件，<strong class="kb hv"> transferXem.re </strong>，内容如下。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><p id="6fd1" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们可以在ReasonML容器中使用run-in-docker.sh编译并执行它。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="mb mc l"/></div></figure><h1 id="618d" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">结果呢</h1><p id="1f12" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">让我们检查一下我们的XEM是否成功到达<strong class="kb hv">我的其他账户</strong>。我们可以使用NEM命令行界面，并像前面一样检查帐户信息。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff nf"><img src="../Images/5e59754d74b05fecf2a9210bcb3dd08d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gjwWM3v70LCHlgOG6XunXQ.png"/></div></div></figure><p id="6f3f" class="pw-post-body-paragraph jy jz hu kb b kc kd iv ke kf kg iy kh lq kj kk kl ls kn ko kp lu kr ks kt ku hn dt translated">我们可以看到，我们的一个帐户有900个XEM，而不是1000个XEM，而第二个帐户现在有100个XEM，而不是0 /没有区块链的历史记录。👏</p><h1 id="798e" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">下一步是什么？</h1><p id="f013" class="pw-post-body-paragraph jy jz hu kb b kc lo iv ke kf lp iy kh lq lr kk kl ls lt ko kp lu lv ks kt ku hn dt translated">在下一篇文章中，我们将创建自定义马赛克，并使用多重签名交易在帐户之间进行交易。</p><figure class="jk jl jm jn fq jo"><div class="bz el l di"><div class="ng mc l"/></div></figure></div></div>    
</body>
</html>