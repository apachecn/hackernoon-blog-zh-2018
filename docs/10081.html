<html>
<head>
<title>Do not use Selenium for web scraping</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">请勿使用Selenium进行网络刮擦</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/do-not-use-selenium-for-web-scraping-de90cca7c804?source=collection_archive---------8-----------------------#2018-12-15">https://medium.com/hackernoon/do-not-use-selenium-for-web-scraping-de90cca7c804?source=collection_archive---------8-----------------------#2018-12-15</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="06db" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">发布于</strong>:2018年12月15日</p><p id="802a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">声明:<br/>这主要是<strong class="it hv">从Python编程语言生态系统的角度</strong>写的。</p><p id="aa19" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我注意到<a class="ae jp" href="https://www.seleniumhq.org/" rel="noopener ugc nofollow" target="_blank"> Selenium </a>已经变得<a class="ae jp" rel="noopener" href="/the-andela-way/introduction-to-web-scraping-using-selenium-7ec377a8cf72">相当流行</a>用于从网页上<a class="ae jp" href="https://towardsdatascience.com/web-scraping-using-selenium-python-8a60f4cf40ab" rel="noopener" target="_blank">抓取</a>数据。</p><p id="ce9d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">是的，<strong class="it hv">你可以使用Selenium进行网页抓取，但这不是一个好主意</strong>。</p><p id="2aba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">另外，我个人认为那些教授如何使用<a class="ae jp" href="https://hackernoon.com/tagged/selenium" rel="noopener ugc nofollow" target="_blank"> Selenium </a>进行网页抓取<a class="ae jp" href="https://hackernoon.com/tagged/scraping" rel="noopener ugc nofollow" target="_blank">的文章给了一个<strong class="it hv">使用什么工具进行网页抓取</strong>的坏例子。</a></p><h1 id="c37a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">为什么不应该使用Selenium进行网络抓取</h1><p id="6bd3" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">第一，<strong class="it hv"> Selenium不是网页抓取工具</strong>。</p><p id="ef4e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">它是<strong class="it hv">“用于测试目的的自动化web应用程序”</strong>，这个声明来自Selenium的主页。</p><p id="431f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">第二，在Python中，有一个更好的工具<a class="ae jp" href="https://scrapy.org/" rel="noopener ugc nofollow" target="_blank"> Scrapy </a>开源<strong class="it hv">网页抓取框架</strong>。</p><p id="6358" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">聪明的读者会问:“<strong class="it hv">使用Scrapy比使用Python有什么好处？</strong></p><p id="cb69" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">你得到速度和很多速度</strong>(不是安非他命:-)，开发速度和网页抓取时间速度。</p><p id="9419" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">有一些关于如何使<a class="ae jp" rel="noopener" href="/dreamcatcher-its-blog/5-simple-tips-for-improving-automated-web-testing-or-efficient-web-crawling-using-selenium-python-43038d7b7916">硒网</a>刮<a class="ae jp" href="https://stackoverflow.com/questions/39036137/how-yo-make-a-selenium-scripts-faster" rel="noopener ugc nofollow" target="_blank">更快</a>的提示，并且<strong class="it hv">如果你使用Scrapy，那么你就不会有那些问题，你会更快</strong>。</p><p id="ec3c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">仅仅因为这些文章的存在就证明了(至少对我来说)人们在工作中使用了错误的工具，一个“当你唯一的工具是锤子时，一切看起来都像钉子”的例子。</p><h1 id="8f8f" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">你应该用硒做什么</h1><p id="e6f3" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我个人只用Selenium进行<strong class="it hv">网页测试</strong>。</p><p id="60fd" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我<strong class="it hv">会尝试用它来自动化web应用</strong>(如果没有其他选择的话)，但是我至今还没有那个用例。</p><h1 id="835d" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">何时可以使用Selenium的例外</h1><p id="5ee1" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">我认为使用Selenium作为网络抓取工具的唯一例外是<strong class="it hv">，如果你抓取的网站使用JavaScript来获取/显示你需要抓取的数据</strong>。</p><p id="ce23" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Scrapy确实有针对带有<a class="ae jp" href="https://github.com/scrapinghub/splash" rel="noopener ugc nofollow" target="_blank"> Splash </a>的JavaScript 的<a class="ae jp" href="https://blog.scrapinghub.com/2015/03/02/handling-javascript-in-scrapy-with-splash" rel="noopener ugc nofollow" target="_blank">解决方案，但是我从来没有用过，到目前为止我总能找到一些变通方法。</a></p><h1 id="6b44" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">用什么代替Selenium进行网页抓取</h1><p id="039c" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">你可以猜到，我的建议是用<a class="ae jp" href="https://scrapy.org/" rel="noopener ugc nofollow" target="_blank">刺儿头</a>。</p><p id="ab30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">我选择Scrapy是因为我花在</strong>开发网络抓取程序(网络蜘蛛)的时间少，执行时间快。</p><p id="15e8" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我发现Scrapy在开发时间上更快，因为有了<a class="ae jp" href="https://doc.scrapy.org/en/latest/topics/shell.html" rel="noopener ugc nofollow" target="_blank"> Scrapy外壳</a>和<a class="ae jp" href="https://doc.scrapy.org/en/latest/topics/downloader-middleware.html#module-scrapy.downloadermiddlewares.httpcache" rel="noopener ugc nofollow" target="_blank">缓存</a>。</p><p id="3490" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在执行中，它<strong class="it hv">很快，因为可以同时完成多个请求</strong>，这意味着<a class="ae jp" href="https://stackoverflow.com/questions/50229856/making-scrapy-request-deteministics" rel="noopener ugc nofollow" target="_blank">的数据传递不会按照请求</a>的顺序进行，只是你在调试时不会感到困惑。</p><h1 id="353e" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">那么<a class="ae jp" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank">美汤</a> + <a class="ae jp" href="http://docs.python-requests.org/en/master/" rel="noopener ugc nofollow" target="_blank">请求</a>呢</h1><p id="02ba" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在我决定花时间学习Scrapy之前，我曾经使用过这个组合。</p><p id="98d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">不要犯和我一样的错误</strong>，Scrapy的开发时间和执行时间比我目前发现的任何其他工具都要快。</p><h1 id="c033" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">临终遗言</h1><p id="ad8a" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这不是对使用<strong class="it hv"> Selenium进行网页抓取的咆哮，对于非生产系统和学习/爱好来说这是好的</strong>。</p><p id="dc80" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我明白了，<strong class="it hv"> Selenium很容易启动，你可以在屏幕上实时看到正在发生的事情</strong>，这对开始做/学习网络抓取的人来说是一个巨大的好处，当你学习新东西时，拥有这种<strong class="it hv">早期道德规范</strong>是很重要的。</p><p id="d656" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">但是我确实认为所有这些使用Selenium进行web抓取文章和教程应该有一个免责声明<strong class="it hv">不要在现实生活中使用Selenium(如果您需要在一天内抓取100K个页面，在单个Selenium实例中是不可能做到的)</strong>。</p><p id="bb1e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">从Scrapy开始更难，你必须编写XPath选择器并查看HTML页面的源代码进行调试并不有趣，<strong class="it hv">但如果你想拥有快速的网络抓取，这就是代价</strong>。</p><h1 id="060f" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">结论</h1><p id="f6a0" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated"><strong class="it hv">在你学会Scrapy后，你会比用Selenium更快</strong> (Selenium只是有一个低角度的学习曲线)，我个人需要几天时间来获得基础知识。</p></div><div class="ab cl kt ku hc kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="hn ho hp hq hr"><p id="5a96" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="la">原载于2018年12月15日</em><a class="ae jp" href="http://buklijas.info/blog/2018/12/15/do-not-use-selenium-for-web-scraping/" rel="noopener ugc nofollow" target="_blank"><em class="la">buklijas . info</em></a><em class="la">。</em></p><figure class="lb lc ld le fq lf"><div class="bz el l di"><div class="lg lh l"/></div></figure></div></div>    
</body>
</html>