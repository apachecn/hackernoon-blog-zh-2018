<html>
<head>
<title>Java Template Engines</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Java模板引擎</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/java-template-engines-ef84cb1025a4?source=collection_archive---------0-----------------------#2018-12-19">https://medium.com/hackernoon/java-template-engines-ef84cb1025a4?source=collection_archive---------0-----------------------#2018-12-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><figure class="ht hu fm fo hv hw fe ff paragraph-image"><div class="fe ff hs"><img src="../Images/64495427cc4129be2eed632bf15f9deb.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*XNuVdKSup2Gk9LjDNlsCYw.png"/></div></figure><div class=""/><h1 id="2029" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">介绍</h1><p id="b49c" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">所有web应用程序都显示从支持web应用程序的计算机资源中提取的动态信息(与网站相反，网站可能只显示静态内容)。在许多情况下，一个web应用程序是由一个web服务器支持的，比如Tomcat或Amazon Web Services (AWS) Lambda这样的“无服务器”组件。为了简化本文中的讨论，后端系统将被称为web服务器。</p><p id="a390" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">当显示web应用程序页面时，它将包含从web服务器获取的动态信息。有两种方法可以将来自服务器的动态信息包含在网页中:</p><ol class=""><li id="a50b" class="la lb ib jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li dt translated">在客户端(web浏览器)上运行的JavaScript可以从服务器获取数据，并通过修改页面HTML的内存中表示(例如，DOM)将数据插入页面。</li><li id="483c" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li dt translated">可以在服务器上修改网页的HTML，将数据插入到网页的HTML中。这通常被称为“服务器端渲染”。</li></ol><p id="38c7" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">本文讨论了三个模板引擎，它们可用于利用<a class="ae ku" href="http://topstonesoftware.com/publications/simple_spring_boot_mvc_example.html" rel="noopener ugc nofollow" target="_blank"> Spring框架</a>的Java应用程序的服务器端呈现。</p><h1 id="8a60" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">显示服务器端数据</h1><p id="7ebe" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">下图显示了<a class="ae ku" href="http://topstonesoftware.com/publications/authentication_with_aws_cognito.html" rel="noopener ugc nofollow" target="_blank"> AWS Cognito演示应用</a>的部分屏幕截图。这个简单的页面在用户登录到应用程序后显示。该页面显示用户名(<em class="lo"> bear </em>)和一些简单的用户资料信息。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div class="fe ff lp"><img src="../Images/cb14e8f53872321a47a082d4bef0bffc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1306/format:webp/0*hr7ixqmuZjE0iAaY.png"/></div></figure><p id="e799" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">使用HTML中的模板引擎标记将数据包含在网页中。在下面的示例中，使用了FreeMarker标记。</p><p id="69a6" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">这部分网页的HTML如下所示:</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff lu"><img src="../Images/c2b0ac5f5d40e7f02c6d4642e99f1d7c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ybdaroFgivfPZsBZwsUEOw.png"/></div></div></figure><p id="cf49" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在Spring模型-视图-控制器范例中，每个网页都有一个关联的控制器类，该类包含处理网页交互的函数(例如，HTTP GET和POST，如果有表单的话)。应用程序页面的Java函数如下所示。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff lz"><img src="../Images/5ded86458593f8ce05bfad1e13301ef9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*v3Gu8oXKhI3magNqC7FbMw.png"/></div></div></figure><p id="bfac" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在上面的例子中，一个UserInfo对象被添加到模型映射中，并以user_info作为键值。当模板引擎(在本例中是FreeMarker)在服务器上呈现web页面时，对象的值被填充到页面HTML中引用它的位置。</p><p id="f715" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">HTML网页被称为模板，因为当页面被呈现时，数据值动态地替换模板标记。</p><h1 id="1491" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">Java模板引擎</h1><p id="5553" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">最早的模板引擎之一是PHP，它可以追溯到网络的早期。</p><p id="381f" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">1999年，Sun Microsystems发布了Java Server Pages (JSP ),这是一个用于Java web应用程序的模板引擎。2006年发布了Java服务器页面标记库(JSTL)。JSTL使JSP更容易使用，生成的网页也更容易理解。</p><p id="ff97" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">除了JSP/JSTL之外，还有许多为Java软件生态系统发布的模板引擎。其中包括<a class="ae ku" href="http://velocity.apache.org/" rel="noopener ugc nofollow" target="_blank">阿帕奇速度</a>、<a class="ae ku" href="https://freemarker.apache.org/" rel="noopener ugc nofollow" target="_blank">自由标记</a>、<a class="ae ku" href="https://www.thymeleaf.org/" rel="noopener ugc nofollow" target="_blank">百里香叶</a>和<a class="ae ku" href="http://www.pippo.ro/" rel="noopener ugc nofollow" target="_blank">皮波</a>(似乎是从一个更早的名为Pebble的模板引擎演变而来)。<a class="ae ku" href="https://gsp.grails.org/latest/guide/index.html" rel="noopener ugc nofollow" target="_blank"> Groovy服务器页面</a> (GSP)用于Grails/Groovy应用程序。</p><h1 id="d475" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">选择模板引擎</h1><p id="448e" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">web应用程序可能由大量网页组成。例如，<a class="ae ku" href="http://www.nderground.net/" rel="noopener ugc nofollow" target="_blank">地下</a>社交网络，由<a class="ae ku" href="http://www.topstonesoftware.com/" rel="noopener ugc nofollow" target="_blank"> Topstone软件</a>建立，拥有超过35个网页。设计和开发这些web页面代表了构建web应用程序工作的重要部分。为网页实现选择模板引擎是软件架构中的一项重要投资。</p><p id="a520" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">评估Java模板引擎的一个核心要求是它是否受Spring框架支持，Topstone软件使用Spring框架开发web应用程序。已经对Spring支持的三个模板引擎进行了评估。</p><ol class=""><li id="998b" class="la lb ib jy b jz kv kd kw kh lc kl ld kp le kt lf lg lh li dt translated">带有Java服务器页面标记库的Java服务器页面(JSP/JSTL)</li><li id="0e7d" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li dt translated">百里香叶</li><li id="8cbb" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt lf lg lh li dt translated">自由市场</li></ol><p id="123a" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">除了支持Spring，模板库还需要支持在主页中包含(插入)HTML片段的能力。这个特性允许在页眉中包含普通的CSS和JavaScript，在应用程序页面中包含普通的页眉和页脚。</p><p id="4036" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">评估模板引擎(或任何软件开发框架)的最佳方式是在真实的应用程序中使用它。每个模板引擎都在Cognito演示应用程序的一个版本中使用。</p><h2 id="83b1" class="ma iz ib bd ja mb mc md je me mf mg ji kh mh mi jm kl mj mk jq kp ml mm ju mn dt translated">JSP和JSTL</h2><p id="f501" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">开发<a class="ae ku" href="http://topstonesoftware.com/publications/authentication_with_aws_cognito.html" rel="noopener ugc nofollow" target="_blank"> Cognito演示应用</a>是为了探索AWS Cognito认证服务。该应用程序包含十个网页，其中几乎每个网页都包含动态服务器端数据。</p><p id="1ec5" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">Cognito演示应用程序的原始版本在web页面中使用JSP和JSTL模板。</p><p id="6edf" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">JSTL支持<import>标签，该标签允许在页面或页眉中包含HTML片段。</import></p><p id="234e" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">下面的例子显示了如何为服务器端页面生成添加条件逻辑。当一个页面被发送到客户端时，它将由静态HTML组成，而HTML是在服务器上动态生成的。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mo"><img src="../Images/0bb4908bd7ce9e859c9fd84f7a2233f2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jtdN1_B_aBI81bVpBDaPuQ.png"/></div></div></figure><h2 id="31e3" class="ma iz ib bd ja mb mc md je me mf mg ji kh mh mi jm kl mj mk jq kp ml mm ju mn dt translated"><a class="ae ku" href="http://www.thymeleaf.org/" rel="noopener ugc nofollow" target="_blank">百里香叶</a></h2><p id="0132" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">百里香目前在春天社区很流行。许多关于Spring的文章在示例网页中都使用了百里香。关于Spring框架的最佳参考之一，<em class="lo"> Spring in Action，第五版</em>，Craig Walls，Manning Press，2018年10月，也使用了百里香叶。</p><p id="2eb6" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">百里香有很多问题，其中一些是文体上的。</p><p id="1468" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">百里香叶将百里香叶标记嵌入HTML标签中，通常是<div>或<span>标签。我觉得这不像JSP/JSTL或FreeMarker标签那样简洁、易于读写。显示百里香标记的示例如下所示。</span></div></p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mp"><img src="../Images/08c4ac65186e2ba5c32ed65219a52a9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HZefomVbIUCLRjik9yLiiQ.png"/></div></div></figure><p id="5b9a" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">百里香支持th:replace和th:include标签，这些标签允许将HTML的部分插入到页面中。下面的例子展示了如何使用th:replace标签将CSS和JavaScript链接插入到页面头部。th:replace标签也用于添加一个页面标题，这样页面就有共同的标题了。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff lu"><img src="../Images/8daea7200d30bb352c80a7cf0d488759.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*U7gHCwogQ5l3B33PLMmxgA.png"/></div></div></figure><p id="bc4f" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">百里香有一些超越文体的问题。</p><p id="8e2a" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">当百里叶在处理百里叶标记时遇到错误，它会抛出一个Java异常。该异常不包含任何关于错误原因的信息(即行号和字符号)。这使得查找和纠正百里香叶标记错误非常耗时，减慢了应用程序的开发。</p><p id="2e6c" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">另一个担心是，百里香叶可能会成为一个孤儿开源项目。</p><p id="54ad" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">虽然百里香叶在Spring社区很受欢迎，并且百里香叶目前由Spring工具套件项目构建器支持，但我注意到Pivotal(支持Spring框架的公司)不支持百里香叶。百里叶由三个GitHub提交者支持，大多数GitHub提交来自两个人。如果这些GitHub提交者不能够或不愿意支持百里香，这个项目可能会成为孤儿。</p><h2 id="f8df" class="ma iz ib bd ja mb mc md je me mf mg ji kh mh mi jm kl mj mk jq kp ml mm ju mn dt translated"><a class="ae ku" href="https://freemarker.apache.org/" rel="noopener ugc nofollow" target="_blank"> FreeMarker </a></h2><p id="0efc" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">FreeMarker由Apache软件基金会支持，拥有庞大的用户社区，包括几个内容管理系统的页面模板(见<a class="ae ku" href="https://freemarker.apache.org/poweredBy.html" rel="noopener ugc nofollow" target="_blank">谁使用FreeMarker </a>)。FreeMarker也支持Spring框架。</p><p id="14b6" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在风格层面，我更喜欢FreeMarker的JSP/JSTL式的标签结构。下面是一个例子。请注意，条件句中的表达式不一定要加引号。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mq"><img src="../Images/43a6f74e18c0b23849607d0a11a72bda.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aIEdv03VWLQZBIh-2t_pcg.png"/></div></div></figure><p id="3eb9" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">FreeMarker支持include标记，该标记可用于在页面中包含HTML部分。下面是一个例子。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mr"><img src="../Images/f929cc4ecb4d4aa284f5d613ebbc3800.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Rs9nlBF0JLlgeMMYevSWQ.png"/></div></div></figure><p id="92c3" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">FreeMarker并非没有怪癖。我花了几个小时进行令人沮丧的实验，然后才能将图像加载到FreeMarker页面上(参见FreeMarker GitHub项目中的Java配置类cognitodemo . FreeMarker . config . appconfig)。</p><p id="47e3" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">Free marker也有一个语法，需要慢慢习惯。在下面的示例中，FreeMarker页面引用了字符串变量login_error。但是，这个FreeMaker标记将导致FreeMarker解析错误。</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/5b5b9dcf199c6ed3b25dbf464427340a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*9OIW3Oha4udj2mu2PcoEpQ.png"/></div></figure><p id="44c0" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">FreeMarker要求您使用FreeMarker操作符来比较null和字符串长度。空比较运算符是“？?"不允许使用字符串长度()函数。相反，必须使用内置的FreeMarker长度操作符:login_error？长度。正确的FreeMarker标记如下所示:</p><figure class="lq lr ls lt fq hw fe ff paragraph-image"><div class="fe ff ms"><img src="../Images/dac1e3f8efe8cfe889d734de2175ddf1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1356/format:webp/1*fMhsXqIccY-MctqaksTPhg.png"/></div></figure><h2 id="429e" class="ma iz ib bd ja mb mc md je me mf mg ji kh mh mi jm kl mj mk jq kp ml mm ju mn dt translated"><a class="ae ku" href="http://velocity.apache.org/" rel="noopener ugc nofollow" target="_blank">速度</a>呢？</h2><p id="a2de" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">Velocity是一个老式的模板引擎，是JSP/JSTL的替代品。Velocity有一个庞大的社区和许多功能。从2010年到2017年，没有主要的Velocity版本，包括Spring开发团队在内的一些人得出结论，Velocity项目处于冬眠状态。</p><p id="0a1e" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在<a class="ae ku" href="https://jira.spring.io/browse/SPR-13795" rel="noopener ugc nofollow" target="_blank">吉拉发布的一篇文章</a>中，Spring开发组声明Velocity将不再是Spring支持的一部分，但是Apache Velocity组可以支持Velocity的Spring适配器。</p><p id="7006" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">2017年，Apache Velocity发布了模板引擎2.0版本，2018年，他们发布了Velocity工具3.0版本。因此，速度项目似乎很活跃。</p><p id="09ff" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">关于速度和将速度与弹簧结合的参考资料包括:</p><ul class=""><li id="5777" class="la lb ib jy b jz kv kd kw kh lc kl ld kp le kt mt lg lh li dt translated"><a class="ae ku" href="https://www.baeldung.com/spring-mvc-with-velocity" rel="noopener ugc nofollow" target="_blank">Spring MVC with Velocity快速指南</a>概述了如何将Velocity与Spring集成</li><li id="9597" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt mt lg lh li dt translated"><a class="ae ku" href="https://www.baeldung.com/apache-velocity" rel="noopener ugc nofollow" target="_blank">Apache Velocity简介</a></li><li id="1fa8" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt mt lg lh li dt translated">Apache项目已经发布了指南<a class="ae ku" href="http://velocity.apache.org/engine/2.0/webapps.html" rel="noopener ugc nofollow" target="_blank">用Velocity构建Web应用</a></li></ul><p id="e0e2" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">虽然Velocity似乎可以与Spring集成，但我担心Velocity与Spring的兼容性似乎不是Spring项目或Apache Velocity group的关注点。考虑到这一点以及在某些时候探索必须让位于应用程序开发的事实，我决定不开发Cognito演示应用程序的Velocity版本。</p><h1 id="b16e" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">结论</h1><p id="401f" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">在调查了JSP/JSTL、百里香和FreeMarker之后，我决定在我的下一个Topstone软件web应用程序中使用FreeMarker。</p><p id="9a95" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">JSP/JSTL的一个问题是，自2008年以来，该技术没有发生太多变化。尽管Java背后有一个活跃的开源社区，但不清楚这是否扩展到了JSP/JSTL。这使得该技术与FreeMarker相比吸引力下降，FreeMarker拥有庞大的用户社区和活跃的Apache项目。</p><p id="c006" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">百里香叶有一个小的开发组。除非这个小组扩大，否则我担心百里香会成为一个孤儿项目。事实上，目前，当遇到标记错误时，百里香不会提供有用的错误消息，这使得查找问题非常耗时。在风格层面上，我不像JSP/JSTL或FreeMarker那样喜欢百里香标记。</p><p id="f999" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">FreeMarker是Apache基金会的一个项目，有一个庞大的用户社区。当FreeMarker处理器遇到错误时，它会提供有用的错误消息。在使用Groovy服务器页面和JSP/JSTL之后，FreeMarker标记感觉很熟悉。</p><h2 id="ada8" class="ma iz ib bd ja mb mc md je me mf mg ji kh mh mi jm kl mj mk jq kp ml mm ju mn dt translated">Cognito演示应用GitHub存储库</h2><ul class=""><li id="83c5" class="la lb ib jy b jz ka kd ke kh mu kl mv kp mw kt mt lg lh li dt translated">https://github.com/IanLKaplan/CognitoDemo</li><li id="54d1" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt mt lg lh li dt translated">百里香叶:【https://github.com/IanLKaplan/CognitoDemoThymeleaf】T2</li><li id="67b7" class="la lb ib jy b jz lj kd lk kh ll kl lm kp ln kt mt lg lh li dt translated">自由标记:【https://github.com/IanLKaplan/CognitoDemoFreeMarker T4】</li></ul><h1 id="d669" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">附录</h1><h1 id="e545" class="iy iz ib bd ja jb jc jd je jf jg jh ji jj jk jl jm jn jo jp jq jr js jt ju jv dt translated">模型-视图-控制器与客户端页面呈现</h1><p id="64fb" class="pw-post-body-paragraph jw jx ib jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt hn dt translated">Cognito演示应用程序中使用的服务器端模型-视图-控制器(MVC)范式的一个缺点是客户端web页面逻辑与服务器端控制器集成在一起。对网页的更改可能会导致控制器代码的更改。</p><p id="fa18" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">另一种方法是实现支持API的服务器端代码，该API返回数据供客户端显示。客户端代码使用JavaScript框架(如AngularJS或React)实现，使用API引用(HTTP GET操作)获取显示在网页上的数据。</p><p id="b9cf" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">按照这种架构，客户机显示层与服务器代码分离。只有在需要显示新数据时，才需要更改服务器代码。</p><p id="d2f7" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在这种体系结构中，客户端的应用程序显示可以完全改变，而不会影响服务器。</p><p id="6079" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">对于大型组织来说，脱离模型-视图-控制器范式(控制器在服务器上)可能是有吸引力的。客户端和服务器端组可以并行工作，影响较小。</p><p id="2d24" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">对于较小的组织或快速应用程序开发来说，开发一个单一的Spring MVC应用程序通常会更快更灵活，因为开发服务器端控制器和客户端web页面的是同一批开发人员。</p><p id="e94a" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated">在应用程序赢得市场后，转向在服务器上使用Spring来实现服务器API和客户端框架(如用于客户端显示的AngularJS)的架构可能是有意义的。然而，过早采用这种方法很可能会增加开发时间，而尽快将应用程序交付给用户是非常重要的。</p><p id="2330" class="pw-post-body-paragraph jw jx ib jy b jz kv kb kc kd kw kf kg kh kx kj kk kl ky kn ko kp kz kr ks kt hn dt translated"><em class="lo"/><a class="ae ku" href="http://topstonesoftware.com/publications/java_template_engines.html" rel="noopener ugc nofollow" target="_blank"><em class="lo">本文原文</em> </a> <em class="lo">发表在托普斯通软件咨询网站上。</em></p></div></div>    
</body>
</html>