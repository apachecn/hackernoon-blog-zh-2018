<html>
<head>
<title>Adventures of an Enclave (SGX / TEEs)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">飞地历险记(SGX /蒂斯)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/adventures-of-an-enclave-sgx-tees-9e7f8a975b0b?source=collection_archive---------6-----------------------#2018-12-19">https://medium.com/hackernoon/adventures-of-an-enclave-sgx-tees-9e7f8a975b0b?source=collection_archive---------6-----------------------#2018-12-19</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><div class=""><h2 id="a239" class="pw-subtitle-paragraph ir ht hu bd b is it iu iv iw ix iy iz ja jb jc jd je jf jg jh ji ek translated">那么，除了显而易见的情况之外，SGX和发球台还有什么用途呢？</h2></div><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff jj"><img src="../Images/e1734945addfa711ed7533b5427d07ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Vs12UyQ7LC3WIbaA758EaA.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek">Treasure Map</figcaption></figure><p id="dc56" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">想象一个神奇的硬件，没有人能看到它的内部，即使他们打开它，这就是英特尔SGX和可信执行环境的承诺。</p><p id="9ba1" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">几十年来，密码学家一直在挑战安全计算的极限。这是计算方忘记结果和底层数据的时候。例如:Alice或Bob是否提供了一个更大的数字，而没有透露基础数字，以根据加密数据训练机器学习模型。这些问题中的一些已经被解决了，但是通常解决方案既不通用也不有效。</p><p id="a603" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">在讨论使用该技术的各种区块链项目和TEEs的未来之前，让我们讨论可信硬件如何工作，它的标准用例以及一些更独特的用例。</p><p id="39f9" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">注意，SGX是目前使用最广泛的发球台的子集，我在整篇文章中交替使用这两个术语。</p><h1 id="aa77" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">为什么选择私人电脑？</h1><p id="04eb" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">在特殊情况下，隐私往往被高度重视，而在其他情况下却被置之不理。让我们举一些隐私确实重要的例子。</p><ul class=""><li id="1793" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated">安全彩票，其中<a class="ae kv" href="http://time.com/4911802/eddie-tipton-powerball-lottery-prison-sentence/" rel="noopener ugc nofollow" target="_blank">没有人可以欺骗或操纵号码</a>，代码是公开的，个人可以证明彩票正在运行该代码。</li><li id="4f55" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">如果图像被HIPPA、GDPR和其他数据隐私控制锁定，如何通过算法共享图像进行分类。</li></ul><h1 id="d14f" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">隐私实现</h1><p id="e35b" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">当前可用于安全计算的一些密码原语工具包括诸如<a class="ae kv" href="https://blog.cryptographyengineering.com/2012/01/02/very-casual-introduction-to-fully/" rel="noopener ugc nofollow" target="_blank">全同态加密</a> (FHE)、<a class="ae kv" href="https://crypto.stanford.edu/RealWorldCrypto/slides/smart.pdf" rel="noopener ugc nofollow" target="_blank">安全多方计算</a> (sMPC)和<a class="ae kv" href="https://hackernoon.com/eli5-zero-knowledge-proof-78a276db9eff" rel="noopener ugc nofollow" target="_blank">零知识证明</a> (ZKPs)的技术。然而，这些技术要么太专业(不通用)，要么太慢，要么计算量太大，使得它们在生产环境中不实用。像SGX这样的系统提供了类似的安全保证，但是今天要快得多，便宜得多，实用得多。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff mh"><img src="../Images/5f6e8b53d294d642e33a3c61bd1f5b0b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rpDTEOlJJfzGZtfz9Mm38w.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><strong class="bd mi">Figure: </strong>High level on how SGX works, which is relatively comparable to TEEs.</figcaption></figure><p id="5bb6" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">技术细节</strong></p><p id="0977" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这就是SGX在高层次上的工作方式，具体的实现细节在这里传递。</p><ol class=""><li id="8831" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku mj lz ma mb dt translated">代码在独立于操作系统的硬件保护范围/区域[1]中运行，它有一个相关的秘密私钥</li><li id="4c6b" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku mj lz ma mb dt translated">Enclave可以通过特殊的通道与应用程序通信</li><li id="bff2" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku mj lz ma mb dt translated">使用远程证明来证明一段特定的代码在一个合适的enclave上运行，产生一个特定的结果(“引用”)，其完整性得到验证[2]。</li></ol><p id="8d5f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这样，开发人员可以将开源代码发送到enclave，用户可以通过远程证明来验证enclave中运行的代码是否等同于开源代码。然后，用户可以检查代码中的任何后门或意外功能。</p><h1 id="d3c3" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">常见使用案例</h1><p id="0e2d" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">让我们从这项技术常见且明显的用例开始。</p><p id="47da" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">最常见的使用案例</strong></p><p id="8e6b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这些用例已经有相当常见的加密结构，但也可以在tee中完成。在不透露实际价值的情况下确定爱丽丝和鲍勃谁更富有(<a class="ae kv" href="https://en.wikipedia.org/wiki/Yao%27s_Millionaires%27_Problem" rel="noopener ugc nofollow" target="_blank">姚的百万富翁问题</a>)。在不显示投票和施法者之间的联系的情况下计算票数。生成<a class="ae kv" href="https://software.intel.com/en-us/sgx-sdk-dev-reference-random-number-generation-functions" rel="noopener ugc nofollow" target="_blank">随机数</a>。盲目拍卖，主持拍卖的个人看不到出价，也被迫在结束时透露所有出价。</p><p id="dffa" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">可证明擦除</strong></p><p id="7d38" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">后悔那一瞬间你把一些照片分享给了曾经的恋人？你怎么能证明他们删除了照片，这同样适用于GDPR，你怎么能证明数据不再在数据库中或在某人手中谁可以访问它？如果数据存储在enclave内，用户可以证明数据已经在enclave内被删除，或者数据的相关私钥已经被删除，并且数据不能再被解密。如果他们没有拍照片的话…</p><p id="1d50" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">密钥生成</strong></p><p id="aa0e" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">Shamir的秘密共享是一种加密技术，其功能类似于多签名钱包。生成<em class="mk"> m </em>个碎片和<em class="mk"> n </em>个号码是启动交易所必需的。然而，作为一个前兆，有一个公钥和私钥对是必要的，但如何证明密钥被破坏，而不是复制？接下来是TEEs的可证明擦除属性，在enclave中生成公钥和私钥对，创建碎片，然后可证明删除并且不泄漏私钥。</p><p id="d3f5" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">私人搜索和加密数据库</strong></p><p id="29c4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">假设存在一个我想要搜索的餐馆数据库，并且我不想向所有者透露我的搜索。主要是我担心所有者会把数据卖给狗仔队。目前还没有一种简单的方法能够用标准的加密技术实现数据的私人搜索。然而，使用SGX和蒂斯，可以在enclave 加密的数据集内<a class="ae kv" href="https://www.microsoft.com/en-us/research/uploads/prod/2018/02/enclavedb.pdf" rel="noopener ugc nofollow" target="_blank">进行搜索，而无需向操作员透露搜索的内容。类似的技术可以用于网络搜索[ </a><a class="ae kv" href="https://arxiv.org/abs/1805.01548" rel="noopener ugc nofollow" target="_blank">这里</a> ][ <a class="ae kv" href="https://arxiv.org/abs/1805.01742" rel="noopener ugc nofollow" target="_blank">这里</a> ]</p><p id="9825" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">可证明搜索</strong></p><p id="2f7b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">最初我们想要私人搜索，那么为什么突然之间我们想要可证明的搜索呢？传统数据库不是已经在日志中提供了吗？是的，但是假设我们给了国家安全局一些隐私区块链的查看钥匙。(查看密钥用于对<a class="ae kv" href="https://z.cash/blog/viewing-keys-selective-disclosure/" rel="noopener ugc nofollow" target="_blank"> Zcash </a>和<a class="ae kv" href="https://www.getmonero.org/resources/moneropedia/viewkey.html" rel="noopener ugc nofollow" target="_blank"> Monero </a>等协议中的私有交易内容进行解密)。我们能否构建一个系统，记录使用了哪些密钥子集，有了TEEs，就有可能获得防篡改日志，这是其他密码系统无法提供的。</p><h1 id="587a" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">不常见的用例</h1><p id="bd02" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">这就是乐趣的开始，我们如何以非直觉的方式使用球座？这些想法有些来自学术论文，有些是由该领域的研究人员凭空想象和验证的。</p><p id="379b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">心跳</strong></p><p id="66f7" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">心跳是一种表明某人或某物仍在附近的技术(相当于死人开关的软件)。假设我没有每个月给我妈妈发一条特别的信息，她会认为我失踪了。但是让我们把它变成可操作的。在<a class="ae kv" href="http://hackingdistributed.com/2018/01/18/paralysis-proofs/" rel="noopener ugc nofollow" target="_blank">瘫痪证明</a>中，有三个朋友想要3对3的multisig，但是他们不想在一个朋友消失的情况下失去资金。利用在SGX飞地内部运行的一些代码，它要求三方提交单独的信息，以授权资产转移。如果一个朋友失踪了，另外两个人可以发送一条特殊的消息，要求失踪的朋友在一个时间范围内提交心跳信号，否则钱包就变成了2-2 multisig。(可能那个朋友躲起来了，谁知道)。</p><p id="2048" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">集中非托管交易所</strong></p><p id="6fdb" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">从某种程度上来说，这听起来有点矛盾，但是有一个集中的<a class="ae kv" href="https://eprint.iacr.org/2017/1153" rel="noopener ugc nofollow" target="_blank">非托管交易所是可能的，它永远不会窃取用户的资金。也许非托管是一个误称，因为资金在技术上与飞地的私钥相关联。用户可以证明在enclave中运行的代码等同于开发人员开源的代码，并且没有秘密的后门。更令人兴奋的是，当新代码被推送到enclave时，开发人员可以实现一个功能，允许用户使用旧代码，直到新代码被完全审计，等等。</a></p><p id="edf4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">私人机器学习</strong></p><p id="a350" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">数据是新的石油(哈希力量可能是这些天来的),公司将他们的数据保存得非常紧密，除非被迫，否则很少共享。有时这是一种市场失灵，例如:如果医院相互分享他们的骨折x光片，他们可以<a class="ae kv" href="https://arxiv.org/abs/1811.01431" rel="noopener ugc nofollow" target="_blank">训练出一个比使用他们的数据子集更好的模型</a><a class="ae kv" href="https://arxiv.org/pdf/1807.06689.pdf" rel="noopener ugc nofollow" target="_blank">另一篇论文</a>。这将改善患者的结果，但由于HIPPA和GDPR[3]而无法实现。无论拯救行动有多安全，每家医院都会向enclave发送加密图像，enclave会在本地解密图像并训练一个模型。更有趣的是，该模型可能只能驻留在飞地中，并且永远无法导出。一个限制是，大多数飞地的计算能力有限，因此模型的训练将需要一些时间，但有一些最近的进展可能会绕过这个。以及带三通的<a class="ae kv" href="https://www.microsoft.com/en-us/research/publication/graviton-trusted-execution-environments-on-gpus/" rel="noopener ugc nofollow" target="_blank">GPU</a>。</p><p id="fd88" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">尽管私人机器学习最常引用的是医学原因，但还有一个更深远的含义。为了让自动驾驶汽车变得更加安全和普遍，收集更多数据以改进其算法和模型是必不可少的。但是，汽车收集了如此多的数据，以至于无法将其发送到中央数据中心，然而，如果在本地对数据进行可验证的分析，并将输出发送到中央服务器，则输出的数量级会更小(可验证的联合学习)。因为汽车制造商不能让恶意用户发送修改过的输出，他们需要<a class="ae kv" href="https://www.usenix.org/system/files/conference/soups2017/soups2017-bloom.pdf" rel="noopener ugc nofollow" target="_blank">驯服对大规模监控的恐惧</a>。</p><p id="971d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">秘密区块链和智能合约</strong></p><p id="7d9d" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">设想一个区块链，他的客户机/节点代码只有开发人员知道，其他任何人都无法破译。开发人员对字节码进行加密，并将其发送到每个飞地，一旦进入，字节码就被解密，并根据一套正式的验证测试运行，以证明代码功能是人们假设的功能。</p><p id="1aaf" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">区块链共识</strong></p><p id="8ebb" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这通常与加密货币社区的“去中心化”精神背道而驰，但如果SGX被用作共识机制的一部分会怎样？在《T4》的《运气的证明》中，SGX的随机数发生器被用来选举一个共识领袖，他将创造下一个街区。作者列举了“低延迟交易验证、确定性确认时间、可忽略的能耗和公平分布的挖掘”作为该系统的优势。<a class="ae kv" href="https://www.initc3.org/files/retreat/sgx_contracts.pdf" rel="noopener ugc nofollow" target="_blank">时间证明和所有权证明</a>以及<a class="ae kv" href="https://www.usenix.org/system/files/conference/usenixsecurity17/sec17-zhang.pdf" rel="noopener ugc nofollow" target="_blank">有用工作证明</a>和<a class="ae kv" href="https://sawtooth.hyperledger.org/docs/core/releases/1.0/architecture/poet.html" rel="noopener ugc nofollow" target="_blank">经过时间证明</a>是使用SGX设计的附加共识机制，并且仅在飞地的给定属性下才是可能的。</p><p id="9c9b" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">便宜的BFT电脑</strong></p><p id="8841" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">拜占庭容错计算机是指任何不可阻挡计算机，就像任何BFT共识机制一样。以太坊可以被看作是一个巨大的BFT计算机，然而它的运行极其昂贵，但是网络上的任何智能合同都会在激励下得到执行。网络审查很难。我们怎样才能拥有同样的抗审查的计算机，但价格却便宜得多呢？如果我们在enclave 中有一个<a class="ae kv" href="https://arxiv.org/abs/1804.05141" rel="noopener ugc nofollow" target="_blank">可公开验证的VM，我们就知道代码应该如何执行。因为enclave本身不知道虚拟机上运行的是什么代码，所以我们有更便宜的私有BFT计算。想象一下匿名的、不可阻挡的计算机程序…还没有人真正理解这一点的后果。想想匿名(不是假名)暗杀市场。</a></p><p id="0933" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">还有更多</strong></p><p id="47ff" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这只是触及了TEEs的权力的尖端，这里有一些额外的用例，你可以在自己的时间里阅读:<a class="ae kv" href="http://hackingdistributed.com/2018/07/02/on-chain-vote-buying/" rel="noopener ugc nofollow" target="_blank">用暗道</a>投票购买、<a class="ae kv" href="https://eprint.iacr.org/2017/974.pdf" rel="noopener ugc nofollow" target="_blank">比特币混合</a>、<a class="ae kv" href="http://ina.kaist.ac.kr/~dongsuh/paper/kim-hotnets2015.pdf" rel="noopener ugc nofollow" target="_blank">安全Tor </a>、<a class="ae kv" href="https://www.blackhat.com/docs/asia-18/asia-18-Schwarz-When-Good-Turns-Evil-Using-Intel-SGX-To-Stealthily-Steal-Bitcoins-wp.pdf" rel="noopener ugc nofollow" target="_blank">从其他飞地窃取比特币</a>和<a class="ae kv" href="https://arxiv.org/abs/1805.01783" rel="noopener ugc nofollow" target="_blank">安全公共云</a>。</p><h1 id="29b3" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">用例摘要</h1><p id="7441" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">这里是这篇文章中探索的用例列表，其中只有一些是TEEs专有的，但是使用其他技术可能性能较差。像任何加密技术一样，有多种方法可以实现相同的目标，但也有内在的权衡。为了简明起见，我们不会过多地讨论不同加密结构之间的权衡。</p><figure class="jk jl jm jn fq jo fe ff paragraph-image"><div role="button" tabindex="0" class="jp jq di jr bf js"><div class="fe ff ml"><img src="../Images/386a5d43f67e7b974caa8d85742d7ccf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fP_4PToZ8x170xKS9PyUdg.png"/></div></div><figcaption class="jv jw fg fe ff jx jy bd b be z ek"><strong class="bd mi">Figure:</strong> Table of use cases, examples from the table linked here: <a class="ae kv" href="https://eprint.iacr.org/2018/962" rel="noopener ugc nofollow" target="_blank">ZKP</a>, <a class="ae kv" href="https://eprint.iacr.org/2017/878.pdf" rel="noopener ugc nofollow" target="_blank">MPC</a></figcaption></figure><h1 id="eb70" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">使用TEE / SGX的区块链项目</h1><p id="4643" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">鉴于TEEs的这些独特属性，难怪一些区块链协议会将这种技术作为核心技术的一部分或作为辅助功能来实现。他们中大多数人把它用于私人计算，但有些人有独特的想法。以下所有项目和公司目前都在建设中和/或在过去已经用于生产，该列表不包括许多更侧重于研究的学术项目。</p><p id="6ca4" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">学术项目背景</strong></p><ul class=""><li id="5b18" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated"><a class="ae kv" href="https://eprint.iacr.org/2017/1153.pdf" rel="noopener ugc nofollow" target="_blank">宇宙魔方</a></li><li id="15a6" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="http://www.town-crier.org/" rel="noopener ugc nofollow" target="_blank">城镇传令官</a></li><li id="f709" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.oasislabs.com" rel="noopener ugc nofollow" target="_blank">绿洲实验室</a> / <a class="ae kv" href="https://arxiv.org/abs/1804.05141" rel="noopener ugc nofollow" target="_blank"> Ekiden </a></li><li id="7e75" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://arxiv.org/pdf/1805.08541.pdf" rel="noopener ugc nofollow" target="_blank"> Hyperledger面料和t恤</a></li><li id="618c" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.teechain.network/" rel="noopener ugc nofollow" target="_blank"> TeeChain </a></li></ul><p id="6dcb" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">使用SGX的区块链公司</strong></p><p id="ad4c" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">这些是一些公司在询问时出现的，我还没有核实他们的生产准备情况，名单是按字母顺序排列的，没有偏见。</p><ul class=""><li id="6a2b" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.ankr.network/" rel="noopener ugc nofollow" target="_blank"> Ankr网络</a></li><li id="32f5" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.atana.io" rel="noopener ugc nofollow" target="_blank">阿塔那网</a></li><li id="2807" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://chain.link/" rel="noopener ugc nofollow" target="_blank">链环</a></li><li id="4992" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://covalent.ai" rel="noopener ugc nofollow" target="_blank">共价AI </a></li><li id="9d57" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">Engima — <a class="ae kv" href="https://blog.enigma.co/secret-nodes-part-2-exploring-eng-economics-and-building-a-sustainable-network-3d0e9f8a9d40" rel="noopener ugc nofollow" target="_blank">秘密节点</a></li><li id="8dd3" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">假人— <a class="ae kv" href="https://blog.golemproject.net/introducing-graphene-ng-running-arbitrary-payloads-in-sgx-enclaves-a03f219447a5" rel="noopener ugc nofollow" target="_blank">石墨烯NG </a></li><li id="394b" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" rel="noopener" href="/iex-ec/iexec-end-to-end-sgx-solution-fee1e63297b2"> iExec </a></li><li id="3132" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://jupiterchain.tech" rel="noopener ugc nofollow" target="_blank"> Jupiterchain.tech </a></li><li id="24f0" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.mobilecoin.com/" rel="noopener ugc nofollow" target="_blank">手机摄像头</a></li><li id="b662" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://taxa.network/" rel="noopener ugc nofollow" target="_blank">分类群网络</a></li><li id="3bef" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://github.com/trias-lab/Documentation/blob/master/EN/Whitepaper-EN.md" rel="noopener ugc nofollow" target="_blank">三人组</a></li><li id="f982" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">我们的</li></ul><h1 id="f863" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">你会用SGX和t恤创作什么？</h1><p id="f0e0" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">在对不常见的TEE用例进行调查后，我意识到这些用例将成为最常见的用例。这些工具的价值在于密码学尚未解决的难题，比较两个数字很容易，但对完全匿名的智能合约平台的可验证的联邦学习是我们所看到的未来。我们才刚刚开始真正理解用例及其后果。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><h1 id="ce9c" class="kw kx hu bd ky kz mt lb lc ld mu lf lg ja mv jb li jd mw je lk jg mx jh lm ln dt translated">进一步阅读和研究</h1><p id="7d84" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated"><strong class="kb hv"> Arxiv论文</strong></p><ul class=""><li id="ba66" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated"><a class="ae kv" href="https://arxiv.org/search/?query=%22Trusted+Execution+Environment%22&amp;searchtype=all&amp;abstracts=show" rel="noopener ugc nofollow" target="_blank">可信执行环境</a></li><li id="0e91" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://arxiv.org/search/?query=sgx&amp;searchtype=all&amp;abstracts=show" rel="noopener ugc nofollow" target="_blank"> SGX </a></li></ul><p id="1755" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">攻击和漏洞</strong></p><p id="4316" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">不幸的是，SGX和蒂斯并不是一贯正确的，就像所有的加密工具一样，也有取舍。这些问题普遍存在于所有形式的现有发球台，但我们将重点关注SGX的特殊失误，因为它们有更好的记录。</p><ul class=""><li id="ccc3" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated">侧通道攻击(这是一类攻击)，<a class="ae kv" href="https://www.cs1.tf.fau.de/research/system-security-and-software-protection-group/sgx-timing/" rel="noopener ugc nofollow" target="_blank">缓存计时攻击</a>，<a class="ae kv" href="https://www.usenix.org/conference/woot17/workshop-program/presentation/brasser" rel="noopener ugc nofollow" target="_blank">缓存攻击</a>，<a class="ae kv" href="https://foreshadowattack.eu/" rel="noopener ugc nofollow" target="_blank">推测执行攻击</a>(这个比较臭名昭著)，<a class="ae kv" href="https://arxiv.org/pdf/1802.09085.pdf" rel="noopener ugc nofollow" target="_blank">异推测执行攻击</a>(其中一些已经部分修复)</li><li id="1598" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">许可问题(如果英特尔停止向特定项目授予许可，该怎么办)</li><li id="db2b" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">集中式远程证明(服务器由英特尔运行，英特尔的证明)</li><li id="6dec" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">非匿名验证(英特尔知道它验证的是什么特定设备)</li><li id="ba2d" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">封闭源代码(硬件设计和一些软件组件)</li><li id="f39a" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">英特尔的证明(对于设备的认证和制造，不想再有一个<a class="ae kv" href="https://www.bloomberg.com/news/features/2018-10-04/the-big-hack-how-china-used-a-tiny-chip-to-infiltrate-america-s-top-companies" rel="noopener ugc nofollow" target="_blank">超微事件</a>，它被证明是假的，但有类似的事情<a class="ae kv" href="https://arstechnica.com/tech-policy/2014/05/photos-of-an-nsa-upgrade-factory-show-cisco-router-getting-implant/" rel="noopener ugc nofollow" target="_blank">像</a>这个和<a class="ae kv" href="https://www.usenix.org/legacy/event/leet08/tech/full_papers/king/king.pdf" rel="noopener ugc nofollow" target="_blank">这个</a></li></ul><p id="8c26" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">光明未来</strong></p><p id="2e36" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">然而，未来并不是那么暗淡，尽管英特尔的SGX存在一些缺陷，但新一代的t恤正在出现。这包括正在进行开源RISC-V实现的Keystone项目。随着<a class="ae kv" rel="noopener" href="/gradient-tech/introducing-gradient-715e11be685b">梯度</a>这是侧信道免疫和SGX 2.0。</p><p id="6782" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><strong class="kb hv">非区块链公司使用SGX /三通</strong></p><ul class=""><li id="43e3" class="lt lu hu kb b kc kd kf kg ki lv km lw kq lx ku ly lz ma mb dt translated"><a class="ae kv" href="https://blog.agilebits.com/2017/01/03/intel-sgx/" rel="noopener ugc nofollow" target="_blank">1密码</a></li><li id="78a7" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://signal.org/blog/private-contact-discovery/" rel="noopener ugc nofollow" target="_blank">信号</a></li><li id="538c" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated">安茹娜</li><li id="5916" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.ibm.com/blogs/bluemix/2018/05/data-use-protection-ibm-cloud-using-intel-sgx/" rel="noopener ugc nofollow" target="_blank"> IBM云</a></li><li id="7a6b" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://azure.microsoft.com/en-us/solutions/confidential-compute/" rel="noopener ugc nofollow" target="_blank">微软Azure </a></li><li id="ccfe" class="lt lu hu kb b kc mc kf md ki me km mf kq mg ku ly lz ma mb dt translated"><a class="ae kv" href="https://www.alibabacloud.com/help/doc-detail/60576.html?spm=a2c5t.10695662.1996646101.searchclickresult.67d875edbpNB54" rel="noopener ugc nofollow" target="_blank">阿里云</a></li></ul><h1 id="2d63" class="kw kx hu bd ky kz la lb lc ld le lf lg ja lh jb li jd lj je lk jg ll jh lm ln dt translated">脚注</h1><p id="44df" class="pw-post-body-paragraph jz ka hu kb b kc lo iv ke kf lp iy kh ki lq kk kl km lr ko kp kq ls ks kt ku hn dt translated">[1]飞地应该是与操作系统分离的硬件隔离区域。然而在SGX，情况并非如此。SGX框架中的飞地不是与操作系统隔离的硬件。它们基本上是一个内存原语，其中enclave正在执行的代码的内存地址空间，以及SP、PC和一些微体系结构状态对操作系统是模糊的。为了真正抵御侧信道攻击，需要对操作系统隐藏页表和错误，而SGX没有做到这一点。SGX的页表故障可以被操作系统观察到，并且操作系统可以导致故障，因此恶意操作系统可以在页面粒度上直接获知安全容器的内存访问，并且任何软件都可以执行缓存计时攻击，这种攻击使用缓存标签状态作为渗透路径。这些漏洞在2018年通过伏笔攻击得到了证明</p><p id="7e5f" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">[2]Christian从Gradient注意到，可以修复飞地旁道攻击，但是远程证明是一个弱点。SGX和苹果的<a class="ae kv" href="https://www.blackhat.com/docs/us-16/materials/us-16-Mandt-Demystifying-The-Secure-Enclave-Processor.pdf" rel="noopener ugc nofollow" target="_blank"> SEP </a>使用高度隔离的设备密钥来进行认证引导至诚实状态。在他们的情况下，认证是英特尔或苹果服务器，而不是其他任何人。该证明在证明者阶段是<strong class="kb hv">而不是</strong>匿名的。然而，使用Gradient，他们正在研究一种匿名证明方案，因此人们可以检查处理器的完整性，而不依赖于中央第三方，也不会暴露身份。</p><p id="f482" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated">[3]这更是一个社会问题，医疗团体可以征得病人的同意，与他人分享数据，但他们选择不这样做。因此，即使工具被创造出来，也不太可能有很多人会使用它。</p></div><div class="ab cl mm mn hc mo" role="separator"><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr ms"/><span class="mp bw bk mq mr"/></div><div class="hn ho hp hq hr"><p id="a328" class="pw-post-body-paragraph jz ka hu kb b kc kd iv ke kf kg iy kh ki kj kk kl km kn ko kp kq kr ks kt ku hn dt translated"><em class="mk">特别感谢审稿人:Lorenz Breidenbach (IC3 /苏黎世联邦理工学院)、Christian Wentz (Gradient)、Martina Long (Primitive Ventures)、Dawn Song (UC Berkeley / Oasis Labs)、Kevin Britz (Totient Labs) </em></p></div></div>    
</body>
</html>