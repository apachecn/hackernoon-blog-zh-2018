<html>
<head>
<title>trunk based development (TBD) for apps</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于主干的应用程序开发(TBD)</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/trunk-based-development-tbd-for-apps-9b654b6b198c?source=collection_archive---------9-----------------------#2018-12-26">https://medium.com/hackernoon/trunk-based-development-tbd-for-apps-9b654b6b198c?source=collection_archive---------9-----------------------#2018-12-26</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3812" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过阅读一些与TBD⚡️相关的文章和推文，我无法避免将这个话题带到我自己的领域(📱<strong class="it hv"> app开发</strong>，伸伸胳膊伸伸手指，发表一篇关于这个的笔记。</p><h1 id="b7fc" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">那么，TBD是什么？</h1><p id="148f" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated"><a class="ae ks" href="https://trunkbaseddevelopment.com/" rel="noopener ugc nofollow" target="_blank">干线基础发展</a>是:</p><blockquote class="kt ku kv"><p id="9f1d" class="ir is kw it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated">在源代码控制分支模型中，开发人员在一个名为“主干”的分支中就代码进行协作，通过采用文档化的技术来抵制创建其他长期开发分支的压力。因此，他们避免合并地狱，不破坏建设，并幸福地生活在一起。</p></blockquote><figure class="lb lc ld le fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff la"><img src="../Images/de75fb5e499e8c8984cd120c573cd189.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hCBUW6RaSLQ7xDu41lsj0g.png"/></div></div></figure><p id="c399" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通过阅读它，你可以察觉到邪恶👹过度结构化的分支模型(如<a class="ae ks" href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" rel="noopener ugc nofollow" target="_blank"> git flow </a>)的一面，你可能会开始考虑抽象🧙‍♂️的<strong class="it hv">分支</strong> <strong class="it hv">等概念，特性标志🚩</strong>以及如何使您的CI/CD流程♻️适应<strong class="it hv"> </strong>使用<strong class="it hv">待定</strong> ⚡️ <strong class="it hv">工作流程。</strong></p><p id="478d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们一起回顾一些关键的事情。</p><h1 id="0b5b" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">功能标志🚩</h1><p id="0e3e" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">功能标志概念<a class="ae ks" href="https://featureflags.io/" rel="noopener ugc nofollow" target="_blank">是新的</a>或特别附加到TBD⚡️ <strong class="it hv">但是如果你想搬到TBD⚡️.，你需要开始使用功能标志</strong></p><p id="b0bb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">当每个人都在一个分支中合作时，你需要一种机制来隐藏或淡出那些正在开发的部分。</p><blockquote class="lm"><p id="753d" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">由于很难让你的用户获得新代码，应用程序的发布过程有着特殊的意义。</p></blockquote><p id="0b62" class="pw-post-body-paragraph ir is hu it b iu lw iw ix iy lx ja jb jc ly je jf jg lz ji jj jk ma jm jn jo hn dt translated">iOS商店需要长达3天的审查过程，这并不新鲜⏳(Android没有)，但在两者中，一旦你“发布”可以持续长达1周，以获得新版本中90%以上的用户。</p><blockquote class="lm"><p id="b501" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">采用<a class="ae ks" href="https://martinfowler.com/bliki/FeatureToggle.html" rel="noopener ugc nofollow" target="_blank">特征标志</a>🚩将帮助您尝试新的代码，并在出现问题时立即将它改回来</p></blockquote><p id="b5d3" class="pw-post-body-paragraph ir is hu it b iu lw iw ix iy lx ja jb jc ly je jf jg lz ji jj jk ma jm jn jo hn dt translated">此外，您还会喜欢它，因为它通过强制解耦提高了您的代码质量，并支持您的产品A/B测试功能。</p><h1 id="f621" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">抽象分支🧙‍♂️</h1><figure class="lb lc ld le fq lf fe ff paragraph-image"><div role="button" tabindex="0" class="lg lh di li bf lj"><div class="fe ff mb"><img src="../Images/7a68ca40690e3ac86676843e40a76eb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUssa7hBl5To_pLl9Qvn_w.png"/></div></div></figure><p id="02af" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><a class="ae ks" href="https://www.branchbyabstraction.com/" rel="noopener ugc nofollow" target="_blank">抽象分支</a>是<strong class="it hv">增量执行变更的一种方式</strong>，TBD⚡️需要它，因为它有助于合并“进行中的工作”变更🚧放在后备箱里并保持稳定。</p><blockquote class="lm"><p id="3ae3" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">基本思想是抽象当前的实现，在每个阶段的一系列可发布的变更中用新的实现替换它。</p></blockquote><p id="f054" class="pw-post-body-paragraph ir is hu it b iu lw iw ix iy lx ja jb jc ly je jf jg lz ji jj jk ma jm jn jo hn dt translated">这个简单的概念很容易应用，并且会帮助你得到一个耦合度更低的代码<strong class="it hv">🏚</strong>并在“工作进行中”变更中获得反馈🚧越来越频繁。</p><p id="2082" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">所有这些好处都是像<a class="ae ks" href="http://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html" rel="noopener ugc nofollow" target="_blank">干净的架构</a>或<a class="ae ks" href="https://en.wikipedia.org/wiki/SOLID" rel="noopener ugc nofollow" target="_blank">坚实的</a>设计原则这样的概念所固有的，但是即使抽象分支在任何想要鼓励卓越和改进协作的团队中都是必须做的，尽管他们渴望采用TBD⚡️</p><h1 id="0036" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km dt translated">结论</h1><p id="f194" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">鉴于上述好处和应用程序发布的疯狂⏳你会注意到TBD⚡️的大部分改进都与此相关或直接相关，比如:</p><ul class=""><li id="bb15" class="mc md hu it b iu iv iy iz jc me jg mf jk mg jo mh mi mj mk dt translated"><strong class="it hv">少耦合代码🏚</strong></li><li id="7736" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><strong class="it hv">更好的代码审查流程👀</strong></li><li id="6048" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><strong class="it hv">忌邪邪分支👹</strong></li><li id="2f75" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><strong class="it hv">更精简的CI/CD流程♻️ </strong></li><li id="ff4e" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><strong class="it hv">更安全、更快捷、更快发布</strong>🚀</li></ul><blockquote class="lm"><p id="1904" class="ln lo hu bd lp lq mq mr ms mt mu jo ek translated">而在其他技术中，发布到主干可能意味着在生产中发布。</p><p id="f48c" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">在应用程序开发中，情况并非如此，有必要陈述一个清晰的发布政策🚀。</p></blockquote><p id="9ab0" class="pw-post-body-paragraph ir is hu it b iu lw iw ix iy lx ja jb jc ly je jf jg lz ji jj jk ma jm jn jo hn dt translated">当你发布你的应用程序时，你不仅仅是逐步淘汰了一周90%以上的用户获得新的变化，你还迫使他们在每次更新时下载几十甚至几百MB，你不能简单地发布合并到trunk中的每个变化。</p><p id="738b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你要收养TBD⚡️，你需要让你的释放过程定期进行⏲(可能与您的sprint计划一致)这样无论什么在trunk中都会及时被释放🚀，这将帮助您保持一个稳定的发布进度，这将导致一个更加投入的团队，通过更频繁地看到他们工作的影响并迫使您更快地进行测试来增加团队的成就感。</p><p id="aa47" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">然而，主干分支变得越来越重要，您需要高度重视该分支中的自动化检查，以确保其稳定性。</p><blockquote class="lm"><p id="3e0d" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">在任何情况下，您都需要就何时自动释放以及如何阻止它，如何在需要时手动释放达成一致，但更重要的是在主干中创建一组自动检查以确保它的稳定性。如果可能，在合并任何PR到它之前。</p></blockquote><h1 id="509f" class="jp jq hu bd jr js jt ju jv jw jx jy jz ka mv kc kd ke mw kg kh ki mx kk kl km dt translated">TL；博士——LOL😂</h1><p id="059a" class="pw-post-body-paragraph ir is hu it b iu kn iw ix iy ko ja jb jc kp je jf jg kq ji jj jk kr jm jn jo hn dt translated">有几个有效的点在待定⚡️and周围的一切，像<strong class="it hv">特征标志</strong>🚩，<strong class="it hv">分支被抽象化</strong> 🧙‍♂️，<strong class="it hv">增加协作</strong>📣，更简洁的代码和更简单的CI/CD流程♻️</p><blockquote class="lm"><p id="5e74" class="ln lo hu bd lp lq lr ls lt lu lv jo ek translated">我的结论是，现在没有什么能阻止你在应用程序开发过程中采用这种方法，只是对主干稳定性和对未知的恐惧设置了更严格的检查。</p></blockquote><h2 id="fbc9" class="my jq hu bd jr mz na nb jv nc nd ne jz jc nf ng kd jg nh ni kh jk nj nk kl nl dt translated">相关文章:</h2><ul class=""><li id="74da" class="mc md hu it b iu kn iy ko jc nm jg nn jk no jo mh mi mj mk dt translated"><a class="ae ks" href="https://trunkbaseddevelopment.com" rel="noopener ugc nofollow" target="_blank">trunkbaseddevelopment.com</a></li><li id="6455" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><a class="ae ks" href="https://martinfowler.com/bliki/FeatureToggle.html" rel="noopener ugc nofollow" target="_blank">的特色从<a class="ae ks" href="http://martinfowler.com/" rel="noopener ugc nofollow" target="_blank">的</a>中借鉴了马丁·福勒的</a></li><li id="853f" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><a class="ae ks" href="https://continuousdelivery.com/2011/05/make-large-scale-changes-incrementally-with-branch-by-abstraction/" rel="noopener ugc nofollow" target="_blank">通过抽象分支</a>从<a class="ae ks" href="https://continuousdelivery.com/" rel="noopener ugc nofollow" target="_blank">ContinuousDelivery.com</a></li><li id="e921" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><a class="ae ks" href="https://www.thoughtworks.com/insights/blog/enabling-trunk-based-development-deployment-pipelines" rel="noopener ugc nofollow" target="_blank">基于主干的开发</a>来自<a class="np nq gr" href="https://medium.com/u/8075bdd73dd9?source=post_page-----9b654b6b198c--------------------------------" rel="noopener" target="_blank"> ThoughtWorks </a></li><li id="1c75" class="mc md hu it b iu ml iy mm jc mn jg mo jk mp jo mh mi mj mk dt translated"><a class="ae ks" href="https://twitter.com/buraitopengin/status/993415389525790720" rel="noopener ugc nofollow" target="_blank">为什么特征分支是邪恶的</a>来自<a class="np nq gr" href="https://medium.com/u/179bce3232e6?source=post_page-----9b654b6b198c--------------------------------" rel="noopener" target="_blank">吉列姆管</a></li></ul></div></div>    
</body>
</html>