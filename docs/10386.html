<html>
<head>
<title>Lessons learned from evaluating IOTA on Internet of Things devices</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在物联网设备上评估IOTA的经验教训</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/lessons-learned-from-evaluating-iota-on-internet-of-things-devices-a44575e606de?source=collection_archive---------1-----------------------#2018-12-28">https://medium.com/hackernoon/lessons-learned-from-evaluating-iota-on-internet-of-things-devices-a44575e606de?source=collection_archive---------1-----------------------#2018-12-28</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="3d50" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">关于<a class="ae jp" href="https://hackernoon.com/tagged/iota" rel="noopener ugc nofollow" target="_blank"> IOTA </a>公开可用的定量结果很少。基于这一事实，我们在两台不同的物联网设备和两台现代桌面和服务器计算机上试验了IOTA。我们发现，尽管理论上Tangle具有可扩展性，但实际的IOTA协议具有相对较高的能耗。相对于许多物联网设备的有限能力，工作证明和交易签名操作在计算上很复杂，并且在能量有限/电池供电的设备上可能不切实际。</p><p id="12a0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><em class="jq">注:本文使用了研究论文</em> <a class="ae jp" href="http://user.it.uu.se/~atiel485/iota-iot-2018.pdf" rel="noopener ugc nofollow" target="_blank"> <em class="jq">分布式账本技术和物联网:可行性研究</em> </a> <em class="jq">的结果，该论文在第一届区块链支持的网络传感器系统(BlockSys)研讨会上发表。</em></p><h1 id="36de" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">背景</h1><p id="7d55" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">如果你正在阅读这篇文章，你可能知道<a class="ae jp" href="https://www.iota.org/" rel="noopener ugc nofollow" target="_blank"> IOTA是一种加密货币</a>，旨在适用于物联网应用。2018年夏天，我开始意识到，尽管大肆宣传，但没有关于IOTA运营能耗的公开数据，也没有关于IOTA在物联网设备上的可行性的公开研究。同时，IOTA安全假设需要大量活跃的物联网设备。所以，“它在物联网设备上真的有效吗？”是应该多问的关键问题。</p><p id="6441" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">IOTA中的分类帐由大量分发的工作证明形式保护。分类帐的状态由所谓的全节点维护。物联网设备被设想为光节点；他们需要连接到完整的节点，创建和签署事务，并以分布式方式计算工作证明。IOTA的设计依赖于<em class="jq">数量上的安全性</em> —这种想法认为，由于物联网设备的数量庞大，物联网设备的计算能力超过恶意参与者可能实际获得的任何计算资源。</p><p id="8c19" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">加密货币IOTA的当前状态达不到这一愿景——交易也由集中式协调器节点来验证。如果IOTA想要过渡到完全分散的操作，它需要移除协调器组件。这里的关键问题是“仅靠工作证明就能保证网络安全吗？”。更具体地说，“物联网设备能否提供足够的分布式工作证明来抵御集中式攻击？”</p><h1 id="7e74" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">物联网设备和工作证明</h1><p id="135d" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">物联网设备具有广泛的功能。这些设备中的一些与典型的台式PC一样强大(甚至更强大)。然而，他们是例外。愿景指出“预计到2025年，联网设备的数量将达到750亿台。”思科承诺到2020年<a class="ae jp" href="https://www.huffingtonpost.com/entry/cisco-enterprises-are-leading-the-internet-of-things_us_59a41fcee4b0a62d0987b0c6" rel="noopener ugc nofollow" target="_blank">超过500亿台联网设备</a>，爱立信:<a class="ae jp" href="https://www.ericsson.com/en/press-releases/2016/11/5g-subscriptions-to-reach-half-a-billion-in-2022-ericsson-mobility-report" rel="noopener ugc nofollow" target="_blank">到2022年</a>超过180亿台物联网设备。然而，<strong class="it hv">其中绝大多数将是低功耗设备</strong>。例如，当前运行的低功耗嵌入式微控制器的数量比Raspberry Pi级物联网设备的数量多几个数量级。</p><p id="9f30" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">数十亿台互联设备将全部计算能力贡献给IOTA的工作验证计算是极不可能的。</strong></p><h1 id="590d" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">标称与可用计算能力</h1><p id="94f6" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">许多物联网设备依靠电池运行，或者电源有限。这些设备不能一直使用它们名义上的计算资源，所以它们通常执行某种任务循环。如果以1%的占空比运行，标称计算能力为<em class="jq">x</em>的设备只有0.01倍<em class="jq">的可用计算能力。一千个占空比为0.1%的器件的可用计算能力仅相当于一个占空比为100%的等效器件。更具体地说，单个服务器本身的功能是普通物联网设备的1000倍，可以有效地产生与100万个工作占空比为0.1%的“普通”物联网设备一样多的工作验证计算。</em></p><p id="2b79" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这些物联网设备的限制因素不是它们标称的计算能力；这是他们所需的电池寿命。重要的不是每秒几百万次的运算，而是这些运算所需的能量。</p><p id="616a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">不依赖电池的物联网设备呢？即使这些设备通常也不像服务器和采矿场那样容易和廉价地获得能源。后两者受益于规模经济，而物联网设备通常高度分布在空间中，没有附近的电源，也没有针对工作验证计算进行优化的CPU。</p><h1 id="a8da" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">实验装置</h1><p id="f76b" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">我们观察了两种不同功率等级的两种物联网设备，并将它们与两台现代计算机进行了比较:</p><ul class=""><li id="083f" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo kz la lb lc dt translated">德州仪器CC2650 LaunchPad (48 MHz，单核，只有20 kB的RAM和128 kB的程序存储器)</li><li id="9e56" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">树莓Pi型号3 (1200 MHz，4核)</li><li id="8a31" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">英特尔酷睿i7–6700台式机(3400 MHz，8核)</li><li id="f74e" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo kz la lb lc dt translated">采用Nvidia Quadro K620的英特尔至强E5–2623服务器(3000 MHz，16核)。</li></ul><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div class="fe ff li"><img src="../Images/e85678008a9b204f1681b6f69747f184.png" data-original-src="https://miro.medium.com/v2/resize:fit:1162/format:webp/1*CyujKv1ZAjPa-DlWsmkhJQ.png"/></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Texas Instruments CC2650 LaunchPad</figcaption></figure><p id="6bba" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在如此多样化的设备上测量能耗是一件不简单的事情。此外，直接测量平台消耗的能量还包括它们的外围组件，这对于本文并不重要——我们主要对CPU消耗的能量感兴趣。因此，我们采用的方法是测量执行IOTA操作所需的CPU时间，然后将时间推断为能耗。</p><h1 id="53ce" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">工作证明所需的时间和精力</h1><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff lu"><img src="../Images/cfc5dac8108fef79f55afd3c2ae4a680.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*FcWqubeji215AkaHHLCRhA.png"/></div></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Time required to complete a single PoW operation on Raspberry Pi Model 3, Intel Core i7 desktop computer, and a Nvidia Quadro GPU. The green bars show average results, the small black bars — standard deviation. Log scale on y axis.</figcaption></figure><p id="e4c4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们使用IOTA基金会(<a class="ae jp" href="https://github.com/iotaledger/ccurl" rel="noopener ugc nofollow" target="_blank">https://github.com/iotaledger/ccurl</a>)的CCurl实现。它是用C实现的；然而，它仍然太重，无法在TI LaunchPad上运行——核心算法使用了太多的RAM。我们在剩下的三个平台上执行它。</p><p id="5e24" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">结果显示了以秒为单位的所需时间(左边的图表)；将其外推至能源，我们得到树莓Pi的54.9焦耳，酷睿i7的233.2焦耳，以及Nvidia GPU的93.5焦耳。</p><p id="eebb" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TI LauchPad的计算能力比Raspberry Pi低10-100倍，具体取决于具体的工作负载。即使PoW代码可以在TI LauchPad上运行，计算单个交易的PoW也需要一个小时左右。这些设备也可能在最多一天或几周内耗尽电池，这取决于电池的容量(分别为100 mAh至2700 mAh)。</p><p id="38cc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">Raspberry Pi本身能够执行一些PoW，但它每天只能执行1000个事务的PoW，假设它为该任务花费100%的CPU资源——因此，很明显，它也不能作为主要的PoW中心。</p><p id="50f0" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">酷睿i7服务器仅比Pi快20倍左右，因此，20个Pi的网络在理论上可以匹配单核酷睿i7服务器的计算能力。尽管如此，圆周率的能源消耗还是会高出几倍。</p><p id="3fc4" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">还要注意，历史上IOTA缠结经常在第一次尝试中未能确认有效的事务，需要用户“重新附加”它们，在某些情况下需要多次。每个“重新附加”操作都需要为每个重新附加的事务提供一份全新的工作证明。</p><h1 id="318a" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">外包工作证明</h1><p id="96af" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">还有一个潜在的好处:IOTA协议允许将工作证明计算外包到外部设备上。该功能允许通过物联网设备和专用服务器之间的协作来改进系统设计。前者有动力去做工作证明，后者有计算资源和能量来进行有效的计算。然而，该方案只有在以下情况下才有效:</p><ol class=""><li id="145b" class="ku kv hu it b iu iv iy iz jc kw jg kx jk ky jo lz la lb lc dt translated">物联网设备可以有效地用作IOTA钱包，即可以创建和签署IOTA交易。</li><li id="487f" class="ku kv hu it b iu ld iy le jc lf jg lg jk lh jo lz la lb lc dt translated">物联网设备和工作证明设备之间的通信开销较低。</li></ol><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff ma"><img src="../Images/a62592c73576553dfd67a067aef0f314.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*X6bwYh-LgYrZv15KDG4pYw.png"/></div></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">A light-weight architecture where the PoW computation is outsourced to an IoT proxy node.</figcaption></figure><h1 id="350b" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">交易签名和无线通信所需的时间和精力</h1><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mb"><img src="../Images/ab50b0889635f4a563978d2235b7096d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*czGphEEqxaa0BTNBaLX8Nw.png"/></div></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Time required to sign a single transaction on Texas Instruments CC2650, Raspberry Pi Model 3, Intel Core i7 desktop computer, and Intel Xeon server. The green bars show average results, the small black bars — standard deviation. Log scale on y axis.</figcaption></figure><p id="c0d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我们使用了<a class="ae jp" href="https://github.com/IOTA-Ledger/blue-app-iota" rel="noopener ugc nofollow" target="_blank"> IOTA Ledger Nano S </a> wallet到<a class="ae jp" href="http://contiki-ng.org/" rel="noopener ugc nofollow" target="_blank">conti-NG</a>操作系统的一个端口(参见<a class="ae jp" href="https://github.com/atiselsts/contiki-ng/tree/iota/examples/iota/value-transaction" rel="noopener ugc nofollow" target="_blank">https://github . com/atiselsts/conti-NG/tree/IOTA/examples/IOTA/value-transaction</a>)。继续进行的移植只保留了必要的算法，以适应TI LaunchPad有限的RAM和环境。</p><p id="f52b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">结果(左边)显示，在TI LaunchPad上平均签一单交易需要7.7秒，在这个平台上消耗74 mJ(毫焦耳)。相比之下，它在Raspberry Pi上需要大约82兆焦耳，在Core i7服务器上需要28兆焦耳，在老一代Xeon服务器上需要31兆焦耳。</p><p id="21bc" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">相比之下，使用TI LaunchPad (BLE和IEEE 802.15.4)上可用的几种低功率无线协议之一，只需要几个mJ就可以传输签名的交易。可以通过仅将事务的必要部分传输到代理设备来进一步优化，然后代理设备填充IOTA事务的数据结构的其余字段。</p><figure class="lj lk ll lm fq ln fe ff paragraph-image"><div role="button" tabindex="0" class="lv lw di lx bf ly"><div class="fe ff mc"><img src="../Images/24d2d31a9e4174fdcaca0d7e6f2be175.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3_LTnjNc0zGqgt4D3nSamQ.png"/></div></div><figcaption class="lq lr fg fe ff ls lt bd b be z ek">Distribution of time required to perform a single Proof-of-Work operation (left graph) and a single signing operation (right graph). Results on Raspberry Pi Model 3. Log scale on x axis. The distributions show high variability for both operations,</figcaption></figure><p id="1d1d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">PoW和事务签名都有很大的时间差异(见上图)，使得难以量化完成IOTA操作所需的最小能量预算。</p><p id="c07d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这一切意味着什么？我们在论文中得出结论:</p><blockquote class="md me mf"><p id="7d75" class="ir is jq it b iu iv iw ix iy iz ja jb mg jd je jf mh jh ji jj mi jl jm jn jo hn dt translated">鉴于能源使用结果，很明显，在电池供电的设备上，如果没有硬件加速的加密技术，PoW和交易签名都是不切实际的。更强大的设备如Raspberry Pi能够完成这两种操作，但即时事务超出了它们的资源范围。</p></blockquote><p id="1e6a" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">总的来说，IOTA感觉不像是为轻量级物联网应用而设计的。可以通过用更有效的东西来部分替换IOTA参考协议来优化通信开销，但是即使实现钱包功能(即，能够创建和签署交易)在计算上也是昂贵的，并且可能需要许多秒来完成。考虑具有小电池(比如100 mAh)的物联网设备，该设备每分钟产生一个IOTA“包”，或者具有两个签名事务，或者具有两个签名消息片段的单个签名事务。这样的设备在电池耗尽之前将持续不到6天——这是在不切实际的假设下，即除了签署IOTA交易之外，它不做任何其他事情！</p><h1 id="6d4a" class="jr js hu bd jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko dt translated">讨论</h1><p id="32f1" class="pw-post-body-paragraph ir is hu it b iu kp iw ix iy kq ja jb jc kr je jf jg ks ji jj jk kt jm jn jo hn dt translated">对于IOTA不适合大多数物联网设备的说法，有两种潜在的反对意见。</p><p id="c78b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">反对意见1。<em class="jq">IOTA哈希函数可以进行硬件加速，这些加速器可能会在物联网设备上变得司空见惯。</em>T3】</strong></p><p id="ee73" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">尚不清楚这一发展是否会显著改变总计算能力的平衡。如果由于某种经济激励，Keccak (SHA-3)加速在物联网设备上变得司空见惯，那么同样的经济激励也可能适用于服务器。因此，下一代服务器和下一代物联网设备都能够以更低的能耗更快地供电，从而保持整体平衡不变。这种反对充其量降低了论点的确定性，但并没有反驳它。</p><p id="8f13" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated"><strong class="it hv">反对意见2。<em class="jq">当前设备的结果不具有代表性；下一代物联网设备的CPU可能能够进行比当前数量级更多的计算操作。</em> </strong></p><p id="284e" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这不太可能对电池寿命产生很大影响，除非我们找到以更节能的方式进行计算的新技术(除了在硬件中实现算法，这一点上文已经讨论过)。</p><p id="4f8d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">相反，从电池供电设备到能量收集设备的大规模过渡目前正在进行中。只有极少量的能量可以在物联网设备上以实用的方式积累(这些设备大多位于室内，大多成本低，大多体积小)。从周围环境(如WiFi信号、振动、热耦合等)获取能量的设备。)通常比由电池供电的设备具有更有限的能量预算。</p><p id="3a4d" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">综上所述，节能需求是物联网的基本要素之一；没有明显的方法可以绕过它。至少在近期<a class="ae jp" href="https://hackernoon.com/tagged/future" rel="noopener ugc nofollow" target="_blank">未来</a>，大多数物联网设备都将受困于低能源预算，因此它们的计算能力将仍然有限。因此，在物联网设备上运行任何种类的电源都是值得怀疑的。</p><figure class="lj lk ll lm fq ln"><div class="bz el l di"><div class="mj mk l"/></div></figure></div></div>    
</body>
</html>