<html>
<head>
<title>Code Review for the Solo Dev</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Solo Dev的代码审查</h1>
<blockquote>原文：<a href="https://medium.com/hackernoon/code-review-for-the-solo-dev-ca9e8ae7a9e6?source=collection_archive---------15-----------------------#2018-12-31">https://medium.com/hackernoon/code-review-for-the-solo-dev-ca9e8ae7a9e6?source=collection_archive---------15-----------------------#2018-12-31</a></blockquote><div><div class="ef hi hj hk hl hm"/><div class="hn ho hp hq hr"><div class=""/><p id="877b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我将开始这篇文章，就像我在这个系列的<a class="ae jp" href="https://hackernoon.com/self-testing-for-solo-devs-d3f9e7ae03b4" rel="noopener ugc nofollow" target="_blank">上一篇</a>中所做的那样。</p><p id="f706" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">没有什么可以取代一个伟大的团队。但是一个真正的战士必须能够在需要的时候依靠自己。</p><p id="a687" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如今，一些人在一个团队中工作。</p><p id="6226" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">他们是主题专家，是各自领域的佼佼者(而我是地球上最不可能给他们任何专业建议的人)。</p><p id="5310" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">刚刚创立自己公司的人(或者他们公司的合伙人不是技术人员)。</p><p id="96ef" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">或者是那些总是远程工作的人，他们与总部位于完全不同的时区，很难从其他同事那里获得帮助。</p><h1 id="ea3c" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">代码审查，最低可接受软件质量的里程碑</h1><p id="2130" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">正如杰夫·阿特伍德(StackOverflow的创始人)在他的文章<a class="ae jp" href="https://blog.codinghorror.com/code-reviews-just-do-it/" rel="noopener ugc nofollow" target="_blank">代码评审中指出的:只管去做</a></p><blockquote class="kt ku kv"><p id="52f1" class="ir is kw it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated"><em class="hu">我相信同行代码评审是你能做的改进代码的最重要的事情。如果你现在没有和另一个开发人员一起做代码评审，你就会错过很多代码中的bug，并且失去一些关键的专业发展机会。就我而言，我的代码直到我和同事一起检查过之后才算完成。</em></p></blockquote><p id="b209" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果这样一个有经验的成功工程师大胆地支持代码审查的重要性，即使你不同意，你至少要试一试。</p><p id="e48c" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">让我们继续讨论最重要的领域，在我看来，在审查他们自己的代码时，单独的工程师应该关注这些领域。</p><h1 id="c73a" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">自动化构建和自动化测试完美地通过了吗？</h1><p id="6bca" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">你两样都没有？太糟糕了，没有借口给像gitlab和bitbucket这样的服务提供免费的CI服务。也没有借口，因为<a class="ae jp" rel="noopener" href="/@periklisgkolias/a-comprehensive-introduction-to-unit-testing-and-mocking-with-python3-3d962670c726">单元测试</a>比以往任何时候都更容易编写，因为无处不在的单元测试框架非常友好。</p><p id="ae95" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你两者都有，而且圣诞老人带了一份礼物来表扬你，但是任何一个自动化的过程都失败了，这将会给你敲响很多钟。但如果没有，这不是一个解决的迹象。</p><h1 id="d3cb" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">你写了新的测试吗？</h1><p id="c4e7" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">没有吗？真的吗？我太失望了。:(</p><p id="3992" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我将引用Django投稿指南中的一段话</p><blockquote class="kt ku kv"><p id="9a79" class="ir is kw it b iu iv iw ix iy iz ja jb kx jd je jf ky jh ji jj kz jl jm jn jo hn dt translated">当我们说“PEP 8，并且必须有文档和测试”时，我们是认真的。如果一个补丁没有文档和测试，最好有一个好的理由。像“我找不到这个特性的任何现有测试”这样的论点没有太大的分量——虽然这可能是真的，但这意味着你有额外的重要工作来为那个特性编写第一个测试，而不是说你可以通过编写测试。</p></blockquote><p id="a7fe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">TDD是<a class="ae jp" href="https://dzone.com/articles/why-developers-dont-use-tdd" rel="noopener ugc nofollow" target="_blank">硬的</a>，但是拥有单元测试和可测试代码有巨大的好处。</p><h1 id="dd4e" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">考虑您的代码可能如何影响现有的功能(回归)</h1><p id="0e1f" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">在这个领域，有一个伟大的测试套件将会拯救你的屁股。这总是取决于您的套件的覆盖率，鉴于大多数人的覆盖率不到100%，您的直觉和分析思维在这里会有很大的帮助。</p><h1 id="9e3c" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">这些差异合理吗？</h1><p id="6254" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">使用任何比较工具看一看，看看所做的更改是否有意义。</p><p id="c3d2" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">如果你正在处理一个安全问题，foo.css有必要改变吗？如果你想增强一个表单，你需要改变3个配置文件吗？</p><p id="4826" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">大概不会。保持警惕，当遇到困难时，它会回报你的。假装别人问你，为什么你改变了一个特定的路线，并准备好向你的好朋友彻底解释。</p><h1 id="ae03" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">进行安全分析</h1><p id="cec3" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">有没有不小心引入了什么安全漏洞？我指的是显而易见的东西，比如将未经清理的输入传递给数据库。在周围有很多安全静态检查器<a class="ae jp" href="https://www.owasp.org/index.php/Source_Code_Analysis_Tools" rel="noopener ugc nofollow" target="_blank">，你可以挑选更适合你工作的。</a></p><p id="7bfe" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">此外，检查没有敏感信息被记录是至关重要的。</p><p id="99d5" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">例如，如果打算将软件部署到符合PCI-DSS标准的公司，则不应记录任何卡号。在记录函数的所有参数时，很容易忘记这一点。</p><h1 id="c6c3" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">说到日志，你是否(欠|过)日志？</h1><p id="0090" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">当一个偷偷摸摸的bug浮出水面时，记录不足会让你毛骨悚然。尤其是如果你已经记录了受影响地区附近的一些事件。</p><p id="e305" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">过多的日志记录会降低代码的速度，成倍地增加日志文件的大小，并且在需要检查的时候会让你大海捞针。</p><p id="321b" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">我的建议是使用日志级别，默认级别可以很容易地更改。在这种情况下，您可以在调查问题时增加日志输出，而在不调查问题时获得更清晰的日志。除非调查的状态比完美工作的状态更频繁。</p><h1 id="2997" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">代码考虑到极端情况和无效参数了吗？</h1><p id="1f66" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">如果在一次大规模数据库更新过程中网络中断，或者我给你我的名字作为我的电话，你的系统会发生什么？</p><p id="a311" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">这与上面的安全检查有点重叠。</p><h1 id="6fbc" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">你更新了标签、文档和变更日志了吗？</h1><p id="1d69" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">这不是一个真正的功能需求，但是如果你正在开发的软件不是供个人使用的话，这是必要的(即使这样，记录你的行为也是有用的)。</p><p id="6af6" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">通常，这包括以下内容:</p><ul class=""><li id="7103" class="la lb hu it b iu iv iy iz jc lc jg ld jk le jo lf lg lh li dt translated">关闭问题跟踪器中的票证，并添加相关的拉取请求链接/完整差异链接(如果不是自动完成的话)(如吉拉-位存储桶集成)</li><li id="0609" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">如果您正在一个分支上工作，关闭拉式请求(强烈推荐，即使对于单独的团队)</li><li id="9cd1" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">更新变更日志</li><li id="d3d6" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">如果需要，修改API/用户文档并推送给用户</li></ul><h1 id="0656" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">还有一些值得考虑的地方</h1><ul class=""><li id="e455" class="la lb hu it b iu ko iy kp jc lo jg lp jk lq jo lf lg lh li dt translated">守则是否符合公司的标准？哪怕是单飞公司，你在哪里当老板？肮脏的代码有时很诱人。</li><li id="415b" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">如果你改变了一个函数，你记得修改它的注释吗？</li><li id="fdec" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">复杂表达式和幻值可以分别提取到(n)(内联)函数和常数中吗</li><li id="0418" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">新的类/函数有适当的文档吗？</li><li id="05ed" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">包/类/函数/变量有有意义的名字吗？</li><li id="e10f" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">您是否不小心在适当的位置添加了注释代码或重复代码，从而影响了可读性？</li><li id="883b" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">如果您的新代码暴露在巨大的数据量或流量中，它会伸缩吗？有什么立竿见影的方法来改善这种情况吗？</li><li id="b988" class="la lb hu it b iu lj iy lk jc ll jg lm jk ln jo lf lg lh li dt translated">你能在两年内开发这个功能，而不用浪费太多时间重新熟悉吗？</li></ul><h1 id="1f6b" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">最后但同样重要的是，如果你独自做这件事，那会困难得多</h1><p id="5182" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">就像在测试中，很难对自己做出严格的判断，这是大多数人的通病。</p><p id="931f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">在过去的几年里，有一些服务让人们重新审视你的代码，比如<a class="ae jp" href="https://www.pullrequest.com/" rel="noopener ugc nofollow" target="_blank"> pullrequest </a>。我还没有尝试过这项服务，但当独自一人是唯一的选择并且风险很高时，这看起来是个好主意。</p><h1 id="6ef2" class="jq jr hu bd js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn dt translated">这是所有的乡亲</h1><p id="a669" class="pw-post-body-paragraph ir is hu it b iu ko iw ix iy kp ja jb jc kq je jf jg kr ji jj jk ks jm jn jo hn dt translated">感谢您花时间阅读本文，希望您喜欢。如果你有不同的方法来审查代码，请分享你的智慧。</p><p id="1b9f" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">祝你来年万事如意。</p></div><div class="ab cl lr ls hc lt" role="separator"><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw lx"/><span class="lu bw bk lv lw"/></div><div class="hn ho hp hq hr"><p id="c845" class="pw-post-body-paragraph ir is hu it b iu iv iw ix iy iz ja jb jc jd je jf jg jh ji jj jk jl jm jn jo hn dt translated">【https://perigk.github.io/】原载于<a class="ae jp" href="https://perigk.github.io/" rel="noopener ugc nofollow" target="_blank"/><em class="kw">。</em></p></div></div>    
</body>
</html>