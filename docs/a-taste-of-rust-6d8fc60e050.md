# åˆå­¦è€…å’¬:é“é”ˆçš„å‘³é“ï¼Œä¸€ä¸ªå®‰å…¨ï¼Œå¹¶å‘å’Œå®ç”¨çš„è¯­è¨€ï¼

> åŸæ–‡ï¼š<https://medium.com/hackernoon/a-taste-of-rust-6d8fc60e050>

![](img/e92732265c7a3e7f07206e4a236b50ce.png)

ä»Šå¤©æˆ‘ä»¬å°†ä½“éªŒé“é”ˆçš„å‘³é“ã€‚æˆ‘å°†æä¾›é“¾æ¥ï¼Œè®©ä½ è®¾ç½®ï¼Œç„¶åä½ å°†è§£å†³ Rust ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æ¬§æ‹‰é—®é¢˜ã€‚æ‚¨å°†çœ‹åˆ°ä¸€äº›è¯­æ³•ï¼Œå¹¶äº†è§£ä»€ä¹ˆæ˜¯å®ã€‚æˆ‘å¸Œæœ›å‘æ‚¨å±•ç¤ºè¿™ç§è¯­è¨€æ˜¯å¥å£®çš„ï¼Œæ˜“äºä½¿ç”¨çš„ï¼Œå¹¶ä¸”é€Ÿåº¦å¿«å¾—ä»¤äººçœ¼èŠ±ç¼­ä¹±ï¼å®ƒè¿˜æ‹¥æœ‰ [**æ— ç•å¹¶å‘**](https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html) ï¼Œæˆ‘ä»¬å°†åœ¨å¦ä¸€ç¯‡æ–‡ç« ä¸­è®¨è®ºï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„å–ç‚¹ã€‚

ä½ å¯èƒ½ä¼šé—®ä¸ºä»€ä¹ˆç”Ÿé”ˆï¼Ÿè¿™çœŸçš„å–å†³äºä½ æ˜¯è°ï¼å¤§å­¦ç”¨ JavaScript å’Œ Python æ­¦è£…äº†æˆ‘ï¼Œè®©æˆ‘ä»äº‹åŸºäºç½‘ç»œçš„é¡¹ç›®ã€‚æœ€è¿‘ï¼Œæˆ‘éœ€è¦æ›´æ¥è¿‘é‡‘å±æ¥å®ç°æ›´å¿«çš„ä»£ç æ‰§è¡Œã€‚Rust ä¸ä¸Šé¢æåˆ°çš„è¯­è¨€éå¸¸ä¸åŒï¼Œå› ä¸ºå®ƒæ²¡æœ‰åƒåœ¾æ”¶é›†å™¨ï¼Œå¹¶ä¸”æ˜¯é™æ€ç±»å‹çš„ã€‚å¦‚æœæ‚¨é‡åˆ°é—®é¢˜ï¼Œç¼–è¯‘å™¨é”™è¯¯æ¶ˆæ¯é€šå¸¸è¶³å¤Ÿå¤§ï¼Œå¯ä»¥è¡¨ç°å¾—åƒä¸€ä¸ªä¸“å®¶å¯¹ç¨‹åºå‘˜ï¼Œå¦åˆ™ç¤¾åŒºæ˜¯æ¬¢è¿çš„å’Œæœ‰å¸®åŠ©çš„ã€‚

æŸ¥çœ‹è¿™äº›åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨é“é”ˆçš„å…¬å¸ã€‚

æˆ‘å‡è®¾æ‚¨ç†Ÿæ‚‰åœ¨ç»ˆç«¯æˆ–å‘½ä»¤æç¤ºç¬¦ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œå¹¶ä¸”çŸ¥é“ä¸€äº›ç¼–ç¨‹æœ¯è¯­(æ¯”å¦‚ä»€ä¹ˆæ˜¯å‡½æ•°)ã€‚

å…ˆè¯´ç¬¬ä¸€ä¸ª[é¡¹ç›®æ¬§æ‹‰é—®é¢˜](https://projecteuler.net/problem=1)ã€‚é—®é¢˜è¦æˆ‘ä»¬æ±‚æ‰€æœ‰ 1000 ä»¥ä¸‹çš„ 3 æˆ– 5 çš„å€æ•°ä¹‹å’Œã€‚åœ¨æˆ‘ä»¬è§£å†³è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å°†è®¾ç½®å¹¶å®‰è£… Rustã€‚æˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªé¡¹ç›®ï¼Œå¹¶è®¨è®ºå®å’Œå‡½æ•°ä¹‹é—´çš„åŒºåˆ«ã€‚æ‚¨å°†çœ‹åˆ°å¦‚ä½•ç¼–å†™å•å…ƒæµ‹è¯•ä»¥åŠç”Ÿæˆæ¼‚äº®çš„æ–‡æ¡£ã€‚æœ€åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªå¾ªç¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç„¶ååœ¨å‡½æ•°ä¸Šä½¿ç”¨ä¸€ä¸ªè¿­ä»£å™¨ã€‚è¿™å°†æ˜¯ä¸€ä¸ªçˆ†ç‚¸ğŸš€ã€‚

I also made this video which you may like!

# å®‰è£…å’Œè®¾ç½® Rust

è®¸å¤šäººéå¸¸åŠªåŠ›åœ°è®©å®‰è£…è¿‡ç¨‹å˜å¾—å¾ˆæ£’ï¼Œæ‰€ä»¥æˆ‘å°†æŒ‡å‡ºé‚£äº›èµ„æºã€‚å¦‚æœä½ å·²ç»å®‰è£…äº† Rust å¹¶ä¸”å–œæ¬¢ä½ çš„è®¾ç½®ï¼Œè¯·éšæ„è·³è¿‡è¿™ä¸€éƒ¨åˆ†ã€‚ä¸ç„¶å’±ä»¬å°±é”ˆäº†ï¼

[**Rustup**](https://www.rustup.rs/) æ˜¯ä¸€ä¸ªâ€œç”¨äºç³»ç»Ÿç¼–ç¨‹ Rust çš„å·¥å…·é“¾å®‰è£…ç¨‹åºâ€ã€‚åŸºæœ¬ä¸Šï¼Œå®ƒä¸ºæ‚¨å¤„ç†ä¸€åˆ‡ï¼Œå¹¶ä¼šè®©æ‚¨å¿«é€Ÿå¯åŠ¨å’Œè¿è¡Œã€‚å‰å¾€[https://www.rustup.rs/](https://www.rustup.rs/)å¹¶éµå¾ªæ‚¨å¹³å°çš„è¯´æ˜ã€‚

Rustup æœ‰ä¸€äº›æ¼‚äº®çš„ç‰¹æ€§ã€‚æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤`rustup component add rust-docs`æ¥æ·»åŠ ç¦»çº¿æ–‡æ¡£ã€‚è¦è®¿é—®æ‚¨çš„ç¦»çº¿ rust æ–‡æ¡£ï¼Œè¯·åœ¨æ‚¨çš„ç»ˆç«¯æˆ–å‘½ä»¤è¡Œä¸­é”®å…¥:`rustup doc`ã€‚å°†æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œæ˜¾ç¤º:

*   ç”Ÿé”ˆçš„ä¹¦æ¶
*   API æ–‡æ¡£
*   æ‰©å±•é”™è¯¯æ–‡æ¡£(ç”¨äºè°ƒæŸ¥ç¼–è¯‘å™¨é”™è¯¯)

Rust ä¹¦æ¶æ£’æäº†ï¼Œæ˜¯æ‰€æœ‰ Rust ç”¨æˆ·çš„å¥½å»å¤„ã€‚è¿™äº›èµ„æºçš„åœ¨çº¿é“¾æ¥[è¿™é‡Œ](https://www.rust-lang.org/en-US/documentation.html)ï¼å½“ä½ åœ¨è’é‡ä¸­ï¼Œåœ¨æ²¡æœ‰ wifi çš„æƒ…å†µä¸‹å†™ä½œ Rust æ—¶ï¼Œè¿™äº›èµ„æºå¯ä»¥æ‹¯æ•‘ä½ çš„ç”Ÿå‘½ğŸ•ï¸.

[**æˆ‘ä»¬(æˆ‘)å¾·äº†å—ï¼Ÿ**](https://areweideyet.com/) åˆ—å‡ºäº†ä»£ç ç¼–è¾‘å™¨å¯¹ Rust çš„æ”¯æŒã€‚æˆªè‡³å‘ç¨¿ï¼Œ [VSCode](https://code.visualstudio.com/) å’Œ [IntelliJ IDEA](https://intellij-rust.github.io/) æ”¯æŒåº¦æœ€å¥½ã€‚VSCode æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„å…è´¹é€‰é¡¹ï¼Œä¹Ÿæ˜¯æˆ‘æ‰€ä½¿ç”¨çš„ã€‚

åŒæ ·ï¼Œä¹Ÿæœ‰å…¶ä»–èŒä½ï¼Œæ¶µç›–å®Œæ•´çš„è®¾ç½®ã€‚æˆ‘æ¨è [ShaderCat çš„å²—ä½](http://www.shadercat.com/setting-up-a-rust-development-environment-on-windows-10/)æˆ–è€… [Asquera çš„å²—ä½](http://asquera.de/blog/2017-03-03/setting-up-a-rust-devenv/)ã€‚ç¤¾åŒºæ­£åœ¨åŠªåŠ›æ”¹å–„å¼€å‘è€…ä½“éªŒï¼Œè¿™äº›å¸–å­å¯èƒ½ä¼šå¾ˆå¿«è¿‡æ—¶ã€‚æœç´¢ Rust Language Server (RLS)å¯èƒ½ä¼šæä¾›æ›´å¤šå…³äºè®¾ç½® IDE çš„æœ€æ–°è¯´æ˜ã€‚

å½“ç„¶ï¼Œä½ å¯ä»¥åœ¨è®°äº‹æœ¬ä¸­ç¼–ç â€¦ç¼–è¯‘å™¨æ˜¯æœ‰å¸®åŠ©çš„ï¼Œæˆ‘å°Šé‡ä½ çš„å†³å®šã€‚

## è´§ç‰©

> "è´§ç‰©æ˜¯é”ˆåŒ…ç»ç†."~ [è´§ä¹¦](https://doc.rust-lang.org/cargo/)

Cargo ä¹‹äº Rustï¼Œå°±åƒ NPM ä¹‹äº JavaScriptï¼Œæˆ–è€… pip ä¹‹äº Pythonï¼Œæˆ–è€… RubyGems ä¹‹äº Rubyâ€¦â€¦å·®ä¸å¤šå§ï¼Ÿ

Cargo å»ºç«‹é¡¹ç›®ã€å®‰è£…ä¾èµ–é¡¹ã€æ„å»ºé¡¹ç›®ã€è¿è¡Œæµ‹è¯•ã€ç”Ÿæˆæ–‡æ¡£å¹¶å°†ä½ çš„åº“ä¸Šä¼ åˆ° [crates.io](https://crates.io/) ã€‚è¿™æ˜¯å¼€å§‹ç ”ç©¶æˆ‘ä»¬çš„é¡¹ç›®æ¬§æ‹‰é—®é¢˜çš„æœ€ä½³æ—¶æœºã€‚è¦æ£€æŸ¥å®‰è£…çš„æ‰€æœ‰ä¸œè¥¿æ˜¯å¦åœ¨æ‚¨çš„ç»ˆç«¯ä¸Šæ­£ç¡®è¿è¡Œ`cargo version`:

![](img/cb00bab843102586322f0e02d0684bef.png)

Your version number does not need to match.

ç”¨å‘½ä»¤`cargo new euler_sum --bin`ä¸ºè‡ªå·±æ„å»ºä¸€ä¸ªæ–°é¡¹ç›®ã€‚

![](img/ae47dc60f8ddb8deead863fc80a7d5b7.png)

Use `cargo help` to learn more

è¯¥å‘½ä»¤å‘Šè¯‰è´§ç‰©åœ¨ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ä¸­è®¾ç½®ä¸€ä¸ªåä¸ºâ€œeuler_sumâ€çš„æ–°åº”ç”¨ç¨‹åºã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè´§ç‰©åˆ›å»ºä¸€ä¸ªåº“ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨`--bin`å‘Šè¯‰ Rust åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åº(â€œbinâ€æ˜¯äºŒè¿›åˆ¶çš„ç¼©å†™)ã€‚ä½¿ç”¨`cd euler_sum`å°†æ‚¨çš„ç›®å½•æ›´æ”¹ä¸ºåº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ã€‚è¿™æ˜¯æ‚¨åº”è¯¥æ‰¾åˆ°çš„:

```
.
â”œâ”€â”€ Cargo.toml
â””â”€â”€ src
    â””â”€â”€ main.rs1 directory, 2 files
```

è´§ç‰©. toml æ–‡ä»¶æ˜¯æ‚¨çš„é¡¹ç›®*æ¸…å•*æˆ–å…ƒæ•°æ®ã€‚å¦‚æœä½ ç†Ÿæ‚‰ JavaScriptï¼Œå®ƒç±»ä¼¼äº`package.json`æ–‡ä»¶ã€‚æ‚¨å¯ä»¥åœ¨è¿™é‡Œåˆ—å‡ºæ‚¨çš„ä¾èµ–å…³ç³»ã€‚æ›´å¤šä¿¡æ¯è¯·å‚è§ã€Šè´§ç‰©æ‰‹å†Œã€‹[ä¸­çš„](https://doc.rust-lang.org/cargo/reference/manifest.html)ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡`cargo help`äº†è§£è´§ç‰©é€‰é¡¹ã€‚

`main.rs`åŒ…å«ä¸€ä¸ªå¾®å°çš„é“é”ˆç¨‹åº:

```
fn main() {
    println!("Hello, world!");
}
```

ç”¨`cargo run`è¿è¡Œä»£ç (åœ¨å¸¦æœ‰è´§ç‰©. toml æ–‡ä»¶çš„æ–‡ä»¶å¤¹ä¸­)ã€‚

![](img/330af0fa5219eabcde57108e15c8cdbb.png)

**STOP** AND **CELEBRATE**! Youâ€™ve run your first Rust program!!!!ğŸ‰ğŸ‰ğŸ‰

`fn`æ˜¯å£°æ˜å‡½æ•°çš„æ–¹å¼ã€‚æ‰€æœ‰çš„åº”ç”¨é¡¹ç›®éƒ½éœ€è¦ä¸€ä¸ª`main`å‡½æ•°ä½œä¸ºä½ ç¨‹åºçš„å…¥å£ã€‚è¿™ä¸ªå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œä¹Ÿä¸ä¼šè¿”å›ä»»ä½•ä¸œè¥¿ã€‚

å‡½æ•°çš„ä¸»ä½“åŒ…å«è¿™ä¸ªè¯:`println!`ã€‚è¿™è¢«ç§°ä¸ºå®ã€‚å®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªå‡½æ•°ï¼Œä½†å®ƒä»¥`!`ç»“å°¾ã€‚Rust ä½¿ç”¨å®æ¥åšéå¸¸å¼ºå¤§çš„äº‹æƒ…ï¼Œåº“ç»å¸¸ä½¿ç”¨å®ƒä»¬æ¥å˜å¾—éå¸¸èªæ˜ã€‚è®©æˆ‘ä»¬å¿«é€Ÿäº†è§£å®ƒä»¬ä¸å‡½æ•°æœ‰ä½•ä¸åŒã€‚

## å®è¿‚å›

å®å…è®¸æ‚¨æ ¹æ®æ¨¡å¼ç”Ÿæˆä»£ç ï¼å¦‚æœæ‚¨éœ€è¦å¤åˆ¶ç²˜è´´ä»£ç å¹¶åšä¸€äº›å°çš„ä¿®æ”¹ï¼Œæ‚¨å¯ä»¥ç¼–å†™ä¸€ä¸ªå®æ¥ä¸ºæ‚¨ç¼–å†™ä»£ç ã€‚å½“æ‚¨ç¼–è¯‘é¡¹ç›®æ—¶ï¼Œå®é¦–å…ˆè¢«å±•å¼€(ç¼–å†™)ï¼Œç„¶åä»£ç è¢«ç¼–è¯‘ï¼Œå°±åƒæ‚¨ç¼–å†™äº†å®ç”Ÿæˆçš„å†…å®¹ä¸€æ ·ã€‚åŸºæœ¬ä¸Šï¼Œå®ä¸ºæ‚¨ç¼–å†™ä»£ç ã€‚è®©æˆ‘ä»¬çœ‹çœ‹`println!`å®æ˜¯å¦‚ä½•æ‰©å±•çš„ã€‚è¿è¡Œä»¥ä¸‹å‘½ä»¤:

`$ rustc src/main.rs --pretty=expanded -Z unstable-options`

ä»¥ä¸‹æ˜¯æˆ‘çš„è¾“å‡º:

![](img/87e37f87305b88b357ad3e5f51f6879d.png)

> â€œå®ä¸ºæ‚¨ç¼–å†™ä»£ç â€

æ³¨æ„`println!`å·²ç»èªæ˜åœ°ç”Ÿæˆäº†ä»£ç æ¥æ‰“å°â€œä½ å¥½ï¼Œä¸–ç•Œï¼â€å»å€™æœºæ¥¼ã€‚å› ä¸ºå®èƒ½å¤Ÿæ¨¡å¼åŒ¹é…ï¼Œä¸åŒçš„ä»£ç æ˜¯åŸºäºä¸åŒçš„è¾“å…¥ç”Ÿæˆçš„ï¼å› æ­¤æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨`println!`æ¥æ ¼å¼åŒ–å­—ç¬¦ä¸²:

```
println!("Hello, {}!", "lovely humanoid");
// prints -> Hello, lovely humanoid!println!("Hello, {name}! Want {thing}?", name="Rust", thing="hugs");
// -> Hello, Rust! Want hugs?println!("{num:>0width$}", num=42, width=4);
// -> 0042
```

æ¨¡å¼åŒ¹é…çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œå¦‚æœä½ å¼„ä¹±äº†å®çš„å‚æ•°ï¼Œç¼–è¯‘å™¨ä¼šå‡ºé”™ã€‚å¦‚æœä½ å†™`println!("{}");`ï¼Œç¼–è¯‘å™¨ä¼šå¾ˆæœ‰å¸®åŠ©çš„è¯´å‡º`error: 1 positional argument in format string, but no arguments were given`ä»¥åŠä¸€ä¸ªå¾ˆé…·çš„å›¾ã€‚ä½ ä¸€å®šè¦è¯•è¯•ã€‚

## ç»ƒä¹ ç»•é“ğŸ¤”

*   ä¸Šé¢çš„`println!`å®æ‰©å±•åˆ°ä»€ä¹ˆï¼Ÿç­”æ¡ˆå¯èƒ½ä¼šè®©ä½ å¤§åƒä¸€æƒŠã€‚ä»£ç æ¯”é¢„æœŸçš„å¤šè¿˜æ˜¯å°‘ï¼Ÿ
*   ç ”ç©¶æ›´å¤šçš„å­—ç¬¦ä¸²æ ¼å¼é€‰é¡¹[è¿™é‡Œ](https://rustbyexample.com/hello/print.html) (Rust by Example)å’Œ[è¿™é‡Œ](https://doc.rust-lang.org/std/fmt/) (docs)ã€‚
*   çŒœä¸€çŒœï¼Œç„¶åæ‰¾å‡ºä¸‹é¢çš„ä»£ç è¾“å‡º:

`println!("{0} {1}'s {0} {1}, no matter how small!", "a", "person");`

## ç¼–å†™æµ‹è¯•

å› ä¸ºæˆ‘ä»¬éƒ½å¸Œæœ›æˆ‘ä»¬çš„ä»£ç æ˜¯æµ‹è¯•é©±åŠ¨çš„å’Œç±»å‹é©±åŠ¨çš„ï¼Œæ‰€ä»¥ä½ æ˜¾ç„¶æ¸´æœ›çŸ¥é“å¦‚ä½•ç¼–å†™æµ‹è¯•ï¼è¿™é‡Œæˆ‘ä»¬éœ€è¦çš„åªæ˜¯ä¸€ä¸ªç®€å•çš„å•å…ƒæµ‹è¯•ã€‚å¦‚æœæ‚¨æ­£åœ¨ç¼–å†™ä¸€ä¸ªåº“ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç¼–å†™ doctestsã€‚

ä¸€ä¸ªæµ‹è¯•ä»…ä»…æ˜¯ä¸€ä¸ªç”¨å±æ€§æ³¨é‡Šçš„å‡½æ•°ã€‚

```
#[test]
fn simple_test() {
  assert_eq!(solution(10), 23);
}
```

`#[test]`å±æ€§å‘Šè¯‰ Rust è¿™æ˜¯ä¸€ä¸ªæµ‹è¯•å‡½æ•°ã€‚å› æ­¤ï¼Œè¯¥åŠŸèƒ½åœ¨`cargo test`è¿è¡Œæ—¶è¿è¡Œã€‚å¦‚æœä¸¤ä¸ªå‚æ•°ä¸ç›¸ç­‰ï¼Œå°±ä¼šå‡ºç°ææ…Œï¼Œä»è€Œå¯¼è‡´æµ‹è¯•å¤±è´¥ã€‚æ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨åªæ¥å—ä¸€ä¸ªå‚æ•°çš„`assert!`ï¼Œæ£€æŸ¥å‚æ•°çš„å€¼æ˜¯å¦ä¸º`true`ã€‚

ä½¿ç”¨`cargo test`è¿è¡Œæµ‹è¯•ã€‚(å®ƒåº”è¯¥å‡ºé”™ï¼Œå› ä¸ºæˆ‘ä»¬è¿˜æ²¡æœ‰å®šä¹‰`solution`å‡½æ•°ã€‚)å¦‚æœä½ æƒ³çœ‹åˆ°æµ‹è¯•é€šè¿‡ï¼Œç”¨`assert!(true);`æ›¿æ¢`assert_eq!(solution(10), 23);`ã€‚

## ç”Ÿæˆæ–‡æ¡£

æ˜¯æ—¶å€™å¼€å§‹ç¼–ç å·¥ç¨‹æ¬§æ‹‰é—®é¢˜äº†ã€‚æˆ‘ä»¬å°†åœ¨ä¸€ä¸ªåä¸º`solution`çš„å‡½æ•°ä¸­ç¼–å†™è§£å†³æ–¹æ¡ˆã€‚

è®©æˆ‘ä»¬ä»`solution`åŠŸèƒ½çš„ ***ç±»å‹*** å¼€å§‹:

```
pub fn solution(max: u64) -> u64 {
  unimplemented!
}
```

è¿™æ˜¯ä¸€ä¸ª`pub` lic å‡½æ•°ï¼Œå®ƒæ¥å—ç±»å‹ä¸º`u64`çš„å‚æ•°`max`å¹¶è¿”å›ä¸€ä¸ª`u64`ã€‚`u64`æ˜¯ä¸€ç§æ•°å€¼ç±»å‹ï¼Œç§°ä¸ºæ— ç¬¦å·æ•´æ•°ã€‚è¿™äº›æ•´æ•°é€‚åˆ 64 ä½ï¼Œå¹¶ä¸”åªèƒ½æ˜¯æ­£æ•°ã€‚è¿™ç«‹åˆ»å‘Šè¯‰æˆ‘ä»¬ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠè´Ÿæ•°ä¼ å…¥è¿™ä¸ªå‡½æ•°ï¼Œå‡½æ•°æ°¸è¿œä¸ä¼šè¿”å›è´Ÿæ•°ã€‚

åªæ˜¯ä¸ºäº†å¥½ç©ï¼Œè®©æˆ‘ä»¬ç”Ÿæˆä¸€äº›æ–‡æ¡£ã€‚

Rust æ³¨é‡Šå¯ä»¥æ˜¯è¡Œé¦–çš„åŒæ–œçº¿`//`ï¼Œä¹Ÿå¯ä»¥æ˜¯`/* multiline comment */`ã€‚è¿™äº›ä¸ä¼šç”Ÿæˆæ–‡æ¡£ã€‚å£°æ˜å‰çš„ä¸‰æ–œçº¿`///`ç¡®å®ä¼šç”Ÿæˆæ–‡æ¡£:

```
/// `solution` function solves the first Project Euler problem
pub fn solution(max: u64) -> u64 {
  // A boring comment
  unimplemented!()
}
```

å¦‚æœæ‚¨æ·»åŠ è¿™ä¸ªä»£ç å¹¶è¿è¡Œ cargo å‘½ä»¤`cargo doc --open`ï¼Œæ‚¨çš„æµè§ˆå™¨å°†æ‰“å¼€æ–°ç”Ÿæˆçš„æ–‡æ¡£ï¼æ–‡æ¡£æ”¯æŒ markdownï¼Œè¿™æ„å‘³ç€æ‚¨å¯ä»¥æ·»åŠ æ ‡é¢˜å’Œé“¾æ¥ã€‚[åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºæ–‡æ¡£ç”Ÿæˆçš„ä¿¡æ¯](https://doc.rust-lang.org/beta/rustdoc/what-is-rustdoc.html)ï¼

## é—®é¢˜çš„ç²—ç•¥è§£å†³æ–¹æ³•

ä¸‹é¢çš„ä»£ç å¯¹ä½ æ¥è¯´åº”è¯¥æœ‰ç‚¹ç†Ÿæ‚‰ã€‚åœ¨ç»§ç»­è¯»ä¸‹å»ä¹‹å‰ï¼Œè¯•ç€ç†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚æˆ‘ä»¬å°†ä½¿å®ƒå˜å¾—æ›´ç®€å•ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚

```
pub fn solution(max: u64) -> u64 {
  let mut result = 0;
  let mut i = 0;
  loop {
    if i >= max {
      break;
    }
    if i % 3 == 0 || i % 5 == 0 {
      result += i;
    }
    i += 1;
  }
  return result;
}
```

é™¤äº†`mut`ä¹‹å¤–ï¼Œå¤§éƒ¨åˆ†å†…å®¹åº”è¯¥æ˜¯ä¸è¨€è‡ªæ˜çš„ã€‚`mut`æ˜¯å‘Šè¯‰ Rust ä»€ä¹ˆæ—¶å€™å˜é‡åº”è¯¥æ˜¯å¯å˜çš„ä¸€ç§æ–¹å¼ã€‚è¿™é‡Œæˆ‘ä»¬è¯´`result`å’Œ`i`éœ€è¦å¯å˜ã€‚å¦‚æœæ²¡æœ‰`mut`ï¼Œå½“è¯•å›¾æ‰§è¡Œ`result += i`æˆ–`i += 1`æ—¶ï¼Œæˆ‘ä»¬ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ã€‚åˆ é™¤`mut`å¹¶äº²è‡ªæŸ¥çœ‹é”™è¯¯ã€‚åœ¨ Rust ä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œé™¤éæ˜¯æ˜¾å¼å¯å˜çš„ã€‚Rust å‡½æ•°è¿˜å¿…é¡»æ˜¾å¼å£°æ˜å®ƒä»¬æ˜¯å¦ä¼šå˜å¼‚ä¼ å…¥çš„å‚æ•°ã€‚å‡½æ•°è¡Œä¸ºåœ¨ç±»å‹ç­¾åä¸­æ˜¯æ˜¾å¼çš„ã€‚

è¿™é‡Œæœ‰å¾ˆå¤šä¸œè¥¿æˆ‘ä»¬å¯ä»¥æ¸…ç†ã€‚é¦–å…ˆï¼Œå‘½ä»¤å¼ä»£ç éå¸¸å†—é•¿ã€‚ä¸ä½¿ç”¨`loop`å’Œ`break`ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨[èŒƒå›´](https://doc.rust-lang.org/std/ops/struct.Range.html)å†…ä½¿ç”¨`for`å¾ªç¯ï¼Œå¦‚ä¸‹æ‰€ç¤º:

```
pub fn solution(max: u64) -> u64 {
  let mut result = 0;
  for i in 0..max {
    if i % 3 == 0 || i % 5 == 0 {
      result += i;
    }
  }
  return result;
}
```

æ³¨æ„ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦ç®¡ç†å˜é‡`i`ã€‚`0..max`æ˜¯èŒƒå›´ï¼Œ`for`å¾ªç¯åœ¨èŒƒå›´å†…è¿­ä»£ã€‚ä¸€ä¸ª`for`å¾ªç¯å¯ä»¥è¿­ä»£ä»»ä½•å®ç°`Iterator`ç‰¹å¾çš„ç±»å‹ã€‚æˆ‘ä»¬ä¸ä¼šåœ¨è¿™é‡Œè®¨è®ºç‰¹å¾ï¼Œä½†æ˜¯ç°åœ¨æŠŠå®ƒçœ‹ä½œä¸€ä¸ªæ¥å£(å°½ç®¡å®ƒæœ‰æ›´å¤šçš„å«ä¹‰)ã€‚å› ä¸ºèŒƒå›´å®ç°äº†è¿­ä»£å™¨ï¼Œæ‰€ä»¥æ‚¨å¯ä»¥ä½¿ç”¨ç±»ä¼¼äº`map`ã€`filter`å’Œ`fold`çš„è¿­ä»£å™¨æ–¹æ³•ã€‚

Filter å…è®¸æ‚¨åŸºäºè°“è¯æˆ–è¿”å›å¸ƒå°”å€¼çš„å‡½æ•°æ¥è¿‡æ»¤å…ƒç´ ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†`if`æ¡ä»¶ç§»åˆ°ä¸€ä¸ªè¿‡æ»¤å™¨ä¸­ï¼Œä»¥ä¾¿åªè·å¾—æˆ‘ä»¬æƒ³è¦çš„`i`å€¼:

```
pub fn solution(max: u64) -> u64 {
  let mut result = 0;
  for i in (0..max).filter(|n| n % 3 == 0 || n % 5 == 0) {
    result += i;
  }
  return result;
}
```

è¿™ä¸ªæç¬‘çš„è¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ

`|n| n % 3 == 0 || n % 5 == 0`

è¿™æ˜¯ä¸€ä¸ªç»ˆç»“ã€‚è¿™æ˜¯ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼Œå¯ä»¥ä¼ é€’ç»™å¦ä¸€ä¸ªå‡½æ•°ã€‚`|n|`ä¸ºè‡ªå˜é‡/sï¼Œå…¶ä½™ä¸ºå‡½æ•°ä½“ã€‚åŒæ ·ç²¾ç¡®çš„é—­åŒ…ä¹Ÿå¯ä»¥è¿™æ ·å†™(ç”¨ä¸€ä¸ªæ˜¾å¼å‡½æ•°ä½“å’Œ`return`è¯­å¥):

```
|n| {
  return n % 3 == 0 || n % 5 == 0;
}
```

åœ¨ Rust ä¸­ï¼Œå¦‚æœä½ çš„`return`è¯­å¥åœ¨ä¸€ä¸ªå‡½æ•°çš„æœ€åä¸€è¡Œï¼Œä½ å¯ä»¥çœç•¥`return`å’Œåˆ†å·æ¥éšå¼è¿”å›ã€‚ä½¿ç”¨è¿™ä¸ªæŠ€å·§ï¼Œæˆ‘ä»¬å¯ä»¥ä»å‡½æ•°ä¸­åˆ é™¤`return`:

```
pub fn solution(max: u64) -> u64 {
  let mut result = 0;
  for i in (0..max).filter(|n| n % 3 == 0 || n % 5 == 0) {
    result += i;
  }
  // Implicit return below:
  result
}
```

è¿˜æœ‰ä¸€ä»¶çƒ¦äººçš„äº‹ã€‚æˆ‘ä»¬æœ‰ä¸€ä¸ªå¯å˜çš„`result`å˜é‡ã€‚åœ¨ä¸€ä¸ªæ›´å¤§çš„ç¨‹åºä¸­ï¼Œè¿™ä¸ªå˜é‡å¯èƒ½ä¼šåœ¨å…¶ä»–åœ°æ–¹æ„å¤–å˜å¼‚ï¼Œéœ€è¦å•ç‹¬ç®¡ç†ã€‚å¯¹è¿­ä»£å™¨ä¸­çš„å€¼æ±‚å’Œä¸éœ€è¦å¦ä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ–¹æ³•æ¥å®Œæˆï¼æ‚¨å¯ä»¥ä½¿ç”¨`fold`æˆ–`sum`æ–¹æ³•ã€‚

```
pub fn solution(max: u64) -> u64 {
  (0..max).filter(|n| n % 3 == 0 || n % 5 == 0).sum()
}
```

åœ¨è¿™é‡Œé˜…è¯»æ›´å¤šå…³äºè¿­ä»£å™¨çš„å†…å®¹ï¼æœ‰è®¸å¤šè¿­ä»£å™¨æ–¹æ³•ï¼Œå®ƒä»¬æœ‰æ—¶å¯ä»¥å•ç‹¬ç”¨æ¥è§£å†³é—®é¢˜ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°ç”¨ä¸€ä¸ªåº“ï¼Œå¦‚ [Rayon](https://github.com/rayon-rs/rayon) å¼•å…¥ fork-join å¹¶è¡Œã€‚

ä»`main`å‡½æ•°è°ƒç”¨æ‚¨çš„æ–°`solution`å‡½æ•°ï¼Œå¹¶æ‰“å°å‡ºæ‚¨çš„ç­”æ¡ˆã€‚ç”¨`cargo run`è¿è¡Œç¨‹åºã€‚

ğŸˆç¥è´ºæ‚¨å®Œæˆ Rust ä¸­çš„ç¬¬ä¸€ä¸ªé¡¹ç›®æ¬§æ‹‰é—®é¢˜ğŸˆã€‚æˆ‘å¸Œæœ›ä½ å–œæ¬¢è¿™æ¬¡æ—‹é£ä¹‹æ—…ï¼åœ¨æœªæ¥ï¼Œæˆ‘å¸Œæœ›æ›´æ·±å…¥åœ°ç ”ç©¶ç‰¹å¾(å°¤å…¶æ˜¯è¿­ä»£å™¨ç‰¹å¾)ã€å®ã€å¹¶å‘å’Œå‡½æ•°å¼ç¼–ç¨‹ã€‚ä¹Ÿè®¸æˆ‘å·²ç»è¯´æœä½ ç»§ç»­æ¢ç´¢è¿™ç§æ€ç»´æ‰©å±•è¯­è¨€ã€‚ä¸ºä»€ä¹ˆä¸ç»§ç»­ç”¨ Rust ä¸­çš„[ç®€å•æ’åºç®—æ³•å¯¹ Rust è¿›è¡Œé‡‡æ ·ï¼Ÿ](/@spyr1014/sorting-in-rust-selection-insertion-and-counting-sort-2c4d3575e364)

å¦‚æœä½ å–œæ¬¢è¿™ä¸ªå¸–å­ï¼Œè¯·ç”¨ğŸ‘ï¼æˆ‘å–œæ¬¢åé¦ˆï¼Œè¯·åœ¨ Twitter ä¸Šç»™æˆ‘ç•™è¨€æˆ–ç•™è¨€ã€‚æˆ‘ä¹Ÿå–œæ¬¢æƒ³æ³•ï¼Œæ‰€ä»¥å¦‚æœä½ å¸Œæœ› Rust ä¸Šæœ‰ä¸€ç¯‡åšæ–‡ï¼Œæˆ‘å¾ˆä¹æ„ä¸ºä½ å†™ã€‚

åœ¨æ¨ç‰¹ä¸Šå…³æ³¨æˆ‘: [@spyr1014](https://twitter.com/spyr1014)

æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼â¤

# å‚è€ƒ

*   æ— ç•å¹¶å‘-[https://blog . rust-lang . org/2015/04/10/Fearless-Concurrency . html](https://blog.rust-lang.org/2015/04/10/Fearless-Concurrency.html)
*   https://www.rustup.rs/
*   vs code-ã€https://code.visualstudio.com/ 
*   æˆ‘ä»¬ç»“æŸäº†å—ï¼Ÿ-[https://areweideyet.com/](https://areweideyet.com/)
*   IntelliJ IDEA-[https://intellij-rust.github.io/](https://intellij-rust.github.io/)
*   Rust æ–‡æ¡£é“¾æ¥-[https://www.rust-lang.org/en-US/documentation.html](https://www.rust-lang.org/en-US/documentation.html)
*   rustdocâ€”[https://doc.rust-lang.org/beta/rustdoc/what-is-rustdoc.html](https://doc.rust-lang.org/beta/rustdoc/what-is-rustdoc.html)
*   è´§ç‰©æ‰‹å†Œ(Cargo . toml)-[https://doc.rust-lang.org/cargo/reference/manifest.html](https://doc.rust-lang.org/cargo/reference/manifest.html)
*   è¿­ä»£å™¨:[https://doc.rust-lang.org/std/iter/index.html](https://doc.rust-lang.org/std/iter/index.html)