# 宣布:compo

> 原文：<https://medium.com/hackernoon/announcing-compo-3ba9e15890a7>

## 🎼组合 Web 组件

[**compo**](https://github.com/Swiip/compo) 是一个新的 [JavaScript](https://hackernoon.com/tagged/javascript) Web UI 库，基于纯 Web 组件提供了一个现代的 [API](https://hackernoon.com/tagged/api) ，使用函数组合来轻松定义和丰富它们。

是啊！这是又一个新的 JavaScript Web UI 库！很抱歉“JavaScript 疲劳”的人，但我仍然认为这个项目中有一些好想法，至少值得发表。

# 灵感

它受到许多流行库的启发，如 [React](https://reactjs.org/) 、 [Redux](https://redux.js.org/) 、 [Recompose](https://github.com/acdlite/recompose) 或 [styled-components](https://www.styled-components.com/) ，将现代概念和 API 应用于自定义元素标准。

前段时间由 **React** 引入的**虚拟 Dom** 概念已经被用来解放用户管理 Dom 转换。这个概念可以应用到标准的 Web 组件世界中，每个组件都将其模板赋值给自己的影子 DOM。

**重新组合**引入了全功能组合 API，允许根据需要逐个增强组件特性。通过用所需的特性扩展定义类，它可以再次完美地匹配定制元素。

最后，在 JS 中使用 CSS 和 **styled-components** 一段时间后，CSS 被认为是 UI 库不可或缺的一部分，并像对待标记一样对待它。Shadow DOM CSS 作用域完美地完成了这项工作。

# **API**

在所有以前的灵感中，我感到遗憾的是使用许多不同的库来最终获得一个充满好想法但具有复杂的非同质 API 的奇怪怪物的复杂性。

所以 compo 是一个全功能的库，提供了一个统一的 API 来管理组件的各个方面:状态管理、标记、风格。

如题所言，选择的接口是函数组合。使用**组件**功能定义一个组件，第一个参数为名称，所有其他参数用于增强功能，如**带存储**、**带标记**或**带样式**。

# 标准

整个过程都是由追求简单和重量的极简主义推动的。对于极简主义来说，什么比直接从浏览器中获取尽可能多的东西更好？

compo 的目的是通过尽可能少地使用标准来呈现一个强大的 API。因此，它主要基于自定义元素、阴影 DOM、ES2015 模板字符串。甚至虚拟 DOM 解析器实际上也是原生浏览器 DOM 解析器。

此外，指导方针之一是使用新浏览器的功能。不是忽略 Web 历史或兼容性，而是想象没有限制的现代 API。例如， **compo** 根本就不是透明的。它是在现代 ES2017 中编写和发布的。事实上，它已经在绝大多数浏览器中运行，如果需要，每个人都可以在自己的应用程序中移植它。

# 抱负

**compo** 还没有，生产准备好了。老实说，它只在开箱即用的 Chrome 和带标志的 Firefox 上有效。有一个使用 Web 组件 polyfills 在每个浏览器上使用它的兼容性示例。

就性能而言，概念不应该被阻塞，但在这一点上，不要尝试与行业框架相比的激进基准，它可能不会有好结果。尽管如此，它仍然足够强大，可以构建“标准大小”应用程序，而不会出现任何实际问题。

老实说， **compo** 也是某种童梦。“我发布了自己的 JavaScript 库😃".我们会看到它走多远，但我确实认为图书馆里有一些好东西。如果它只是对社区产生一点影响，它就已经是一个巨大的成功了。