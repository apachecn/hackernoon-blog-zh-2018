# 比特币——一切开始的地方

> 原文：<https://medium.com/hackernoon/bitcoin-where-it-all-began-a0defed3a525>

> *“伟大的事情是由一系列小事情汇集而成的”文森特·梵高*

比特币无疑是同类产品中的第一个，它融合了诞生之前同样巧妙的创新。比特币可以说是**区块链的一个特殊应用*，*加密货币所基于的技术。分解一下，区块链是一个“数据结构”，数据结构意味着它是数据和对数据进行操作的方法的封装。类比区块链的最接近的已知数据结构可能是链表。

链表中的每个节点都指向下一个节点。在区块链中，每个*块*指向前一个块。每个块包含*个交易*，每个交易*是一个数字资产的交换。*在比特币的情况下，数字资产是具有货币价值的硬币。现在，当 **A** 向 **B** 汇款时，该交易(该价值交换)的记录被添加到块中，以便将来任何人检查 **B** 作为该价值的真正所有者的有效性。当一定数量的事务被添加到一个块中时，它就被链接到区块链。块数不断增加它的长度。

![](img/93e59bc5d07dada459ddbf70c0219ea4.png)

Photo by [Andre Francois](https://unsplash.com/photos/fZoLhGQIejU?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/bitcoin?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

# 你可能会问，它和法定货币有什么不同？

钱不完全是真实的。这是社会认同的价值观。每个人都同意有特定价值的东西，包括政府。法定货币是由政府支持的货币。政府拥有它。政府监管它。两个人交换一张₹10 纸币，(1)承诺付给持票人一笔钱(正如纸币上所写的),以及(2)这一承诺是由政府(印度储备银行行长)签署的。

现在想象一下，你有责任创建一个数字货币系统。你可以用其他监管实体来取代这个政府实体，这些监管实体仍将按照政府设定的规范运作，但交易将是数字化的。你不会给出一张打印的钞票，你会通过互联网以比特的形式发送交易。

你可能需要解决两个问题:

1.  如何防止重复支出( **A** 把₹10 给了 **B** ， **A** 把同样的₹10 给了 **B** )
2.  如何保护它免受黑客攻击

通过给每个代币/硬币/纸币(也可以在印刷纸币上看到)发放序列号，可以防止重复消费。发行这些序列号的地方可以采用安全措施。因此，你想出了一个解决方案，一个中央权威机构来发布序列号，签署每笔交易，并保留所有交易的记录。

1.  你会得到系统的一个转折点。破坏服务器，破坏系统。
2.  人们可以通过追踪序列号来追踪一个人进行的所有交易

这不是现金，但这也不是匿名的。

# 盲签名

大卫·肖姆在 1983 年提出了一个叫做*盲签名*的系统，该系统成功地与中央服务器分离，同时允许中央机构防止重复支出。实现的目标是一个防止重复支出的*匿名*系统。

Chaum 出版《数字现金》几年后(1998 年)，Chaum 与另外两位密码学家 Fiat 和 Naor 合作，提出了一个对以前协议的改进，引入了 [*离线电子现金系统*](http://blog.koehntopp.de/uploads/chaum_fiat_naor_ecash.pdf) 。焦点从重复支出的*预防*转移到重复支出的*检测*。

在一个高层次上，该系统实现的是这样的:发行的每枚数字硬币都编码了所有者的身份，但以这样的方式，除了所有者本人，没有人能解码它。每次你花你的硬币，接收者会要求发送者解码一个随机的解码子集，他们会保留一份记录。这种解码不足以让他们确定你的身份。但是，如果硬币被重复使用，最终两个接受者都会去银行兑现他们的纸币，然后银行很有可能通过将两个子集放在一起破译原始身份。

# 远离集权

盲签名虽然是一个天才的想法，但仍然包含了集权。即使是匿名的，你也会得到一个断点。分散化意味着，没有单一的权力分配序列号，但一种方法，以防止双重支出和系统是完全安全的。

为了防止没有中央授权的重复支出，你需要一份交易记录。如果我们有 3 个交易，假设 T1、T2 和 T3 依次发生，网络中的每个节点应该能够验证 T1 发生在 T2 的过去，T3 发生在 T2 的未来。对于手工创建的文档来说，这可能是一个需要解决的小问题，但是在数字领域，没有时间的概念。

# 时间标记

[Stuart Haber 和 W. Scott Stornetta](https://www.anf.es/pdf/Haber_Stornetta.pdf) 在 1991 年提出了一种确定特定文档的创建历史的方法。首次创建或最后修改特定文档时认证的方法。用外行人的话来说，时间戳是加在文件上的一个小东西，证明文件是在某个时间之前或之后发出的。

在所提出的方案中，有一个时间戳服务，客户将他们的文档发送给该服务，以被打上时间戳。服务器接收文档，用当前时间对其进行签名，并将其链接到前一个文档，然后用该信息发布证书。

# 术语“区块链”

对之前的时间戳方案( [*论文*](http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.71.4891&rep=rep1&type=pdf) )提出了效率改进。当文档数量增加时，链接每一个文档会带来伸缩问题。不是单独链接文档，而是将许多文档收集成块，然后进一步链接。在每个块中，文档以树形结构进一步链接。(本文提出了“区块链”一词)

这减少了验证特定文档出现在系统历史中的特定点所需的检查量。

# 如何铸币和规范？

Haber 和 Stornetta 提出的解决方案解决了分散系统中的双重支出问题。这意味着不再需要一个防止重复支出的中央机构。但是谁会给硬币提供序列号呢？或者说，硬币是如何铸造的，又是如何监管的？

# 工作证明

[Dwork 和 Naor](http://www.hashcash.org/papers/pvp.pdf) 在 1992 年(Adam 早在 1997 年就提出了类似的想法)提出了一个解决垃圾邮件的潜在方案，具体如下:

1.  发件人每次在发送电子邮件之前都要解决一个计算难题
2.  如果邮件中没有附上谜题的答案，收件人的电子邮件程序就会忽略该邮件

假设是:

1.  对于在给定时刻生成数百封电子邮件的垃圾邮件发送者来说，计算成本很高
2.  谜题的检查不应该包括解谜，也就是说，接收者应该能够容易地检查答案
3.  每个谜题完全独立于其他谜题
4.  接受者可以调整难度级别

这些性质是通过使用密码散列函数来产生谜题而实现的。

# 铸造和监管

中央当局的职能现在可以下放:

1.  双重支出—时间戳(这里仍然需要可信的第三方)
2.  硬币的铸造和管理工作证明

更早的(在比特币之前)采用上述两种方法提出一个完全去中心化的货币交换系统的建议有: [B-money](http://www.weidai.com/bmoney.txt) (戴玮，1998)和 [Bitgold](https://unenumerated.blogspot.in/2005/12/bit-gold.html) (Nick Szabo，2005)

特征如下:

1.  任何人都可以赚钱(利用类似 hashcash 的系统)
2.  存在对等网络
3.  每个节点维护一个个人分类账(没有维护全局分类账)
    每个节点都有自己的记录，记录它*认为*每个人的余额是多少。
4.  依靠时间戳服务，在货币的创建或转移上签字

值得一提的是，B-money 和 Bitgold 是非正式的提议，后者以博客帖子的形式发布，而前者以邮件列表的形式发布。尽管如此，这些提议还是很重要，因为它们掩盖了最终由比特币区块链解决的问题，从而为比特币创造了条件。

# 比特币:一个点对点的电子现金系统，中本聪(2008) ( [论文](https://bitcoin.org/bitcoin.pdf))

中本聪不仅提出了一个强健的系统，他(中本聪没有已知的性别)还给出了一个工作模型。比特币(1)防止重复消费，(2)不需要可信的第三方，(3)足够强大，用户可以信任。

该系统可细分如下:

1.  数字资产是可在节点间转移的硬币
2.  电子硬币被定义为一系列电子签名——向另一个人发送硬币/数字资产基本上意味着发送一个带有下一个所有者公钥的所有先前交易的签名散列。
3.  每个事务被公开宣布给任何节点，以检查任何事务的有效性。为了实现这一点，在没有 TTP(可信第三方)的情况下，提出了时间戳服务器，其散列一组要被加时间戳的文档并广泛地发布该散列。
4.  为了实现一个时间戳服务器而不必广泛地发布带有每个时间戳的散列，工作证明是由 Adam 在 HashCash 中提出的。PoW(工作证明)是通过向块报头添加‘Nonce’来实现的，该‘Nonce’将被递增，直到达到某个指定的散列值。一旦生成了所需的随机数(通过消耗 CPU 的努力)，它就不能被改变，并且被链接到先前的块。
5.  由于每个块都链接到前一个块，要改变任何块的事务，不仅需要重新计算该块的哈希值，还需要重新计算它后面的所有
    块的哈希值。
6.  一旦块被发布，其他节点通过为链中的下一个块生成随机数来表达它们的接受。
7.  一般来说，较长的链被认为是真正的链。

所以，简而言之，比特币就是这样产生的。利用以前存在的技术创造一个世界根本不需要的系统。除了加密货币，它所基于的技术，即区块链，承诺了 Web 3.0 时代的颠覆性未来。