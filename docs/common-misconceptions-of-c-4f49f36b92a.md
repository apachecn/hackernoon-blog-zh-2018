# 对 C++的常见误解

> 原文：<https://medium.com/hackernoon/common-misconceptions-of-c-4f49f36b92a>

![](img/23ae344cd743df9460ca7fcabb3c120f.png)

“black swirl of letters” by [Nathaniel Shuman](https://unsplash.com/@nshuman1291?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

C++在最近几年有了很大的发展，但许多人仍然认为它是 21 世纪初的语言。让我们驱散一些迷思…

## C++是一种濒临死亡的语言

C++居然在成长！即使计算机变得越来越快，我们对用它们做什么的需求也一直在增加。C++是允许我们最大化硬件潜力的少数语言之一。

Stroustrup 在 CPP Con 上的演讲展示了 C++的成长轨迹。

## C++冗长而低效

有了新的`auto`关键字和λ语法，C++可以正确、快速*和*简洁。

例如，比较 JavaScript 和 C++ 14 中的这两个程序:

JavaScript

C++

好吧，C++稍微长一点，但是想想你得到的回报:

*   强类型系统和编译时类型检查
*   没有类似 Node.js 的运行时依赖
*   *执行时间的分数*

## C 是 C++的子集

虽然在 C++中经常可能包含 C 代码，但情况并非总是如此。以下代码片段是有效的 C，但不是有效的 C++:

## 你需要了解 C 才能理解 C++

C++是它自己的语言，有自己的习惯用法和最佳实践。如果你只学习 C++作为 C 的扩展，那么你就不会学习这些模式，很可能会写出容易出错的代码！

凯特·格雷戈里做了一个非常精彩的演讲，非常值得你花时间去做。

有多少开发人员因为被教着像 C 一样使用 C++而有过负面体验？

## C 比 C++快

C++允许你编写抽象，编译成等价的 C。这意味着只要小心，C++程序将至少和 C 一样快。与 C 相比，C++的优势在于它使我们能够用模板、面向对象和功能组合来构建可重用的抽象。

C++给了你在类型系统中编码你的意图的工具。这允许编译器从您的代码中生成最佳的二进制文件。

## C++不是跨平台的

C++ *语言*是完全跨平台的。许多人声称 C++不是的原因是标准库不像 Java 这样的语言那样提供文件系统、网络访问等平台抽象。

相反，C++要求你使用一个库，或者自己写一个。这可能看起来很痛苦(尽管有了[包管理器](https://github.com/loopperfect/buckaroo)就没那么痛苦了)。)，但其实是好事。

1.  为了瞄准一个新的平台，编译器实现者需要实现的东西更少了。
2.  能力有限的平台目标可以支持 C++。如果标准需要某个平台由于硬件限制而无法提供的特性，会发生什么？
3.  您可以自由选择最适合您的应用程序的库。这不是一个放之四海而皆准的办法。

## apt-get 是 C++的包管理器

我们在[之前的一篇文章](https://hackernoon.com/approaches-to-c-dependency-management-or-why-we-built-buckaroo-26049d4646e7)中详细介绍了这一点，但简短的版本是:

*   仅适用于 Debian 变体
*   `apt-get`突变你的系统，在项目间切换时不方便
*   `apt-get`不是新版本和实验版本库的好来源

## C++是关于类的

在早期，C 和 C++的最大区别是 C++提供了类。这仍然是正确的，但是类不再是 C++的主要特征。在现代 C++中，重点是 RAII 模式。C++实际上不是关于类的，它是关于确定性资源管理的。

## 对于可靠的软件来说，垃圾收集是强制性的，因此 C++对于大型项目来说是不好的

C++的资源管理方法(内存只是其中的一种)是使用 RAII 模式，而不是集中式垃圾收集器。

这有点像其他语言中看到的“using”模式。例如，在 C#中，我们可能会写:

在 C++中，处理应该由*析构函数*来完成:

请注意，这实际上不太冗长；另外，我们可以对内存*和*其他资源使用相同的模式。

但是还有另一个优点:对象处理的顺序和时机是由它们的使用范围决定的。这使得在函数级控制垃圾收集过程成为可能，而大多数垃圾收集语言只允许在全局级进行(*有限的*)控制。

这在大型项目中有更大的好处，因为它防止一个模块将垃圾收集延迟引入另一个模块。这就是为什么 C++是游戏开发和音频处理的首选语言。

## 为了提高性能，您必须编写低级代码

C++编译器在优化高级代码方面做得非常出色。这可以让你避免低水平的编写，同时仍然获得很好的性能。有时性能甚至更好，因为编译器可以执行手工编写起来太复杂的优化。

我们最喜欢的例子是使用我们新的 C++序列库[管道](https://github.com/LoopPerfect/conduit)。这个程序使用 lambdas、协同程序等计算各种 Fibonacci 数的和:

然而，它编译成:

这意味着优化器能够计算 60 个斐波那契数，并在编译时将最后 50 个相加！

# 既然你在这里…

我们最近发布了 [BuildInfer](https://buildinfer.loopperfect.com/) ，这是一款优化 C/C++构建脚本的新工具。[看一看](https://buildinfer.loopperfect.com/)！

![](img/c16cb35622494d4d7a5014e13c3a6131.png)