# å®šåˆ¶ Tmux çŠ¶æ€è¡Œçš„æƒå¨æŒ‡å—

> åŸæ–‡ï¼š<https://medium.com/hackernoon/customizing-tmux-b3d2a5050207>

![](img/53509bb4f306d7d77ee79b6312083d7d.png)

æˆ‘å‡è®¾æ‚¨å·²ç»è®¾ç½®äº†ä¸€ä¸ªæ­£åœ¨ä½¿ç”¨çš„. tmux.conf æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰ï¼Œé¦–å…ˆæŸ¥æ‰¾ setting . tmux . conf æˆ–ç±»ä¼¼çš„æ–‡ä»¶ã€‚

# æ­¥éª¤ 1:å¦‚ä½•æ›´æ”¹çŠ¶æ€è¡Œ

> è®¾å®š-g çŠ¶æ€-å·¦ä¾§
> 
> è®¾ç½®-g çŠ¶æ€-å³ä¾§

ç”¨ä¸€ä¸²ä½ æƒ³è¦çš„é€‰é¡¹æ›¿æ¢`<options>`ã€‚å¯ä»¥ä½¿ç”¨`#[bg=colour*]`è®¾ç½®èƒŒæ™¯é¢œè‰²ï¼Œå…¶ä¸­`*`æ˜¯ 0-255 ä¹‹é—´çš„æŸä¸ªæ•°å­—ï¼Œç”¨äºæ”¯æŒ 256 è‰²çš„ç»ˆç«¯ã€‚è¦æ”¹å˜å‰æ™¯è‰²(æ–‡æœ¬é¢œè‰²)ï¼Œåªéœ€`#[fg=colour*]`(å†æ¬¡ç”¨ 0 åˆ° 255 ä¹‹é—´çš„æ•°å­—æ›¿æ¢*)ã€‚

è¦ä¸€æ¬¡æŸ¥çœ‹æ‰€æœ‰ 255 ç§é¢œè‰²ï¼Œè¯·æŸ¥çœ‹[è¯¥å †æ ˆæº¢å‡ºç­”æ¡ˆçš„æ³¨é‡Š](https://superuser.com/a/1104214)

æˆ‘æƒ³åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯åœ¨çŠ¶æ€è¡Œä¸­æ·»åŠ æ—¥æœŸå’Œæ—¶é—´ã€‚å¾ˆç®€å•å¯¹å§ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªé€‰é¡¹çš„å®Œæ•´åˆ—è¡¨[https://linux.die.net/man/3/strftime](https://linux.die.net/man/3/strftime)æˆ–è€…ä¸€ä¸ªæ›´çŸ­æ›´å¯è¯»çš„åˆ—è¡¨è§æˆ‘çš„`[.tmux.conf](https://github.com/sbernheim4/dotfiles/blob/master/.tmux.conf#L59.)`çš„ä¸€éƒ¨åˆ†

åœ¨`<options>`å­—ç¬¦ä¸²ä¸­æ·»åŠ `%H:%M`å°†ä¼šä»¥ 24 å°æ—¶æ ¼å¼æ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œä¸å¸¦ç§’(ç±»ä¼¼äº 15:38)ã€‚

# æ­¥éª¤ 2: Tmux ç‰¹å®šå€¼

Tmux æœ‰è‡ªå·±çš„ä¸€å¥—ä»£è¡¨ä¸åŒäº‹ç‰©çš„ä»·å€¼è§‚ã€‚ä¾‹å¦‚ï¼Œ`#H`æŒ‡çš„æ˜¯æ‚¨å½“å‰æ‰€åœ¨çš„è®¡ç®—æœºçš„ä¸»æœºåï¼Œ`#S`æŒ‡çš„æ˜¯å½“å‰ä¼šè¯çš„ç´¢å¼•ã€‚å…³äºé€‰é¡¹çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·ç‚¹å‡»[æ­¤å¤„](https://linux.die.net/man/1/tmux)å¹¶æœç´¢çŸ­è¯­â€œå­—ç¬¦å¯¹æ›¿æ¢ä¸ºâ€

â€”2018 å¹´ 4 æœˆ 20 æ—¥æ›´æ–°â€”

æ‰€ä»¥æˆ‘æœ€è¿‘å­¦ä¼šäº†å¦‚ä½•åœ¨å½“å‰çŠ¶æ€ä¸‹æ˜¾ç¤ºæˆ–éšè—çŠ¶æ€æ ä¸­çš„æ–‡æœ¬(å¦‚æœå‰ç¼€è¢«æŒ‰ä¸‹æˆ–è€…çª—å£è¢«ç¼©æ”¾ç­‰)ã€‚tmux çš„å®˜æ–¹æ‰‹å†Œé¡µæœ‰ä¸€ä¸ªè®°å½•çª—æ ¼/çª—å£/ä¼šè¯çŠ¶æ€çš„å±æ€§åˆ—è¡¨ã€‚è®¿é—®è¯¥é¡µé¢ï¼Œæœç´¢â€œä»¥ä¸‹å˜é‡é€‚ç”¨â€ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€é•¿ä¸²é€‰é¡¹ã€‚ä½ å¯èƒ½ä¼šé—®ï¼Œå¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œä¸ºäº†çŸ¥é“å‰ç¼€æ˜¯å¦è¢«æŒ‰ä¸‹ï¼Œæˆ‘ç”¨ä¸‹é¢çš„ä»£ç æ”¹å˜äº†æˆ‘çš„çŠ¶æ€è¡Œçš„é¢œè‰²ã€‚

> `#{?client_prefix,#[bg=colour2],}`

å¦‚æœå‰ç¼€æ˜¯æ´»åŠ¨çš„(å°±åƒæˆ‘åˆšæ‰æŒ‰ä¸‹å®ƒä¸€æ ·)ï¼Œé‚£ä¹ˆå®ƒä¼šåœ¨ç¬¬ä¸€ä¸ªé€—å·åæ’å…¥æ–‡æœ¬ï¼Œå¦åˆ™ä¼šåœ¨ç¬¬äºŒä¸ªé€—å·åæ’å…¥æ–‡æœ¬ï¼Œåœ¨æœ¬ä¾‹ä¸­æ²¡æœ‰ä»»ä½•å†…å®¹ã€‚è¿™é‡Œæˆ‘æ’å…¥æ–‡æœ¬æ¥æ”¹å˜èƒŒæ™¯é¢œè‰²ï¼Œä½†æ˜¯ä»»ä½•æ–‡æœ¬éƒ½å¯ä»¥æ’å…¥ï¼ŒåŒ…æ‹¬â€¦å›¾æ ‡ã€‚è¦åœ¨å½“å‰çª—å£æ”¾å¤§æ—¶æ˜¾ç¤ºå›¾æ ‡(å¯ä»¥ç”¨å‰ç¼€+ z æ¥å®ç°)ï¼Œè¯·å‚è§ä¸‹é¢çš„ä»£ç ã€‚

> `#{?window_zoomed_flag, ,`ğŸ”`}`

è¿™å°†åœ¨çŠ¶æ€è¡Œä¸­çš„ä»»ä½•ä½ç½®æ·»åŠ ä¸€ä¸ªæ”¾å¤§é•œã€‚(å¯¹äºå›¾æ ‡ï¼Œæ‚¨å¯èƒ½éœ€è¦åœ¨å›¾æ ‡å‰åæ·»åŠ é¢å¤–çš„ç©ºæ ¼ã€‚æˆ‘åœ¨å‰åéƒ½å¢åŠ äº†é¢å¤–çš„ç©ºé—´ï¼Œä»¥å…æ˜¾å¾—æ‹¥æŒ¤)ã€‚

â€”ç»“æŸæ›´æ–°â€”

# æ­¥éª¤ 3:ä½¿ç”¨ Bash å‘½ä»¤æ˜¾ç¤ºå¾ˆé…·çš„ä¸œè¥¿

æœ€åä¸€ä¸ªå…³é”®æ­¥éª¤æ˜¯èƒ½å¤Ÿä½¿ç”¨ bash å‘½ä»¤æ˜¾ç¤ºå¾ˆé…·çš„ä¿¡æ¯ã€‚è¿™å¯ä»¥åŒ…æ‹¬è¯¸å¦‚ç”µæ± ç™¾åˆ†æ¯”ã€å½“å‰æ­Œæ›²æ’­æ”¾ç­‰å†…å®¹ã€‚è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‚¨é¦–å…ˆå¿…é¡»æ‰¾åˆ°ä¸€ä¸ª bash è„šæœ¬æˆ–å‘½ä»¤æ¥æä¾›æ‚¨æƒ³è¦çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼Œæˆ‘ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ˜¾ç¤ºå½“å‰çš„ç”µæ± ç™¾åˆ†æ¯”:

> `pmset -g batt | grep [0-9][0-9]% | awk â€˜NR==1{print$3}â€™ | cut -c 1â€“3`

æ³¨æ„:è¿™åªé€‚ç”¨äº macï¼Œå› ä¸º pmset æ˜¯ MAC ç‰¹æœ‰çš„ç»ˆç«¯å‘½ä»¤ã€‚

æˆ‘ç”µè„‘é‡Œå­˜äº†ä¸€ä¸ªæ–‡ä»¶å« battery.shï¼Œæ–‡ä»¶æœ‰ä¸¤è¡Œé•¿ã€‚ç¬¬ä¸€è¡Œæ˜¯ bash shebang ( *#ï¼/bin/bash* )è€Œç¬¬ 2 è¡Œæ˜¯ä¸Šé¢çš„å‘½ä»¤ã€‚ä¸ºäº†åœ¨çŠ¶æ€è¡Œä¸­æ˜¾ç¤ºç”µæ± ï¼Œåœ¨æˆ‘çš„. tmux.conf ä¸­çš„<é€‰é¡¹>ä¸­æˆ‘æœ‰

> `#(path/to/battery.sh)`

(ä¸“ä¸šæç¤º:åœ¨#å‰æ·»åŠ ä¸€ä¸ªè¡¨æƒ…ç¬¦å·ï¼Œå¦‚:â™¥ï¼Œä¼šåœ¨çŠ¶æ€è¡Œæ˜¾ç¤ºä¸ºâ™¥ 64%ï¼Œçœ‹èµ·æ¥æ¯” 64%æ›´é…·)

# ç¬¬å››æ­¥:æ’ä»¶

å¥½å§ï¼Œè¿™äº›å¹¶ä¸æ˜¯çœŸæ­£çš„æ’ä»¶ï¼Œè€Œæ˜¯å…¶ä»–äººå·²ç»å†™å¥½çš„è„šæœ¬ã€‚æŸ¥çœ‹[https://github.com/jdxcode/tmux-spotify-info](https://github.com/jdxcode/tmux-spotify-info)è·å–å½“å‰æ’­æ”¾çš„ Spotify æ­Œæ›²ï¼Œè¿™åˆæ˜¯ mac ç‰ˆï¼Œå› ä¸ºå¼€å‘è€…ç”¨è‹¹æœè„šæœ¬ç¼–å†™äº†è¿™ä¸ªè„šæœ¬ã€‚ä½†å…³é”®æ˜¯æ‚¨å¯ä»¥æ‰¾åˆ°å…¶ä»–äººå·²ç»ä¸ºæ‚¨çš„ç¯å¢ƒç¼–å†™çš„è„šæœ¬ï¼Œå¹¶è½»æ¾åœ°å°†å®ƒä»¬æ·»åŠ åˆ°æ‚¨çš„çŠ¶æ€è¡Œä¸­ã€‚

# æ­¥éª¤ 5:è‡ªå®šä¹‰çª—å£

å¸Œæœ›æ‚¨å·²ç»çŸ¥é“äº†ä¼šè¯ã€çª—å£å’Œçª—æ ¼ä¹‹é—´çš„åŒºåˆ«ã€‚å¦‚æœæ²¡æœ‰ï¼Œè¯·å¿«é€Ÿé˜…è¯»ã€‚

è¦ç‚¹æ˜¯ï¼Œé™¤äº†çŠ¶æ€è¡Œçš„å·¦ä¾§å’Œå³ä¾§ä¹‹å¤–ï¼Œæ‚¨è¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹é€‰é¡¹è‡ªå®šä¹‰çª—å£åœ¨çŠ¶æ€ä¸­çš„æ˜¾ç¤ºæ–¹å¼:

> `set -g window-status-format <options>`

å…¶ä¸­<options>ä¸ä¹‹å‰çš„é…ç½®ç›¸åŒã€‚æ‚¨è¿˜å¯ä»¥è‡ªå®šä¹‰å½“å‰çª—å£çš„æ˜¾ç¤º:</options>

> `set -g window-status-current-format <options>`

å†æ¬¡æŸ¥çœ‹[è¿™ä¸ª](https://linux.die.net/man/1/tmux)ç«™ç‚¹ï¼Œæœç´¢â€œå­—ç¬¦å¯¹æ›¿æ¢ä¸ºâ€æŸ¥çœ‹ä¸€äº›ä¸“é—¨ä¸º windows ä¿ç•™çš„ Tmux å‘½ä»¤ã€‚ç„¶åï¼Œæ‚¨è¿˜å¯ä»¥è‡ªå®šä¹‰ç”¨äºæ˜¾ç¤ºçª—å£ä¹‹é—´å·®å¼‚çš„åˆ†éš”ç¬¦ã€‚è‡ªå®šä¹‰åˆ†éš”ç¬¦å¯èƒ½éœ€è¦ä¿®è¡¥å­—ä½“æ¥æ˜¾ç¤ºæŸäº›å­—ç¬¦ã€‚åœ¨è°·æ­Œä¸Šå¿«é€Ÿæœç´¢ä¿®è¡¥è¿‡çš„å­—ä½“åº”è¯¥ä¼šå¾—åˆ°ä¸€äº›å¥½çš„ç»“æœã€‚å¯¹äºå¾ˆé…·çš„ unicode å­—ç¬¦åˆ†éš”ç¬¦(å°½ç®¡å®ƒä»¬æ˜¯ unicodeï¼Œä»ç„¶å¯èƒ½éœ€è¦ä¿®è¡¥çš„å­—ä½“)ï¼Œè¯·æŸ¥çœ‹[è¿™ä¸ªç½‘ç«™](http://www.amp-what.com/unicode/search/)ã€‚

> æç¤º:å°è¯•æœç´¢ç±»ä¼¼å·¦ä¸‰è§’å½¢çš„ä¸œè¥¿

æ„Ÿè°¢é˜…è¯»ã€‚[æŸ¥çœ‹æˆ‘è‡ªå·±çš„. tmux.conf](https://github.com/sbernheim4/dotfiles/blob/251a30db0dbbd2953df35bfa0ef43e92ce15b752/tmux/.tmux.conf#L1)