# 从 A 到 Z:在以太坊制作真实 DApp 的 MVP 并部署它

> 原文：<https://medium.com/hackernoon/from-a-to-z-making-the-mvp-of-a-real-dapp-on-ethereum-and-deploying-it-50c750ef0c4e>

![](img/b1c7b71c3eb9334f60a3f2251c89e255.png)

一个月前，我写完了[以太坊开发攻略教程系列](https://hackernoon.com/ethereum-development-walkthrough-part-1-smart-contracts-b3979e6e573e)，其中[最后一部](https://hackernoon.com/ethereum-development-walkthrough-part-5-making-a-dapp-4c2a3bbcd5e5)是如何制作 [DApp](https://hackernoon.com/tagged/dapp) 。虽然该系列教程的结论很好，可以作为一个坚实的起点，但我仍然认为，从头到尾编写一个关于如何制作完整的 DApp 的教程会更有趣，不仅可以分享代码，还可以分享在以太坊的主网络上运行它的经验。

你可以发现 DApp [在这里](http://1000ethhomepage.github.io)，它的 [github](https://github.com/1000ethhomepage) repos [在这里](https://github.com/1000ethhomepage/1000ethhomepage.github.io)和[在这里](https://github.com/1000ethhomepage/1000ethhomepage-contracts)。这是一个部署在以太坊主网上的真实的 DApp，我们将一起尝试剖析它的发展。

# 开始

作为一个项目，在以太坊上制作一个分散的应用程序与制作一个经典的、集中的应用程序并没有什么不同，除了这样一个事实，即应该更加小心地规划和实现支持 DApp 的智能契约。

所以我们首先需要想出的，当然是这个想法。

# 我们将创造什么

在这一点上，每个人都有不同的方式来提出一个项目的想法。对我来说，一个我一直觉得有趣并且一直留在我脑海深处的项目是[The Million Dollar home page](https://en.wikipedia.org/wiki/The_Million_Dollar_Homepage)，这是一个 2005 年的网站，网站所有者亚历克斯·图(Alex Tew)在他的网站上以 1 美元的价格出售 1000 x 1000 像素画布上的每一个像素。

所以我的想法是，为什么不试着在以太坊上重现呢？它应该是有趣的，足够小，可以做一个教程。我们的 DApp 可以出售每个像素，而不是整个以太，这是不现实的，但让我们说 1/1000 之一。

# 开始开发过程

对于像这样小的项目来说，写下需要实现的里程碑就足够开始了，任何更详细的东西都需要更多的文档以及整个设计和建模过程。

这个 DApp 的想法是以 10 x 10 的包裹出售像素，因为单个像素太小，不容易被看到。跟踪这些包裹可以通过不可替换的令牌来实现，通常称为 ERC-721 令牌，因为每个包裹都是唯一的。显然，我们可以用一个令牌来跟踪每个像素，但是由于智能合约的性能限制，我们必须尽可能地进行优化。

在我们 DApp 的每个令牌所有者应该有可能修改像素颜色，添加描述或链接到他们的包裹，并可以转售他们的包裹。

# 用 MVP 的方式去做

为了不浪费开发时间来制作完美的产品，并尽早检查我们的假设，我们将首先制作最重要的功能，即允许用户获取像素包，并修改它们的颜色和描述。

有些人只是建立了一个纯文本的登录页面，看看它吸引了多少用户，但我们不要那么懒，实际上创建一个功能原型。

## 智能合同

考虑到您的核心功能(对于一些人来说，只是生成一堆令牌并出售它们)，您应该以一种能够以实用的方式增强或升级它们的方式来设计您的智能合同。没有行业标准或实现这一点的最佳方法，但一点研究将返回一些由其他项目实现的潜在解决方案。您可以选择一个并根据您的需要进行调整，或者提出一个更适合您的项目的解决方案。

在这个项目中，我更喜欢在智能合约中直接实现所有功能。由于我已经从另一个项目中获得了 ERC-721 令牌的基础代码，我只是对它进行了一些必要的修改，并添加了所有者修改令牌数据的能力，以及出售令牌的可能性。

我不认为以后会有任何需要更新智能合约的需求，例如，如果有人想添加租赁包裹等功能，他们可以使用另一个智能合约来实现。

此外，我没有在智能合约中添加任何暂停功能，也没有在出错时更改智能合约的机制，因为我这个项目的第二个目标是向区块链的新手和通过这个项目发现它的人展示在区块链上开发与经典集中式应用程序的区别。

这是一个明智的选择，有一个安全计划，如果狗屎击中球迷，但我想在这个项目上冒这个风险，剥夺自己对部署智能合同的任何权力。

编写一个好的测试套件也很重要，因为你不能冒险在智能合约中遵循“编写代码，然后在生产过程中等待错误”的方法。您需要尽可能地确保您的代码只做它应该做的事情，而不是更多。

## Web front

虽然我完整地编写了智能合同，因为它足够短，我不想浪费更多的时间来寻找升级它的最佳方式，但在 web 前端，它绝对有可能走上 MVP 之路。

我实现的功能是:显示像素网格，允许用户获取地块，并允许他们修改数据。有人可能会说，最后的功能跨越了制作 MVP 的第一个迭代，但是，让我们不要成为懒惰的蠢驴。

当然，其他功能存在于智能合约中，可以随时添加到前端，但我们希望首先确认我们的假设，并确保有人想使用我们的产品。

# 部署 DApp

现在，我们的 MVP 已经开发好了，我们需要部署它。

## 智能合同

为了部署智能合同，我们需要天然气乙醚，要获得乙醚，您可以在比特币基地或 Cex.io 等平台上购买，但可能需要几天或几周时间，这取决于您的订单通过的平台。

![](img/27ce9399de386c1975ac042acf8fc2dc.png)

Cryptocurrencies transaction, circa 2018

另一个解决办法是从附近的卖家那里购买乙醚，通过在类似 LocalEthereum 或一些脸书集团的平台上找到他们。是啊，这看起来真的像买毒品，而且它肯定不会帮助加密货币的黑幕形象。

在你拿到以太网之后，部署智能合约最简单的解决方案是使用 Remix 和 MetaMask，但我更喜欢使用 light geth node 和 truffle。

## 前端

对于前端，我使用 Github 网站，它是免费的，并使代码源代码公开，这就是我们想要的。

# 营销

嗯，正如我在上面说过的，DApp 就像任何其他软件一样，同样的规则也适用于它，创造一些东西是很棒的，但如果没有人知道它或尝试它，它就没有用。

现在，这一点我帮不了你，因为我完全忘记了把这个词用于一个项目，我不能把防晒霜卖给一个晒伤的人。所以你需要依靠一些公关魔术师来吸引用户尝试你的 DApp。

# 代码

[的源代码](https://github.com/1000ethhomepage)可以在 Github 上获得。

智能合约在这里:

[](https://github.com/1000ethhomepage/1000ethhomepage-contracts) [## 1000 个主页/1000 个合同

### 1000 eth home page-contracts-1000 eth home page 的智能合约，以太坊上 DApp 的 MVP。

github.com](https://github.com/1000ethhomepage/1000ethhomepage-contracts) 

当网络前端的回购在这里时:

[](https://github.com/1000ethhomepage/1000ethhomepage.github.io) [## 1000 eth home page/1000 eth home page . github . io

### 1000ethhomepage.github.io -以太坊上一个 DApp 的 MVP，1000ethhomepage 的网页。

github.com](https://github.com/1000ethhomepage/1000ethhomepage.github.io) 

# 展望未来

显然，即使是我在前端实现的功能也是不完整的，需要更多的润色，但是因为我们正在走 MVP 的道路，所以现在没有必要增强它们。我还可以看到一些性能问题，如果获得大量包裹，可能会出现这些问题，但现在不是这种情况，因此没有必要进行早期优化，直到我们看到 DApp 在生产过程中的表现。

除了这是一个教程，我真的希望有这个网站作为一个真正的，工作，演示项目，为那些刚刚发现区块链和以太坊的可能性的人，如果 DApp 得到任何关注，我的目标之一是真正把重点放在向新来者介绍去中心化，当然，保持这个项目作为一个正在进行的教程和实地报告，DApp 是如何在区块链生存的。

所以，不要犹豫，看看 DApp 的[部署版本，也许获得一些包裹并将其链接到你的超级，开创性的 DApp，或者宣传你的 scammy ICO，或者只是留下你的印记，这将有助于在后续教程中编写任何有价值的东西。](http://1000ethhomepage.github.io)

当然，你可以在推特上找到我 [@dev_zl](https://twitter.com/dev_zl) 。