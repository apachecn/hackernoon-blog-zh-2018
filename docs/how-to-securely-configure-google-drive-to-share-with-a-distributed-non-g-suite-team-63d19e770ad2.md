# 如何安全地配置 Google Drive 与分布式非 G 套件团队共享

> 原文：<https://medium.com/hackernoon/how-to-securely-configure-google-drive-to-share-with-a-distributed-non-g-suite-team-63d19e770ad2>

为许多不同的人设置权限可能会在 Google Drive 中失控。下面是解决的方法。

随着时间的推移，我们失去了与谁共享文档的线索。我们允许此人的编辑权限和此人的查看权限。人们要求访问，但似乎从未要求不被共享。回过头来看，我们甚至不记得有哪些文档以任何方式被共享，更不用说谁具体可以访问哪些文档了。

## **复习:为什么人们使用 Google Drive 分享文档**

假设我是一个更大的团体的经理，比如一个家长教师协会，一个政治运动，或者一个区域性的宠物摇滚爱好者团体。我可能想建立一个谷歌驱动方案，让我们彼此共享文档和其他文件。但是，如果您需要为不同的人提供不同级别的组和文件访问权限，这可能会变得复杂。

想象一下:一个五年级班级的家长会全年都在组织募捐活动。五年级的家长需要访问电子表格来注册志愿者名额，或者在共享图表上做出财务承诺。其他人可能也需要访问权限，例如，一名学生的叔叔想要加入筹款活动。同时，四年级的家长教师协会不需要接触这些后勤和财务细节——至少现在不需要。当四年级学生变成五年级学生的时候，年底怎么办？新的五年级家长教师会应该接手管理家长教师会文件。毕业的父母不应该再有机会接触文件或接收邮件列表中的电子邮件，这些邮件与他们的孩子无关。很多“如果”和“但是”——事情变得复杂了。

这似乎是一个微不足道的例子，但是想想一场政治运动。允许已经离开(或被解雇)的人继续访问文件和发送群发邮件可能会带来安全后果。为设置合理、易于管理的权限而提前做些准备工作是值得的。

## **如何看待访问控制:MAC、DAC 和 RBAC**

有三种主要的访问控制方案。强制访问控制(MAC)、自主访问控制(DAC)和基于角色的访问控制(RBAC)。

MAC 基于级别的概念(例如，管理员用户、普通用户、公共用户)。用户可以访问其级别或低于其级别的所有内容。例如，普通用户可以访问授权给普通用户或公共用户的所有实体。而管理员用户可以访问所有实体。MAC 的另一个很好的例子是美国政府使用的信息分类方案:绝密、秘密、机密、公众信任、未分类。如果你有秘密许可，你可以访问秘密数据，机密数据等。，但是您不能访问绝密信息，除非是在每个实体的基础上自由授予访问权限。

DAC 基于每个实体授予权限。这是标准的 Google Drive 权限方案。例如，在 Google Drive 中，我们可以给一个人一个特定文件的读权限和另一个文件的写权限。这些文件甚至可以在同一个文件夹中。Google Drive 在 DAC 方面很棒，但是，随着时间的推移，错综复杂的 DAC 权限会变得复杂。我们可以授予访问权限，然后忘记我们所做的，即使文件的敏感性随着时间的推移而变化。

RBAC 可以帮助我们解决这个问题。使用 RBAC，所有用户都被置于一个或多个“角色”中。然后在每个实体的基础上，我们向特定的角色授予权限。这听起来像是解决我们问题的好办法。假设我们正在进行一场政治活动，我们可能希望有不同的角色来对信息进行分类:例如 1)限于内部圈子，2)限于沟通团队，3)公开可用的信息，等等。*这在 G Suite 环境中很容易设置，但是 G Suite 的 5 美元/用户/月的价格对于大型团队来说可能非常昂贵*。因此，如果我们愿意做一些跑腿的工作并遵循一个流程，我们可以通过一个分布式团队实现类似的访问控制。

这一过程的关键步骤如下:

*   设置组管理员用户
*   建立多个[谷歌群组](https://groups.google.com)
*   配置 Google Drive 文件夹结构
*   锁定几个项目

## 设置组管理员用户

第一步是创建一个群组管理员 gmail 帐户。你可以使用你已经建立的电子邮件帐户，但我更喜欢在我的生活中有分段。它让事情变得更简单，你可以随时让自己成为这个团体的“管理者”。

## 建立一个谷歌小组

创建了您的 gmail 管理员帐户后，*，您应该为您的每个不同角色创建一个新的谷歌群组*。

只需转到[https://groups.google.com/](https://groups.google.com/)并点击“创建群组”。填写信息。我建议为每个组使用一个通用的命名约定，并将组类型设置为“电子邮件列表”。**配置初始的“基本权限”。以后又少了一件需要清理的事情。确保“群的所有成员”都可以“查看主题”。取消群成员发帖的权限，或非群成员请求访问群的权限。**

![](img/b3010e7f1b5bca67fa4fb5f6fa775788.png)

Creating group and setting basic permissions

创建群组后，您可以通过邀请或“直接添加”来添加新用户。添加的用户将收到一封带有邀请的电子邮件，或者收到他们已被添加到群组的通知。

![](img/71fcc92b8d2913cf1ff9a83d63a11239.png)

Invitation email

添加后，您将在群组控制面板的所有用户下看到他们

![](img/9416d05f8f7aba775bb3d90e5e99133d.png)

您也可以在此处从组中删除用户。

## 配置 Google Drive 文件夹结构

一旦为组织的不同“角色”创建了组，您将需要配置一个 Google Drive 文件夹结构。将您的文件夹名称与您的 Google 群组命名约定联系起来可能会有所帮助。

![](img/6f1686b4a85be1a4a3dee715d17afbd1.png)

创建文件夹后，右键单击并使用适当的 Google Group 电子邮件地址共享各自的文件夹。使用高级选项来确保“通知他人”和“阻止编辑者更改访问权限和添加新的人”复选框都被选中。

![](img/2c2a04693598c04b13b894fe60feb3c5.png)

Notice the group icon next to the Google Group email

Google Group 在收到合作邀请时会创建一个新主题。

![](img/d54c8cc8d966f7dc76161255fd248b14.png)

Users load folder through group “topics” the first time

当当前用户或新用户点击该链接时，它将出现在他们的 Google Drives 的“与我共享”部分。

![](img/fd2f11d52eabc2bb086f5172e7d61e4b.png)

A document shared with a user in a group

## 锁定几个项目

随着组的设置、用户的添加和文件夹结构的创建，还有一些最后的项目需要配置和考虑。

![](img/24755d706b0e1dd9c332542f1b05337d.png)

Configure permissions

首先，让我们设置权限。转到每个组的权限部分，从“基本权限”开始

锁定基本权限中除“查看主题”之外的所有权限。**所有群组成员都需要能够“查看主题**”。否则，他们将无法打开以前共享的链接并将它们添加到他们的共享驱动器项目中。如果您在创建组时检查了这些设置，则无需担心这一点。禁止任何人发帖，只允许被邀请的用户加入群。如果您仅计划对所有成员执行直接注册，您甚至可以禁用邀请用户。

![](img/fd2826e14adf4558ceca4a69a703b146.png)

Basic permissions

此外，使发布权限、审核权限和访问权限最具限制性。在“访问权限”下，请注意允许组中的所有成员查看主题。

在 Google Drive 中，你应该确保你的团队成员遵循数据的分类，只在适当的文件夹中共享文件，并且**不要设置每个文件的 DAC 权限。**

其他一些需要考虑的事项:

*   **当您从群组中删除用户时，他们将失去对文件夹和文件的访问权限，除非他们在另一个仍有访问权限的群组中**
*   在创建了一个新的文件夹并与 Google 群组电子邮件共享该实体后，用户必须通过点击群组“主题”部分的共享链接来首次加载它
*   要停止与整个组共享实体，只需从共享选项中删除该组。
*   如果您的团队有团队领导，您可以考虑让这些领导成为组的“经理”,并赋予他们适当的组管理能力(添加用户、删除用户等)。)
*   有些人可能担心非 gmail 用户将无法访问群组，因此无法访问 Google Drive/Docs/等。幸运的是，任何人都可以拥有谷歌账户。在进行[常规注册](https://accounts.google.com/SignUp)时，只需前往[https://accounts.google.com/SignUpWithoutGmail](https://accounts.google.com/SignUpWithoutGmail)或点击“我更喜欢使用我自己的电子邮件地址”。这是一个很棒的功能，特别是对于由各种电子邮件域的成员组成的团队。

## 最后的想法

如果你能负担得起 G 套房账户，他们是理想的选择。它们为您提供了高级安全和审计功能。他们也使得处理 RBAC 更容易。但是 G 套件贵，免费就是免费！免费带来了一些额外的工作。但是如果你愿意付出额外的努力，这将有助于你保持理智，保护你的文件。

*这是一篇出自* [*以赛亚书的*](https://medium.com/u/c9fabda04fb1?source=post_page-----63d19e770ad2--------------------------------)*[*Revis 解*](https://www.revissolutions.com/) *。如果你喜欢这篇文章，一定要鼓掌，看看他在* [*Revis Solutions 博客*](https://medium.com/revissolutions) *上的其他文章，并在 Twitter 上关注*[*@ isaiahsarju*](https://twitter.com/isaiahsarju)*[*@ Revis solution*](https://twitter.com/revissolution)**