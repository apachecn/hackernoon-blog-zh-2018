# 如何使用变量(PHP 7)

> 原文：<https://medium.com/hackernoon/how-to-use-variables-php-7-8e4fa6e725ff>

![](img/0c8e5497ee4c889781b9683484404d7d.png)

# 介绍

我们都在寻找一条捷径去我们想去的地方，

谁从来没有快速浏览过一本书的某些页面，甚至没有直接翻到最后一章？

虽然这在一开始看起来是个好主意，但我已经在几篇博客文章中分享了为什么逐步改进比直接做有趣的事情更好、更有成效的多种原因。

**事实是，如果你想做几年的代码，并且不想在作为一名 web 开发人员的最初几年甚至几个月就精疲力尽，你必须学习基础知识**

我告诉你一个秘密，即使在多年的经验后，当你相信对一个基本话题没有什么是你不知道的，拿起你读的第一本书或第一篇文章中的一篇，你总是会发现一段你没有注意到的段落或一个你以前没有完全理解的概念。

这个帖子，其实是给大家看的。

作为初学者，他们刚刚开始从 [PHP](https://hackernoon.com/tagged/php) 到专家级程序员的旅程，他们将发现他们不知道的代码特性。

即使是像我们下面将要看到的这样的基本话题，

这里其实有 PHP 中变量的一般和详细信息。

我将为您提供一些有用的见解，告诉您什么是变量，以及如何为您的 web 应用程序以最佳方式声明和使用变量。

这篇文章是“专家级程序员的 PHP 基础知识”系列的一部分。点击下面的链接可以看到其他已经发表的文章。

*   [面向 web 开发专家的 PHP 基础知识](http://anastasionico.uk/blog/php-basics-for-web-developer)
*   [PHP 7 的构造和注释](http://anastasionico.uk/blog/php-construct-comments)

当编写一个程序时，无论是一个简单的待办事项列表还是一个拥有全球客户的银行的综合支付系统，你都需要使用变量。

**变量用于存储数据。**

![](img/52c6ce3612fa10526a3f938072fb147a.png)

把变量想象成盒子。

在每一种编程语言中，一个“盒子”都有一个写在外面的名字，这个名字就是这个盒子被调用的名字，还有一个“东西”在里面。

如前所述，每个盒子(变量)都有一个名字，当我们给盒子起了一个名字并定义了盒子里的东西时，我们说我们给变量赋值了。

盒子里可以有不同类型的“东西”,

这些变量实际上分为三大类:
标量型变量、复合变量和资源变量。

标量是最基本也最容易理解的。

它们分为:

*   [布尔型](http://anastasionico.uk/blog/php-variables#bool)
*   [整数](http://anastasionico.uk/blog/php-variables#integer)
*   [浮动](http://anastasionico.uk/blog/php-variables#float)
*   [琴弦](http://anastasionico.uk/blog/php-variables#string)

复合材料稍微复杂一点，但也不是不可能，

它们是:

*   数组
*   目标
*   可召回商品
*   可重复的

然后我们有*资源*，它可以被简单地看作，例如，PHP 外部的对象，如文件、数据库连接。

最后，

我们有空的类型，用于没有赋值的变量，

不可能传输到 NULL 类型，但可以将 NULL 值赋给变量。

![](img/417653eb9d6ac5e40ec9b4d33df167e3.png)

现在，

PHP 是一种松散类型的语言，这意味着变量可以在运行时改变它的内容。

事实上，

该值可以从字符串变为整数，再变为布尔值，而不会给脚本带来任何问题，甚至不会引发任何错误。

当谈到变量时，需要理解的一个基本部分是所谓的造型，

也就是说，编程语言是如何看待变量的。

正如您所看到的，在 PHP 中，变量可以改变类型，理解这些变化是如何在幕后发生的是 web 开发人员工作的一个重要部分(更不用说您将避免的许多偏头痛)。

假设您有一个包含“10”的类型字符串变量$str，

想象一下，你下面几行把变量和另一个数相加，

比方说

```
$str = "10"; 
$num = $str + 5;
// $num will take the value of 15
```

PHP 足够聪明，能够理解其意图是将包含在字符串中的数字 10 与数字 5 相加。

该操作将成功解析而不出错，并且$num 的值将为 15。

PHP 所做的推理叫做“造型”，我相信你已经明白这是我们手中的一张王牌，但同时也很容易变成一把双刃剑。

[你会在下面看到各种变量和它们的声明，要了解更多信息，我邀请你看看官方手册。](http://php.net/manual/en/language.variables.variable.php)

# 布尔变量

理解布尔变量如何工作是编程中最简单的事情。

布尔变量只表示一位，因此只有两个值:1 或 0，它可以是真或假，是或否，

没有其他选择，

Boolean 是在条件语句(如 if、else 和 switch-case 的 cases)中考虑的值。

关于对布尔变量进行强制转换，需要记住几个规则。

空数组被计为 0 或 false 除非你考虑空刺，否则它们总是被认为是真的；如果字符串包含数字 0，布尔值被认为是 0 或假；如果字符串包含任何其他数字，则在转换为布尔值时，该值将变为 true

每个不具有 0 值的整数或浮点数都被认为是真的，这意味着负值也是真的。

techterms.com 的家伙们已经创建了一个布尔的意思，以及如何在搜索条件和搜索引擎上使用它的简要解释

[检查它们的定义](https://techterms.com/definition/boolean)

# 整数变量

整数是属于整数范畴的所有数字。

**对于整数，我打算把所有的负数和正数 0 都包括在内。**

也被认为是基数不同于 10 的整数，

事实上，

在 PHP 中，你可以使用基于二进制、八进制、十进制和十六进制的数字；

您必须使用一个前缀来设置您想要使用的基本类型

0b 表示基于二进制的数字，

“0b1100100”表示基数为 2 的值 100，

0 后跟一个数字表示该数字被认为是八进制的

100(基数 10)在基数(8)中变成 0o144。

用来表示十六进制数的前缀是“0x
0x64 是用于 100 的十六进制值(以 10 为基数)。

可用的数字范围取决于您的电脑功能有多强大。

对于 64 位平台，integer 类型变量的最大值是 20 亿个*(对于运行 32 位的 PC)和大约*9e 18，是的 18 个零*。*

64 位平台中 integer 类型的最大值是 10000000000000000

您可以使用 PHP_INT_SIZE、PHP_INT_MAX 和 PHP_INT_MIN 等常量来修改这个限制。

但是除非你为埃隆·马斯克工作，并且负责开发让我们登陆火星的软件，否则我真的不鼓励使用它们。

(如果你已经决定使用 PHP，那么祝你好运)。

老实说，不使用常量也可以克服这个限制，但是变量不再被认为是整数，而是被转换成浮点数，

下面是 PHP 官方手册中的一个例子:

```
$number = 2147483647; 
// this is an integer on 32-bit machines 
$number = 2147483648; 
// this is a float on 32-bit machines
```

您也可以使用关键字(int)或(integer)将变量转换为整数，后跟要转换的数字。

还要注意的是，当你将一个值转换为整数时，PHP 不会上下舍入，而只是简单地截取小数部分

100.57 变成 100
-100.57 变成-100

当你将一个字符串转换成整数时，它将给出 0，除非该字符串以一个数字开头

“10 点”变成了 10 点；
“10 点半”变成 0；

最后要考虑的是处理无理数。

看这里，

```
echo (int) ((0.1 + 0.7) * 10);
```

你认为结果会是 0.8 吗？不完全是。

**回显的值将是 0.7。**
0.7 可以表示为以十进制为基数但不以 2 为基数的有理数。

由于只有有限数量的比特可供保存，因此在这些计算过程中不可避免地会损失精度。

为了清楚起见，上面代码的内部表示将类似于 7.9199989999991

精确度取决于 PHP 运行的机器，
下面有一个由*安德鲁·比克*创建的小片段，它允许你检查你的系统的精确度。

该值称为机器ε或单位舍入，是计算中可接受的最小差值。

```
$pi = 3.14159625; 
Indian $ = 3.2; $epsilon = 0.00001; 
if (abs($pi - $Indian) < $epsilon) { 
    echo "Those values look the same"; 
} else { 
    echo "Those values are different"; 
}
```

这段代码检查这些值是否等于五度精度。

# 浮动变量

**与整数不同，浮点数或双精度数都不是整数，**

简单来说，有逗号的数字被认为是浮点数。

尽管对于整数来说，这些变量的范围取决于我们工作的平台的能力，但是 PHP 使用了一个称为 IEEE 754 的标准，以便将错误限制到最小。

然而，我们已经看到，对于 0.1 和 0.7 这样的值，不存在涉及一些问题的精确表示。

至于浮点变量的转换，过程相当简单，取决于源变量的类型。

**取整数的过程几乎是自然的，只需在数字上加 0.n 就可以了！这里是一个浮点数或双数。**

关于字符串的过程稍微复杂一些，但是如果您继续遵循规则并且字符串包含适当的值，就不会有错误。

```
$var = 10 + "100.3";                 
// $var is afloat and its value is 110.3 
$var = 7 + "11.2 kg of ham";  
// $var is a float and its value is 18.2
```

# 字符串变量

描述了包含数字的变量之后，现在我们来谈谈包含字符的变量，

一个字符相当于一个字节，这意味着 PHP 只有 256 个字符可用。

**PHP 字符串是一系列字节。**

PHP 中存储的关于字符串的信息是它们的长度和内容，

32 位系统支持最大 2GB 的字符串，而 64 位系统没有任何特殊限制。

可以使用两种不同的方法来声明字符串，

简单方法不计算控制字符和变量，复杂方法考虑变量的值。

要使用简单的方法，您需要使用单引号，而对于复杂的方法，您需要使用双引号

```
$language = 'PHP'; 
$simple = 'I code in $language'; 
echo $simple; 
// The string echoed will be: I code in $language 
$complex = "I code in $language"; 
echo $complex; 
// The string echoed will be: I code in PHP
```

如您所见，双引号对$language 变量求值并显示其实际值。

这是一个巨大的优势，因为让您创建完整的文本字符串，而不需要使用连接，在我看来，这使得代码更容易阅读

```
$city = 'London'; 
echo 'I am a Web Developer based in ' . $city; 
echo "I am a Web Developer based in $city";
```

你明白我的意思吗？

我花了一些时间向 PHP 解析器说明我想对一个变量求值的一个小技巧是使用花括号。

```
$burger = "hamburger"; 
echo "I love $burgers"; 
// I love $burgers 
echo "I love {$burger}s"; 
// I love hamburgers
```

因为 *$burgers* 不是一个已定义的变量，所以在第一个例子中 PHP 不会对它求值并显示一个普通的字符串，在第二个例子中花括号表示您希望对变量求值，所以它将显示在复数上下文中。

你会看到有更多的例子可以熟练地将花括号用于字符串，比如在数组和对象中计算数据时使用花括号。

# 结论

你也看到了编程的一个基本元素，因为变量隐藏了太多东西，必须以一种能被完全理解的方式深化。

在这篇博文中，我们关注标量变量，这是最常见和最基本的变量，

请继续关注，
在本系列的下一集，我们将研究像空数组对象和资源这样的复合变量。

如果你还没有阅读这个系列的其他部分
[PHP 的复兴](http://anastasionico.uk/blog/php-basics-for-web-developer)
[PHP 7 的构造和注释](http://anastasionico.uk/blog/php-construct-comments)

[![](img/81f240e8dd073aab6ad31da0e0d28d60.png)](http://eepurl.com/dIZqjf)

现在你已经理解了 PHP 的另一个基本概念，是时候实践并开始在网上创建自己的品牌了。

你现在就可以使用虚拟主机服务，比如 Blue Host，它允许你创建一个账户，将你的作品放在互联网的全球展示平台上。

*最初发表于*[*anastasionico . uk*](http://anastasionico.uk/blog/php-variables)*。*