# Android åº”ç”¨æ¶æ„:ä½¿ç”¨ Kotlin çš„ MVP ç¤ºä¾‹

> åŸæ–‡ï¼š<https://medium.com/hackernoon/https-medium-com-rohitss-android-app-architectures-mvp-with-kotlin-f255b236010a>

## MVP æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå®ƒçš„ç®€å•ä¾‹å­å±•ç¤ºäº†åœ¨ Kotlin ä¸­çš„å®ç°

> **TLï¼›å®é™…ä¸Šï¼Œç”¨å‡ è¡Œæ–‡å­—æ¥æ¦‚æ‹¬ MVP æ¨¡å¼æ˜¯ä¸å¯è¡Œçš„ã€‚ä½†æ˜¯æˆ‘å¯ä»¥å‘ä½ ä¿è¯ï¼Œä¸‹é¢è¿™ç¯‡æ–‡ç« çš„æ¯ä¸€è¡Œéƒ½å€¼å¾—ä½ èŠ±æ—¶é—´å»è¯»ã€‚æˆ‘æ•¢æ‰“èµŒï¼Œå®ƒä¼šç»™ä½ è¶³å¤Ÿçš„ç†è§£ï¼Œä½ å¯ä»¥è‡ªå·±å®ç°å®ƒã€‚å°½ç®¡å¦‚æ­¤ï¼Œå¦‚æœä½ èµ¶æ—¶é—´ï¼Œæˆ‘è¿˜æ˜¯å»ºè®®ä½ è·³åˆ°â€œ**MVP æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿ**è°“èŠ‚ã€‚[****çš„æºä»£ç ç¤ºä¾‹****](https://github.com/RohitSurwase/Android-Architectures-Kotlin/tree/master/News-Kotlin-MVP) ****ã€‚******

**æ¯å½“ä»»ä½• Android å¼€å‘äººå‘˜å¼€å§‹è€ƒè™‘æé«˜æŠ€æœ¯æŠ€èƒ½æ—¶ï¼Œä»–æˆ–å¥¹é¦–å…ˆæƒ³åˆ°çš„æ˜¯åº”ç”¨ç¨‹åºçš„æ¶æ„ã€‚æ›´ä¸ç”¨è¯´ä»–ä»¬å·²ç»çŸ¥é“åœ¨æ ‡å‡†ä»£ç å¢é•¿åç»´æŠ¤å®ƒçš„ç—›è‹¦ã€‚**

**æˆ‘ä¹Ÿè¿™æ ·åšäº†ï¼Œå­¦ä¹ äº†æ¶æ„ï¼Œåæ¥é€‰æ‹©ä¸“æ³¨äº MVPã€‚åœ¨æµ‹è¯•é¡¹ç›®å’Œåæ¥çš„ç”Ÿäº§åº”ç”¨ç¨‹åºä¸­å°è¯•ä¹‹åï¼Œæˆ‘å¼€å§‹å­¦ä¹  Kotlin è¯­è¨€ï¼Œç°åœ¨æ˜¯æœ€æ–°çš„æ¶æ„ç»„ä»¶ã€‚ä½†åœ¨è¿™ä¸ªè½¬å˜è¿‡ç¨‹ä¸­ï¼Œæˆ‘æ„è¯†åˆ°ï¼Œå¾ˆå°‘åˆ°æ²¡æœ‰ï¼›å±•ç¤ºåœ¨ Kotlin ä¸­å®ç°è¿™äº›æ¦‚å¿µçš„ä¾‹å­ã€‚æ‰€ä»¥ï¼Œæˆ‘åœ¨è¿™é‡Œç”¨è¿™äº›ä¾‹å­å±•ç¤ºäº† Kotlin ä¸­ä¸€äº›æ¶æ„æ¨¡å¼çš„å®ç°ã€‚æˆ‘å‘ä½ ä¿è¯ï¼Œè¿™äº›ä¾‹å­ä¼šéå¸¸ç®€å•ï¼Œä½ å¯ä»¥è½»æ¾æŒæ¡è¿™äº›æ¦‚å¿µçš„æ ¸å¿ƒã€‚**

**åœ¨è¿™ä¸ªç³»åˆ—ä¸­ï¼Œæˆ‘å°†é’ˆå¯¹ä¸¤ä¸ªä¸»è¦çš„æ¶æ„æ¨¡å¼:æ¨¡å‹-è§†å›¾-è¡¨ç¤ºå™¨& Android æ¶æ„ç»„ä»¶ã€‚**

> **[1ã€‚Android åº”ç”¨æ¶æ„:ä¸ç§‘ç‰¹æ—çš„ MVP ç¤ºä¾‹(this)](https://hackernoon.com/https-medium-com-rohitss-android-app-architectures-mvp-with-kotlin-f255b236010a)
> 2Ìµ.ÌµÌµaÌµnÌµdÌµrÌµoÌµiÌµdÌµÌµaÌµrÌµcÌµhÌµiÌµtÌµeÌµcÌµtÌµuÌµrÌµeÌµÌµcÌµoÌµmÌµpÌµoÌµnÌµeÌµnÌµtÌµsÌµÌµeÌµxÌµaÌµmÌµpÌµlÌµeÌµÌµwÌµiÌµtÌµhÌµÌµkÌµoÌµtÌµlÌµiÌµnÌµ
> 3Ìµ.ÌµÌµaÌµnÌµdÌµrÌµoÌµiÌµdÌµÌµaÌµrÌµcÌµhÌµiÌµtÌµeÌµcÌµtÌµuÌµrÌµeÌµÌµcÌµoÌµmÌµpÌµoÌµnÌµeÌµnÌµtÌµsÌµ:ÌµÌµaÌµdÌµvÌµaÌµnÌµcÌµeÌµmÌµeÌµnÌµtÌµsÌµ
> [**4ã€‚Android æœ€ä½³æ¶æ„:mvi+livedata+viewmodel =â¤ï¸**](https://proandroiddev.com/best-architecture-for-android-mvi-livedata-viewmodel-71a3a5ac7ee3)**

****æ¨¡å‹-è§†å›¾-æ¼”ç¤ºè€…** ( **MVP** ) ä¸**ç§‘ç‰¹æ—****

**åœ¨è®¾è®¡ä»»ä½•è½¯ä»¶çš„æ¶æ„æ—¶ï¼Œè¦è®°ä½çš„åŸºæœ¬åŸåˆ™æ˜¯å…³æ³¨ç‚¹çš„åˆ†ç¦»ã€‚MVP æ˜¯å°†è¡¨ç¤ºå±‚ä»ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥çš„æœ€ä½³æ¨¡å¼ä¹‹ä¸€ã€‚æ­¤å¤–ï¼ŒMVP è¿˜å¯ä»¥å¸®åŠ©æ‚¨è½»æ¾å®ç°æ›´é«˜çº§ã€æ›´å®Œæ•´çš„æ¶æ„æ¨¡å¼ï¼Œå¦‚ Clean Architectureã€‚**

**è¿™é‡Œæˆ‘ä¸ä¼šå›ç­”ä»€ä¹ˆå’Œä¸ºä»€ä¹ˆçš„é—®é¢˜ï¼Œè€Œæ˜¯**å¦‚ä½•**çš„é—®é¢˜ã€‚
å¦‚ä½•ä½¿ç”¨ MVPï¼Ÿå®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Ÿä»¥åŠå¦‚ä½•ç”¨ Kotlin å®ç°ï¼Ÿ
æ‰€ä»¥åœ¨ç¬¬ä¸€ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹åˆ°ä½¿ç”¨ Kotlin å®ç° MVPã€‚**

**![](img/57703e9bf2b0c30face758443eae4cd3.png)**

**V è§†å›¾**

****Who** :ç»„åˆæ´»åŠ¨/ç‰‡æ®µ/è§†å›¾åŠå…¶å¥‘çº¦å³æ¥å£ã€‚
**ç›®çš„**:åšæ‰€æœ‰ UI ç›¸å…³çš„ä¸œè¥¿å’Œæ‰€æœ‰éœ€è¦ Android ä¸Šä¸‹æ–‡çš„ä¸œè¥¿ã€‚
**Job** :æ¯å½“éœ€è¦åšæŸä¸ªåŠ¨ä½œçš„æ—¶å€™ï¼Œå°±è¦ä½¿ç”¨å¯¹è±¡è§¦å‘ Presenter å„è‡ªçš„å‡½æ•°ã€‚å®ƒä¸åº”è¯¥æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚**

**å°½ç®¡ XML å¸ƒå±€æ˜¯è§†å›¾çš„ä¸€éƒ¨åˆ†ï¼Œä½†å®ƒå¹¶ä¸å•ç‹¬è¢«ç§°ä¸ºè§†å›¾ã€‚æ‰€æœ‰å¿…è¦çš„åŠŸèƒ½éƒ½é€šè¿‡å¥‘çº¦/æ¥å£æ·»åŠ åˆ°æˆ‘ä»¬çš„æ´»åŠ¨/ç‰‡æ®µ/è§†å›¾ä¸­ã€‚é€‚é…å™¨ä¹Ÿæ˜¯è§†å›¾çš„ä¸€éƒ¨åˆ†ã€‚æ´»åŠ¨/ç‰‡æ®µ/è§†å›¾ç›´æ¥åˆå§‹åŒ–åŒ…æ‹¬æ¨¡å‹åœ¨å†…çš„å‘ˆç°è€…ï¼Œè€Œå‘ˆç°è€…åœ¨å…¶æ„é€ å‡½æ•°ä¸­é—´æ¥åˆå§‹åŒ–æ¨¡å‹ã€‚**

**ä»»åŠ¡ç¤ºä¾‹:
*-æ˜¾ç¤º/éšè—è¿›åº¦æ¡ã€‚
-è¯·æ±‚æ˜¾ç¤ºæ•°æ®ï¼Œç¨åæ˜¾ç¤ºæ”¶åˆ°çš„æ•°æ®/é”™è¯¯ã€‚
-è·å–* LayoutInflater *ï¼Œèµ„æºï¼Œå®‰å“ç³»ç»ŸæœåŠ¡ã€‚***

**[Key points of **View** layer in MVP](https://gist.github.com/RohitSurwase/36c8c392c10d157ecbb223d89105b9eb)**

**æ„¤æ€’è€…**

**è°ï¼Ÿè¿™æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œä¸åº”è¯¥æœ‰ Android ä¸Šä¸‹æ–‡ã€‚
**ç›®çš„**:å……å½“æ¶æ„è§†å›¾å’Œæ¨¡å‹ä¸¤ä¸ªä¸»è¦å±‚ä¹‹é—´çš„ä¸­ä»‹ã€‚
**ä½œä¸š**:æ ¹æ®è§†å›¾çš„è¯·æ±‚è§¦å‘æ¨¡å‹å„è‡ªçš„åŠŸèƒ½ã€‚**

**æ¼”ç¤ºè€…æ‹¥æœ‰è§†å›¾å’Œæ¨¡å‹çš„å¯¹è±¡ã€‚å®ƒä¸åº”è¯¥æœ‰ä»»ä½•ä¸šåŠ¡é€»è¾‘ã€‚æ­¤å¤–ï¼Œå®ƒä¸åº”è¯¥ç›´æ¥è®¿é—®ä»»ä½• UI å…ƒç´ ã€‚**

**[Key points of **Presenter** layer in MVP](https://gist.github.com/RohitSurwase/6f33cdc51c6ab6a9f622b6ace0e9e4ba)**

**M å¥¥å¾·å°”**

****è°**:æ•°æ®åº“ã€æ¨¡å‹(schema)ã€API è°ƒç”¨å’Œæ‰€æœ‰å…¶ä»–ä¸šåŠ¡é€»è¾‘éƒ½æ˜¯è¿™ä¸€å±‚çš„ä¸€éƒ¨åˆ†ã€‚è¿™æ˜¯æ‰€æœ‰ä¸šåŠ¡é€»è¾‘çš„ä½ç½®ã€‚
**ç›®çš„**:åˆ†ç¦»ä¸šåŠ¡é€»è¾‘ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åœ¨æ²¡æœ‰è§†å›¾çš„æƒ…å†µä¸‹å•ç‹¬æµ‹è¯•å®ƒã€‚è¿™ä¹Ÿæœ‰åŠ©äºæˆ‘ä»¬è·¨å¹³å°é‡ç”¨ä»£ç åº“ã€‚
**ä½œä¸š**:è·å–/è®¡ç®—æ•°æ®æˆ–è¯¯å·®ï¼Œæ˜¾ç¤ºåœ¨ç•Œé¢ä¸Šã€‚**

**è¿™æ˜¯æˆ‘ä»¬åº”è¯¥è¿›è¡Œ APIã€æ•°æ®åº“è°ƒç”¨å’Œå…¶ä»–è®¡ç®—çš„åœ°æ–¹ã€‚
ä½†æ˜¯ä¸ºäº†è®©å®ƒæ›´åšå›ºï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨¡å‹å†…éƒ¨å†å¢åŠ ä¸€å±‚:**

****å‚¨å­˜åº“** :
æ ¹æ®é¢„å®šä¹‰çš„æ¡ä»¶å†³å®šè¦æ˜¾ç¤ºçš„æ•°æ®çš„æ¥æºã€‚è¿™æ„å‘³ç€å®ƒå°†æ ¹æ®ç½‘ç»œå¯ç”¨æ€§ç­‰æ¡ä»¶ä»ç¦»çº¿æˆ–åœ¨çº¿æ¥æºè·å–æ•°æ®ã€‚
(ä¸ºäº†ç®€å•èµ·è§ï¼Œé™„å¸¦çš„ app æ²¡æœ‰å­˜å‚¨åº“å±‚ã€‚)**

****è¿™æ ·ï¼Œæ— è®ºç½‘ç»œæ¡ä»¶å¦‚ä½•ï¼Œæˆ‘ä»¬çš„æ¨¡å‹éƒ½ä¼šæ˜¾ç¤ºæ•°æ®ã€‚****

**[Key points of **Model** layer in MVP](https://gist.github.com/RohitSurwase/031e14c0faa48758b79746c222a35cfe)**

> **æœ€è¿‘ï¼Œæˆ‘å‘è¡¨äº†ä¸€ç¯‡å…³äºåç¨‹çš„æ–‡ç« ï¼Œè¯·çœ‹-**

**[](https://android.jlelse.eu/coroutines-basic-terminologies-and-usage-b4242bd1b2a4) [## Android Kotlin ååŒç¨‹åº:åŸºæœ¬æœ¯è¯­å’Œç”¨æ³•

### ååŒç¨‹åºä¸­ä½¿ç”¨çš„å¸¸ç”¨æœ¯è¯­ã€‚æå‰äº†è§£è¿™äº›æœ¯è¯­å°†ä¼šç®€åŒ–æ‚¨çš„å­¦ä¹ è¿‡ç¨‹ã€‚

android.jlelse.eu](https://android.jlelse.eu/coroutines-basic-terminologies-and-usage-b4242bd1b2a4) 

## MVP æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Ÿ

ç®€è€Œè¨€ä¹‹:è§†å›¾è°ƒç”¨æ¼”ç¤ºè€…çš„å‡½æ•°ï¼Œæ¼”ç¤ºè€…å°†å…¶ä¼ é€’ç»™æ¨¡å‹ï¼Œæ¨¡å‹è¯·æ±‚æ˜¾ç¤ºæ•°æ®ã€‚æ¨¡å‹è·å¾—æ•°æ®åï¼Œå°†æ•°æ®ä¼ é€’ç»™æ¼”ç¤ºè€…ï¼Œæ¼”ç¤ºè€…å°†æ•°æ®ä¼ é€’ç»™è§†å›¾ï¼Œè§†å›¾åœ¨å±å¹•ä¸Šæ˜¾ç¤ºæ•°æ®ã€‚

**ç›´æ¥**æ²Ÿé€šçš„:
è§†å›¾== >æ¼”ç¤ºè€…== >æ¨¡å‹

**é—´æ¥**ä½¿ç”¨å¥‘çº¦/æ¥å£çš„é€šä¿¡:
Model =/=>Presenter =/=>View

ä¸‹é¢æ˜¯ Android ä¸­ MVP çš„ç®€å•å·¥ä½œæµç¨‹å›¾ã€‚æˆ‘è¯·æ±‚å¤§å®¶èŠ±å‡ åˆ†é’Ÿæ—¶é—´çœ‹ä¸‹é¢çš„æ’å›¾ï¼Œè¿™ä¼šå¯¹ä½ ç†è§£ Android ä¸­çš„ MVP æœ‰å¾ˆå¤§å¸®åŠ©ã€‚
æ³¨:æ¨¡å‹è¢«ç§°ä¸º**äº¤äº’å™¨**ã€‚

![](img/036ad32113565a67a3418e82498a39d5.png)

æˆ‘å¸Œæœ›æˆ‘è¯´å¾—å¤Ÿæ¸…æ¥šï¼Œèƒ½è®©å¤§å®¶ç†è§£ã€‚
è¿™é‡Œæ˜¯ **ç¤ºä¾‹** çš„å®Œæ•´ [**æºä»£ç ã€‚**](https://github.com/RohitSurwase/Android-Architectures-Kotlin/tree/master/News-Kotlin-MVP)

[](https://github.com/RohitSurwase/Android-Architectures-Kotlin) [## RohitSurwase/Android-æ¶æ„-Kotlin

### Android-Architectures-Kotlin -å±•ç¤ºä¸€äº›æµè¡Œçš„åº”ç”¨ç¨‹åºæ¶æ„æ¨¡å¼å®ç°çš„ç®€å•ä¾‹å­â€¦

github.com](https://github.com/RohitSurwase/Android-Architectures-Kotlin) 

æ„Ÿè°¢é˜…è¯»ï¼
**Rohit Surwase**

å¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œé¼“æŒé¼“æŒğŸ‘ğŸ‘ğŸ‘å°½å¯èƒ½å¤šçš„æ¬¡æ•°ã€‚

**éå¸¸å–œæ¬¢ï¼**ä¸­ç­‰å…è®¸é«˜è¾¾ **50 æ‹**ã€‚
ä¹Ÿåœ¨ [**Twitter**](https://twitter.com/Rohit5rss) ä¸Šå‘ä¸€æ¡**çš„æ¨æ–‡ã€‚**

è®©æˆ‘ä»¬æˆä¸º[***LinkedIn***](http://in.linkedin.com/in/rohitss5)[***Medium***](/@rohitss)*[**Twitter**](https://twitter.com/Rohit5rss)**å’Œ[***GitHub***](http://github.com/RohitSurwase/)***ã€‚******

## ***å¦å¤–ï¼Œçœ‹çœ‹æˆ‘å‘è¡¨çš„å…¶ä»–å‡ ä¸ªæ•…äº‹:***

***[](https://psiloveyou.xyz/introverts-decoded-why-am-i-still-single-a046d1596d1e) [## å†…å‘è€…è§£ç :æ‹çˆ±ä¸­æœªè¯´å‡ºå£çš„å›°å¢ƒ

### ä»–ä»¬ä»ä¸å‘Šè¯‰ä»»ä½•äººçš„äº‹æƒ…ã€‚

psiloveyou.xyz](https://psiloveyou.xyz/introverts-decoded-why-am-i-still-single-a046d1596d1e) [](https://psiloveyou.xyz/introverts-decoded-by-rohit-surwase-edc36c8fbbe5) [## å†…å‘è€…è§£ç 

### å½“å†…å‘çš„äººå¯¹è‡ªå·±è„¸çº¢çš„æ—¶å€™ï¼Œæ˜¯æ—¶å€™æ›´å¥½åœ°ç†è§£ä»–ä»¬äº†ã€‚

psiloveyou.xyz](https://psiloveyou.xyz/introverts-decoded-by-rohit-surwase-edc36c8fbbe5)*****