# ä¸€ã€â¤Â·æ‹‰å§†è¾¾â€”â€”å¸¦æœ‰ç‰¹æ®Šå ä½ç¬¦çš„éƒ¨åˆ†åº”ç”¨

> åŸæ–‡ï¼š<https://medium.com/hackernoon/i-ramda-partial-application-with-curry-e95100f7c7b1>

![](img/87a401c095c74e440ca342654da87d4d.png)

[puzzle-last-part-joining-together](https://pixabay.com/en/puzzle-last-part-joining-together-3223941/) by [Alexas_Fotos](https://pixabay.com/en/users/Alexas_Fotos-686414/)

# â¤Â·æ‹‰å§†è¾¾ç®€ä»‹

I â¤æ‹‰å§†è¾¾ç³»åˆ—å°†ç•¥æœ‰ä¸åŒï¼Œå…¶ä»–ä½ å¯èƒ½å·²ç»çœ‹åˆ°äº†ã€‚æœ¬ç³»åˆ—æ²¡æœ‰ä½¿ç”¨å…¸å‹çš„`foo`ã€`bar`ã€`baz`ç¤ºä¾‹ï¼Œä¹Ÿæ²¡æœ‰ä½¿ç”¨æ¼”ç¤ºç‹¬ç«‹å‡½æ•°çš„æ–‡ç« ï¼Œè€Œæ˜¯æ—¨åœ¨å±•ç¤º Ramda.js çš„å®é™…åº”ç”¨

# å¸¦æœ‰ç‰¹æ®Šå ä½ç¬¦çš„éƒ¨åˆ†åº”ç”¨ç¨‹åº

å¦‚æœä½ ç”¨è¿‡`bind`ï¼Œä½ å¯èƒ½å·²ç»ç†Ÿæ‚‰äº†å±€éƒ¨åº”ç”¨çš„æ¦‚å¿µã€‚

![](img/dea9bacdb6f5bfa6a4e28c60ffffc124.png)

ä½¿ç”¨`bind`ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†å€¼`2`éƒ¨åˆ†åº”ç”¨äºå‡½æ•°`multiply`ä¸­çš„å‚æ•°`a`ï¼Œä»¥åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„å‡½æ•°`double`ã€‚

ä¸Šé¢çš„è§£å†³æ–¹æ¡ˆ(ä½¿ç”¨`bind`)å·¥ä½œå¾—å¾ˆå¥½ï¼Œå³ä½¿æˆ‘ä»¬å¿…é¡»è°ƒç”¨`bind`å¹¶ä¼ å…¥ä¸Šä¸‹æ–‡(åœ¨æœ¬ä¾‹ä¸­æ˜¯`null`)ã€‚

# å’–å–±çš„å±€éƒ¨åº”ç”¨

å¤„ç†éƒ¨åˆ†åº”ç”¨ç¨‹åºçš„ Ramda æ–¹æ³•æ˜¯è°ƒç”¨`multiply`å‡½æ•°ã€‚

![](img/8c79bdcd679631fda37b6494f4342df2.png)

å¥½çš„ï¼Œç°åœ¨ä»£ç æ˜¯â€¦ *ä¸åŒçš„*ï¼Œä½†æ˜¯ä½ ä¸å…´å¥‹ï¼Œæˆ‘æ˜ç™½ã€‚ä½†æ˜¯åšæŒä½ï¼Œå› ä¸ºğŸ§™é­”æœ¯å³å°†å¼€å§‹ã€‚

# bind ä¸è¶³ä¹‹å¤„

è®©æˆ‘ä»¬è€ƒè™‘è¿™ä¸ªä¾‹å­ï¼Œçœ‹çœ‹ç¬¬ 9 è¡Œå’Œç¬¬ 10 è¡Œâ€¦

![](img/a628be93db227969f9b12aee28d66ce3.png)

æ‰€æœ‰å¯¹`readFile`çš„è°ƒç”¨éƒ½å°†æ˜¯`utf8`ï¼Œç°åœ¨æˆ‘æƒ³åˆ°äº†ï¼Œå®ƒä»¬éƒ½å°†ä½¿ç”¨ç›¸åŒçš„`output`å‡½æ•°ã€‚

å¯¹äºè¿™ä¸ªä¾‹å­ï¼Œä¸èƒ½ä½¿ç”¨ bindï¼Œå› ä¸º`bind`åªä¼šä»å·¦åˆ°å³åº”ç”¨å‚æ•°ã€‚å¿…é¡»åˆ›å»ºä¸€ä¸ªå…¨æ–°çš„åŠŸèƒ½ã€‚

![](img/9ddc425084c67f09e83712ce2ad3f94f.png)

# ç‰¹æ®Šå ä½ç¬¦

Ramda æœ‰ä¸€ä¸ªä»–ä»¬ç§°ä¹‹ä¸ºç‰¹æ®Šå ä½ç¬¦çš„ä¸œè¥¿ï¼Œç”¨äºéƒ¨åˆ†åº”ç”¨å‚æ•°ï¼Œè€Œä¸ç®¡ä½ç½®å¦‚ä½•ã€‚

è¦ä½¿ç”¨è¿™ä¸ªç‰¹æ®Šçš„å ä½ç¬¦ï¼Œå¿…é¡»é¦–å…ˆç®€åŒ–å‡½æ•°ã€‚

![](img/a13a70a5bf7832dce0e7718ffbbe6053.png)

æ—¢ç„¶`fs.readFile`å·²ç»è¢«ç®€åŒ–ä¸º`readFile`ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Ramda çš„ç‰¹æ®Šå ä½ç¬¦(`__`)ä½œä¸ºæ–‡ä»¶åå‚æ•°ï¼Œå¹¶å°†`utf8`å’Œ`output`éƒ¨åˆ†åº”ç”¨åˆ°`readFile`ã€‚

![](img/5243817042d4a01e71a6ee79826b4d5e.png)

ğŸ˜å¦‚æœæ­¤æ—¶ä½ ä¸å…´å¥‹ï¼Œå»çœ‹åŒ»ç”Ÿå§ï¼Œå› ä¸ºä½ å†…å¿ƒå·²ç»æ­»äº†ã€‚

è®©æˆ‘ä»¬é€šè¿‡ä¸€äº›é‡æ„æ¥ç»“æŸè¿™ä¸ªä¾‹å­ã€‚

![](img/3eef24ddeea528df154b36ef3b4ec879.png)

ä¹Ÿå¯ä»¥è¿™æ ·ä½¿ç”¨ï¼Œå› ä¸ºç°åœ¨æˆ‘ä»¬æœ‰äº†æ›´å¤šçš„é€‰æ‹©ï¼

![](img/520297085e3281ddcb5055e488b3e421.png)

# å®¶åº­ä½œä¸š

æœ€å¥½çš„å­¦ä¹ æ–¹æ³•æ˜¯*åš*ğŸ˜‰ã€‚æ‰€ä»¥åœ¨è¿™ä¸ªç»ƒä¹ ä¸­ï¼Œè¯•ç€åœ¨å‡½æ•°`fetch`çš„åŸºç¡€ä¸Šåˆ›å»ºä¸¤ä¸ªæ–°å‡½æ•°`fetchGet`å’Œ`fetchPost`ã€‚

![](img/bd0e41c24fb7b476a954b6db71944780.png)

å¦‚æœéœ€è¦å¸®åŠ©ï¼Œåœ¨è¯„è®ºåŒºå‘å¸–æé—®ï¼Œæˆ‘ä¼šå°½åŠ›å›ç­”æ¯ä¸€ä¸ªé—®é¢˜ï¼

# æˆ‘ä»¬è¿˜èƒ½åšä»€ä¹ˆï¼Ÿ

è¿™æ˜¯æˆ‘æ­£åœ¨åšçš„ä¸€ä¸ªé¡¹ç›®çš„ç®€åŒ–ç‰‡æ®µã€‚é¦–å…ˆï¼Œæˆ‘å°†å‰”é™¤`tokenContract`ï¼Œè¿™æ ·æ‚¨ä¹Ÿå¯ä»¥è¿è¡Œè¿™ä¸ªç¤ºä¾‹ã€‚

åŒæ ·ï¼Œä¸è¦å¯¹è¿™éƒ¨åˆ†ä»£ç åšè¿‡å¤šè§£è¯»ï¼Œè¿™åªæ˜¯è®¾ç½®ã€‚ä½†æ˜¯è¯·æ³¨æ„ä¸‹é¢å¦‚ä½•ä½¿ç”¨`curry`å‡½æ•°ã€‚

![](img/b889b53fca8abc492a4827c9b94d920d.png)

ç°åœ¨æ˜¯è‚‰ğŸ–

![](img/2148781d54a79df0188f3704e322975a.png)

Curry å’Œéƒ¨åˆ†åº”ç”¨ç¨‹åºå…è®¸æˆ‘ä»¬åœ¨`then`ä¸­å»æ‰å‡½æ•°çš„ä¸¤ç«¯`i =>`å’Œ`, i`ã€‚è¿™æ˜¯ä¸€ç§ä½ ä¼šç»å¸¸çœ‹åˆ°çš„æ¨¡å¼ã€‚ä»`then`å‡½æ•°æä¾›çš„å•ä¸ªå‚æ•°(åœ¨æœ¬ä¾‹ä¸­æ˜¯`i`)å°†æˆä¸ºåœ¨`tokenContract.getTokenAtIndex`ä¸­è°ƒç”¨çš„å‡½æ•°çš„æœ€ç»ˆå‚æ•°ã€‚

è¿›ä¸€æ­¥ç ”ç©¶:çœç•¥ç»“å°¾çš„`i`çš„è¿‡ç¨‹ç§°ä¸ºæ— ç‚¹æˆ–é»˜è®¤ç¼–ç¨‹ï¼Œè‡ªå˜é‡`i`ä¸ºâ€œç‚¹â€ã€‚

å› ä¸ºæˆ‘çŸ¥é“æˆ‘æ­£åœ¨åšçš„å·¥ä½œæ€»æ˜¯ä¸º`account`è€Œåšï¼Œæ‰€ä»¥æˆ‘å¯ä»¥å°†`account`å€¼åº”ç”¨äºä¸¤ä¸ªå‡½æ•°ã€‚

![](img/a6743e3e520bb0bfb6569e09e47fb6fc.png)

# é¢å¤–å­¦åˆ†

å‡½æ•°ç»„åˆå°†åœ¨ä»¥åçš„æ–‡ç« ä¸­è®¨è®ºï¼Œä½†æ˜¯ç°åœ¨æˆ‘æƒ³æŠŠå®ƒä½œä¸ºé¢å¤–çš„å­¦åˆ†ç•™ç»™ä½ å»ç ”ç©¶å’Œä¿®æ”¹:

![](img/913c72ecd0867552d740c54ade75f413.png)

# æ‘˜è¦

æœ¬æ–‡ç®€è¦ä»‹ç»äº†éƒ¨åˆ†åº”ç”¨ç¨‹åºã€Curryingï¼Œç”šè‡³å‡½æ•°ç»„åˆã€‚å‰å¾€ [Ramda](http://ramdajs.com/) äº†è§£æ›´å¤šä¿¡æ¯ã€‚åœ¨è¯„è®ºé‡Œæé—®ï¼Œæ¯ä¸€ä¸ªé—®é¢˜æˆ‘éƒ½ä¼šå›å¤ï¼

å¦‚æœä½ è§‰å¾—è¿™å¾ˆæœ‰è¶£ï¼Œæˆ‘æœ‰æ›´å¤šå…³äº[åª’ä½“](https://medium.com/@joelthoms/latest)å’Œ[å‘å±•åˆ°](https://dev.to/joelnet)çš„æ–‡ç« ã€‚

åœ¨ [Twitter](https://twitter.com/joelnet) ã€ [Medium](https://medium.com/@joelthoms/latest) ã€ [dev.to](https://dev.to/joelnet) å’Œ [steemit](https://steemit.com/@joelnet) æˆ–[joel.net](http://joel.net/)è®¢é˜…ï¼Œä»¥è·å¾—æœªæ¥æ–‡ç« çš„é€šçŸ¥ã€‚

å¹²æ¯ï¼

[æœ€åˆå‘å¸ƒäº github](https://github.com/joelnet/articles/blob/master/2008-05-09---i-heart-ramda--partial_application_with_curry/Partial_Application_with_Curry.md)