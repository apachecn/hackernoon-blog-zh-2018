# 闪电网络:比特币的敌人还是盟友？

> 原文：<https://medium.com/hackernoon/lightning-network-ally-or-ennemy-of-the-bitcoin-8b6e3ba5d319>

![](img/548621d10013c7e2363b617bfeb80332.png)

越来越明显的是，比特币作为一种支付手段存在许多局限性。块大小的限制(最大 1MB)和向区块链添加块的速度(每 10 分钟一个)，这产生了另一个限制，即交易的高成本，使比特币成为其他支付手段的一个非常弱的竞争对手。随着闪电网络的出现，这种情况可能会改变。

**闪电网是什么？**

**闪电网络是一种协议，其目标是通过加快交易速度来使比特币扩展其网络**。该协议现在适用于整个区块链，每秒钟可以进行数百万次交易，费用极低。

照明网络使用的技术是所谓的**【支付渠道】**。“小额支付渠道”是一种技术，它允许您在同一笔交易中收集几笔小额交易，以限制成本，而不必等待每笔交易的确认。

**因此，各方必须首先通过发布交易共同创建一个渠道，各方必须使用其私钥**签署该交易(即多签名交易)。该交易将不会在网络上广播，并将具有阻止一定金额的资金的使命。

闪电网提出**双向通道**，即双方可以通过同一通道进行支付。因此，双方可以在 multisig 交易中冻结一笔资金，并通过该渠道执行交易。

闪电网络还组织这些不同渠道的联网，以便由介入的人进行支付。为此，该软件将执行一系列步骤，这些步骤将允许爱丽丝通过鲍勃的中介将资金转移给卡罗尔。

**闪电网络实际上是如何工作的？**

让我们假设 Carol 希望将一个比特币转移给 Alice，但是与她没有直接通道。因此，付款将通过中间人“Bob”进行，Bob 与 Carol 和 Alice 都有公开渠道。

![](img/586d6ec33668cd57e7f7d200a0412f8c.png)

Source: BitcoinMagazine

**通过闪电网进行交易的步骤如下:**

1- Alice 请求 Carol 创建一个值(例如数字和字母的混合)，并传输散列和她的比特币地址。

2- Alice 将散列传输给 Bob，并告诉他，如果他展示他从 Carol 收到的值，证明它已将比特币传输给 Carol，她将向他发送比特币。

3- Bob 从 Carol 处接收值(检查散列),并向她传输一个比特币作为回报。

4- Bob 将他从 Carol 收到的值传递给 Alice，从而证明它已将比特币转移给 Carol。因此，爱丽丝可以派他安全地转动一枚比特币。

正如我们看到的，Alice 使用 Bob 为 Carol 设置的通道来转移比特币。显然，这个场景适用于几个中介。

但是你可能想知道，**如果 Alice 在收到 Bob 的价值后改变主意，决定不再转移比特币，并且 Bob 已经将比特币转发给 Carol** (上面的第 4 步)，会发生什么？

**哈希时间锁定契约**

为了解决这个问题，闪电网络使用了一种称为**“哈希时间锁定合同”的过程，其中包括一个计时器(“时间锁定”)和一个秘密(“哈希”)**。如果我们以上面从 Alice 到 Carol 的比特币转账为例，哈希时间锁定契约的建立是根据以下步骤完成的:

![](img/8fff1b30084e4bfe9435743e6544889c.png)

1- Alice 向第三方地址发送她要转给 Carol 的比特币，该地址需要双方签名才能解锁(multisig 地址)。

2- Bob 可以通过添加他的签名和 Alice 发送的值，将资金发送到他随时控制的地址，从而收回资金。

3- Alice 也可以将资金发送到她控制的地址，但只能在一定时间之后(“时间锁定”)。

这种机制随后被用在网络层。爱丽丝和鲍勃还签订了一份有时间限制的合同。在我们下面的例子中，Bob 在转移比特币之前收到了 Alice 的值。这两个通道是链接的，因此如果 Alice 不想转移比特币，Bob 可以将从 Carol 那里收到的值插入到与 Alice 签订的哈希时间锁定合同中，从而肯定可以恢复比特币。

因此，闪电网络代表了网络比特币发展的重要一步，可以成为目前正在开发的机器之间通信网络的解决方案。

**闪电网络的实施可能会产生与折扣相反的效果**

闪电网络似乎被选为比特币问题的解决方案，因为它提出了一个非常有前途的架构。

正如我们刚才所描述的，它允许创建通道，用户可以在这些通道中执行任意多的交易，而不必每次都将它们添加到区块链中，但同时受益于分散式网络的安全性。**换句话说，当渠道关闭且最后一笔交易**(各方相互欠款净额结算的结果)添加到区块链时，立即确认运营并在渠道中执行的所有交易之间分配成本。

![](img/4e99ef044f0e9a7e9bcf620cfaad4f27.png)

Lightning network

唯一的问题在于，频道只在两个人之间定义。为了联系到一个与你不共享频道的人，你需要使用中间节点或“集线器”(在我们的例子中是 Bob)。但是，这些节点可能会被监管机构视为“资金转移者”，因此需要满足最低资本要求、KYC 支票(……)等任何人都无法满足的要求。

**"金融罪行执法网的条例将术语"汇款人"**定义为提供汇款服务的人，或从事资金转账的任何其他人。术语“货币传输服务”是指“接受来自一个人的货币、资金或其他替代货币的价值，并通过任何方式将货币、资金或其他替代货币的价值传输到另一个地点或个人。"

如果是这样的话，作为中介的每个节点应该能够对资金的来源进行检查，这意味着建立重要的系统，因此不能由金融机构进行。

**这是银行和信用卡公司等大公司可以进入游戏并开始管理比特币网络的地方**，但只有未来才能证实这一场景。

**如果你喜欢这篇文章，请不要犹豫，喜欢它并分享它！！谢谢**