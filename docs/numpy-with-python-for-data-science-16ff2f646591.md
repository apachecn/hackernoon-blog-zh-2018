# 面向数据科学的 Python numpy

> 原文：<https://medium.com/hackernoon/numpy-with-python-for-data-science-16ff2f646591>

![](img/ce722aaf795db1ef6991e3c0093082af.png)

Photo on [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

## NumPy 是使用 Python 进行科学计算的基础包。

![](img/d52015bb9f985db93d33b9559eafb02d.png)

在 Python 数据科学系列的第 1 部分中，我们研究了 Python 中数值计算的基本内置函数。在这一部分，我们将看看 Numpy 库。

NumPy 是使用 Python 进行科学计算的基础包。除其他外，它包含:

*   一个强大的 N 维数组对象
*   复杂的(广播)功能
*   集成 C/C++和 Fortran 代码的工具
*   有用的线性代数、傅立叶变换和随机数功能

除了其明显的科学用途，NumPy 还可以用作通用数据的高效多维容器。可以定义任意的数据类型。这使得 NumPy 可以无缝、快速地与各种数据库集成。

很好，让我们看看如何使用 Numpy 库进行基本的数组操作。

# Numpy 图书馆

首先，我们需要在 Python 中导入 numpy。

```
import numpy as np
```

让我们创建一个 numpy 数组。

```
np.array([4,5,6])
```

**输出:数组([4，5，6])**

现在，让我们创建一个多维数组。

```
mul=np.array([[5,4,6],[7,8,9],[10,11,12]])
mul
```

**输出:数组([[4，5，6]，
，[7，8，9]，[10，11，12])**

检查形状(数组的行和列)。

```
mul.shape
```

**输出:(3，3)**

在 1 到 60 之间创建一个间距均匀的数组，差值为 2。

```
dif=np.arange(1,60,2)
dif
```

**输出:数组(【1，3，5，7，9，11，13，15，17，19，21，23，25，27，29，31，33，
35，37，39，41，43，45，47，49，51，53，55，57，59)**

将上面的数组重新塑造成想要的形状。

```
dif.reshape(10,3)
```

**输出:数组([[ 1，3，5]，
，【7，9，11】，
，【13，15，17】，
，【19，21，23】，
，【25，27，29】，
，【31，33，35】，
，【37，39，41】，
，【43，45，47】，
，【49】**

在区间 1 和 8 之间生成一个等间距列表。(在这里花一分钟来理解‘Lin space’和‘arange’之间的区别)

```
gen = np.linspace(1,8,40)
gen
```

**输出:数组([1。，1.17948718，1.35897436，1.53846154，1.71794872，
1.8974359，2.0769，2308，2.25641026，2.43589744，2.61538，462，
2.794949，2.])**

现在，就地改变数组的形状(“resize”功能就地改变数组的形状，不同于“reshape”)

```
gen.resize(10,4)
gen
```

**输出:数组([[1。，1.17948718，1.35897436，1.53846154]，
，【1.71794872，1.8974359，2.07692308，2.25641026】，
，【2.43589744，2.61538462，2.79479，2.97477]])**

创建一个所有元素都为 1 的数组。

```
onarr = np.ones((4,4))
onarr
```

**输出:数组([[1。, 1., 1., 1.]，
【1。, 1., 1., 1.]，
【1。, 1., 1., 1.]，
【1。, 1., 1., 1.]])**

创建一个用零填充的数组。

```
zearr = np.zeros((4,4))
zearr
```

**输出:数组([[0。, 0., 0., 0.]，
【0。, 0., 0., 0.]，
【0。, 0., 0., 0.]，
【0。, 0., 0., 0.]])**

创建对角线值= 1 的对角矩阵

```
dm = np.eye(3)
dm 
```

**输出:数组([[1。, 0., 0.]，
【0。, 1., 0.]，
【0。, 0., 1.]])**

仅从数组中提取对角线值。

```
np.diag(dm)
```

**输出:数组([1。, 1., 1.])**

创建由重复列表组成的数组

```
relist = np.array([1,2,3]*7)
relist
```

**输出:数组([1，2，3，1，2，3，1，2，3，1，2，3，1，2，3，1，2，3，1，2，3，1，2，3])**

现在，使用 repeat 函数将数组中的每个元素重复 n 次。

```
np.repeat([1,2,3],3)
```

**输出:数组([1，1，1，2，2，2，3，3，3])**

生成两个所需形状的数组，用 0 到 1 之间的随机值填充。

```
relist = np.random.rand(2,3)
print(relist)
de = np.random.rand(2,3)
print(de)
```

**输出:**

**[[0.55523672 0.46815197 0.67590369]
【0.5331193 0.62780236 0.45044916]]**

**[[0.26215572 0.07380256 0.06592746]
【0.89782279 0.95603968 0.82052478]]**

垂直堆叠上面创建的两个数组

```
st = np.vstack([de,relist])
st
```

**输出:**

**数组([[0.26215572，0.07380256，0.06592746]，
，【0.89782279，0.95603968，0.82052478】，
，【0.55523672，0.46815197，0.67590369】，
。**

现在，让我们把它们水平堆叠起来。

```
sh = np.hstack([de,relist])
sh
```

**输出:**

**数组([[0.26215572，0.07380256，0.06592746，0.55523672，0.46815197，
0.67590369]，
[0.89782279，0.95603968，0.82052478，0.5331193**

很好，现在让我们执行一些数组操作。首先让我们创建两个随机数组

```
r1 = np.random.rand(2,2)
r2 = np.random.rand(2,2)
print(r1)
print(r2)
```

**输出:输出:**

***[[0.02430146 0.14448542]
【0.54428337 0.40332494]]***

***[[0.77574886 0.08747577]
【0.51484157 0.92319888]]***

让我们做元素加法。

```
r3 = r1+ r2
r3
```

**输出:数组([[-0.75144739，0.05700965]，
，【0.02944179，-0.51987394])**

元素减法。

```
r4 = r1 - r2
r4
```

**输出:数组([[-0.75144739，0.05700965]，
，【0.02944179，-0.51987394])**

让我们将每个元素的乘方设为 3。

```
r5 = r1**3
r5
```

**输出:数组([[0.65228631，0.24993365]，
[0.97976155，0.71554632])**

现在，让我们执行两个数组 r1 和 r2 的点积，而不是元素运算。

```
r6 = r1.dot(r2)
r6
```

**输出:数组([[ 0.09323893，0.13551456]，
，【0.62987564，0.41996073])**

让我们创建一个新的数组并转置它。

```
sh = np.array([[1,2],[3,4]])
sh
```

**输出:**

**数组([[1，2]，
[3，4])**

```
sh.T
```

**输出:**

**数组([[1，3]，
，[2，4])**

现在，检查数组中元素的数据类型。

```
sh.dtype
```

**输出:dtype('int32')**

更改数组的数据类型。

```
rs = a.astype('f')
rs.dtype
```

**输出:dtype('float32')**

现在，让我们看看数组中的一些数学函数，从数组的 sum 开始。

```
c = np.array([1,2,3,4,5])
c.sum()
```

**输出:15**

数组元素的最大值。

```
c.max()
```

***输出:5***

数组元素的平均值

```
c.mean()
```

***输出:3***

现在，让我们检索数组最大值的索引。

```
c.argmax()
```

***输出:4 个***

```
c.argmin()
```

**输出:0**

创建一个由前十个整数的平方组成的数组。

```
dim = np.arange(10)**2
dim
```

***输出:数组([ 0，1，4，9，16，25，36，49，64，81]，dtype=int32)***

使用 index 访问上述数组中的值

```
dim[2]
```

**输出:4 个**

```
dim[1:5]
```

**输出:数组([ 1，4，9，16]，dtype=int32)**

使用负号反向访问变量。

```
dim[-1:]
```

**输出:数组([81]，dtype=int32)**

现在，根据步长访问数组的某些元素。

```
dim[1:10:2] *#dim[start:stop:stepsize]*
```

**输出:数组([ 1，9，25，49，81]，dtype=int32)**

创建多维数组

```
en = np.arange(36)
en.resize(6,6)
en
```

**输出:数组([[ 0，1，2，3，4，5]，
【6，7，8，9，10，11】，
【12，13，14，15，16，17】，
【18，19，20，21，22，23】，
【24，25，26，27，28，29】，
【30，31**

访问第二行和第三列

```
en[1,2]
```

**输出:8 个**

访问第二行和第 3 至 7 列。请注意，行和列的编号从 0 开始。

```
en[1, 2:6]
```

**输出:数组([ 8，9，10，11])**

选择第 2 行之前的所有行以及除最后一列之外的所有列

```
en[:2,:-1]
```

***输出:数组([[ 0，1，2，3，4]，
，[ 6，7，8，9，10])***

从数组中选择大于 20 的值。

```
en[en>20]
```

***输出:数组(【21，22，23，24，25，26，27，28，29，30，31，32，33，34，35】)***

如果元素值大于 20，则将数组元素的值赋为 20。

```
en[en>20] = 20
en
```

**输出:数组([[ 0，1，2，3，4，5]，
，
，【12，13，14，15，16，17】，
，【18，19，20，20，20，20】，
，【20，20，20，20】，
。**

要将一个数组复制到另一个变量上，请始终使用 copy 函数。

```
fun = en.copy()
fun
```

**输出:数组([[ 0，1，2，3，4，5]，
，【6，7，8，9，10，11】，
，
，【18，19，20，20，20，20】，
，
，【20，20，20，20**

用一组 1 到 10 之间的随机整数创建一个数组。将数组指定为 4*4 的形状

```
gom = np.random.randin(1,10,(4,4))
gom
```

**输出:数组([[9，7，1，4]，
，【1，4，3，6】，
，【2，5，5，1】，
，【2，2，9，9】)**

很好，我们已经了解了在 Numpy 中创建、访问和操作数组。在这个系列的下一部分，我们将会看到一个建立在 Numpy 图书馆基础上的图书馆——Pandas。Pandas 是一个库，它使得 Python 中的数据操作和分析更加容易。它为数字表和时间序列提供数据结构和操作。

## 资源:

1.  [Numpy 文档](http://numpy.org)
2.  [Python 专业化的应用数据科学。](https://www.coursera.org/specializations/data-science-python)

在 LinkedIn 上连接，并查看 Github(如下)以获得完整的笔记本。

[](https://github.com/harunshimanto/Python-The-Dangerous-Tool-For-ML-Data-Science/blob/master/Python%20for%20Data%20Science%20and%20ML-%20Part%202.ipynb) [## harunshimanto/Python-用于 ML 数据科学的危险工具

### Python-The-Dangerous-Tool-For-ML-Data-Science-用 Python 学习数据科学和机器学习。

github.com](https://github.com/harunshimanto/Python-The-Dangerous-Tool-For-ML-Data-Science/blob/master/Python%20for%20Data%20Science%20and%20ML-%20Part%202.ipynb) 

你可以[告诉我](http://harunspeedy1995@gmail.com)你对此的看法，如果你喜欢写作，点击鼓掌👏按钮。

感谢大家。