# 区块链神谕将让智能合约飞起来

> 原文：<https://medium.com/hackernoon/oracles-help-smart-contracts-resolve-subjective-events-d81639d8291c>

## 甲骨文将是 2018 年最大的基础设施创新

在很高的层次上，使用 oracle 意味着从区块链外部接收数据。换句话说，神谕提供了真实世界事件和区块链之间的联系。在我看来，所有真正有趣的复杂智能合约都需要外部信息——金融衍生品、赌博、稳定积分、身份……实际上任何你想将现实世界中发生的事情纳入其中的东西。事实证明，用精确的数字术语透明地描述真实世界的事件是一个挑战。为了更好地将神谕概念化，这篇文章将围绕为什么很难用数字方式表现现实来建立我们的直觉。

# 聪明人的聪明合同

智能合同是一种自我执行的数字协议。常见的例子是自动售货机。你投入钱，你可以(1)拿回你的钱，或者(2)购买商品。就像智能合约一样，自动售货机被编程一次，然后永远运行。

智能合约有很多优点。它们用明确的计算机代码编写，完全独立。与法律合同不同，完全不需要外部权威机构来做决定——智能合同是由一群平等的同行来运作的。没有法官，没有陪审团，没有调解人。然而，**智能合同很难正确书写，一旦书写就不可逆转，而且其影响仅限于网络空间**。

智能合同是一种通过明确指定相关各方和条件来达成交易的方式。**但是如果关于过去、现在或未来的一些细节是未知的呢？**比如昨天的 BTC/美元汇率(根据前 5 大交易所)？或者你的航班明天会不会准时降落？这就是神谕进入等式的地方。智能合同需要神谕来解决在合同签订时无法精确知道的细节。

有了 oracle，我们可以让我们的智能合同具有街头智慧。就像自动售货机，只有当先知说温度降到冰点以下时才会出售热巧克力。或者是一家航班保险公司，如果先知说航班延误超过 30 分钟，他们会立即赔付。通过包含与现实世界事件的联系，智能合约变得更加智能。

# 真理是主观的，神谕代表主观

在非常狭窄的科学领域之外，人们通常认为事件相对于他们的世界模型是真实的**:**

1.  马萨诸塞州斯普林菲尔德的气温是多少？

*   根据哪个气象站？
*   测量值应该如何平均和组合？每天，每小时？平均值，中间值？
*   如果有分歧，是否应该给予一个传感器比其他传感器更大的权重？

2.这栋建筑被烧毁了吗？

*   保险机构视角:只有根据一套非常具体的标准，一栋建筑才被视为被焚毁——他们甚至培训和部署专家来评估火灾是否越过了他们非常高的门槛。
*   **普通人视角**:你的屎被烧掉了。

3.谷歌昨天说了特朗普什么？

*   谷歌根据用户的位置、浏览历史、兴趣等向用户展示不同的结果。
*   没有时间旅行到昨天，就没有办法追溯验证这种说法，所以我们需要一种毫无疑问地记录搜索结果的方法。

一般来说，您可以将 oracle 视为一个“人”，智能合约可以要求其对事件进行主观解释。**甲骨文的问题就在于此:我们如何以一种可证明的、一致的、透明的、最低信任度的方式解决主观事件？**

# 神谕的隐喻

## 1.用于决策的白板

区块链技术的魅力在于它迫使每个人都在户外工作。我们拿一块白板，我们轮流在白板上写东西，每个人都可以看到我们写了什么。例如，任何人都可以下载比特币“白板”，选择一个钱包地址，并检查涉及该钱包的每一次交互。

无论是上课，向同事解释一个想法，还是解决一个问题，你都可能依赖白板来分享思维过程和决策。同事不仅会提供最终决定，还会在白板(或类似的东西)上画出他们的决策过程。

当智能合约被放在以太坊“白板”上时，交易的所有各方都可以完全看到它。除了不知道重要事件的时候，合同将如何运作是不明确的。

**在智能合同中，关于这些细节的决定是通过 oracle** 指定的。为了符合区块链标准，该服务必须描述其工作。数据是从哪里来的？数据是如何处理的？

对于温度，您可以通过指定以下细节来做出决定:哪些天气传感器、哪个平均函数以及什么温度格式。重点是尽可能详细地描述决策过程。**接下来，当事件发生时，涉及该决策的所有内容都将由 oracle 服务写在白板上，供所有人查看和(加密地)验证。**

当问先知一个关于世界的问题时，你必须明确你的观点。作为回报，先知将展示其步骤并承担责任。

## 2.提供信息的法院

早在计算机出现之前，我们的社会就发明了一种让所有合同都变得智能的方法:允许用户向某个权威机构(法院、国王、黑帮老大……)申诉，由他们最终解决问题。如果当局是“公正的”，那么就没有理由将争端升级到当局。任何知道自己会输的人都不会去尝试。**例如，中世纪的商人革命之所以成为可能，是因为商人法庭发展成为一种权威——有效的、可信的神谕，允许商人私下执行协议。**

在智能合同中，当您指定 oracle 时，您就选择了一个“法院”，它将决定如何解释您的数据以及它在您的合同上下文中的含义。如果这是一份保险机构的智能合同，那么它的甲骨文“信息法庭”将试图解决“房子烧毁了吗？”根据该机构的定义。

当然，传统的承包系统是相当昂贵的。纸质合同需要法院来解释合同和解决纠纷。这些法院需要各种各样的外部强制手段——狱吏、警察、法官和律师。这种执行需要税收，这意味着一整套规则、执行手段和政府基础设施。在我们社会的各个方面都是如此。在这种规模下，严重的腐败是不可避免的。

**就像中世纪一样，这些信息法庭或“神谕”有可能减少执行传统纸质合同的大量浪费工作。**

## 3.保护真实和数字的挂锁

为了得到一个“结果”，原始数据通常需要被聚合、过滤、组合，并根据某种世界模型保持一致。这些过程太昂贵，不能在区块链上进行，**所以它们应该在链外进行，并用加密挂锁保护起来。**

例如，假设我们想知道昨天的温度。神谕如何证明“昨天的温度是多少？”没有时间旅行的人？不知何故，神谕必须返回一个可接受的挂锁，以一种无法伪造或编造的方式将这些细节固定下来。没有单一的方法可以做到这一点，这是一个正在进行研究的领域。

我们知道挂锁本质上一定是加密的。锁应该尽可能精确地指定最终结果中的所有内容。如果一个随机的人想知道发生了什么以及为什么，他们应该能够在他们的电脑上运行并探索甲骨文决定的每个细节——而不需要求助于像与作者讨论这样的任何事情。

## 4.参与游戏的机构

我们今天使用的大多数基础设施都隐含地信任一大堆机构，这些机构不会因自身的失败而遭受风险。这些机构隐藏风险的方式不可能被发现，直到为时已晚。2008 年对评级机构和银行的救助，导致 Equifax 泄露了 1.5 亿个社会安全号码，还有数千个。用户没有追索权，机构不受伤害。

One of the many asymmetries between users and institutions today.

对我们农民来说不幸的是，官僚主义是一种建筑，通过这种建筑，一个机构可以方便地与其行动的后果分离开来。但是，区块链的机构有可能通过强制一切在完全透明、不可信和匿名的环境中运行来减少官僚主义的膨胀。随着数字技术降低了信息创建和分发的门槛，能够验证信息是否来自已知的可信来源变得极为重要。

对于先知来说，这意味着我们必须让廉价言论变得昂贵，并迫使机构分担发布不良信息的风险。游戏中的皮肤意味着当你错的时候和你对的时候一样重要。如今，甲骨文试图通过在索赔上下注、随着时间的推移建立声誉、签署数据，以及在最坏的情况下通过第三方仲裁来实现这一点。没有单一正确的方法来构建这些交互。就像现实世界中的关系一样，神谕会有不同的道德准则，这取决于商业环境。

游戏中皮肤的概念可以归结为:如果你给出一个观点，并且有人跟随它，你在道德上有义务承担它的后果。这将风险本地化，并使这种关系在失败面前更加稳固。让双方都暴露在类似的风险下，可以防止系统腐烂。**先知应该分担其决定的后果——****游戏中的利益是公平、商业效率和风险管理所必需的。**

# 定位我们的未来:对称关系

隐喻不仅是我们语言的基础，也是我们概念化世界的方式。他们忽略了那些令人毛骨悚然的细节，给我们的思想提供了结构。我希望这些隐喻——白板、法院系统、挂锁和游戏中有皮肤的机构——将在你更深入地钻研神谕时为你的理解打下基础。

真相对我们都有利害关系。社会运作的基础是人们把自己的名誉寄托在自己的话语上。就这样，事实战胜了谎言——而且在大多数情况下，事实的确如此。如果不是这样，关系的保质期会很短，商业也会停止。我们所有人都依赖真理，因为当缺乏诚实时，我们会痛苦，社会也会痛苦。有了更好的工具来衡量信任和真相，我们会做得更好。

> *(拜*[](https://medium.com/u/f138bf5466fe?source=post_page-----d81639d8291c--------------------------------)**为游戏中皮肤的比喻。这篇文章的很大一部分灵感来自于他的最新作品**[*。所有的解读错误都是我自己的。*](https://www.amazon.com/Skin-Game-Hidden-Asymmetries-Daily/dp/042528462X/)**