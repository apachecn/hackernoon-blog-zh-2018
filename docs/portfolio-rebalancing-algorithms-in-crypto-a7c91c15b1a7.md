# 密码中的投资组合再平衡算法(上)

> 原文：<https://medium.com/hackernoon/portfolio-rebalancing-algorithms-in-crypto-a7c91c15b1a7>

![](img/969a71677a1ade1780d162f9e066c94f.png)

本文将详细介绍加密货币投资组合再平衡所涉及的一些复杂性。从理论上讲，再平衡应该很简单，但由于交易所施加的限制，情况会变得复杂。其中一个限制是限价单通常有最低交易要求。这些最低限额因交易所而异，但都会导致无法达到目标分配的情况。当达到目标分配所需的交易少于最低交易要求时，就会出现这种情况。

购买更多需要资金来达到其目标配置的资产的行为被称为“债务解决”。出售一项在一段时间内表现良好且分配额大于目标分配额的资产的过程被视为“征税”。对表现良好的资产征税，使它们与目标配置相匹配，通常很容易，但将债务偿还给其余资产就比较复杂了。有无法偿还债务的情况。无论这是由于征税资产不符合交易或交换错误的最低要求，都无关紧要。其结果是出现了一种负债超过支付能力的局面。

除非另有说明，每个算法都将假设交易通过 BTC 进行。这意味着将有两个不连续的步骤。首先，所有资产的分配比例大于其目标分配比例的，都将被征税。这种税收是通过为 BTC 出售资产而产生的。第二，债务将被支付给每一项资产，其分配百分比低于其目标分配百分比。将从征税步骤中收集的 BTC 池中进行支付。

构建解决这个问题的算法应该满足以下 4 个要求:

**公平**:最公平的情况不是在两种资产之间挑选。这意味着，如果资金只够做一笔交易，最公平的选择是两样都不选。(然而，从用户的角度来看，这可能不是所期望的)

**确定性**:算法要一致。每次都应该有效。每个可到达的状态都应该是可预测的。

**可用性**:一个算法可以是公平的、确定性的，但是不可用。算法需要是可用的和可取的。它应该产生用户想要看到的结果。

经济的:使用的任何方法都不应该需要过多的交易来满足之前的要求。该算法应该为尽可能少的费用进行优化。

# 基于股份的债务解决方案

基于股份的债务解决方案是一种算法，试图公平的结果。这个解决方案的工作方式是通过计算每项资产持有的债务百分比来分配股份。例如，假设债务总额为 100 BTC，但只有 90 BTC 可供支付。这意味着 90 BTC 需要在 100 BTC 的债务中分配。做到这一点最公平的方法是偿还每项资产所欠债务的 90%。他们将只能获得 90%的债务偿付，而不是 100%的资产债务。

这是最公平、最确定的算法。不做优先考虑单一资产或交易的决策。这些问题来自可用性和经济决策。

这种解决方案的一个问题是，很少能够偿还 100%的债务。由于这种情况很少发生，因此很难让每项资产都达到其目标配置。因此，对于一些希望尽可能多的资产达到其目标分配的用户来说，这种算法可能不太理想。从另一方面来说，这种算法可能更适合一些用户，因为这种技术是完全无偏的。它并不试图预测用户更喜欢购买哪种资产。

# 最大债务优先决议

最大债务优先解决算法侧重于首先还清最大债务。这种算法背后的理由是，拥有最大债务的资产距离其目标配置最远。在这个意义上，算法应该首先满足离用户期望分配最远的资产是有意义的。

让我们检查一下上面检查过的相同情况。想象一下，你只有 90 BTC，却有 100 BTC 的债务要还。使用这种算法，你将首先支付离目标配置最远的资产。这可能导致单个资产获得 90 BTC，如果他们足够远的话。那么，就剩下 0 BTC 来支付剩余的资产。

虽然这种策略可能对一些用户有意义，但它假设用户希望债务最大的资产首先得到偿付。事实可能并非如此。因为这是一个不公平的算法，所以从用户的角度来看，这导致了不期望的假设。

# 阻力最小的债务解决途径

最小阻力债务解决路径与前面的算法略有不同。这种技术仅适用于资产对的子集，并绕过为其他资产偿还债务而收集的 BTC 池。阻力最小的路径是指将资产直接连接在一起的交易对，因此在再平衡期间，它们不需要通过 BTC 进行交易。其中一个例子是币安的 XRP/ETH。如果一个投资组合同时包含 XRP 和瑞士联邦理工学院，它就有机会在这两种资产之间直接交易，而无需先交易到 BTC。

阻力最小的路径总是被认为是产生最大量的最终资产的路径。因此，这考虑了费用、利差和滑点，以最大化最终资产金额。假设投资组合中有两项资产也是成对的，假设它们是阻力最小的路径，则可以首先对它们进行评估和偿付。

最小阻力债务解决路径可以进一步推广到包括所有导致最小差价、滑点和费用的交易。这导致投资组合中那些被认为可以廉价收购的资产的购买力最大化。

然后，可以根据以下标准计算每个资产的阻力:

*   交易数量，越高阻力越大
*   %扩散，其中较高的扩散增加阻力
*   %滑移，较高的滑移会增加阻力
*   %费用，费用越高，阻力越大

# 把所有的放在一起

一旦理解了这些策略，就有可能将它们放在一起创建一个公平、确定、可用且经济的再平衡算法。这是通过在不同阶段执行这些策略来实现的。

首先，将完成实现最小阻力路径的**经济**策略。这应该在任何资产出售给 BTC 之前完成。

第二，**最公平的**策略应该用于分配为债务分配而收集的 BTC。这使得债务可以分散到所有需要偿还的资产中。但是，在此过程中，如果某些资产的偏差很小，可能会有小于最小交易限额的交易。

第三，应该使用最大债务优先的**可用**策略来分配上一步留下的 BTC。这使得每项资产尽可能接近目标配置。

这种分阶段的策略是**确定性的**，它为算法在重新平衡期间的行为提供了可预测性。

# 再平衡是复杂的

从表面上看，再平衡是一个简单的策略:将当前分配与目标分配重新对齐。然而，深入挖掘细节会使执行再平衡的方式变得复杂。本白皮书试图阐明这些复杂性，并为未来的研究提供基础。

虽然 Shrimpy 有很好的基础，但是我们还在不断改进再平衡算法。我们将整合市场上最先进的再平衡功能，以确保我们的用户始终处于前沿。虽然上面详细介绍的算法是您探索重新平衡的起点，但还有更复杂的策略，我们将在以后的文章中讨论。

# 附加阅读

[](https://hackernoon.com/rebalance-vs-hodl-a-technical-analysis-6f341b0db9cd) [## 再平衡与 HODL:技术分析

### 这项研究的目的是描绘一幅公平的画面，说明再平衡作为一种策略如何符合霍德林。为了…

hackernoon.com](https://hackernoon.com/rebalance-vs-hodl-a-technical-analysis-6f341b0db9cd) [](https://hackernoon.com/common-rebalance-scenarios-in-crypto-3d10530ef661) [## 加密中常见的重新平衡方案

### 那天是 2017 年 6 月 21 日星期三。你整个早上都在看你的密码组合，以太坊开始的时候…

hackernoon.com](https://hackernoon.com/common-rebalance-scenarios-in-crypto-3d10530ef661) 

别忘了查看一下 [Shrimpy 网站](https://www.shrimpy.io/)，在 [Twitter](https://twitter.com/ShrimpyApp) 和[脸书](https://www.facebook.com/ShrimpyApp)上关注我们的更新，并在[Telegram](https://t.me/ShrimpyGroup)&[Discord](https://discord.gg/gXyy95y)上向我们令人惊叹的活跃社区提问。

*捕虾队*