# ReasonML å’Œ NEM åŒºå—é“¾ï¼›æˆ‘ä»¬å»ä¹°é¢åŒ…å§ğŸ¥–ğŸ˜

> åŸæ–‡ï¼š<https://medium.com/hackernoon/reasonml-and-nem-blockchain-crashcourse-8c8b540ed522>

## NEM åŒºå—é“¾å…¥é—¨ç»“åˆ ReasonML é€Ÿæˆç­

æœ¬æ–‡è§£é‡Šäº† NEM2-SDK ä¸ ReasonML ä»¥åŠ NEM2-CLI çš„åŸºæœ¬ç”¨æ³•ã€‚

![](img/bd4c1c5a363a8055314a83c818aee7a4.png)![](img/8581f2243c489a74abfe3fd6793f82c7.png)

# ä»‹ç»

æˆ‘ä»¬å°†é€šè¿‡è®¾ç½® **NEM å¼¹å°„å™¨**æœåŠ¡åˆ°*å¼¹å°„å™¨*æˆ‘ä»¬çš„[åŒºå—é“¾](https://hackernoon.com/tagged/blockchain)å·¥ä½œæµï¼Œç„¶åæˆ‘ä»¬å°†ä½¿ç”¨ **NEM SDK** ä¸º [javascript](https://hackernoon.com/tagged/javascript) ä¸åŒºå—é“¾æœ¬èº«äº¤äº’ï¼Œä½†æ˜¯ä¸ºäº†æ›´é…·**æˆ‘ä»¬å°†ä½¿ç”¨ **ReasonML** ç¼–å†™æˆ‘ä»¬çš„ç¤ºä¾‹ã€‚**

**ReasonML æœ¬è´¨ä¸Šæ˜¯ OCaml ç¼–ç¨‹è¯­è¨€çš„ä¸€ç§è¯­æ³•ï¼Œå®ƒé™„å¸¦äº†ä¸€ç³»åˆ—æœ‰ç”¨çš„å·¥å…·ï¼Œå…è®¸æˆ‘ä»¬å°†å…¶ç¼–è¯‘æˆ Javascriptã€‚**

**NEM æ˜¯ä¸€ç§ç›¸å¯¹è¾ƒæ–°çš„åŒºå—é“¾æŠ€æœ¯ï¼Œå®ƒå¯ä»¥è½»æ¾å¤„ç†å¤šé‡ç­¾åäº‹åŠ¡ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå¾ˆæ£’çš„å¼€å‘å·¥å…·ã€‚**

## **å…ˆå†³æ¡ä»¶**

**æœ¬æ–‡å‡è®¾ä½ å¯¹å…¥é—¨çº§çš„ [Docker](https://www.docker.com) ã€ [Javascript](https://developer.mozilla.org/bm/docs/Web/JavaScript) ã€Git å’ŒåŒºå—é“¾*(ä¾‹å¦‚ä»¥å¤ªåŠã€Tezosã€â€¦)* æ¯”è¾ƒç†Ÿæ‚‰ã€‚**

# **å…¥é—¨æŒ‡å—**

**é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æˆ‘ä»¬å°†ä½¿ç”¨çš„æŠ€æœ¯:**

*   **[NEM åŒºå—é“¾](https://nemtech.github.io/getting-started/what-is-nem.html)æ˜¯ä¸€ä¸ªå¹³å°ï¼Œæ—¨åœ¨é€šè¿‡æä¾›ä¸€ä¸ªéå¸¸éå¸¸å¥½çš„ğŸ’†â€â™€ï¸å¼€å‘è€…å¼€ç®±å³ç”¨çš„ä½“éªŒã€‚å®ƒæ”¯æŒç§æœ‰/å…¬å…±é“¾ã€æ™ºèƒ½èµ„äº§äº¤æ˜“å’Œå¤šç­¾åäº¤æ˜“ã€‚**
*   **æ˜¯ä¸€ä¸ªè¯­æ³•å’Œå·¥å…·ç®±ï¼Œç”± OCaml æä¾›æ”¯æŒï¼Œé¢å‘ Javascript å¼€å‘è€…ã€‚**

**æˆ‘ä»¬å°†é¦–å…ˆå®‰è£… NEM å¼¹å°„å™¨å †æ ˆã€‚æˆ‘ä»¬ä¸»è¦å¯¹è¿™ä¸¤éƒ¨åˆ†æ„Ÿå…´è¶£:**

*   ****æŠ•çŸ³è½¦æœåŠ¡å™¨èŠ‚ç‚¹** *(åŒºå—é“¾èŠ‚ç‚¹)ï¼›è¿™ä¸€å±‚å¤„ç† P2P çš„ğŸ§™â€â™‚ï¸åŒºå—é“¾é­”æœ¯*ğŸ”®**
*   ****å¼¹å°„ä¼‘æ¯èŠ‚ç‚¹** *(API å±‚)ï¼›è¿™ä¸€å±‚ä¸ºæˆ‘ä»¬(å¼€å‘è€…)æä¾›äº†ä¸€ä¸ªä¸ NEM é›†æˆçš„ç®€å•æ–¹æ³•*ğŸ’»**

## **1.å®‰è£…å¼¹å°„å™¨**

**é¦–å…ˆå…‹éš† catapult-service-bootstrap å­˜å‚¨åº“ï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ç»„åˆæ‰€æœ‰ docker æœåŠ¡ã€‚**

> **å¯¹äºé‚£äº›ä¸ç†Ÿæ‚‰ docker æˆ– git çš„äººæ¥è¯´ï¼Œæˆ‘ä»¬æ­£åœ¨ä»è¿œç¨‹å­˜å‚¨åº“å¤åˆ¶ä¸€å †ä»£ç ï¼Œç„¶åä½¿ç”¨ docker çš„â€œè™šæ‹Ÿæœºâ€å¯åŠ¨æ‰€æä¾›çš„æœåŠ¡ã€‚**

**![](img/edbd7d9eab92898780154016ccf1f9af.png)**

**Once the NEM stack is running, your terminal output should look something like this.**

**ä¸‹ä¸€æ­¥æ˜¯éªŒè¯æˆ‘ä»¬çš„ Rest å’ŒåŒºå—é“¾èŠ‚ç‚¹æ­£åœ¨è¿è¡Œã€‚å¯ä»¥é€šè¿‡æŸ¥è¯¢ Catapult Rest æä¾›çš„ REST API æ¥å®ç°ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚**

**![](img/b2e8be864ba224a1872df9d585f9ad18.png)**

**If everything went as expected, youâ€™ll see a JSON reply similar to the one above.**

**æ‚¨å·²ç»åœ¨æ‚¨çš„æœºå™¨ä¸ŠæˆåŠŸå®‰è£…äº† NEM åŒºå—é“¾å’Œ REST èŠ‚ç‚¹ï¼ğŸ˜**

## **2.è®¾ç½®ç†æ€§/ NEM ç¯å¢ƒ**

**ä¸ºäº†å¼€å‘æˆ‘ä»¬çš„åŒºå—é“¾ä¸ Catapult REST çš„é›†æˆï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ NEM SDKã€‚**

**é¦–å…ˆåˆ›å»ºé€‚å½“çš„æ–‡ä»¶å¤¹ç»“æ„:**

> **ä¸‹é¢çš„å‘½ä»¤æ˜¯åœ¨æˆ‘ä»¬åœ¨æ­¥éª¤ 1 ä¸­åˆ›å»ºçš„â€œgit å…‹éš†â€ç›®å½•ä¹‹å¤–æ‰§è¡Œçš„**

**Create our file structure**

> **æˆ‘ä»¬éœ€è¦ä¸€ä¸ªç¯å¢ƒæ¥ç¼–è¯‘æˆ‘ä»¬çš„æ¨ç†è„šæœ¬ã€‚ä½¿ç”¨å®‰è£…äº† bs-platform (ReasonML å·¥å…·)çš„åŸºäºèŠ‚ç‚¹çš„ docker æ˜ åƒã€‚ç‚¹å‡»[è¿™é‡Œ](https://reasonml.github.io/docs/en/installation)äº†è§£ bs-platform a.k.a. bucklescript ç¼–è¯‘å™¨åœ¨è¿™é‡Œèµ·ä»€ä¹ˆä½œç”¨ã€‚**

**Contents of the Dockerfile created previously**

> **ä¸‹ä¸€æ­¥æ˜¯å»ºç«‹æˆ‘ä»¬çš„ docker æ˜ åƒï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æˆ‘ä»¬çš„æ¨ç†ç¯å¢ƒã€‚**

**Build our image, so we can use it in run-in-docker.sh**

> **æˆ‘ä»¬å°†ä½¿ç”¨ run-in-docker.sh æ¥æä¾›ä¸€ä¸ªå®‰è£…äº† ReasonML çš„äº¤äº’å¼ shellã€‚**

**Tiny utility script, that allows us to run a reason-able ğŸ˜ shell, on top of our files.**

**![](img/802f0c44ab3cedbb57e0d3c7e4006eb2.png)**

**Result of the commands above. Dockerfile, run-in-docker.sh created with appropriate content, and reason-bread image available.**

**æ­å–œä½ ï¼Œä½ ç°åœ¨å·²ç»å‡†å¤‡å¥½ä¸ NEM åŒºå—é“¾äº¤æµäº†ï¼Œé€šè¿‡ç”¨ ReasonML ç¼–å†™çš„è„šæœ¬â€”â€”æ‰€æœ‰ä½ éœ€è¦ç¼–è¯‘å’Œè¿è¡Œ ReasonML è„šæœ¬çš„äº‹æƒ…ï¼Œéƒ½å‘ç”Ÿåœ¨æˆ‘ä»¬åˆšåˆšæ„å»ºçš„ docker æ˜ åƒä¸­ã€‚**

## **3.åŸå› é¡¹ç›®è®¾ç½®**

**åˆ°ç›®å‰ä¸ºæ­¢ä¸€åˆ‡é¡ºåˆ©ï¼Œæˆ‘ä»¬å·²ç»å»ºç«‹äº†åšå®çš„åŸºç¡€ã€‚NEMÂ·åŒºå—é“¾å’Œ REST èŠ‚ç‚¹æ­£åœ¨è¿è¡Œï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª docker-image å’Œä¸€ä¸ªå°åŠ©æ‰‹è„šæœ¬æ¥è¿è¡Œ ReasonML ä»£ç ã€‚**

**ä¸‹ä¸€æ­¥æ˜¯æ„å»º/äº§ç”Ÿä¸€ä¸ªåŸå› é¡¹ç›®ã€‚**

**![](img/2947f7c7ca71646eae12a578f166e52b.png)**

**Our interactive /bin/bash instance, with bucklescript available should look like this.**

**![](img/30fcf9d4e4e84c8aa42c9f55a68dc2b6.png)**

**Yay, project generated successfully.**

> **ä¸ºäº†ç¡®è®¤æˆ‘ä»¬çš„é¡¹ç›®å·²ç»æŒ‰é¢„æœŸç”Ÿæˆï¼Œè®©æˆ‘ä»¬ç¼–è¯‘å¹¶æ‰§è¡Œæˆ‘ä»¬ç”Ÿæˆçš„æ¼”ç¤ºè„šæœ¬ã€‚**

> **è¯·éšæ„ä½¿ç”¨æ‚¨é€‰æ‹©çš„ä»£ç ç¼–è¾‘å™¨ï¼Œæˆ‘é€šå¸¸é€‰æ‹©ä½¿ç”¨ vscodeã€‚æˆ‘ä»¬çš„ docker æ˜ åƒä»æˆ‘ä»¬å¯ä»¥ä»â€œçœŸæ­£çš„è®¡ç®—æœºâ€è®¿é—®çš„åŒä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸­è·å–/è£…è½½æ–‡ä»¶ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·ç‚¹å‡»[è¿™é‡Œ](http://docker volumes windows path)ã€‚**

**![](img/296feab5df2ccdb6f04320d3d8e3e2c4.png)**

**Our generated Demo script written in Reason, as shown in visual studio code editor.**

> **Demo.re æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå®ƒæ˜¯ä½¿ç”¨ bsb -init ä¸ºæˆ‘ä»¬ç”Ÿæˆçš„ï¼ŒDemo.bs.js ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä½†æ˜¯è¢«ç¼–è¯‘æˆäº† javascriptã€‚**

**![](img/b29db8d2b9688fa223ca35c8da463591.png)**

**Compile & run using node, as any other javascript file.**

# **æˆ‘ä»¬å»ä¹°é¢åŒ…å§**

**æˆ‘ä»¬çš„è®¾ç½®å·¥ä½œæ­£å¸¸ï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥æœ‰è¶£çš„éƒ¨åˆ†(æ®ç§°ğŸ¤”).**

**ç¬¬ä¸€ä¸ªç»ƒä¹ ï¼Œå°†ä½¿ç”¨ sdk å’Œ cli åœ¨ NEM åŒºå—é“¾ä¸Šåˆ›å»ºä¸€ä¸ªæ–°å¸æˆ·ã€‚**

**åœ¨æˆ‘ä»¬çš„ docker ç¯å¢ƒä¸­ï¼Œå®‰è£… nem2-sdkã€‚**

**![](img/8985e3b2a55fdcbdd808977f279570fb.png)**

## **ç”Ÿæˆæ–°å¸æˆ·â€” SDK**

**æˆ‘ä»¬çš„æ¼”ç¤ºé¡¹ç›®åŒ…å«ä¸€ä¸ªåä¸º Demo.re çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ é™¤å®ƒã€‚ç›¸åï¼Œè®©æˆ‘ä»¬åœ¨ src/ä¸­åˆ›å»ºä¸€ä¸ªåä¸º generateNewAccount.re çš„æ–°æ–‡ä»¶ã€‚æˆ‘ä»¬å°†ç¼–å†™ä¸€äº› ReasonML ä»£ç ï¼Œè¿™äº›ä»£ç å°†ä½¿ç”¨ NEM2-SDK ä¸æˆ‘ä»¬ä¹‹å‰è®¾ç½®çš„ Catapult å †æ ˆè¿›è¡Œå¯¹è¯ã€‚ReasonML ä½¿æˆ‘ä»¬èƒ½å¤Ÿç¼–å†™ç±»å‹å®‰å…¨çš„å‡½æ•°ä»£ç ï¼Œå®ƒå¯ä»¥ä¸ javascript(æµè§ˆå™¨å’ŒèŠ‚ç‚¹)é¡ºåˆ©åœ°äº’æ“ä½œã€‚**

**æˆ‘ä»¬å¸Œæœ›åˆ›å»ºä¸€ä¸ª NEM è´¦æˆ·/é’±åŒ…ï¼Œè¿™æ˜¯åŒºå—é“¾çš„ä¸€ä¸ªåŸºæœ¬èº«ä»½æ¨¡å—ï¼Œä½¿æˆ‘ä»¬èƒ½å¤Ÿä½¿ç”¨æ‰€æœ‰é…·çš„ NEM åŠŸèƒ½ï¼Œå¦‚æ™ºèƒ½èµ„äº§äº¤æ˜“æˆ–å¤šç­¾åäº¤æ˜“ã€‚æˆ‘ä»¬å°†å¾—åˆ°ä¸€ä¸ªç§é’¥ã€å…¬é’¥å’Œä¸€ä¸ªåœ°å€ã€‚**

**è®©æˆ‘ä»¬å…ˆéªŒè¯æ–‡ä»¶æ˜¯å¦ç¼–è¯‘å’Œæ‰§è¡Œï¼Œç„¶åæˆ‘ä»¬å°†éå†å®ƒçš„å†…å®¹ã€‚**

**![](img/440d2c03d464b62e46e55cc97cfd5c55.png)**

**Output of yarn start, if everything went fine.**

**ç°åœ¨ï¼Œä¸€ä¸ªæ–°çš„æ–‡ä»¶å‡ºç°äº†ï¼ŒgenerateNewAccount.bs.jsã€‚è¿™å®é™…ä¸Šæ˜¯æˆ‘ä»¬ç¼–è¯‘çš„ javascript è¾“å‡ºï¼Œæ„Ÿè°¢ bucklescript ç¼–è¯‘å™¨ã€‚è®©æˆ‘ä»¬å¿«é€Ÿçœ‹ä¸€ä¸‹:**

**å¾ˆçœ¼ç†Ÿå§ï¼Ÿå®ƒæ˜¯åšä»€ä¹ˆçš„ï¼Ÿ**

1.  **å¯¼å…¥ SDKï¼Œ**
2.  **æå– MIJIN_TEST çš„ typescript æšä¸¾å€¼**
3.  **å¦‚æœæ­£ç¡®æŒ‡å®šäº†æµ‹è¯•ç½‘ç»œï¼Œè¯·ä½¿ç”¨ SDK çš„ Account ç±»æ¥åˆ›å»ºæ–°å¸æˆ·**

**ç°åœ¨å¯ä»¥ä½¿ç”¨ node æ‰§è¡Œè¾“å‡ºè„šæœ¬ã€‚**

**![](img/b5c6d70f766fa67caa5c8611ec381348.png)**

**We have a public/private key pair, with NEM address as well.**

## **ç”Ÿæˆæ–°å¸æˆ·â€” CLI**

**åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»èƒ½å¤Ÿåˆ›å»ºä¸€ä¸ªæ–°çš„ NEM å¸æˆ·ï¼Œä½¿ç”¨æä¾›çš„ SDKï¼Œå…·æœ‰è‡ªå®šä¹‰çš„ ReasonML ç»‘å®šã€‚ç°åœ¨ï¼Œè®©æˆ‘ä»¬å°è¯•ä½¿ç”¨ NEM CLI è·å¾—ç›¸åŒçš„ç»“æœã€‚**

**æˆ‘ä»¬çš„ docker æ˜ åƒå·²ç»åŒ…å« nem2-cliï¼Œæ‰€ä»¥è®©æˆ‘ä»¬ä½¿ç”¨å®ƒã€‚**

> **å¦‚æœæ‚¨çš„ catapult æœåŠ¡æ²¡æœ‰è¿è¡Œï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤é‡æ–°å¯åŠ¨å®ƒä»¬ã€‚**

**Run this outside of the reason-bread docker container, weâ€™ve done it in the getting started section as well, feel free to scroll up back to it!**

**ç°åœ¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ cli ç”Ÿæˆä¸€ä¸ªæ–°å¸æˆ·ï¼Œå¹¶å°†å…¶ä¿å­˜åˆ° CLI çš„é…ç½®æ–‡ä»¶åˆ—è¡¨ä¸­ã€‚æˆ–å¤šæˆ–å°‘æ˜¯ä¸€æ ·çš„ï¼Œå°±åƒæˆ‘ä»¬çš„ä»£ç ä»¥å‰åšçš„é‚£æ ·ã€‚ç¡®ä¿åœ¨ run-in-docker.sh ä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå› ä¸ºæ‚¨éœ€è¦è®¿é—®å®‰è£…åœ¨é‚£é‡Œçš„ nem2-cliã€‚**

**ä¸‹é¢çš„å‘½ä»¤å°†è¯¢é—®æ‚¨æŸäº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸æˆ‘ä»¬çš„ Reason ç¤ºä¾‹ä¸­ç›¸åŒçš„ç½‘ç»œç±»å‹ï¼Œè€Œ NEM2 èŠ‚ç‚¹ URL å°†ä¼šæ”¹å˜(å¦‚ä¸‹æ‰€ç¤º)ï¼Œè¿™æ˜¯å› ä¸º REST èŠ‚ç‚¹åœ¨ä¸€ä¸ªå•ç‹¬çš„å®¹å™¨ä¸­è¿è¡Œï¼Œè€Œä¸æ˜¯åœ¨æˆ‘ä»¬çš„ run-in-docker.sh ä¸­è¿è¡Œï¼Œæ‰€ä»¥æœ¬è´¨ä¸Šè¿™å½’ç»“ä¸º docker ç½‘ç»œï¼Œæ‚¨å¯ä»¥åœ¨è¿™é‡Œäº†è§£æ›´å¤šå…³äº[çš„ä¿¡æ¯ã€‚](https://docs.docker.com/v17.09/engine/userguide/networking/)**

**![](img/c59ec91dcc31f2a67f8bb966dacf4c5f.png)**

**You can verify if your account was generated & saved successfully, by listing the existing profiles.**

## **ä½¿ç”¨åˆç†ç”Ÿæˆçš„ç§é’¥**

**å¦‚æœæ‚¨æ„¿æ„ï¼Œå¯ä»¥ä½¿ç”¨ç¨‹åºç”Ÿæˆçš„å¸æˆ·(ä½¿ç”¨æˆ‘ä»¬çš„åŸå› ä»£ç )å¡«å…… CLI çš„é…ç½®æ–‡ä»¶åˆ—è¡¨ã€‚**

**è¿™å¾ˆç®€å•:**

**![](img/3dce715fdd979a3e68b9e766263c64d3.png)**

**New profile appears at the bottom**

**æ­å–œä½ ï¼Œä½ å·²ç»æˆåŠŸåˆ›å»ºäº†ä¸¤ä¸ª(æˆ–æ›´å¤šï¼Ÿ)NEM è´¦æˆ·ï¼Œä½ ç°åœ¨å¯ä»¥ç”¨å®ƒæ¥æ¢ç´¢ NEM åŒºå—é“¾çš„å…¶ä½™éƒ¨åˆ†ã€‚æœ‰å¤§é‡çš„å¯ç”¨æ–‡æ¡£ï¼Œä½ å¯ä»¥åœ¨è¿™ä¸ªé“¾æ¥æ‰¾åˆ°å®ƒ[ã€‚](https://nemtech.github.io/getting-started/training.html)**

# **ä¸‹ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ**

**åœ¨åç»­æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ¢è®¨ [NEM2 æ°´é¾™å¤´](https://github.com/44uk/nem2-faucet)ã€é©¬èµ›å…‹å’Œå¤šé‡ç­¾åäº‹åŠ¡ã€‚è¿™å°†å…è®¸æˆ‘ä»¬äº¤æ˜“æˆ‘ä»¬çš„å®šåˆ¶é¢åŒ…ğŸ¥–(é©¬èµ›å…‹/æ™ºèƒ½èµ„äº§)ï¼Œç”¨äº xem(è™šæ‹Ÿè´§å¸)å’ŒåŒºå—é“¾ä¸Šçš„å…¶ä»–è´¦æˆ·ã€‚**

# ****æœ¬ç³»åˆ—ç¬¬äºŒéƒ¨**å¯ä»¥åœ¨è¿™é‡Œæ‰¾åˆ°[ã€‚](/@matej.sima/nem-blockchain-faucet-and-transactions-using-reasonml-lets-get-this-bread-pt-2-36e5d06aaf99)**

***Special thanks to* [*IstvÃ¡n DeÃ¡k*](https://medium.com/u/aab89e02a346?source=post_page-----8c8b540ed522--------------------------------) *&* [*Matus Rajsky*](https://medium.com/u/86809c5af59e?source=post_page-----8c8b540ed522--------------------------------) *from NEM Foundation and* [*Matej NemÄek âš¡ å­”å­*](https://medium.com/u/15bb61921cf3?source=post_page-----8c8b540ed522--------------------------------) *from* [*ProgressBar*](https://www.progressbar.sk) *for organizing an amazing NEM workshop!***