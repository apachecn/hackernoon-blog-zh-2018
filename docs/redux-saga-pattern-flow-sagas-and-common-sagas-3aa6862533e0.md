# 还原传奇模式:流动传奇与普通传奇

> 原文：<https://medium.com/hackernoon/redux-saga-pattern-flow-sagas-and-common-sagas-3aa6862533e0>

![](img/4e66691aa668401a60ef7d108953cb0c.png)

我已经和 [redux-saga](https://hackernoon.com/tagged/redux-saga) 一起工作了半年，我喜欢它，因为它允许编写干净的声明性代码。

每当我接触一项[技术](https://hackernoon.com/tagged/technology)时，我都会研究模式、惯例、最佳实践来提高我的知识。
我在 redux-saga 上找到了很多资源(文档非常好),但是没有解释如何在应用程序上构建和定义 saga 以提高可维护性和可伸缩性。

考虑到这一点，我想分享我是如何管理 sagas 的，希望这篇文章能帮助到一些人，并收到一些改进的反馈。
简单的概念就是定义两种传奇，**流和普通**。

# 什么是流量传奇和普通传奇？

## **普通传奇**:

是只有一个职责的传奇，可以在我们应用程序的所有部分使用。
它们应该包括每次动作生命周期(开始、成功、失败)
它们应该**总是返回一些东西**并且要被调用，它们应该作为生成器导出。
他们将错误管理委托给流传奇。
从这里调度的动作**可以管理**redux store 的状态。

例子:**获取**用户的喜好。

## **流传奇**:

是管理一个特性的**行为**的传奇，应该只由一个特性使用**。我们也可以定义一个心流传奇，一个用普通传奇创造一种行为的传奇。** 它们总是被调度的动作调用，并描述特定特性的行为(**流程**)。他们应该管理成功和失败行为，为此我们使用 TRY-CATCH 语句。在尝试中我们有成功的行为，在捕捉中我们有失败的行为。

示例:**该特性如何在引导程序上工作。**

# 我为什么喜欢它？

*   在 sagas 之间创建差异有助于您使您的应用程序更易于维护，因为您可以重用公共部分并划分业务逻辑的职责。
*   通过将两种类型的传奇分开，你可以很快地改变你的应用程序，因为这样你可以隔离行为并改变它们，而不需要触及任何其他东西。
*   错误处理非常容易，因为只有一个地方可以处理它。
*   您可以知道在您的应用程序中发生了什么，因为动作日志记录是非常干净的，并且发现 bug 将是有益的！

我希望这篇文章可以帮助你避免我遇到的一些问题。我很好奇你的方法，以及你对这篇文章的看法。

祝编码愉快🚀

在 Github 上关注我:[https://github.com/CVarisco](https://github.com/CVarisco)在 Twitter 上关注我:[https://twitter.com/chrivarisco](https://twitter.com/chrivarisco)