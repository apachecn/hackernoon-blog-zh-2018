# RxSwift:优势和使用案例

> 原文：<https://medium.com/hackernoon/rxswift-benefits-and-use-cases-e9ddc59a7bbe>

![](img/5cebe5b1d0333357cbdec7a20e91c25a.png)

自 2014 年发布以来，Swift 因其灵活性和相对容易的学习曲线而成为最常用的编程语言之一。除了与众所周知的面向对象编程(OOP)范式兼容之外，该语言还允许以函数式反应式编程(FRP)风格编写代码(尽管是以稍微定制的、不真实的形式)。

特别是，出于 FRP 的目的， [RXSwift](http://reactivex.io/) 库是在 Swift 首次发布两年后创建的。它在很短的时间内变得非常流行。

接下来，我们将讨论这个库的概念，回答问题“为什么使用 RXSwift？”，并描述在您的应用程序中使用它的好处。

# 定义:什么是函数式反应式编程？

RXSwift 是什么？为了充分理解它的目的，并回答这个问题，你应该发现一些相关术语的含义。

那么，什么是函数反应式编程(FRP)？基本上，它是反应式编程和函数式编程的结合使用。所以，如果你想正确地定义每件事，弄清每个方法的意义是必须的。

[反应式编程](https://en.wikipedia.org/wiki/Reactive_programming)是一种特殊的编程范式，它会自动改变“附属于”应用性能变化的所有变量。例如，如果在命令式编程中，赋值语句 z = x + y 仅在当前时刻影响 z 值，那么在反应式编程的情况下，z 将根据应用程序执行期间 x 和 y 的定制方式自动转换。

这就像打开电灯开关一样:开关和灯泡是耦合组件。用编码术语来说:假设灯泡对开关做出反应，并相应地转换其状态，那么它是**反应性的**，开关是**可观察的，**因为它只观察灯泡状态的变化。

总而言之，反应式编程就是编写定义如何对变化做出反应的代码:用户输入、来自流的数据、系统状态的变化等等。

[函数式编程](https://en.wikipedia.org/wiki/Functional_programming)是命令式编码的对立面。它允许通过数学关系(即函数)来表达系统代码逻辑，而不是严格的动作序列(这是命令式编码的一个特征)。它允许显著地减少一般的代码量，使其更容易进行单元测试，并且减少了出现在独立变量之间的连接定义中的错误数量。

因此，[功能反应式编程](https://en.wikipedia.org/wiki/Functional_reactive_programming)是一种全新的解决方案，用于在互连变量中分配定制。FRP 的解释之一是 RxSwift 库——用同一种语言编写的带有反应式扩展的 Swift 版本。其目的是当应用程序在用户移动设备上运行时，处理在后台执行的异步代码。

此外:

*   它是一个借助可观察序列来编写异步和基于事件的程序的工具。无需担心同步、低级线程、非阻塞 I/O、线程安全和并发数据结构。observer 模式被扩展以支持数据序列和/或事件，并且添加了操作符，以便您能够以声明的方式将序列组合在一起。
*   “可观察的”可以被用作一个通用的、高度可组合的模式。这样，你就不必一次使用大量的模式，比如完成块、目标动作、委托以及其他许多模式。

# 在哪些情况下应该使用 RxSwift？

首先，你必须认识到 RxSwift 的身体和灵魂是可观察的序列，即基于可观察序列中的状态变化而执行的事物。

大多数 iOS 开发人员注意到，学习 RXSwift 基础知识很难。然而，事实是，异步调用是一件复杂的事情。由于处理它们的困难和技术的年轻，许多没有经验的程序员有时宁愿忽略 RxSwift。它三年前才出现，还没有足够的时间收集完整的文档和专题文章。这正是我们决定尝试帮助您了解何时以及为何使用 RXSwift 的原因，以便您可以评估自己花时间学习这项技术的合理性。

事实上，如果您能够很好地理解 FRP 概念，那么您可能已经得出结论，RxSwift 可以极大地简化您的工作。让我们弄清楚这个库解决了哪些特定的问题。总而言之，在以下情况下使用它:

## 你被频繁使用 KVO 的必要性所困扰

[KVO(键值观察)](https://developer.apple.com/library/archive/documentation/Cocoa/Conceptual/KeyValueObserving/KeyValueObserving.html)是 Objective-C 中实践的一种技术，它允许通知对象关于其他对象状态的特定变化。然而，尽管 KVO 有明显的强大功能，它在程序员中并不流行。这通常被认为是一种绝望的措施，只有在没有其他解决办法的情况下才使用。问题是，这项技术有一个相当大的缺点——严重的性能消耗。经常用的时候肯定有感觉。反过来，RXSwift 的创建者通过最小化使用这个 API 的必要性，从根本上解决了这个问题。

## 您需要同步两个请求

在某些情况下，开发人员必须调用 API 来重新设计当前的 UI 表示。这是因为[并不是所有的 REST API](http://adamborek.com/practical-introduction-rxswift/)都适合为移动平台创建应用。即使对于有经验的开发人员来说，为调用提供同步也是困难的。为此，您必须记住一些布尔变量(在处理用户请求时，它们的值可能会有所不同)，并努力创建一个类来组织变量之间的相互联系。如果您使用的是 RxSwift，那么您可以简单地使用一个 [zip](http://reactivex.io/documentation/operators/zip.html) 操作符，该操作符将两个观察值结合起来，并在处理完两个 API 请求时发送一个应答。

## 你不想让自己忙于代表

事实上，RxSwift 消除了使用大量委托的严格必要性。为什么？UI 开发与对各种异步任务的反应密切相关。最简单的反应方式是使用观察者模板。就 Swift 而言，这些模板就是众所周知的代表。我们相信，代理极大地帮助了开发人员解决了异步调用的问题。它们用于将方法作为参数传递给其他方法。

然而，为此，他们需要编写大量的代码，包括变量的创建、协议的创建和定义，以及变量的安装。在这种方式下，虽然开发人员(或开发团队)必须在一个单一的接口上工作，但委托的实现和进一步使用需要记住大量的信息。

反过来，RxSwift 设法彻底解决了这个问题。这个库引入了以声明性风格编写代码的能力，而不增加 UIViewController 的大小，也不需要 objc(通常，需要 objc 来获得一些额外的必需函数)。

## 你努力创造模块化代码

有时，开发人员需要使用属性观察器来跟踪与被观察对象相关的任何定制，并立即对其做出反应。它们与 didSet(用于在自定义属性后执行代码)和 willSet 操作(用于在自定义属性前执行代码)一起操作。另一方面，使用属性观察者的代码构造可能看起来过于庞大。使用 RxSwift，你可以减少代码的总量，将代码的某些部分分成独立的功能。

# 总结 RxSwift 的优点

用几句话总结上述所有内容，开始使用 RxSwift，您可能会获得以下优势:

*   编写多用途代码的能力；
*   声明式编码风格的优势；
*   代码结构的简洁性和可读性；
*   合理管理 app 资源；
*   与 MVVM 模板完美兼容；
*   发展迅速，支持广泛；
*   程序员职业生涯进一步发展的最佳条件(类似的技术也存在于 Java 和 JavaScript 中，所以即使是基本的 RxSwift 知识也会帮助你在 React-Native 上编写跨平台的应用程序，例如)。

# Swift 的反应式编程:结论

正如你所看到的，尽管掌握理论上的 RxSwift 很复杂，但这项技术能够简化 iOS 开发人员的生活。我们强烈建议学习 RXSwift 的基础知识。另一方面，你可以把你的 iOS 项目[的技术实现的责任放在我们](https://applikeysolutions.com/)身上！我们将为您提供一个完全现成的解决方案，不需要任何额外的修复或增强(至少在很长一段时间内——进步不会停滞不前)。填写[这张表格](https://applikeysolutions.com/contact)以便讨论我们合作的所有细节，我们将很快与您联系！

【applikeysolutions.com】最初发表于[](https://applikeysolutions.com/blog/rxswift-benefits-and-use-cases)**。**