# 在世界最大的体育赛事中可靠扩展

> 原文：<https://medium.com/hackernoon/scaling-reliably-during-the-worlds-biggest-sports-events-1e0df14bb0af>

![](img/2e207e534d84e79640b29187c31b77a5.png)

Erlang Solutions 与一些世界领先的在线赌博运营商合作。 [**看我们做什么**](https://www.erlang-solutions.com/industries/online-gambling-betting.html) 。

bet365 的技术负责人马丁·戴维斯一年前告诉我们:“网上博彩商店忙碌的一天就像亚马逊的黑色星期五，只是价格每秒都在变化。”。在大型体育赛事期间，如足球比赛，可能会持续数周，吸引全球的兴趣和观众人数，相比之下，亚马逊的黑色星期五就相形见绌了。

运营商需要扩展和创新，同时每天和每小时为大量的顾客提供服务。以下是我们的建议:

# 创新规模的困境:

博彩公司不仅要满足高频率请求和流量激增的需求，还要吸引精通技术的多渠道客户。这是他们遇到最大挑战的地方；“创新规模困境”

为了满足用户需求，该行业不断创造和改进新类型的游戏和投注。这时，技术部门发现了这个难题。超过一定数量的用户，就失去了快速创新的能力。宝贵的时间花在重写软件上，使其按比例运行，从而减缓发布时间。

为了打破这种恶性循环，最具创新性的行业参与者——如 bet365 和 William Hill——选择了 Erlang(或 Elixir，一种基于与 Erlang 相同基础的语言)作为他们的核心技术。Erlang Solutions 还支持 Klarna 等全球支付公司、ooVoo 等消息公司以及英特尔等物联网公司，所有这些公司都面临着与在线博彩公司类似的技术挑战。

[**阅读更多 SBC 新闻**](https://www.sbcnews.co.uk/features/2017/05/30/erlang-solutions-functional-programming-bookies/)

# 大规模创新

“创新或死亡”是当今大多数面向消费者行业的现实生活。由于计算行业的进步步伐没有放缓的迹象，创新创业公司的破坏对任何市场的老牌企业都是一种生存威胁。

在线业务尤其容易被颠覆，因为开展在线业务所需的工具和技术几乎是免费的，没有任何附加条件。[网络赌博和博彩行业](https://www.erlang-solutions.com/industries/online-gambling-betting.html)没什么不同。鉴于最近在线赌博的流行，尤其是在世界杯期间，老牌玩家必须创新，才能在市场中保持一席之地。

每一步，用户体验第一。不管后端挑战如何，人们一直要求 it 变得更简单、更流畅。这使得博彩业不得不寻找最有效的方法来引导用户实现他们的目标，无论是注册、玩游戏、下注、兑现赌注还是存款。系统必须具有超强的响应能力，能够随时随地以客户想要的方式与他们互动。

与竞争对手相比，这些“正确”的人享有更高的客户参与度和保留率，从而获得更高的利润。对于每个运营商来说，通过技术堆栈支持以客户为中心的旅程略有不同。

一些老牌运营商的遗留系统很难在保持正常运行时间和客户体验质量的同时进行扩展或现代化。这些运营商明智的做法是后退一步，回顾他们的技术选择，并评估在令人眼花缭乱的新旧技术中，哪一种最能帮助他们实现这些以客户为中心的目标。花些时间想象一下理想的 sportsbook 架构应该是什么样的，没有遗留的负担，然后绘制出实现这一目标的演进路线图，会有所帮助。

[**阅读更多 SBC 新闻**](https://www.sbcnews.co.uk/features/2017/06/06/chandru-mullaparthi-erlang-non-mainstream-programming-languages/)

# 并发性、可伸缩性和可靠性

在任何时候，bet365 的系统都在为成千上万的用户提供实时服务，同时在后端管理多个数据流。在高峰时期，如超级碗或全国大赛，用户数量以数量级膨胀。这是并行工程的一个了不起的壮举。

说到并发，Erlang 和 Elixir 都是建立在 BEAM 虚拟机 excel 上的。它们都是面向并发的函数式语言，用于同时处理大量用户。Erlang 的用户涵盖了电信、广告技术等各行各业；财务支付；大型多人在线角色扮演游戏；和社交媒体都利用它的能力来提供令人印象深刻的并发性。

现代博彩基础设施需要巨大的可扩展性、速度和容错能力才能平稳运行。如果系统中没有内置的可扩展性，运营商将不得不依靠额外的硬件来进行纵向扩展，这种方法既不可持续，也不具成本效益。

Erlang 和 Elixir 的并发能力与其巨大的可伸缩性密切相关。如果 Erlang 不是系统中每项工作的最佳工具，那么可以插入基于 Erlang 的产品的分布式体系结构可以让您的下注系统快速部署和弹性伸缩。在 Erlang 中构建的工具，比如 Riak KV，可以预测地伸缩。告别紧急硬件和严重负载下系统性能不可预测的头痛问题。

与股票市场一样，在线博彩运营商的停机时间会带来直接的财务和声誉后果。对于在线体育博彩来说，提供超可靠的实时服务现在是博彩公司和投注者的首要任务。只要看看蓬勃发展的体育赛事市场就知道了。

在这个世界上，任何类型的暂停，如系统故障、垃圾收集或队列积压，都是不可接受的。在线投注站必须在不影响系统流程或最终用户的情况下处理不断涌入的数据。

Erlang 和 Elixir 的并发性、非共享内存架构和内置的“失败和恢复”方法使它们在高度可变的随机负载下表现得极其优雅和可预测。事实上，Erlang 支持的数据变化速度是其他语言的四倍。这使得 Erlang 和 Elixir 成为构建重要的赌博系统的理想选择。

[**阅读更多 SBC 新闻**](https://www.sbcnews.co.uk/features/2017/09/26/erlang-elixir-programming-language/)

# 这项工作的最佳工具

软件开发社区正在经历一场多样性和包容性的革命，因为越来越多的开发人员正在远离最大的编程语言，寻找合适的工具来应对我们这个新的、懂技术的世界的微妙挑战。结果是:组织被迫使用事实上的编程语言变得越来越少，因为这是他们的开发者社区使用的语言。

一刀切的堆栈永远不会无限扩展。我们在游戏行业学到的最重要的一课是认识到解决所有问题的灵丹妙药并不存在，选择合适的工具非常重要。当博彩运营商需要时，Erlang 和 Elixir 在可靠和高效地扩展方面表现出色，但也补充了更适合系统其他方面的其他工具和语言。

[只需看看 bet365](https://www.erlang-solutions.com/resources/case-studies.html#innovation-and-scalability-bet365-relies-on-erlang-based-system-to-deliver-smooth-service-to-22-million-players-8-doc) ，其中间件系统开发经理 Andrew Deane 最近公开表示“当我 4 年前加入 bet365 时，该公司正处于 Erlang 开发的第二次浪潮中。

用 Erlang 证明了这个模型之后，探索其他语言的大门就敞开了。继续为正确的工作使用正确的工具，我们已经在我们的通知系统和测试工具中发现了 Google Go 的用例，最近在我们的应用工具中发现了 Elixir 的用例。"

[**阅读更多 SBC 新闻**](https://www.sbcnews.co.uk/features/2017/11/16/erlang-handling-spikes-loads-new-era-gaming/)

Erlang Solutions 与一些世界领先的在线赌博运营商合作。[见**见**见](https://www.erlang-solutions.com/industries/online-gambling-betting.html)。

*原载于 2018 年 6 月 22 日*[*www.erlang-solutions.com*](http://www2.erlang-solutions.com/l/23452/2018-06-22/5lrhqg)*。*