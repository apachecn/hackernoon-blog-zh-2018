# 房间里的大象:安全令牌中的安全和隐私协议

> 原文：<https://medium.com/hackernoon/the-elephant-in-the-room-security-and-privacy-protocols-in-security-tokens-a6687af8d1d6>

![](img/165717a1502490a169e7bcee5ffbc6c8.png)

数据安全和隐私是安全令牌世界中最敏感的两个方面。不足为奇的是，与加密安全架构的其他方面相比，我们花在讨论安全和隐私协议上的时间要少得多。当谈到安全令牌时，安全和隐私协议不仅是一个技术上具有挑战性并且常常令人生畏的主题，而且也是一个可以挑战当前加密安全基础的主题。从目前这一代安全令牌架构缺失的所有方面来看，安全和隐私是我觉得可以打破整个生态系统的前提。

为了理解安全令牌领域的安全和隐私挑战，让我们尝试将其与证券化产品进行比较。金融证券在相对较少的中央集权机构之间建立的信任边界内运作。为了确保金融安全交易的隐私和保护，GDPR、SWIFT、FINRA 等机构每年都会修订数百项法规。加密证券的前提是在遵守隐私法规的同时，使用计算逻辑消除许多可信边界。为了实现这一点，许多现有的隐私和保护法规需要适应分散的、基于区块链的协议，这些协议最初是为了忽略集中的边界而创建的。

当我们考虑两个关键方面时，加密证券中的安全性和隐私性的概念变得有点糟糕:

a)安全令牌在以太坊这样的区块链网络中运行，在该网络中，隐私是最好情况下的第二层协议。

b)安全令牌依赖于已知身份，以符合了解客户(KYC)和反洗钱(AML)等法规，这意味着它们不享受加密货币的匿名优势。

为了说明安全令牌中的隐私挑战，让我们使用两个常见的示例:

1)在德国发行的令牌化资产受数据保护法规的约束，该法规规定，令牌化资产只能在德国各方之间交易，并且与交易相关的数据不能离开德国司法管辖区。

2)基于资产的令牌化产品需要符合 FINRA 隐私规则，该规则强制保护与涉及资产的任何交易相关的敏感信息。

第一个场景呈现了隐私和去中心化之间的冲突，而第二个场景突出了隐私和遵从之间的冲突。这两个场景都是安全令牌动态的例子，我喜欢称之为“隐私困境”。

# 安全令牌中的隐私困境

上一节中总结的挑战可以总结为一个简单的数学难题:安全令牌架构可以设计为优化以下三种功能中的两种:隐私、分散和遵从。这意味着安全令牌运行时可以是高度分散和私有的，依赖于像 ZK-斯纳克这样的协议，但不符合某些规定。类似地，专注于隐私和合规性的安全令牌网络可能会牺牲去中心化以获得某种回报。

![](img/99398dff0bc0a0823fe30612eb4541d9.png)

隐私困境是影响下一代安全令牌协议的因素之一。通过启用加密证券中的隐私，分散化和法规遵从性之间的摩擦

# 解决安全令牌中的隐私问题

让隐私成为安全令牌架构的一等公民将是一个漫长的旅程。我相信加密证券的第一波隐私解决方案将会在链外实施，随后是依赖可信的中央权威机构的解决方案。在此之后，我们可能会看到隐私解决方案依赖于侧通道来处理链外的敏感计算，最后，我们应该看到隐私协议作为安全令牌架构的本地组件。

![](img/fbd09b18c1881ef8db82d7306c4850e9.png)

# 链上隐私协议和安全令牌

如果我们假设隐私协议将成为安全令牌平台的相关构件，那么我们应该利用区块链社区在这一领域所做的一些令人难以置信的工作。下面，我列出了一些在下一代安全令牌架构中可以发挥作用的隐私协议。

**CryptoNote &环签名:**区块链隐私的祖辈之一， [CryptoNote](https://downloads.getmonero.org/whitepaper_annotated.pdf) (CryptoNight)是 Monero 背后的协议。从概念上讲，CryptoNote 利用一种称为可追踪环签名的加密技术来混淆分散网络中一组节点之间的消息。CryptoNote 协议的改进已经证明能够产生高度的匿名性，同时在可扩展的水平上操作。在安全令牌的上下文中，CryptoNote 可用于加强安全令牌交换的特定部分的隐私。

**ZK-SNARKS:**ZCash 背后的协议， [zk-Snarks](https://eprint.iacr.org/2013/879.pdf) 是一种新形式的零知识加密技术，允许一方(证明者)向另一方(验证者)证明一个陈述是真实的，而不透露任何超出该陈述本身有效性的信息。自 ZCash 推出以来，zk-Snarks 已被改编为不同的区块链技术，如摩根大通法定人数。安全令牌可以结合 zk-SNARKS 作为第一类块来保护安全令牌传输中的数据。

**zk-STARKS:** 根据我们的三角理论，zk-Snarks 的挑战之一是难以大规模应用，因为证明的复杂性与数据库的大小成线性比例。今年早些时候，以色列理工学院的 Eli-Ben Sasson 教授[发表了一篇备受期待的论文](https://eprint.iacr.org/2018/046)，描述了 zk-Snarks 的一种更快的替代方案，他决定将其命名为 zk-Starks(以保持混乱)。Ben Sasson 教授在论文中解释说,“zk-SNARKs 使用公钥(非对称)加密来建立安全性。相反，zk-STARKs 需要一种更精简的对称加密技术，即抗冲突散列函数，从而消除了对可信设置的需求。这些相同的技术也消除了 zk-SNARKs(和 BulletProofs)的数论假设，这些假设计算量很大，容易受到量子计算机的攻击。这使得 zk-STARKs 的生成速度更快，并且是后量子安全的。”

**TEE:** [可信执行环境(TEE)](https://ieeexplore.ieee.org/document/7345265/) 已经成为区块链技术公司卸载机密计算的一种流行方式。诸如[英特尔软件保护扩展(SGX)](https://software.intel.com/en-us/sgx/details) 隔离代码执行、远程证明、安全供应、数据安全存储和代码执行的可信路径等技术。在 tee 中运行的应用程序受到安全保护，几乎不可能被第三方访问。安全令牌可以使用 tee 来卸载核心区块链的隐私计算。

**安全多方计算:**恩尼格玛区块链背后的协议，[安全多方计算](https://en.wikipedia.org/wiki/Secure_multi-party_computation) (SMC)是一种加密技术，允许针对一组输入执行计算，同时保持输入的私密性。SMC 可用于安全令牌交换中的各方，以交换有关信息的断言，同时保持实际信息的私密性。

# 隐私是安全令牌的第二层协议吗？

当前一代的安全令牌平台很少考虑隐私和安全性。确定隐私将如何在加密安全环境中发展的一个基本问题是确定隐私将是安全令牌网络的第 1 层还是第 2 层协议。目前，大多数安全令牌在以太坊上运行，作为一个网络，以太坊没有隐私优先协议。在我看来，隐私是挑战以太坊作为安全令牌运行时的可行性的一个方面。安全令牌平台能否将隐私协议作为其堆栈的一部分，或者我们是否需要第 1 层隐私运行时？