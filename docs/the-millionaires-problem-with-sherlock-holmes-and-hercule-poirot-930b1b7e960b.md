# 《百万富翁》中夏洛克·福尔摩斯和赫丘里·波罗的问题

> 原文：<https://medium.com/hackernoon/the-millionaires-problem-with-sherlock-holmes-and-hercule-poirot-930b1b7e960b>

*[*百万富翁的问题*](https://en.wikipedia.org/wiki/Yao%27s_Millionaires%27_Problem) *问两个百万富翁是否能知道谁更富有，而不用告诉对方他们各自有多少钱。**

*![](img/6baf5ef1418511015d1f1fb0b20204f3.png)*

*Poirot vs. Holmes*

*[*社会主义百万富翁问题*](https://en.wikipedia.org/wiki/Socialist_millionaires) *问两个* [*百万富翁*](https://hackernoon.com/tagged/millionaires) *能否得知他们是否有同样多的钱，而不透露他们各自有多少钱。**

*这些都是安全多方计算(SMC)的例子。SMC 是一个密码学领域，在 [*【区块链】*](https://hackernoon.com/tagged/blockchain) *和互联网隐私公司中受到广泛关注，试图保护在线个人数据。**

*这篇短篇小说讲述了一个伪装成犯罪惊悚片的社会主义百万富翁问题的非技术性变体！*

# *背景*

*这是本世纪的犯罪案件。著名的本伯里公爵夫人被发现死在她位于罗克比庄园的乡间别墅里。*

*她的特权生活在圆形餐厅结束了，她躺在蜡烛和棍子旁边。*

*在公爵夫人被谋杀的那天，有十位客人住在大厅里，由于大雪，没有办法进出庄园。嫌疑犯被有效地困住了。*

*其中一位客人哈拉尔德伯爵发现公爵夫人瘫倒在餐厅窗户的底部，立即打电话报警。*

*然而，在冬季条件下，警察无法立即到达大厅。*

*…*

*几天之内，关键是在任何嫌疑人逃跑之前，警察已经清理出一条穿过庄园的道路，穿过了大厅巨大的前门。*

*几天的耽搁意味着警察有备而来。他们带来了世界上最好的两名侦探。*

# *侦探们*

*对于受人尊敬的比利时侦探赫丘里·波罗来说，这是一个完美的案例。他专门处理谋杀案件，这些案件涉及一小部分由于天气或交通工具的选择而与外界隔绝的人。*

*但是这个案子也激起了波洛先生最大的竞争对手，名副其实的英国侦探夏洛克·福尔摩斯的兴趣，而英国是他的家乡。*

*对两位警探来说，这个案子意义重大。世界各地的报纸都刊登了这一消息，并使侦破此案的侦探得到了广泛的认可。*

*但是，更重要的是，这终于是一个决定谁是更伟大的侦探的机会。这两个巨头从未合作过同一个案子。*

# *这项研究*

*他们一到达豪华的犯罪现场，就以连他们自己都感到惊讶的热情和承诺开始了他们的工作，因为他们试图击败他们的主要竞争对手。*

*连续两天，两位侦探仔细分析了细节，小心翼翼地收集了证据，并仔细地对十位客人进行了审问，其中一位肯定是凶手。*

*对两位侦探来说——尽管他们从不向对方承认——这被证明是他们遇到过的最困难的案子。*

*马不停蹄调查的第三天，他们筋疲力尽。但是他们都得出一个结论。*

*波洛先生派人去客厅找夏洛克·福尔摩斯。*

# *客厅*

*“您好，福尔摩斯先生，”波洛开始说道。“请坐。”*

*“谢谢你，波洛。”福尔摩斯回答并照办了。“现在，你的调查进行得怎么样了，老伙计？”*

*“事实上，我觉得这很容易，福尔摩斯先生。”波洛虚伪而傲慢地说道。“我知道是谁犯下了这起罪恶的谋杀。"*

*“天哪，”福尔摩斯回答道，“我没想到你已经破解了它。我很感动，老果。但是，我不敢说，我也得了。”*

*波洛本以为他已经领先福尔摩斯几英里(甚至几公里)了，这让他大吃一惊。他心想，福尔摩斯肯定没有发现泄露一切的线索。*

*福尔摩斯在接到撒旦先生打来的电话前几分钟就已经算出了答案，他让自己的潜意识仔细思考了细节，同样震惊的是，这位留着小胡子的比利时人可能已经通过他乘坐的逻辑过山车找到了答案。*他到底是怎么解决这个问题的。这个案子差点把我难倒了！**

*在波洛开始之前，他们静静地坐了一会儿。*

*"好了，福尔摩斯先生，是时候告诉我你认为是谁犯下了这桩可怕的罪行了。"*

*“你先，老伙计。福尔摩斯回答道:“我不会那么容易就泄露秘密的。”。*

*“绝对没有！”波洛回答道，“我不可能在你面前说。”*

*“那么，我们有点被骗了，撒旦先生。我真的不知道我们该如何继续，”福尔摩斯说道。*

*“是的，这是一个棘手的问题，不是吗……也许我们可以告诉黑斯廷斯或沃森我们认为谁是罪犯，他们可以告诉我们，如果我们得出了相同的结论”波洛说，大声思考。*

*“但是黑斯廷斯和华生是忠诚的，”福尔摩斯回答道。“我不会告诉黑斯廷斯，你也不会告诉沃森。我们不能信任任何一个嫌疑人，因为他们也可能效忠于，甚至可能是凶手！”*

*“这是真的，我们不能向任何人透露我们的结论。尽管如此，我们必须找到一种方法来确定我们是否已经选定了同一个罪犯，”波洛说。*

*两名侦探坐在熊熊燃烧的炉火旁沉思。波洛穿着一件勃艮第丝绸晨衣，一双绣花拖鞋和一张小胡子网，啜饮着一杯波尔图葡萄酒。夏洛克发疯似地抽着烟斗。*

# *解决方案:安全多方计算*

*是黑斯廷斯打破了这种沉默。他躲在壁炉旁边。*

*“我知道有一种方法可以看出你们是否得出了相同的结论，但不会透露任何进一步的信息！”他大声说道。*

*“黑斯廷斯！”波洛说，“我完全不知道你在这里。你必须停止像这样偷偷靠近我，这很奇怪。但是，请继续。”*

*“好吧，这样如何！”黑斯廷斯热情洋溢地说道。“所以在庄园的大厅外面，有十个别墅排成一排。每个小屋的前门都有一个木制的邮筒，上面有一条缝，用来放邮件。*

*![](img/87f05e7882d5f8c204f5b8741a515351.png)*

*The cottages*

*“每个邮箱的盖子都用挂锁锁上了。每个小屋的房客都有邮箱挂锁的钥匙。当他们想要领取邮件时，只需打开挂锁，打开邮箱盖。”*

*“继续，”夏洛克说，他开始注意了，但对黑斯廷斯花了这么多时间处理细节感到沮丧。这个令人恼火的男人显然很享受他在聚光灯下的时刻。*

*黑斯廷斯继续说道。“现在，在我的调查过程中——是的，在过去的几天里我自己也进行了一些调查——我注意到所有十把挂锁看起来都一样，所以你无法区分成套的钥匙和挂锁。*

*“所以，首先，我在一张纸上写下每个嫌疑犯的名字。然后，我出发去收集十把钥匙，这些钥匙适合十把不同的挂锁。我还把一张写有嫌疑人名字的纸贴在每个邮箱的外面，然后我回到这里。*

*“一旦我回来，就轮到你了，撒旦先生。我给你十个邮箱的十把钥匙。然后你必须沿着小屋走，找出哪把钥匙可以打开贴有罪犯名字的邮箱。*

*“然后你回到这里，给我九把钥匙，不能打开你的罪犯的邮箱。*

*“那么该轮到你了，福尔摩斯先生。在九张纸上，你写下“不”。在一张纸上，你写下“是”。然后你在所有十张纸上签名。*

*“那么，福尔摩斯先生，你去参观那些农舍，而我和波洛先生留在这里。因为所有的钥匙和挂锁看起来都一样，你无法分辨哪把挂锁对应波洛先生的钥匙。因此你对波洛选择的罪犯一无所知。*

*“你继续通过你选择的罪犯的邮箱投赞成票，然后把反对票投入其他九个邮箱。然后你回到这里。*

*“福尔摩斯先生一回来，就又轮到你了，撒旦先生。你必须回到村舍。因为你只有一把钥匙，你只能打开你选择的邮箱。*

*“在这个盒子里，你会发现一张纸，上面有福尔摩斯先生的签名。它要么说是，要么说不是。*

*“你必须带着这张纸回到这里，让我们看看上面写了什么。如果答案是否定的，那你就没有找到同一个凶手。但是如果它说是，那么你选择了同一个罪犯。*

*“就这样！通过做这些步骤，你只会知道你是否已经确认了同一名凶手。”*

# *协议*

*波洛先生和福尔摩斯先生都被黑斯廷斯的想法吓了一跳。*

*“为什么……太棒了”他们都惊呼道。“除了一些调整，以确保我们都不能作弊，我认为这将工作！”*

*十分钟后，他们完成了黑斯廷斯的协议。波洛先生展示了他从罪犯的邮箱里找到的纸条。*

*纸上写着“不”字。*

*狩猎继续！*

****“安全多方计算(SMC)*** *是密码学的一个子领域，其目标是为各方创建方法，共同计算他们输入的函数，同时保持这些输入的私密性。”—维基百科**

**作者是 Everledger 的区块链工程师，也是提供免费品牌管理软件的*[*pil cro*](https://www.pilcro.com/?utm_source=medium&utm_medium=smc)*的联合创始人。另一部加密惊悚片，请查看* [*《达芬奇零知识证明》*](/swlh/the-da-vinci-zero-knowledge-proof-d6271363382b) *。**