# 整体、微服务和无服务器计算:利弊

> 原文：<https://medium.com/hackernoon/the-monolith-microservices-and-serverless-computing-pros-and-cons-c1ecf2bdc317>

![](img/a88ac2046c87e8e0ef40dc8b65b9ed72.png)

为您的产品选择整体式、微服务和无服务器架构对于满足业务需求和确保积极的最终用户体验至关重要。如何选择合适？

当一个新的软件产品必须被编写时，开发者必须事先考虑产品的架构。部署一个整体产品能实现商业目标吗？或许，把 app 拆分成几个通过 API 进行交互的微服务会更好？或者更好的是，也许我们应该使用一些无服务器的计算服务，如 Azure Functions 或 AWS Lambda，只需部署我们的代码，根本不用担心底层架构？让我们来看看这些可能性及其利弊。

# Monolith 应用架构:复杂的开发，简单的操作

Monolith 应用是历史最悠久的应用。大多数企业遗留解决方案都是使用整体架构构建的，尽管有很多关于在你的恐龙背上编码的笑话，但这些解决方案有一个不可否认的优势:它们仍然工作，并且做得很好。即使被视为内部未知的巨大黑匣子，这些解决方案也有清晰的管理算法、数量有限的外部交互端口和可预测的行为。

![](img/17da438dab0602e72e39290849cddaf3.png)

它们最大的缺陷是更新它们的复杂性，因为理清原始开发过程留下的混乱代码实际上是不可能的。这可能是由于缺乏最初的开发人员，或者由于代码是使用一个废弃已久的框架编写的，等等。

因此说，遗产独石最大的缺点同时也是它们最大的优点。它们是有限的，并且可以提出有限数量的问题，这些问题具有有限数量的解决方案。这使得操作它们变得可预测和相对简单。

# 微服务:简单的开发，复杂的操作

当你拥有一堆互联的微服务而不是一个整体解决方案时，事情似乎变得容易多了。每个组件都可以由单独的团队开发、测试和部署，它可以轻松地进行水平扩展，并可以作为其他产品的一部分重用。Docker containers 和 Kubernetes container orchestration platform 在功能和流行度方面的最新进展使得使用微服务进行软件交付变得更加方便和可行。

![](img/c70e06b67d41b62b5c70a7606fbd2cdd.png)

使用微服务的缺点包括增加了开发每个组件以响应其他组件请求的复杂性；运行系统操作的复杂性增加；确保 CI/CD 流程等的运营需求增加。许多企业面临的最大挑战之一是，为了在软件产品中高效使用微服务架构，企业应该雇佣经验丰富的开发运维团队，或者选择来自某个[托管服务提供商](https://clutch.co/it-services/msp)的开发运维即服务。

# 无服务器计算:编写代码，CSP 处理剩下的工作

无服务器计算允许执行你可能需要的任何功能(因此谷歌、微软和 IBM 产品的名称——[谷歌云功能](https://cloud.google.com/functions/)、 [Azure 功能](https://azure.microsoft.com/en-us/services/functions/)和 [IBM 云功能](https://www.ibm.com/cloud/functions))，而无需关心基础设施——服务器、它们的软件和工具、备份和扩展都随产品一起提供。您只需编写代码并运行它，平台会处理剩下的事情。虽然这可能过于简单，但使用无服务器计算对于完成一次性任务或辅助过程非常有益。

![](img/7bfae109cc7f28d34fd261e350ff5e2f.png)

# 关于整体、微服务和无服务器计算的最终想法

这三种方法并不矛盾，它们仅仅是工具的一种选择。如果你的产品相对简单，可以作为一个整体高效运行——就这样做，不要把它分成微服务，使情况变得过于复杂。如果您需要某个代码在被某个事件触发后运行，并且不想为此花费不必要的精力来支持基础设施，那么就利用无服务器计算的功能。如果您需要能够重新组合产品的各个部分或单独更新它们，微服务架构可以助您一臂之力。也就是说，我们认为这场竞争的真正赢家是开发者，他们现在拥有了更多的工具。

我们希望这篇文章是一个有趣的阅读，并引发一些思考。有没有把整块拆分成微服务分享的经验？或者你使用无服务器计算有很大好处吗？请分享你对此事的想法和观点！如果您在配置微服务和无服务器计算或任何其他 DevOps 服务方面需要任何帮助，只需[告诉我们](https://itsvit.com/contacts/)，我们随时乐意提供帮助！

*最初，我将这个故事发布在我公司的博客上——*[https://it svit . com/blog/the-monolith-micro services-and-server less-computing-pros-and-cons/](https://itsvit.com/blog/the-monolith-microservices-and-serverless-computing-pros-and-cons/)