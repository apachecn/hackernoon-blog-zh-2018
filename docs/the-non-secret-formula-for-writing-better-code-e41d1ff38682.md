# ç¼–å†™æ›´å¥½ä»£ç çš„éžç§˜å¯†å…¬å¼

> åŽŸæ–‡ï¼š<https://medium.com/hackernoon/the-non-secret-formula-for-writing-better-code-e41d1ff38682>

![](img/691f7c5c51a0580820bf56a1b27eb0d0.png)

[Thereâ€™s no such thing as two](https://www.youtube.com/watch?v=aAwJlD-m_hE)

***å…è´£å£°æ˜Ž*** *:æœ¬å¸–æ‰€æœ‰å†…å®¹å‡ä¸ºæœ¬äººè§‚ç‚¹ã€‚ç„¶è€Œï¼Œè¿™æ˜¯ 100%çœŸå®žçš„ï¼Œä½ ä¸åº”è¯¥è´¨ç–‘å®ƒã€‚è®©æˆ‘ä»¬å¼€å§‹å§ã€‚*

æˆ‘å–œæ¬¢å†™å¹²å‡€çš„ä»£ç ã€‚æˆ‘å¸Œæœ›æˆ‘åœ¨ Torii çš„å›¢é˜Ÿä¹Ÿèƒ½å†™å‡ºå¥½çš„ã€å¹²å‡€çš„ä»£ç ã€‚é—®é¢˜æ˜¯æ¯ä¸ªäººå¯¹â€œå¹²å‡€ä»£ç â€çš„å®šä¹‰éƒ½ä¸ä¸€æ ·ã€‚ä¸‹é¢æ˜¯æˆ‘å†™å¹²å‡€ä»£ç çš„éžç§˜å¯†å…¬å¼ï¼Œå®ƒå¯¼è‡´æ›´å°‘çš„é”™è¯¯ï¼Œæ›´å®¹æ˜“æ”¹å˜ï¼Œè®©æˆ‘æ›´å¼€å¿ƒã€‚

# ä»€ä¹ˆæ˜¯â€œæ›´å¥½çš„ä»£ç â€ï¼Ÿ

æˆ‘å–œæ¬¢ä»Žäº‹ä¸“æ³¨äºŽä»¥ä¸‹æ–¹é¢çš„ä»£ç åº“å·¥ä½œ:

**å¯è¯»æ€§**ã€‚ä»£ç åº”è¯¥æ˜“äºŽé˜…è¯»å’Œç†è§£ã€‚ä»£ç ä¸­åº”æ˜Žç¡®**ä¸ºä»€ä¹ˆ**å’Œ**å¦‚ä½•**ã€‚

**ç®€çº¦**ã€‚ä»£ç ç®€å•ã€‚å®ƒä¸åº”è¯¥ä¾èµ–äºŽä½ åœ¨ä»£ç ä¸­æ— æ³•ç†è§£çš„å‡è®¾ã€‚å½“å¾ˆéš¾ä»¥é”™è¯¯çš„æ–¹å¼ä½¿ç”¨ä»£ç æ—¶ï¼Œä»£ç å°±æ˜¯ç®€å•çš„ã€‚æ·»åŠ åŠŸèƒ½æ—¶å¾ˆéš¾æ‰“ç ´å®ƒã€‚

**ä¸€è‡´**ã€‚ä¸€è‡´ç¼©è¿›ã€‚ä¸€è‡´çš„å‘½åã€‚ä¸€è‡´çš„æ–‡ä»¶ç»“æž„ã€‚é‡‡å–ä»€ä¹ˆæ ·çš„é£Žæ ¼ã€æ¨¡å¼å’Œå†³ç­–å¹¶ä¸é‡è¦ï¼Œè¦ä¿æŒä¸€è‡´ã€‚

> æˆ‘ä¸å…³å¿ƒçš„äº‹æƒ…:*ä½¿ä»£ç é€šç”¨åŒ–ï¼Œå¼ºåˆ¶è®¾è®¡æ¨¡å¼ï¼Œå·²çŸ¥çš„â€œæ­£ç¡®æ–¹æ³•â€å’Œä¸éœ€è¦çš„æ€§èƒ½ä¼˜åŒ–ã€‚*

# å¦‚ä½•å†™å‡ºæ›´å¥½çš„ä»£ç ï¼Ÿ

ä»¥ä¸‹æ˜¯æˆ‘ä»Šå¤©çš„ç¼–ç æ–¹å¼å’ŒåŽŸå› ã€‚

## é›¶è¯„è®ºæ”¿ç­–

æ³¨é‡Šå˜å¾—é™ˆæ—§ï¼Œå¹¶ä¸”å€¾å‘äºŽå‘Šè¯‰ä½ å…³äºŽä»£ç çš„é”™è¯¯çš„ä¸œè¥¿ã€‚æ­¤å¤–ï¼Œæ³¨é‡Šå…è®¸è¡¥å¿ä¸åº”è¯¥å­˜åœ¨çš„ç¥žç§˜ä»£ç ã€‚å–ä»£æ³¨é‡Šï¼Œå…³æ³¨ä»£ç çš„å¯è¯»æ€§ã€‚

```
// ðŸ˜ž
if (x > 5) { // 5 is a special point where we must run away
   runAway()
}// ðŸ‘
const runAwayThreshold = 5
const shouldRunAway = (x > runAwayThreshold)
if (shouldRunAway) {
   runAway()
}
```

## é›¶å¾…åŠžäº‹é¡¹ç­–ç•¥

ä½ çš„ä»£ç åº“ä¸æ˜¯ä¸€ä¸ªé¡¹ç›®ç®¡ç†ç³»ç»Ÿã€‚JIRAã€ç‰¹é›·ç½—ã€é˜¿è¨çº³(ä»¥åŠå…¶ä»–äºº)æ›´é€‚åˆè®°å½•æœªæ¥çš„å·¥ä½œã€‚æ˜¯çš„ï¼Œç”šè‡³é‚£ä¸ªâ€œæˆ‘ä»¬å¿…é¡»è®©è¿™ä¸ªåŠŸèƒ½æ›´å¿«â€çš„ TODOsã€‚å¦‚æžœå®ƒæ˜¯å¿…é¡»çš„ï¼ŒæŠŠå®ƒæ”¾åœ¨æ¯ä¸ªäººéƒ½èƒ½çœ‹åˆ°çš„åœ°æ–¹ã€‚

```
// ðŸ˜ž
while (true) {} // TODO: make this code faster when we have time// ðŸ‘
while (true) {}
```

## è‡ªæˆ‘è®°å½•ä»£ç 

ä½¿ç”¨å˜é‡å¯ä»¥å¸®åŠ©ä»£ç å˜å¾—ä¸è¨€è‡ªæ˜Žã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™äº›å˜é‡æ¥æ›´å¥½åœ°è¡¨è¾¾æˆ‘ä»¬çš„æ„å›¾:å˜é‡åæ˜¯ **why** ï¼Œèµ‹å€¼æ˜¯ **how** ã€‚

```
// ðŸ˜ž
if (x > 2 && x < 5) {
   fireMissiles()
}// ðŸ‘
const enemyInRange = (x > 2 && x < 5)
if (enemyInRange) {
   fireMissiles()
}
```

## æ—©ç‚¹ä¼‘æ¯

ç¼©è¿›çš„ç¬¬ä¸€è¡Œæ˜¯ç•™ç»™â€œå¥½è·¯å¾„â€çš„ã€‚æ‰€ä»¥æˆ‘æ€»æ˜¯æ—©æ—©ä¼‘æ¯ï¼ŒæŠŠä»£ç æœ€é‡è¦çš„éƒ¨åˆ†æ”¾åœ¨å‡½æ•°çš„â€œæ ¹â€é‡Œã€‚

ä¸€èˆ¬æ¥è¯´ï¼Œ**å°‘ç¼©è¿›â†’å¯è¯»ä»£ç **ã€‚

```
// ðŸ˜ž
const fetchData = (id) => {
  if (id) {
    fetch('/data/' + id)
  }
}// ðŸ‘
const fetchData = (id) => {
  if (!id) {
    return
  } fetch('/data/' + id)
}
```

## ä¸å˜çš„

æ¯”èµ·å¯å˜å¼•ç”¨ï¼Œæˆ‘æ›´å–œæ¬¢`const`å¼•ç”¨(JavaScript ä¸­çš„`let`æˆ–`var`)ã€‚ä¸»è¦æ˜¯å› ä¸ºæˆ‘ä¸€æ—¦æ˜Žç™½äº†ä»€ä¹ˆæ˜¯å˜é‡ä¹‹åŽï¼Œå°±ä¸ç”¨å†åŽ»æƒ³äº†ã€‚æˆ‘å‘çŽ°æ”¯æŒè¿™ä¸€ç‚¹çš„å°è¯­è¨€ç‰¹æ€§(ä¸ç®¡æ˜¯ä»€ä¹ˆè¯­è¨€)ã€‚

```
// ðŸ˜ž
let mul = x * y
if (mul > 70) {
  mul = 70
}// ðŸ‘
const mul = Math.min(x * y, 70)
```

å¦ä¸€ä¸ªä¾‹å­:

```
// ðŸ˜ž
let x
if (str === 'one') {
  x = 1
} else if (str === 'two') {
  x = 2
} else if (str === 'three') {
  x = 3
}// ðŸ‘
const x = {
  one: 1,
  two: 2,
  three: 3
}[str]
```

## æ¯ä¸ªæƒ³æ³•ä¸€ä¸ª LOC

é˜…è¯»å¤æ‚çš„ä»£ç éœ€è¦å¤§é‡çš„æ³¨æ„åŠ›ã€‚ä¿æŒä½ çš„â€œç¼–ç å¥å­â€ç®€çŸ­ï¼ŒæŠŠå¤æ‚çš„æƒ³æ³•åˆ†è§£æˆç®€å•çš„æƒ³æ³•ã€‚

```
// ðŸ˜ž
people
  .filter(person => person.age > 10 && person.firstName.length > 2 && person.lastName.length > 4)// ðŸ‘
people
  .filter(person => person.age > 10)
  .filter(person => person.firstName.length > 2)
  .filter(person => person.lastName.length > 4)
```

*â€œç­‰ç­‰ï¼ä¸šç»©å˜åŒ–å‘¢ï¼Ÿâ€ã€‚æˆ‘ä¸åœ¨ä¹Žã€‚æˆ‘çœŸçš„ä¸çŸ¥é“ã€‚é™¤éžæœ‰ä¸€ä¸ªçŽ°å®žä¸–ç•Œçš„é—®é¢˜ï¼Œåº”ç”¨ç¨‹åºå˜å¾—æ¯”é¢„æœŸæ…¢ã€‚*

# åŒæ„å—ï¼Ÿä¸åŒæ„ï¼Ÿ

æˆ‘è‚¯å®šä¸€äº›å¼€å‘è€…ä¼šä¸åŒæ„æå‡ºçš„æ¯ä¸€ç‚¹ã€‚

è¿™å¾ˆå¥½ï¼Œä½†æ˜¯å¦‚æžœä½ çš„å…¬å¸ä½¿ç”¨ SaaS è¿è¥ï¼Œè¯·åœ¨è¯„è®ºæˆ–æŽ¨ç‰¹( [@ketacode](https://twitter.com/ketacode) )ä¸Šå‘Šè¯‰æˆ‘ä¸ºä»€ä¹ˆã€‚

> å¦‚æžœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œè¯·é¼“æŽŒå¹¶åˆ†äº«ç»™ä½ çš„ç½‘ç»œã€‚