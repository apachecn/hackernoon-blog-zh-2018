# 用户界面开发的未来

> 原文：<https://medium.com/hackernoon/the-present-future-of-user-interface-development-ebd371255175>

![](img/f738d37b82a1d9e2a73db69e5cbeef4e.png)

This article is a summary of my keynote presentation from React Finland, April 2018\. Photo by Michel Westrate.

我们曾经相信许多事情是真的。我们相信太阳绕着地球转。我们认为瘟疫是上帝的惩罚。我们相信模型-视图-控制器架构和双向数据绑定是在 web 上构建用户界面程序的最佳方式。

所有这些信念对当时相信它们的人来说都是真实的，因为我们还没有更好的方式来思考这个世界。

最终，天文学家证明了日心太阳系，医生发现了疾病的微生物理论，React 向我们介绍了单向数据流的概念。

这些发现都没有立即被普遍接受。伽利略因信奉异教而受审。Semmelweis 博士发现了基于细菌的疾病起源，由于他的同行拒绝接受他的研究，他被逼疯了，在精神病院去世。直到今天，我们还没有同意不是所有的 UI 架构都是平等的。

我坚信 React——或者类似的东西——是用户界面开发的未来。但是在你滚动到文章末尾发表愤怒的评论(或者👏因为你恰好同意)，我来告诉你为什么。

# 森林，不是树

React 是由极其聪明的人创造的聪明想法的集合。当 React 首次宣布时，人们过去谈论的卖点是它的呈现方法——即如果我们将应用程序结构的表示与底层呈现的 DOM 分离，我们可以实现声明性视图呈现语法，同时仍然应用最佳的 DOM 变化。

这与其他有争议的想法相结合，其中最主要的一个是跨技术边界——HTML、 [JavaScript](https://hackernoon.com/tagged/javascript) 和 CSS——分离代码并不是真正的关注点分离。为了创建具有高内部内聚性和低外部耦合性的程序，我们最好将一个 UI 的表示、行为和状态放在一个 JavaScript 文件中。这种方法有一个不幸的副作用，就是很难用普通的 JavaScript 编写用户界面，因此只能用一种叫做 JSX 的语言语法扩展来反应。

如果你不是一个 web 前端开发人员，真的很难理解为什么有人会对一个语言扩展感到不安，但是 web 是一个奇怪的地方，有些人确实如此。

![](img/d9772e2ba39b8fbd8b3bfb3cdf35f3be.png)

Premium vintage HN hot takes after React’s announcement

自然，没有人喜欢被告知他们的核心信念是错误的。因此，在反弹和概念上的新奇中，React 的核心价值仍然经常被遗忘。

# React 是一个组件平台

React 的核心就是它的组件。虚拟 DOM 是一项很酷的技术，但它只是一个实现细节——如果 React 可以在没有它的情况下创建，它甚至不需要存在。JSX 是一个聪明的黑客，但它只是语法上的糖。

到目前为止，组件是一个公认的概念，在 React 之前就已经存在了。React 发布时，Web 组件规范已经标准化了。就像伽利略不是第一个发现日心说的人一样，React 也没有发明组件——它只是找到了正确的配方。

React 组件都是关于它们的可组合性和封装性。此外，它们还受益于功能性和多功能性。让我来解释一下这意味着什么:

*   **可组合性**让我们能够使用不需要一个组件扩展或依赖另一个组件的模型，从小程序构建大程序——代码可以独立于系统中的其他代码编写、修改、删除和替换，甚至可以在未来代码存在之前编写。
*   **封装**使得包含一个组件的全部表现、行为和状态成为可能。这意味着外部代码不能影响它的行为(除了通过包装组成另一个组件)。
*   **函数式**编程风格——*props in，renderables out*——使得 React 组件健壮，它们的行为易于记录和理解，允许开发人员使用其他人开发的组件，而不需要知道它们是如何工作的。
*   **多用途**只是一种奇特的说法，即组件可以是负责数据和行为的容器组件(控制器)，也可以是表示组件(视图)。这种分离一直是 MV*架构的关键见解，优雅的 React 组件 API 允许**真正的**关注点分离，同时保留了可组合性和封装的理想品质。

这种小而集中的组件抽象给了我们作为开发人员所寻求的所有品质:易于学习和记忆，使用起来符合人体工程学，并且产生的程序易于维护和协作。

**但是还有一个我还没有谈到的组件质量，事实证明，这是最重要的一个。**

# 组件是创新的基本要素

我在这篇文章的开头赞扬了 React 的优点，但是我很高兴地承认 React 并不完美；React 核心团队仍在积极处理大量错失的优化机会，新想法也在不断地被讨论、实施和抛弃。当你看到 React 周围的更大的库、模式和实践生态系统时，它们甚至离完美更远。我们甚至不能决定是否应该用高阶组件、渲染道具、功能性儿童道具，或者，上帝保佑，用[组件组件](https://www.npmjs.com/package/react-component-component)！

**虽然丰富的选项有时会令人疲惫，但事实上这是 React 组件模型真正优势的完美例子**。通过拥有一个通用的、小型的、可组合的、灵活的和可靠的构建模块，我们能够*讨论、测试和接受新的想法，而不必放弃我们所有现有的工作。*

对我来说，世界各地的个人开发人员可以构建革命性的库，如 [Redux](https://redux.js.org/) 、 [Apollo](https://www.apollographql.com/docs/react/) 或 [styled-components](https://github.com/styled-components/styled-components) ，应用程序开发人员可以将这些新工具**与现有的工具集**一起采用，而无需修改现有的代码，或者替换每一个单独的部分，而无需将婴儿与洗澡水一起倒掉，这简直太疯狂了。

这些库都在 React 领域之外做复杂的事情，但是没有一个会影响到另一个，因为这些工具都可以利用组件组合模型。因此，**React 组件模型不仅仅是一个用户界面原语——它还是一个创新原语。**

与 JavaScript 的渐进扩展不同，React 可以采用新工具，而不必重构大量代码，从而使它们的采用不可行。与 Ember 或 Angular 这样的整体框架不同， **React 具有足够的灵活性，在被不可避免的变化的力量压弯时不会折断。**

# 变化是唯一不变的

拥有一个适应变化的平台至关重要，**因为变化是不可避免的，变革是昂贵的**。

聪明的人不会突然停止观察世界上的问题，并提出解决问题的方法。人们不会因为存在的约束而停止沮丧，也不会停止尝试挣脱束缚。当发现更好的工具时，我们作为开发者社区不会突然停止想要采用它们。无论你多么努力地想把头埋在沙子里，希望事情保持现状，进步是无法停止的。

当变化发生时，你对一个系统的最好期望是它能适应变化，因为唯一的选择是不可想象的悲剧。

在过去十年的框架战争之后，我们现在生活在一个前所未有的生产力、繁荣与和平的时代。像 React 这样的工具允许我们构建和维护雄心勃勃的产品。

如果我们的工具阻碍了进步，我们最终将不得不丢弃它们来前进。**革命的代价是毁灭性的**:我们将不得不更换我们所有的库，重新学习我们所有的良好实践，重新培训我们所有的团队，重复我们所有的错误，重写或重构数量惊人的代码，而不是专注于我们正在创造的产品。

# 革命是不可避免的

创新以两种速度前进:

*   快速革命爆发
*   增量细化的长尾

![](img/4052789df2b9cda4c84264155aa2fb84.png)

Revolutions are rapid, refinement is slow.

React 是一场革命。它推翻了当时最佳实践的现状，并几乎在一夜之间为我们提供了开发人员体验的重大改进。现在，我们正在微调引擎，直到我们再也无法挤出更多的果汁。创新周期的细化阶段将最终趋于平稳，不再能够展示我们已经习惯的逐年进步。

但是曲线不是固定的函数。我们可以不断创新和创造，只要我们作为开发者做出决策，保持我们的生态系统对变化的响应。

# 让我们编写能够响应变化的软件

无论我们是在 React 生态系统中工作，使用另一个框架，构建无框架的渐进式 web 应用程序，甚至是构建与 web 平台完全不相关的软件，我们都可以遵循从 React 及其生态系统中学到的经验，使代码在面临变化时弯曲而不是折断。

*   **从小的东西构建大的东西**——从更小的定义明确的单元组装软件，避免铁板一块。仔细考虑 API 和接口，以便其他人可以使用它们。
*   **让代码易于复制和删除，而不容易更改** —比起继承和混合，更喜欢组合。概括行为。做一件事，把它做好。
*   **先为人类写代码**——让理解你的工作成为可能。编写表达意图的代码，而不是方法。对你的代码进行命名、记录和分类，这样其他人都可以使用它。
*   **贴近语言** — React 能够利用新的 JavaScript 语言特性和生态系统工具，因为它“只是 JavaScript”(带有一点 JSX)。避免基于字符串的 DSL 和非惯用的接口，这使得采用新的创新变得困难。
*   **不到万不得已不要弄坏东西** —稳定本身就是一种价值，因为变化会导致工作和浪费，或者在最糟糕的情况下，导致 AngularJS 级别的灭绝事件。打破之前，使用[代码模块](https://github.com/cpojer/js-codemod)或类似的工具，使适应变化变得容易。在你自己的代码中，不要为了采用新库而采用新库——在这样做之前要衡量成本和收益。
*   保持开放的心态——最后一条规则是前一条规则的推论。有时新的想法可能会令人害怕，改变可能会带来不便，但偶尔一场革命对于改变的发生是必要的。不要成为最佳实践警察——保持开放的心态，倾听人们在说什么。

# React 是获胜的入场券(就目前而言)

我相信 React 是构建雄心勃勃的用户界面的显而易见的选择，它将能够经受住变化莫测的发展。

虽然我低估了虚拟 DOM 的重要性，但它已经被证明是 React 对未来最友好的特性之一。由于虚拟表示和 UI 实现的分离，React 非常适合服务器端呈现和通用 web 应用程序。原生移动平台是用户界面开发不可否认的一部分；React Native 可以帮助我们，而[反冲](https://github.com/lelandrichardson/recoil)让我们兴奋地一瞥 React 在 native Kotlin 和 Swift 中的样子。 [ReasonML](https://reasonml.github.io/) 和 [ReasonReact](https://reasonml.github.io/reason-react/) 可以帮助我们将 React 范式进一步移植到 JavaScript 无法触及的平台上。随着增强和虚拟现实技术在未来大规模出现，空中有风暴的威胁，我希望 React VR 和其他类似的实验可以帮助我们度过难关。

最终，React 会被别的东西取代。我们还不知道强制功能是什么——也许是 web assembly——我们也不知道接下来会发生什么。不管是什么，我怀着忐忑和兴奋的心情期待着。

现在，由于 React 的恢复能力，我相信我们将在更长的时间内享受我们的和平、繁荣和生产力。

*如果你想阅读更多我在科技与喜剧交汇处的沉思，* [*在 Twitter 上关注我*](https://twitter.com/jevakallio) *。*