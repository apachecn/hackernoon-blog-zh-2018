# 对无关紧要的事情的想法

> 原文：<https://medium.com/hackernoon/thoughts-about-nothing-at-stake-b93b13bb5d6e>

## 对利害关系证明的理论攻击

![](img/7d41a009c8ca9dbec4e196f5e0d22938.png)

Nothing at Stake — Photo by [Felipe Palacio](https://unsplash.com/photos/mK-LBRSG1rA?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/search/photos/clouds?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

**底线:又一个在实践中行不通的理论攻击。**

Nxt，第一个桩币的纯证明，实现了一个简单的算法来确定下一个块生成器(称为伪造者)。这里解释[的算法。简而言之，你的 NXT 平衡越高，你按比例铸造下一个方块的机会就越高。实际的块生成是由协议随机化的。简单、快速、高效、无能源浪费，甚至可以运行在低功耗的 Linux 设备或廉价的 VPS 节点上。](https://nxtwiki.org/wiki/Whitepaper:Nxt#The_Forging_Algorithm)

多年来，这种简单的算法一直被严厉批评为本质上不安全，主要是因为“无风险”攻击，这种攻击由[的竞争对手](https://github.com/ethereum/wiki/wiki/Problems)、[的研究人员](https://download.wpsoftware.net/bitcoin/alts.pdf)、[的专家](/coinmonks/understanding-proof-of-stake-the-nothing-at-stake-theory-1f0d71bc027)和他们的啦啦队员解释。

另一方面，经验证据表明，在实践中绝对没有针对 Nxt、Ardor/伊格尼丝/Bits/AEUR 及其克隆体和模仿体的“无风险”攻击。零，零，零，什么都没有。

考虑到 Nxt [区块链](https://hackernoon.com/tagged/blockchain)刚刚庆祝了连续第五年的生产，Ardor mainnet 即将在一月份庆祝它的第一个生日。早在 2017 年 12 月，这两枚硬币的价值都超过了 10 亿美元。在这 5 年中，Nxt 经受住了使用许多不同攻击媒介执行的许多攻击，但奇怪的是，在实践中从未观察到“无关紧要”的攻击。

**也许无关紧要的攻击并不是如此严重的威胁？**

我决定去探索。

以太坊(Ethereum)的一份文件很好地解释了无利害关系攻击:“在出现分叉的情况下，无论分叉是意外的还是试图重写历史和逆转交易的恶意尝试，任何矿工的最佳策略都是在每个链上采矿，这样无论哪个分叉获胜，矿工都可以获得他们的奖励。因此，假设有大量对经济感兴趣的矿工，攻击者可能能够发送交易以换取一些数字商品(通常是另一种加密货币)，接收商品，然后从交易后的一个街区开始区块链的分叉，并将钱发送给他们自己，即使攻击者的分叉获得总股份的 1%，因为其他人都在两者上挖掘。”

你没听错，要双倍花费 NXT 硬币，你只需要拥有 1%的代币。肯定有不少贪婪的人会很乐意利用这个机会赚几个钱吧？他们在哪里？

在本文中，我将解释为什么我认为这个问题被工作证明倡导者、学术研究人员和想要向你推销他们看似明智的“解决方案”的团队夸大了。

让我们坦率地说，如果某个或多个勾结在一起的实体拥有一个股权证明网络中超过 50%的股权，他们可以愉快地加倍花费。这类似于实践中经常观察到的臭名昭著的对战俘硬币的 51%攻击。

让我们看看 Bob，我们的“潜在攻击者”，他持有 1%的 Nxt 令牌。让我们看看他如何能设法加倍消费。我会完全忽略经济方面的争论，比如:为什么鲍勃会试图攻击和诋毁他持有 1%股份的网络？让我们简单地假设 Bob 想要摧毁 Nxt 以表明其缺乏[安全性](https://hackernoon.com/tagged/security)。

Bob 自豪地拥有流通中 1%的 NXT 代币，他将平均产生 1%的块。Nxt 网络中大约每小时出现一次自然的 1 块分叉，因此 Bob 只需等待，直到他看到分叉，或者他也可以利用自己的机会伪造一个块，通过生成两个不同的块并将每个块发送到另一个中央节点来创建这样的分叉。

现在，他执行了他的邪恶计划:他在 fork A 上将所有资金发送给 Bittrex，在 fork B 上将所有资金发送给自己。唉，他生成下一个区块的几率只有 1%。他在接下来的 30 个区块中产生任何一个区块的机会只有大约 26%(1 –( 0.99)⁰).

大约 60 秒后，有人生成了一个新块(99%不是 Bob 生成的),最终 Bittrex 收到了它。Bittrex 现在有 50%的机会看到 Bob 向 Bittrex 发送资金的 fork A。然而，Bittrex 的人并不天真，他们在接受存款之前会等待 30 次确认。

根据神话，所有方块生成器现在应该在 fork A 和 fork B 上伪造，直到 Bob 可以在 fork A 上看到他的存款被 Bittrex 接受，然后他有 1%的机会在 fork B 上加倍花费，并使 fork B 成为被接受的 fork。

**我现在将试图说服你，这种攻击不会对 Nxt 的利益证明**的实现产生影响

实际发生的情况是，所有的块生成器都使用 Nxt 官方软件，Nxt 软件根据投入其中的股份选择最佳分叉，并立即切换到它，丢弃另一个分叉。因此，在一两个街区内，A/B 分叉将得到解决。Bob 的一个冲突事务将被接受，而另一个将被拒绝。不可能有双重花费。

Bob 在所有分支上构建执行攻击所需的软件根本不存在。开发这个软件也是相当困难的。毕竟，它应该基于的 Nxt 软件是设计来处理单个分叉并在其上锻造的，而不是跟踪多个分叉并在所有分叉上锻造的。添加这一功能将需要相当大的努力。你可以忘记从核心开发者那里获得帮助。

但是，即使 Bob 雇佣了一个区块链开发人员的梦之队，并开发了这个基于所有 forks 的 Nxt 软件变体，如果他单独使用它，他也不会造成太大的损害，因为他只能生成 1%的块。即使他幸运的生成了下一个块，也绝不会连续生成 30 个块来欺骗 Bittrex。

根据流言，Bob 需要说服所有的 block 生成器与他勾结，开发他的非官方版本的软件。但我们已经达成一致，如果超过 50%的股东串通起来，他们可以加倍支出——这有什么大不了的？

在实践中，我敢说你会找到一个有重大利害关系的单块生成器，他会使用这个恶意的叉子来欺骗和破坏他心爱的区块链的名誉。如果鲍勃愿意加倍消费，也许他也愿意尝试去偷私人钥匙？用户只会嘲笑鲍勃。

而如果 Nxt 或 Ardor 的价值飙升至 1000 亿美元呢？Bob 肯定会有足够的资源来开发修改后的 Nxt 软件吗？但肯定没有人会使用这个软件，并冒着毁掉如此珍贵的硬币的风险。

又一个流言被终结了。

**海报**

一个攻击媒介的存在并不意味着这个攻击媒介是实用的。例如，要反转 SHA256 哈希，只需平均尝试 2 次⁵⁵哈希运算。理论上可行，但实际上不可能。

在这篇文章中，我试图让你相信“没有利害关系”的攻击主要是一个理论玩具，用来怀疑赌注硬币的证据。这是一种几乎不可能实施的攻击。因此，在选择区块链共识协议时，这肯定不是主要关注点。