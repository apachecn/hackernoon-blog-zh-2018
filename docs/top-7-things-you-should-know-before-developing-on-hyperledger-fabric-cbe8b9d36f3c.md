# 在 Hyperledger Fabric 上开发之前您应该知道的 7 件事

> 原文：<https://medium.com/hackernoon/top-7-things-you-should-know-before-developing-on-hyperledger-fabric-cbe8b9d36f3c>

学习在[超账本结构](https://hackernoon.com/tagged/hyperledger-fabric)上开发？请先阅读这本方便的指南，确保你不会轻易迷路。简而言之，这是“初学者在 Hyperledger 结构中要避免的错误”。

![](img/07758def5d59030d5597d02c102db35b.png)

Hyperledger Fabric 是一个年轻的项目，因此几乎没有任何在线资源。对于任何没有 T4 区块链 T5 建筑经验的人来说，这是一个很长的学习曲线。即使对我们来说，尽管我们了解区块链公众，我们仍然面临问题，并且很难解决这些问题。本文列出了人们在使用 Hyperledger Fabric 进行开发时经常犯的错误或误解。

# 组织和同行

说到任何区块链网络，首先想到的是你在哪里定义去中心化的节点。在 HL 结构网络中，对等体是存储和处理数据的物理层。所有的对等体都通过一个成员服务提供商(MSP)进行认证。因为组织仅仅是一组对等体。

# 结构工具版本

需要注意的是，cryptogen 的版本必须与您将要开发的 Fabric 版本相匹配。如果没有这一点，生成证书所需的工具将无法正确读取`crypto-config.yaml`和`configtx.yaml`。

# 链码中的随机数

在我们的业务逻辑中，创建大量随机数作为标识符是非常常见的。这在集中式系统中工作得很好，但是将这种逻辑移植到区块链网络会导致每个认可对等体拥有不同的数据。随后导致背书策略失败，因为当订购者检查时，读写集合将不匹配。

# 加密配置的生命周期

创建新网络时，会生成一个默认加密配置，其中包含网络每个组件(对等方、管理员、CA 和订购方)的证书。在开发过程中，根据需要多次重新生成配置是很常见的。但是在生产中这样做是很危险的，因为这会导致某些证书失效。如果是这样，你会遇到这个问题，

```
Principal deserialization failure (the supplied identity is not valid: x509: certificate signed by unknown authority (possibly because of "x509: ECDSA verification failure" while trying to verify candidate authority certificate "ca.org0"))
```

# 安装和实例化链码

链码是用于在每次交易中验证数据的业务逻辑。应该在签署过程中涉及的所有对等体中安装和实例化链码。然而，在其他对等体中，您不需要存储链码。

# 背书政策

总是建议有一个以上的强制签署对等体，以防止单点故障。如果网络接受任何成员签名，他们可以很容易地修改他们的状态数据并提交无效的事务。这将反映在所有对等体中，无需任何第二次检查，因为读写集将只与其自身进行比较。因此，您需要确保分配多个级别的事务签名。

# 分类帐数据和状态数据

在 HL 结构中，有两个级别的数据。第一个是分类账数据，它以块的形式保存所有交易信息，这是典型的区块链分类账。这里记录了所有被调用的事务，不管它是否成功。第二个是状态数据，用于存储应用程序的状态。该数据存储在水平数据库或治疗床数据库中。读写集是用这些数据生成的。

这些都是我注意到的 HL 面料开发过程中人们经常误解的事情。当我找到更多的时候，我会继续扩展这个列表。

如果您遇到了我在这里没有提到的常见问题，请给我写信！