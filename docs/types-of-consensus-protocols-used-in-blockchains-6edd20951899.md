# 区块链使用的共识协议类型

> 原文：<https://medium.com/hackernoon/types-of-consensus-protocols-used-in-blockchains-6edd20951899>

今天，越来越多的区块链被创造出来，他们寻求提供各种各样的新产品。本文旨在简要探讨所使用的不同的**共识算法**。一个共识'**的主要目的是在一个分布式系统**(在[区块链](https://hackernoon.com/tagged/blockchain)上)中就约定的事务达成一致。

众所周知，我们经常听到的去中心化的一个常见危险强调了一个假设场景，即 51%攻击区块链。在这种情况下，一群控制着超过 50%网络的矿工(他们是向区块链提供计算资源以验证并向区块链总账添加新交易记录的人/团体/组织)将能够阻止其他交易的发生，并允许他们自己的硬币被多次消费——这一过程被称为*双重消费*。

> 本文将探讨的常见共识算法包括:工作证明(PoW)、利益证明(PoS)、委托利益证明(DPoS)、授权证明(PoA)和重要性证明(PoI)。

# **什么是共识？**

简而言之，**共识定义为区块链所在国家的普遍认同**。这意味着，如果爱丽丝向鲍勃发送价值 100 美元的比特币，爱丽丝将从她的钱包中损失价值 100 美元的比特币，鲍勃将在他的钱包中获得价值 100 美元的比特币。问题是，每一笔干净的交易都必须记录在比特币公共账本上，一个共识算法可以确保没有恶意交易，也不能在区块链本身进行更改。

这个例子让我们明白了建立共识机制的目的——在一个去中心化的区块链生态系统中，解决拜占庭将军的问题至关重要。

**拜占庭容错(BFT)**

兰波特、肖斯塔克和皮斯于 1982 年出版了《拜占庭将军的问题》,以确保在计算机系统中处理给出冲突信息的故障组件。

BFT 是一个系统的特征，该系统处理属于拜占庭将军问题的不同类型的故障。拥有 BFT 不仅仅是用在区块链本身。然而，在下面探索的共识算法中，它们是相对于区块链来解释的。

![](img/cafda416cee251f42690d40cc8d38eff.png)

Photo by [rawpixel](https://unsplash.com/photos/XkKhkijcgTo?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText) on [Unsplash](https://unsplash.com/?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText)

有各种方法可以确保每笔交易保持有效，这就把我们带到了主要部分——共识算法。

# 共识算法

> 在我们深入共识算法之前，顺便提一下，有趣的是，这些“证明”不是数学上证明的，而是“有待证明的”……例如，PoW 在过去 10 年中已经在比特币中实现，并且没有发生故障，而 PoS 安全是一个有待证明的年轻得多的概念。

## 工作证明

我们大多数人都应该听说过 PoW，特别是自从第一个公开的区块链——比特币使用 PoW 以来。在这个例子中，权力用比特币来解释。

PoW 是通过矿工(通过提供大量计算资源来保持区块链运行的人)来进行的，他们竞争解决一个密码问题(也称为哈希难题)。这些矿工帮助验证每一笔比特币交易，其中涉及产生基于哈希的( [SHA256](https://en.bitcoin.it/wiki/SHA-256) ) PoW，该 PoW 基于以前的交易块(阅读 [Merkle 树](https://www.quora.com/Cryptography-How-does-a-Merkle-proof-actually-work)了解更多信息)，并与新的交易块形成新的分支。这意味着这项工作对矿工来说难度适中，但对网络来说容易验证。第一个成功生产 PoW 的矿工将获得一些比特币。随着时间的推移，奖励的比特币数量会随着时间的推移而减少。

多年来，随着挖掘比特币的难度[大幅增加，PoW 因其维持区块链运转所需的能量而臭名昭著。](https://en.bitcoin.it/wiki/Difficulty)

-

## 利害关系证明

与 PoW 不同，PoW 基于通过解决复杂的密码难题完成的计算工作来创建新的交易块，PoS 允许伪造者(而不是矿工)下注她拥有的任意数量的[加密货币](https://hackernoon.com/tagged/cryptocurrency)，以概率方式分配一个机会来验证该交易块——概率基于下注的加密货币数量。

此外，对于大多数 PoS 系统，伪造者不是接收加密货币奖励(在上述情况下，比特币矿工因解决 PoW 而接收一些比特币)，而是将交易费作为奖励。

将硬币“下注”的想法可以防止不良行为者进行欺诈性验证——一旦交易验证错误，下注金额将被没收。因此，这激励伪造者合法地验证。

近年来，随着以太坊从 PoW 共识系统转向 PoS，PoS 受到了关注。

-

## 委托利益证明(dpo)

DPoS 在赌注方面类似于 PoS，但有一个不同的、更民主的系统，据说是公平的。像 PoS 一样，令牌持有者在这个共识协议中下注他们的令牌。

与 PoS 中的概率算法不同，DPoS 网络中的令牌持有者能够根据他们的股份比例投票，任命代表为证人小组服务，这些证人保护了区块链网络。在 dpo 中，代表不需要拥有大量股份，但他们必须竞争以获得用户的最多选票。

与 PoW 和 PoS 相比，它提供了更好的可扩展性，因为有完全专用的节点被投票支持区块链。块状生产者可以在任何时候被投票决定加入或退出，因此玷污他们的声誉和收入损失的威胁对不良行为者起着重要作用。毫无疑问，dpo 似乎会导致一个半集中式的网络，但它是以可伸缩性为代价的。

像 PoS 一样，DPoS 也随着几个项目采用这种共识算法而获得了关注。自从丹·拉里默(Dan Larimer)发明以来，DPoS 一直在不断完善，从 BitShares 到 Steem，再到现在的 EOS。

-

## 授权证明(PoA)

众所周知，PoA 与 po 和 dpo 有许多相似之处，在 po 和 dpo 中，只有一组预先选择的机构(称为验证机构)来确保区块链的安全，并能够生成新区块。只有当验证器达到超级多数时，区块链上的新块才被创建。

所有验证者的身份都是公开的，可以被任何第三方验证——这导致验证者的公共身份扮演了风险证明的角色。由于这些验证者的身份岌岌可危，他们的身份被破坏的威胁激励他们为了网络的最大利益而行动。

由于 PoA 的信任系统是预先确定的，因此有人担心这种共识算法可能存在集中化的因素。然而，可以说半集中化实际上可能适合区块链的私人/财团——以换取更好的可扩展性。

较新的区块链创业公司已经冒险实施 PoA。此外，像 Rinkeby 和 Kovan 这样的以太坊测试网探索了 PoA 一致性算法的使用。

—

由于这几个共识算法是在本文中探讨的，重要的是要注意，它是不详尽的。随着近年来区块链项目的激增，更新的/修改的共识算法正在被开发和实验。