# Vim:用更多的特性压榨文本编辑器的汁液

> 原文：<https://medium.com/hackernoon/vim-squeezing-the-text-editors-juice-with-more-features-7481c218d01e>

![](img/4fa1a69dd5bd100abab1c1cb554bc6d7.png)

Productivity is always one pomodoro away. Source: [Pixabay](https://pixabay.com/en/tomatoes-vegetables-red-food-5356/)

Vim 是文本编辑的瑞士军刀。它有一个几乎适用于所有用例及用户的特性和命令是不够的:它还允许你定制它，添加你认为它缺少的任何特定的东西。

在本教程中，我们将看到如何使用其中的两个特性:*多窗口*，和*多 vim 寄存器*。

本教程假设你已经熟悉了 Vim 的基础知识，所以如果你不知道从哪里开始，我建议你看看[这篇文章](http://www.dataden.tech/programming/vim-text-editor-first-steps-productivity/)。

# 多个 Vim 窗口

每当我们编辑一个文件时，我们可能要做两件事:

*   从同一个终端编辑两个不同的文件。
*   同时编辑文件的两个不同部分。

幸运的是，Vim 允许我们这样做，而不必在终端上打开一个新标签。

# 同一个文件的多个 Vim 窗口

假设我们正在编辑一个 Python 脚本，其中有两个不同的函数:f1 和 f2，我们想同时编辑它们。

Vim 使这变得简单:

*   按下*Ctrl+w*(Mac 中的 *cmd + w* )。
*   按下 *v* (垂直)或 *h* (水平)。

这将创建一个垂直拼接，或水平拼接。这意味着文件将在当前窗口之外的另一个“窗口”中打开(在同一终端内)，光标在同一行。
垂直或水平是屏幕的两种可能的“分割”,因此 *Ctrl + w v* 将在两个并排的窗口中打开文件，而 *Ctrl + w h* 将在一个窗口下面打开另一个窗口。

要在使用完一个窗口后将其关闭，只需按下:q 即可退出。

要在新的 Vim 窗口中打开一个不同的文件，我们可以键入*:vsplit<filename>*来有效地从单个终端编辑许多不同的文件。

# 在窗口间导航

现在你有两个不同的窗口指向同一个文件。无论何时你在其中一个编辑了什么，它都会自动更新另一个(不像 Sublime 或其他编辑器，你必须按下 reload)。

为了快速导航到我们想要编辑的功能，我们只需

*   按/进入搜索模式。
*   键入函数的名称。
*   按回车键。

这相当于在其他编辑器中做 *Ctrl + F* (在 Vim 中， *Ctrl + F* 的作用类似于 page-down)。

如果我们想在不同的窗口之间移动光标，我们必须按下 *Ctrl + W* 然后任何动作，像 *h* 或 *l* 来水平移动。
例如，如果我们垂直打开了 5 个窗口，我们可以按下 *Ctrl + W，3l* 向右移动 3 个窗口。

## 自定义 Vim 窗口之间的导航。vimrc 文件

这似乎是一个介绍*的好地方。vimrc* 文件。这个小文本文件位于 *~* 目录下，存储了您对 Vim 的所有配置，并允许您定制更多的文本编辑器。

配置文本编辑器就像编辑这个文件一样简单，您可以用它做很多事情。您可以使用 Vim 编辑它，以获得最大的递归性。

通常你最常做的一件事就是将一个键或组合键映射到一个你觉得别扭的不同序列。

在这种情况下，按下 *Ctrl + W* ，然后再按下 *h、j、k* 或 *l* 可能会有点不舒服，如果你经常这么做的话。我发现许多人做的事情(我自己也这样做)是在他们的。vimrc 文件:

```
nnoremap <C-h> <C-w>h
nnoremap <C-j> <C-w>j
nnoremap <C-k> <C-w>k
nnoremap <C-l> <C-w>l
```

以 nnoremap 开头的行将把一个组合键(例如， *Ctrl + h* )映射到一个不同的组合键(例如， *Ctrl+W，h* )。

我发现按 Ctrl + h，j，k，l 比整个序列流畅得多，而且大多数时候你只是在几个窗口之间切换。当然，如果你喜欢不同的捷径，那就走吧！这就是这个编辑器的妙处。

# 多个 Vim 寄存器:有许多剪贴板。

我们还可以用 Vim 做另一件很棒的事情:您是否发现自己经常输入某个特定的字符串？
例如，你可能用

```
import pandas as pd
import seaborn as sns
import tensorflow as tf
```

不想再输入了。

或者可能是一个完整的片段，比如

```
for(int i = 0; i < N; i++){}
```

对于所有这些事情，可能还有许多其他事情，如果我们可以有许多不同的缓冲区来“粘贴”字符串，这将是非常方便的。

ide 通常会自动完成一部分工作，但它们通常不允许我们定制可以添加哪些代码片段，只允许我们使用一些预定义的代码片段。

然而，Vim 有将近 40 种不同的缓冲区可以用于这一目的。他们每个人都像一个新的剪贴板。

# 用 Vim 寄存器拉取和放入

我之前已经说过如何“拉”和“放”:Vim 相当于复制和粘贴，只是拉出来的字符串不会进入剪贴板，而是进入 Vim 外部无法访问的保留内存缓冲区。

我撒了一点谎。不是预留缓冲，而是很多。要决定将东西拉入或放入哪个缓冲器，请按“然后键入*【A-Z】、【A-Z】*或*【0–9】*。

例如，如果我们正在编辑一个文本，发现自己经常键入单词“特定”、“特别”和“文本编辑器”，我们可以这样做:

*   按下 *v* 进入视觉模式，通过移动光标选择单词(在本例中，我们使用“特定”)
*   按下*p*选择 *p* 寄存器，然后按下 *y* 将其拉入。
*   每当我们必须再次键入单词时，只需按下 *"p* 说出从哪个寄存器放入，然后按下 *p.*

如果我们希望看到寄存器的内容，我们可以运行 *:reg* 来列出它们，或者运行 *:reg* 后跟一个用空格分隔的寄存器名称列表(例如 *:reg a b* )来单独查看每一个。

# Vim 寄存器:特殊考虑

小写和大写字母指向相同的 Vim 寄存器。但是，使用小写名称会覆盖寄存器的内容，而大写字母告诉 Vim 将新字符串连接到当前内容，而不删除它。

带编号的寄存器可以像其他寄存器一样使用，但也会将文本的最后 10 个删除位存储为一个堆栈。当你删除一个东西时，它进入寄存器 1，当你删除下一个东西时，它被移到寄存器 2，以此类推，直到寄存器 9 被填满。

有趣的是，即使在我们关闭 Vim 之后，Vim 寄存器仍然存在。这意味着最终，你可以添加一些非常方便的片段或行到寄存器中，并在不同的文本编辑会话中使用它们。出于这个原因，值得注意我们通常写的东西中的模式，看看我们可以用这些工具优化多少编辑过程。

如果我们的寄存器的内容可以被解释为 Vim 命令，那么按下 *@r* (其中 *r* 是寄存器的名称)将运行它们。

要清除 Vim 寄存器的内容，如果 *r* 是您的寄存器名称，请按下 *qrq* 。

# 结论

使用 Vim 可以节省我们大量的时间，如果我们花时间根据自己的需要定制它，那就更是如此。

多个 Vim 寄存器可以使文本编辑更快，并取代 ide 的“片段”功能，允许我们使用许多剪贴板。

多个 Vim 窗口允许我们编辑单个文件中紧密相连的代码片段，或者查看单个项目中的不同文件，并查看它们在一起有多合适。

在编辑文件时，结合这两种工具可以极大地提高我们的工作效率。然而，寄存器位应该谨慎使用，因为它可能会使我们更加依赖于我们的环境。

各位，今天就到这里。我希望你觉得这篇文章有用，或者至少有趣。如果有任何你认为我应该提到而没有提到的事情，或者有任何可以改进的地方或者是明显的错误，请让我知道。来自读者的反馈是我写作中最喜欢的部分之一，它让我对这些话题了解得更多。

你已经用过这些功能了吗？我们的 Vim 寄存器中存储了哪些有用的东西？我应该在另一篇文章中介绍哪些其他功能？请在评论中告诉我！

*关注我的* [*中型*](http://www.medium.com/@strikingloo) *和*[*Twitter*](http://twitter.com/strikingloo)*继续阅读更多面向开发人员和数据科学家的教程、技巧和窍门。如果您喜欢这篇文章，请与一位程序员朋友分享！*

*最初发布于*[*www . data stuff . tech*](http://www.datastuff.tech/programming/vim-squeezing-text-editors-juice-with-more-features/)