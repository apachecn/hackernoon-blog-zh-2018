# 为什么区块链对应用程序来说是一个可怕的想法

> 原文：<https://medium.com/hackernoon/why-blockchain-is-a-terrible-idea-for-applications-8393d44f6cab>

![](img/5621f071ff4c53976da2311c361d5e6b.png)

# 又来了

就像当。随着互联网泡沫的破灭，加密货币/区块链市场正走向灭绝。清算即将到来，即使有好想法的公司也会在项目执行过程中发现问题。事实证明，在白皮书中描述你用你的区块链项目取代 AWS、AirBnB 或优步的计划，比实际完成它要容易得多。这些都是很难攻击的市场，而且要与劣质的 UX(用户群的一小部分)竞争，分散化的一个闪亮的“优势”是不够的。

## 为什么区块链不适合几乎所有的项目

区块链不适用于几乎所有的项目；它们更慢，开发应用程序更复杂，并且存在许多安全问题。此外，在区块链上运行的分散式应用程序不受您的控制—更新或更改需要一致同意。

所有这些导致了一个最小可行的产品，这个产品更加难以构建或者更加不安全。其结果是，区块链版本的任何东西要么需要花费更多的努力来构建，要么团队将不得不抄近路来更快地获得 MVP。

## 使用区块链，但不是分散的

一些项目通过使用数据库存储数据(例如 CryptoKitties、Bee Token)来解决区块链的缺点。例如，一小部分数据进入区块链，但大部分存储在数据库中(存储在外链中),并引用回区块链。

这种混合方法可能会解决一些问题，但也会出现其他问题。如果服务器离线或者您丢失了数据库，会发生什么？此外，每当利用数据库时，核心的集中式问题又会出现:数据库可能会受到攻击，存储在数据库中的数据可能会被更改或受到危害。

如果 90%的数据存储在外链数据库中，那么你真正建立的是什么，为什么要建立在区块链上？

你所做的唯一一件事就是将你的数据绑定到一个公共分类账，并验证在某一点上存在从区块链到数据库的链接。但是，除了创建一个数字公证人来证明什么时候添加了什么东西，以及证明什么东西从那以后没有被篡改过之外，还有什么好处呢？我们不能使用这些信息在那个时间点找出任何意义，因为它通常是存储在其他地方的数据的单向散列。

类似地，许多项目使用带有分布式节点集群的 IPFS 来托管数据，而不是将数据保存在区块链上。从表面上看，这感觉是分散的，但通常没有考虑保持这些节点在线的经济性或激励。如果数据只是“分布”在少数几个参与者之间，那么与只使用集中式数据库相比，这并不是一个显著的改进。

![](img/16327d9ec4da929b91b4df71572396f9.png)

# 额外工作负担的区块链

如果事务速度对应用程序的成功至关重要，那么您应该考虑数据库，而不是区块链。

一些区块链声称他们可以执行高达 500，000 tx/sec，虽然这个速度与其他区块链相比可能很快，但与只在单台机器(而不是集群)上运行的数据库相比还是很慢。例如，一个大型 SQL 服务器将吃掉这些数字，并将摧毁比特币、以太坊或任何区块链网络的容量。

即使未来的区块链速度真的提高了，从根本上说，它也不太可能比数据库更快，因为它需要做额外的工作。大多数“经典”区块链将两种截然不同的活动结合在一起:挖掘和事务处理。

比特币就是最好的例子；一旦有了足够多的事务，您就开始挖掘该块，然后需要解决相关的挑战，以证明您已经付出了必要的努力来“保护”该块。要求这种工作证明可以确保区块链能够防止少数党(在计算能力方面)破坏共识规则。不考虑区块链，当采矿与交易处理相结合时，系统只能以采矿允许的速度运行。

其他区块链体系结构选择或指定块生产者，以便将 Sybil 攻击对策从产生块的行为中分离出来。这导致了更快的砌块生产率，但仍有大量的工作，每个消费者的块必须做；签名验证、merkle 树检查、验证散列等。如果你为了效率而跳过这些步骤中的任何一个，你就有可能得到错误的或被篡改的信息，这将破坏你对分布式账本的看法。

经过 40 年的数据库研究，与区块链大约 10 年的研究相比，在可预见的未来，数据库的速度会更快。

为了成功地设计一个区块链驱动的系统，它实际上可以被称为去中心化的，非常仔细地考虑你在链上存储什么和你能**避免**在链上存储什么是至关重要的。在氦，我们真的希望让设备所有者存储他们自己的信息，无论他们想要什么，只是使用区块链作为路由和结算层来跟踪网关身份。设备只需表明它们的身份，我们在它们的标识符上使用前缀路由来将数据包路由到正确的位置。我们不存储关于链上实际设备的信息。最快的区块链交易是那些你不做的交易。

![](img/7aa1826126e1245124fe63b28afc318d.png)

# 失控

从根本上说，当你把东西放在区块链上时，意味着你在有效地释放控制。你愿意放弃控制权，变得真正去中心化吗？如果是这样的话，你需要为系统的一些可疑用途做好准备。你不能说我禁止了那个用户。或者我正在部署一个新版本的软件来修复一个错误。如果你不愿意，那为什么选择使用区块链呢？

如果你真的致力于一个分散的系统，根据治理的类型，采取行动通常需要大多数参与者的支持。这可能需要时间并且很麻烦。作为一个例子，我们看到了对比特币 1 MB 块大小的争用。这个问题变成了一场巨大的、非常两极分化的辩论，并以比特币现金成为叉子而告终。技术决策被武器化为政治决策。

在比特币中，为了让矿工投票，他们需要在一块未使用的区块中放入少量信息，作为投票机制。许多连锁店认识到这是一个问题，并希望通过更好的连锁治理来改善它。然而，现在你必须解决一个弱身份的分布式投票问题。如果你选择只让矿工投票，那么你就剥夺了用户的投票权，这个网络就变成了矿工经营的网络。

最后，另一个治理模型是“无论开发团队说什么”。事实上，这通常是早期使用的模型，多少有些必要(区块链是软件，他们不会无错误地发布)。然而，如果你没有一个计划或愿望去超越它，最终你会碰到这样一个点，你剥夺了你的用户的权利，他们会反过来。

> 比特币有 70 多个链叉，可能还有几百个代码库叉。这不仅反映了比特币的受欢迎程度，也反映了它拥有公平的矿工和以开发者为中心的治理这一事实。

当用户觉得他们的需求没有得到满足时，他们有几种方法可以推后:他们可以拒绝更新他们的软件，他们可以放弃代码库，或者他们可以跳槽到其他更能满足他们需求的地方。从项目创建者的角度来看，这些都是不可取的，所以你应该通过确保用户感觉到他们的关注和需求得到了考虑来阻止它们。

比特币有 70 多个链叉，可能还有几百个代码库叉。这不仅反映了比特币的受欢迎程度，也反映了它拥有公平的矿工和以开发者为中心的治理这一事实。一个更极端的例子是 Monero，Monero 是 Bytecoin 的一个分支，但它在市场份额方面完全抹杀了 Bytecoin，因为社区分支更专注于用户想看到的功能，而且社区不信任 Bytecoin 的原始开发者。

在氦原子，这种失控实际上是我们想要的。如果一家公司倒闭或处于“不可思议的旅程中”，没有人愿意将他们的信息托付给第三方或让他们购买的硬件停止工作。我们非常有意识地设计了一个系统，颠覆了正常的物联网所有权规则，让客户重新掌控他们的信息和设备，同时仍然建立一个无缝的全球网络。为此，我们需要一个能够让互不信任的设备安全协作的网络。这是区块链的杀手锏，他们允许建立不可信的共识，如果社区的任何成员离开，系统也可以恢复。我们希望使其他公司和用户能够建立他们自己的网关，实现他们自己的终端节点，他们自己的钱包，他们自己的共识实现，等等。我们认为“永远在线、无处不在”的物联网网络的价值远远超过单一供应商专有网络的优势。在促成了该网络的创建之后，可以通过围绕该开放生态系统提供服务来获得盈利的商业模式。

![](img/f8935779a8644df2be2ff3b6317fc024.png)

# 复杂性增加

让构建区块链应用程序变得复杂的是，您不得不使用一种表达性较差的方式来为需要在不受信任的上下文中运行的应用程序编写业务逻辑。

> 由于各种编程错误，智能合约中锁定了数亿个 ETH。

## 模糊商业逻辑

要编写区块链应用程序，你经常需要使用类似智能合同的东西；虽然智能契约语言会给你一些原语，但它们可能不是你所熟悉的。稳固有各种各样的陷阱、绊倒和陷阱。输错一个字符，你的智能合约就容易受到攻击。由于各种编程错误，智能合约中锁定了数亿个 ETH。

总的来说，还不清楚这个行业是否非常擅长编写智能合同，而编写智能合同的支持和工具仍然是一个发展非常迅速的领域。有了传统的法律合同，合同纠纷有了解决的途径。几乎从定义上来说，智能合同是不会错的，因为“代码就是法律”。然而，如果智能合同中有错误，与普通合同不同，你不能将争议提交法院来决定意图与实施。如果我们不能编写没有错误的常规软件，我们应该谨慎地将最终决策委托给不可变的代码，如果稍后发现错误，我们无法修复或恢复这些代码。

用这些约束实现您的业务逻辑可能非常棘手。智能合约通常还需要令牌或“汽油”来运行和存储链上的数据，因此您必须非常小心执行代码的频率以及它使用的存储空间。据估计，在以太坊区块链上存储 1Gb 将花费大约 100 万美元。

即使您能够在智能契约中简洁而安全地实现您的业务逻辑，现在您还有升级它的问题。通常，解决方案是拥有一个调用最新版本的“真正”代码的填补契约。事实上，整个智能合约“操作系统”正在出现，让您能够访问实现常见任务的智能合约。虽然这听起来很棒，但我们已经看到了几个像这样的基本合同失败造成灾难性后果的案例。

在 Helium，我们选择暂时避免实施智能合同。幸运是，我们的区块链不需要通用计算机就能派上用场。我们计划实现一些更有用的智能合同模式(散列时间锁定承诺、多重签名交易等)。如果智能契约语言、运行时和工具得到改进，我们肯定会重新考虑这个决定，但是现在我们觉得提供一组经过良好测试的、预定义的事务类型来交付我们预期需要的特性更安全。

## 不信任地运行

在不受信任的上下文中运行的最大挑战之一是如何在智能合约中生成随机数？这实际上非常困难，因为如果这个随机数对执行智能合同非常重要，矿工会比任何人都先看到它。因此，有了这些先验知识，他们就有可能不公平地利用系统，包括抢先交易。

当你所有的业务逻辑都清晰可见时，你如何构建这些系统呢？想象一下，构建一个应用程序，任何人都可以随时查看系统的源代码和状态。假设你在区块链经营一家公共彩票机构；每个人都交钱，谁抽到了随机数，谁就能拿到钱。如果你运行彩票服务器，并且你是诚实的(或受国家博彩委员会监管)，这很容易。一旦每个人都在运行彩票服务器，你如何让它工作而不被利用或抢先？

如果您正在智能合约上运行代码，这实际上是您为分布式应用程序(dApp)放置业务逻辑的地方，您必须弄清楚如何在挖掘过程中对运行智能合约的人保密，以便他们没有特权信息。你需要考虑如果一个矿商在寻找这类交易或智能合同执行会发生什么。已经有一些拥有特权地位的不良行为者利用对即将到来的交易的了解来利用该系统的例子。

在 Helium，我们非常希望防止矿商审查他们不喜欢的交易，或者在有利可图时抢先进行交易。为此，我们选择实现的共识协议 HoneyBadgerBFT 是一个抗审查的共识协议。它利用阈值加密来确保矿商更难忽略他们不想包括的有效交易(因为交易费太低，或者因为它可能会削弱他们的权力或地位)，我们正在研究进一步加强这些属性的方法。

![](img/b95ea4405c5f776a1948a2bf03cc1414.png)

# 安全性

一旦你把信息放在未经许可的区块链上，每个人都可以看到。一些用户可能具有一些特殊的本地知识，例如解密密钥，这可以允许他们访问公共区块链中的私人信息，但是一般来说，区块链的一个用户看到的内容，所有人都会看到。当在一个公共的、没有权限的区块链上以分散的方式完成时，这可能会使一些在集中模式下简单的事情变得更加困难。如果矿商可以使用交易信息来预测智能合约的结果，他们可以通过延迟用户的交易并在区块链中将他们精心制作的利用其预先知识的交易放在交易之前来抢先交易。想象一下，一个矿工看到一个大的买卖订单交易进入一个分散的交易所，在那里他们可以在大的交易被处理之前通过购买/倾销权利来利用预先的知识。

> 分类帐的不变性可能是一把双刃剑，你需要仔细考虑你想存储什么以及你想如何存储它，因为没有撤销按钮。

一般来说，将信息放入区块链的风险要高得多；一旦你把它放进去，就不能再拿出来了。这意味着，即使您认为您今天做的事情是安全的，您也必须考虑如果私钥丢失或您的安全方案被破坏，这些信息在未来可能意味着什么。分类帐的不变性可能是一把双刃剑，你需要仔细考虑你想存储什么以及你想如何存储它，因为没有撤销按钮。

# 我们还是选择了区块链

在 Helium，我们知道区块链是构建真正分散的无线网络的关键组件。要了解我们为什么选择建立我们自己的区块链，尽管我们知道有巨大的挑战，阅读我的博客文章[这里](https://blog.helium.com/introducing-the-helium-blockchain-dc2f8997083c)。

![](img/1f3c893b7a4dac17fa69addf271544bb.png)[![](img/1122dd2e4ac2285d9af3b9bb11d3e996.png)](http://www.helium.com)[![](img/10ed5fb20f48f25a3631a9ba77f6502c.png)](http://whitepaper.helium.com)[![](img/a5af94c617faee3a67d4882d9d9e9e34.png)](https://t.me/helium_network)